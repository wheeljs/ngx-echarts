(self.webpackChunkngx_echarts_demo=self.webpackChunkngx_echarts_demo||[]).push([[179],{258:($t,We,C)=>{"use strict";C.d(We,{y:()=>ni});var _=C(9212),T={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const ie=new _.OlP("nz-i18n");new _.OlP("nz-date-locale"),new _.OlP("date-config");var bn=C(1474),ar=C(3460),Ar=C(95),Gr=C(3626),Mn=C(3410),on=C(2840),Ht=C(6691),tn=C(6616),Xn=C(9388),Lr=C(6814),Br=C(8324);let hr=(()=>{class wr{static#e=this.\u0275fac=function(yi){return new(yi||wr)};static#t=this.\u0275mod=_.oAB({type:wr});static#n=this.\u0275inj=_.cJS({imports:[Lr.ez,Br.T,Xn.vT]})}return wr})();var ai=C(6987),Ba=C(6254);const bo=[bn.PV,ar.ip,Ar.Jb,Gr.lt,Mn.wm,on.sL,Ht.gR,tn.we,hr,ai.S,Ba.KJ];let ni=(()=>{class wr{static#e=this.\u0275fac=function(yi){return new(yi||wr)};static#t=this.\u0275mod=_.oAB({type:wr});static#n=this.\u0275inj=_.cJS({providers:[{provide:ie,useValue:T}],imports:[bo,bn.PV,ar.ip,Ar.Jb,Gr.lt,Mn.wm,on.sL,Ht.gR,tn.we,hr,ai.S,Ba.KJ]})}return wr})()},859:($t,We,C)=>{"use strict";C.d(We,{m:()=>Ku});var _=C(6814),T=C(258),Y=C(5947),ie=C(1474),R4=C(9212);const Lh=[{name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'},{name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'},{name:"dashboard",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z" /></svg>'},{name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'}];let Zu=(()=>{class F1{static#e=this.\u0275fac=function(A2){return new(A2||F1)};static#t=this.\u0275mod=R4.oAB({type:F1});static#n=this.\u0275inj=R4.cJS({imports:[ie.PV.forRoot(Lh),ie.PV]})}return F1})(),Ku=(()=>{class F1{static#e=this.\u0275fac=function(A2){return new(A2||F1)};static#t=this.\u0275mod=R4.oAB({type:F1});static#n=this.\u0275inj=R4.cJS({imports:[_.ez,Zu,T.y,Y.JP.forChild(),Zu,T.y,Y.JP]})}return F1})()},8638:($t,We,C)=>{"use strict";var _=C(6593),T=C(9212),Y=C(5947),ie=C(6814);C(7715),C(5592),C(7453),C(4829),C(9940),C(8251),C(7400),C(2714),C(7398);const pt=new T.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>jt}),jt="always";let e1=(()=>{class e{static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e});static#n=this.\u0275inj=T.cJS({})}return e})(),rs=(()=>{class e{static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e});static#n=this.\u0275inj=T.cJS({imports:[e1]})}return e})(),wo=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:pt,useValue:i.callSetDisabledState??jt}]}}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e});static#n=this.\u0275inj=T.cJS({imports:[rs]})}return e})();var Vs=C(9862),Mi=C(6825);function zl(e){return new T.vHH(3e3,!1)}function pr(e){switch(e.length){case 0:return new Mi.ZN;case 1:return e[0];default:return new Mi.ZE(e)}}function Dr(e,n,i=new Map,c=new Map){const v=[],m=[];let b=-1,D=null;if(n.forEach(P=>{const F=P.get("offset"),le=F==b,_e=le&&D||new Map;P.forEach((Ve,Oe)=>{let Ue=Oe,je=Ve;if("offset"!==Oe)switch(Ue=e.normalizePropertyName(Ue,v),je){case Mi.k1:je=i.get(Oe);break;case Mi.l3:je=c.get(Oe);break;default:je=e.normalizeStyleValue(Oe,Ue,je,v)}_e.set(Ue,je)}),le||m.push(_e),D=_e,b=F}),v.length)throw function mt(e){return new T.vHH(3502,!1)}();return m}function jr(e,n,i,c){switch(n){case"start":e.onStart(()=>c(i&&De(i,"start",e)));break;case"done":e.onDone(()=>c(i&&De(i,"done",e)));break;case"destroy":e.onDestroy(()=>c(i&&De(i,"destroy",e)))}}function De(e,n,i){const m=lt(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,i.totalTime??e.totalTime,!!i.disabled),b=e._data;return null!=b&&(m._data=b),m}function lt(e,n,i,c,v="",m=0,b){return{element:e,triggerName:n,fromState:i,toState:c,phaseName:v,totalTime:m,disabled:!!b}}function Fe(e,n,i){let c=e.get(n);return c||e.set(n,c=i),c}function et(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const Nt=(()=>typeof document>"u"?null:document.documentElement)();function Rn(e){const n=e.parentNode||e.host||null;return n===Nt?null:n}let _r=null,Ri=!1;function ka(e,n){for(;n;){if(n===e)return!0;n=Rn(n)}return!1}function Da(e,n,i){if(i)return Array.from(e.querySelectorAll(n));const c=e.querySelector(n);return c?[c]:[]}let xa=(()=>{class e{validateStyleProperty(i){return function da(e){_r||(_r=function mi(){return typeof document<"u"?document.body:null}()||{},Ri=!!_r.style&&"WebkitAppearance"in _r.style);let n=!0;return _r.style&&!function $n(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in _r.style,!n&&Ri&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in _r.style)),n}(i)}matchesElement(i,c){return!1}containsElement(i,c){return ka(i,c)}getParentElement(i){return Rn(i)}query(i,c,v){return Da(i,c,v)}computeStyle(i,c,v){return v||""}animate(i,c,v,m,b,D=[],P){return new Mi.ZN(v,m)}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac})}return e})(),va=(()=>{class e{static#e=this.NOOP=new xa}return e})();class Bl{}const xs=1e3,X4="ng-enter",Jc="ng-leave",_c="ng-trigger",pl=".ng-trigger",Mc="ng-animating",qc=".ng-animating";function ba(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Q4(parseFloat(n[1]),n[2])}function Q4(e,n){return"s"===n?e*xs:e}function gl(e,n,i){return e.hasOwnProperty("duration")?e:function Ua(e,n,i){let v,m=0,b="";if("string"==typeof e){const D=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===D)return n.push(zl()),{duration:0,delay:0,easing:""};v=Q4(parseFloat(D[1]),D[2]);const P=D[3];null!=P&&(m=Q4(parseFloat(P),D[4]));const F=D[5];F&&(b=F)}else v=e;if(!i){let D=!1,P=n.length;v<0&&(n.push(function bi(){return new T.vHH(3100,!1)}()),D=!0),m<0&&(n.push(function Nl(){return new T.vHH(3101,!1)}()),D=!0),D&&n.splice(P,0,zl())}return{duration:v,delay:m,easing:b}}(e,n,i)}function io(e,n={}){return Object.keys(e).forEach(i=>{n[i]=e[i]}),n}function e4(e){const n=new Map;return Object.keys(e).forEach(i=>{n.set(i,e[i])}),n}function l1(e,n=new Map,i){if(i)for(let[c,v]of i)n.set(c,v);for(let[c,v]of e)n.set(c,v);return n}function Js(e,n,i){n.forEach((c,v)=>{const m=u1(v);i&&!i.has(v)&&i.set(v,e.style[m]),e.style[m]=c})}function t4(e,n){n.forEach((i,c)=>{const v=u1(c);e.style[v]=""})}function ml(e){return Array.isArray(e)?1==e.length?e[0]:(0,Mi.vP)(e):e}const J4=new RegExp("{{\\s*(.+?)\\s*}}","g");function j2(e){let n=[];if("string"==typeof e){let i;for(;i=J4.exec(e);)n.push(i[1]);J4.lastIndex=0}return n}function Q1(e,n,i){const c=e.toString(),v=c.replace(J4,(m,b)=>{let D=n[b];return null==D&&(i.push(function a1(e){return new T.vHH(3003,!1)}()),D=""),D.toString()});return v==c?e:v}function c1(e){const n=[];let i=e.next();for(;!i.done;)n.push(i.value),i=e.next();return n}const qs=/-+([a-z0-9])/g;function u1(e){return e.replace(qs,(...n)=>n[1].toUpperCase())}function el(e,n,i){switch(n.type){case 7:return e.visitTrigger(n,i);case 0:return e.visitState(n,i);case 1:return e.visitTransition(n,i);case 2:return e.visitSequence(n,i);case 3:return e.visitGroup(n,i);case 4:return e.visitAnimate(n,i);case 5:return e.visitKeyframes(n,i);case 6:return e.visitStyle(n,i);case 8:return e.visitReference(n,i);case 9:return e.visitAnimateChild(n,i);case 10:return e.visitAnimateRef(n,i);case 11:return e.visitQuery(n,i);case 12:return e.visitStagger(n,i);default:throw function Ra(e){return new T.vHH(3004,!1)}()}}function q4(e,n){return window.getComputedStyle(e)[n]}const W2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z2 extends Bl{normalizePropertyName(n,i){return u1(n)}normalizeStyleValue(n,i,c,v){let m="";const b=c.toString().trim();if(W2.has(i)&&0!==c&&"0"!==c)if("number"==typeof c)m="px";else{const D=c.match(/^[+-]?[\d\.]+([a-z]*)$/);D&&0==D[1].length&&v.push(function o1(e,n){return new T.vHH(3005,!1)}())}return b+m}}const rr="*";function ya(e,n){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(c=>function W0(e,n,i){if(":"==e[0]){const P=function Pl(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,c)=>parseFloat(c)>parseFloat(i);case":decrement":return(i,c)=>parseFloat(c)<parseFloat(i);default:return n.push(function dl(e){return new T.vHH(3016,!1)}()),"* => *"}}(e,i);if("function"==typeof P)return void n.push(P);e=P}const c=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return i.push(function z1(e){return new T.vHH(3015,!1)}()),n;const v=c[1],m=c[2],b=c[3];n.push(bc(v,b));"<"==m[0]&&!(v==rr&&b==rr)&&n.push(bc(b,v))}(c,i,n)):i.push(e),i}const Ca=new Set(["true","1"]),n4=new Set(["false","0"]);function bc(e,n){const i=Ca.has(e)||n4.has(e),c=Ca.has(n)||n4.has(n);return(v,m)=>{let b=e==rr||e==v,D=n==rr||n==m;return!b&&i&&"boolean"==typeof v&&(b=v?Ca.has(e):n4.has(e)),!D&&c&&"boolean"==typeof m&&(D=m?Ca.has(n):n4.has(n)),b&&D}}const Z0=new RegExp("s*:selfs*,?","g");function n2(e,n,i,c){return new m6(e).build(n,i,c)}class m6{constructor(n){this._driver=n}build(n,i,c){const v=new J1(i);return this._resetContextStyleTimingState(v),el(this,ml(n),v)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,i){let c=i.queryCount=0,v=i.depCount=0;const m=[],b=[];return"@"==n.name.charAt(0)&&i.errors.push(function $s(){return new T.vHH(3006,!1)}()),n.definitions.forEach(D=>{if(this._resetContextStyleTimingState(i),0==D.type){const P=D,F=P.name;F.toString().split(/\s*,\s*/).forEach(le=>{P.name=le,m.push(this.visitState(P,i))}),P.name=F}else if(1==D.type){const P=this.visitTransition(D,i);c+=P.queryCount,v+=P.depCount,b.push(P)}else i.errors.push(function mo(){return new T.vHH(3007,!1)}())}),{type:7,name:n.name,states:m,transitions:b,queryCount:c,depCount:v,options:null}}visitState(n,i){const c=this.visitStyle(n.styles,i),v=n.options&&n.options.params||null;if(c.containsDynamicStyles){const m=new Set,b=v||{};c.styles.forEach(D=>{D instanceof Map&&D.forEach(P=>{j2(P).forEach(F=>{b.hasOwnProperty(F)||m.add(F)})})}),m.size&&(c1(m.values()),i.errors.push(function _s(e,n){return new T.vHH(3008,!1)}()))}return{type:0,name:n.name,style:c,options:v?{params:v}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const c=el(this,ml(n.animation),i);return{type:1,matchers:ya(n.expr,i.errors),animation:c,queryCount:i.queryCount,depCount:i.depCount,options:tl(n.options)}}visitSequence(n,i){return{type:2,steps:n.steps.map(c=>el(this,c,i)),options:tl(n.options)}}visitGroup(n,i){const c=i.currentTime;let v=0;const m=n.steps.map(b=>{i.currentTime=c;const D=el(this,b,i);return v=Math.max(v,i.currentTime),D});return i.currentTime=v,{type:3,steps:m,options:tl(n.options)}}visitAnimate(n,i){const c=function Ll(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return K2(gl(e,n).duration,0,"");const i=e;if(i.split(/\s+/).some(m=>"{"==m.charAt(0)&&"{"==m.charAt(1))){const m=K2(0,0,"");return m.dynamic=!0,m.strValue=i,m}const v=gl(i,n);return K2(v.duration,v.delay,v.easing)}(n.timings,i.errors);i.currentAnimateTimings=c;let v,m=n.styles?n.styles:(0,Mi.oB)({});if(5==m.type)v=this.visitKeyframes(m,i);else{let b=n.styles,D=!1;if(!b){D=!0;const F={};c.easing&&(F.easing=c.easing),b=(0,Mi.oB)(F)}i.currentTime+=c.duration+c.delay;const P=this.visitStyle(b,i);P.isEmptyStep=D,v=P}return i.currentAnimateTimings=null,{type:4,timings:c,style:v,options:null}}visitStyle(n,i){const c=this._makeStyleAst(n,i);return this._validateStyleAst(c,i),c}_makeStyleAst(n,i){const c=[],v=Array.isArray(n.styles)?n.styles:[n.styles];for(let D of v)"string"==typeof D?D===Mi.l3?c.push(D):i.errors.push(new T.vHH(3002,!1)):c.push(e4(D));let m=!1,b=null;return c.forEach(D=>{if(D instanceof Map&&(D.has("easing")&&(b=D.get("easing"),D.delete("easing")),!m))for(let P of D.values())if(P.toString().indexOf("{{")>=0){m=!0;break}}),{type:6,styles:c,easing:b,offset:n.offset,containsDynamicStyles:m,options:null}}_validateStyleAst(n,i){const c=i.currentAnimateTimings;let v=i.currentTime,m=i.currentTime;c&&m>0&&(m-=c.duration+c.delay),n.styles.forEach(b=>{"string"!=typeof b&&b.forEach((D,P)=>{const F=i.collectedStyles.get(i.currentQuerySelector),le=F.get(P);let _e=!0;le&&(m!=v&&m>=le.startTime&&v<=le.endTime&&(i.errors.push(function Xs(e,n,i,c,v){return new T.vHH(3010,!1)}()),_e=!1),m=le.startTime),_e&&F.set(P,{startTime:m,endTime:v}),i.options&&function Al(e,n,i){const c=n.params||{},v=j2(e);v.length&&v.forEach(m=>{c.hasOwnProperty(m)||i.push(function Qc(e){return new T.vHH(3001,!1)}())})}(D,i.options,i.errors)})})}visitKeyframes(n,i){const c={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function Qs(){return new T.vHH(3011,!1)}()),c;let m=0;const b=[];let D=!1,P=!1,F=0;const le=n.steps.map(wt=>{const Ot=this._makeStyleAst(wt,i);let Rt=null!=Ot.offset?Ot.offset:function R8(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){const c=i;n=parseFloat(c.get("offset")),c.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}return n}(Ot.styles),At=0;return null!=Rt&&(m++,At=Ot.offset=Rt),P=P||At<0||At>1,D=D||At<F,F=At,b.push(At),Ot});P&&i.errors.push(function Vr(){return new T.vHH(3012,!1)}()),D&&i.errors.push(function s1(){return new T.vHH(3200,!1)}());const _e=n.steps.length;let Ve=0;m>0&&m<_e?i.errors.push(function E1(){return new T.vHH(3202,!1)}()):0==m&&(Ve=1/(_e-1));const Oe=_e-1,Ue=i.currentTime,je=i.currentAnimateTimings,vt=je.duration;return le.forEach((wt,Ot)=>{const Rt=Ve>0?Ot==Oe?1:Ve*Ot:b[Ot],At=Rt*vt;i.currentTime=Ue+je.delay+At,je.duration=At,this._validateStyleAst(wt,i),wt.offset=Rt,c.styles.push(wt)}),c}visitReference(n,i){return{type:8,animation:el(this,ml(n.animation),i),options:tl(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:9,options:tl(n.options)}}visitAnimateRef(n,i){return{type:10,animation:this.visitReference(n.animation,i),options:tl(n.options)}}visitQuery(n,i){const c=i.currentQuerySelector,v=n.options||{};i.queryCount++,i.currentQuery=n;const[m,b]=function K0(e){const n=!!e.split(/\s*,\s*/).find(i=>":self"==i);return n&&(e=e.replace(Z0,"")),e=e.replace(/@\*/g,pl).replace(/@\w+/g,i=>pl+"-"+i.slice(1)).replace(/:animating/g,qc),[e,n]}(n.selector);i.currentQuerySelector=c.length?c+" "+m:m,Fe(i.collectedStyles,i.currentQuerySelector,new Map);const D=el(this,ml(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=c,{type:11,selector:m,limit:v.limit||0,optional:!!v.optional,includeSelf:b,animation:D,originalSelector:n.selector,options:tl(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push(function yc(){return new T.vHH(3013,!1)}());const c="full"===n.timings?{duration:0,delay:0,easing:"full"}:gl(n.timings,i.errors,!0);return{type:12,animation:el(this,ml(n.animation),i),timings:c,options:null}}}class J1{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tl(e){return e?(e=io(e)).params&&(e.params=function Bs(e){return e?io(e):null}(e.params)):e={},e}function K2(e,n,i){return{duration:e,delay:n,easing:i}}function $2(e,n,i,c,v,m,b=null,D=!1){return{type:1,element:e,keyframes:n,preStyleProps:i,postStyleProps:c,duration:v,delay:m,totalTime:v+m,easing:b,subTimeline:D}}class Te{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,i){let c=this._map.get(n);c||this._map.set(n,c=[]),c.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Be=new RegExp(":enter","g"),bt=new RegExp(":leave","g");function Zt(e,n,i,c,v,m=new Map,b=new Map,D,P,F=[]){return(new kn).buildKeyframes(e,n,i,c,v,m,b,D,P,F)}class kn{buildKeyframes(n,i,c,v,m,b,D,P,F,le=[]){F=F||new Te;const _e=new Ur(n,i,F,v,m,le,[]);_e.options=P;const Ve=P.delay?ba(P.delay):0;_e.currentTimeline.delayNextStep(Ve),_e.currentTimeline.setStyles([b],null,_e.errors,P),el(this,c,_e);const Oe=_e.timelines.filter(Ue=>Ue.containsAnimation());if(Oe.length&&D.size){let Ue;for(let je=Oe.length-1;je>=0;je--){const vt=Oe[je];if(vt.element===i){Ue=vt;break}}Ue&&!Ue.allowOnlyTimelineStyles()&&Ue.setStyles([D],null,_e.errors,P)}return Oe.length?Oe.map(Ue=>Ue.buildKeyframes()):[$2(i,[],[],[],0,Ve,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const c=i.subInstructions.get(i.element);if(c){const v=i.createSubContext(n.options),m=i.currentTimeline.currentTime,b=this._visitSubInstructions(c,v,v.options);m!=b&&i.transformIntoNewTimeline(b)}i.previousNode=n}visitAnimateRef(n,i){const c=i.createSubContext(n.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],i,c),this.visitReference(n.animation,c),i.transformIntoNewTimeline(c.currentTimeline.currentTime),i.previousNode=n}_applyAnimationRefDelays(n,i,c){for(const v of n){const m=v?.delay;if(m){const b="number"==typeof m?m:ba(Q1(m,v?.params??{},i.errors));c.delayNextStep(b)}}}_visitSubInstructions(n,i,c){let m=i.currentTimeline.currentTime;const b=null!=c.duration?ba(c.duration):null,D=null!=c.delay?ba(c.delay):null;return 0!==b&&n.forEach(P=>{const F=i.appendInstructionToTimeline(P,b,D);m=Math.max(m,F.duration+F.delay)}),m}visitReference(n,i){i.updateOptions(n.options,!0),el(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const c=i.subContextCount;let v=i;const m=n.options;if(m&&(m.params||m.delay)&&(v=i.createSubContext(m),v.transformIntoNewTimeline(),null!=m.delay)){6==v.previousNode.type&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Vn);const b=ba(m.delay);v.delayNextStep(b)}n.steps.length&&(n.steps.forEach(b=>el(this,b,v)),v.currentTimeline.applyStylesToKeyframe(),v.subContextCount>c&&v.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const c=[];let v=i.currentTimeline.currentTime;const m=n.options&&n.options.delay?ba(n.options.delay):0;n.steps.forEach(b=>{const D=i.createSubContext(n.options);m&&D.delayNextStep(m),el(this,b,D),v=Math.max(v,D.currentTimeline.currentTime),c.push(D.currentTimeline)}),c.forEach(b=>i.currentTimeline.mergeTimelineCollectedStyles(b)),i.transformIntoNewTimeline(v),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const c=n.strValue;return gl(i.params?Q1(c,i.params,i.errors):c,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const c=i.currentAnimateTimings=this._visitTiming(n.timings,i),v=i.currentTimeline;c.delay&&(i.incrementTime(c.delay),v.snapshotCurrentStyles());const m=n.style;5==m.type?this.visitKeyframes(m,i):(i.incrementTime(c.duration),this.visitStyle(m,i),v.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const c=i.currentTimeline,v=i.currentAnimateTimings;!v&&c.hasCurrentStyleProperties()&&c.forwardFrame();const m=v&&v.easing||n.easing;n.isEmptyStep?c.applyEmptyStep(m):c.setStyles(n.styles,m,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const c=i.currentAnimateTimings,v=i.currentTimeline.duration,m=c.duration,D=i.createSubContext().currentTimeline;D.easing=c.easing,n.styles.forEach(P=>{D.forwardTime((P.offset||0)*m),D.setStyles(P.styles,P.easing,i.errors,i.options),D.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(D),i.transformIntoNewTimeline(v+m),i.previousNode=n}visitQuery(n,i){const c=i.currentTimeline.currentTime,v=n.options||{},m=v.delay?ba(v.delay):0;m&&(6===i.previousNode.type||0==c&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vn);let b=c;const D=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!v.optional,i.errors);i.currentQueryTotal=D.length;let P=null;D.forEach((F,le)=>{i.currentQueryIndex=le;const _e=i.createSubContext(n.options,F);m&&_e.delayNextStep(m),F===i.element&&(P=_e.currentTimeline),el(this,n.animation,_e),_e.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,_e.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(b),P&&(i.currentTimeline.mergeTimelineCollectedStyles(P),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const c=i.parentContext,v=i.currentTimeline,m=n.timings,b=Math.abs(m.duration),D=b*(i.currentQueryTotal-1);let P=b*i.currentQueryIndex;switch(m.duration<0?"reverse":m.easing){case"reverse":P=D-P;break;case"full":P=c.currentStaggerTime}const le=i.currentTimeline;P&&le.delayNextStep(P);const _e=le.currentTime;el(this,n.animation,i),i.previousNode=n,c.currentStaggerTime=v.currentTime-_e+(v.startTime-c.currentTimeline.startTime)}}const Vn={};class Ur{constructor(n,i,c,v,m,b,D,P){this._driver=n,this.element=i,this.subInstructions=c,this._enterClassName=v,this._leaveClassName=m,this.errors=b,this.timelines=D,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=P||new Pi(this._driver,i,0),D.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const c=n;let v=this.options;null!=c.duration&&(v.duration=ba(c.duration)),null!=c.delay&&(v.delay=ba(c.delay));const m=c.params;if(m){let b=v.params;b||(b=this.options.params={}),Object.keys(m).forEach(D=>{(!i||!b.hasOwnProperty(D))&&(b[D]=Q1(m[D],b,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const c=n.params={};Object.keys(i).forEach(v=>{c[v]=i[v]})}}return n}createSubContext(n=null,i,c){const v=i||this.element,m=new Ur(this._driver,v,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(v,c||0));return m.previousNode=this.previousNode,m.currentAnimateTimings=this.currentAnimateTimings,m.options=this._copyOptions(),m.updateOptions(n),m.currentQueryIndex=this.currentQueryIndex,m.currentQueryTotal=this.currentQueryTotal,m.parentContext=this,this.subContextCount++,m}transformIntoNewTimeline(n){return this.previousNode=Vn,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,c){const v={duration:i??n.duration,delay:this.currentTimeline.currentTime+(c??0)+n.delay,easing:""},m=new qi(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,v,n.stretchStartingKeyframe);return this.timelines.push(m),v}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,c,v,m,b){let D=[];if(v&&D.push(this.element),n.length>0){n=(n=n.replace(Be,"."+this._enterClassName)).replace(bt,"."+this._leaveClassName);let F=this._driver.query(this.element,n,1!=c);0!==c&&(F=c<0?F.slice(F.length+c,F.length):F.slice(0,c)),D.push(...F)}return!m&&0==D.length&&b.push(function Ms(e){return new T.vHH(3014,!1)}()),D}}class Pi{constructor(n,i,c,v){this._driver=n,this.element=i,this.startTime=c,this._elementTimelineStylesLookup=v,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new Pi(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles.set(n,i),this._globalTimelineStyles.set(n,i),this._styleSummary.set(n,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[i,c]of this._globalTimelineStyles)this._backFill.set(i,c||Mi.l3),this._currentKeyframe.set(i,Mi.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,c,v){i&&this._previousKeyframe.set("easing",i);const m=v&&v.params||{},b=function wc(e,n){const i=new Map;let c;return e.forEach(v=>{if("*"===v){c=c||n.keys();for(let m of c)i.set(m,Mi.l3)}else l1(v,i)}),i}(n,this._globalTimelineStyles);for(let[D,P]of b){const F=Q1(P,m,c);this._pendingStyles.set(D,F),this._localTimelineStyles.has(D)||this._backFill.set(D,this._globalTimelineStyles.get(D)??Mi.l3),this._updateStyle(D,F)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,i)=>{this._currentKeyframe.set(i,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,n)}))}snapshotCurrentStyles(){for(let[n,i]of this._localTimelineStyles)this._pendingStyles.set(n,i),this._updateStyle(n,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((i,c)=>{const v=this._styleSummary.get(c);(!v||i.time>v.time)&&this._updateStyle(c,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,c=1===this._keyframes.size&&0===this.duration;let v=[];this._keyframes.forEach((D,P)=>{const F=l1(D,new Map,this._backFill);F.forEach((le,_e)=>{le===Mi.k1?n.add(_e):le===Mi.l3&&i.add(_e)}),c||F.set("offset",P/this.duration),v.push(F)});const m=n.size?c1(n.values()):[],b=i.size?c1(i.values()):[];if(c){const D=v[0],P=new Map(D);D.set("offset",0),P.set("offset",1),v=[D,P]}return $2(this.element,v,m,b,this.duration,this.startTime,this.easing,!1)}}class qi extends Pi{constructor(n,i,c,v,m,b,D=!1){super(n,i,b.delay),this.keyframes=c,this.preStyleProps=v,this.postStyleProps=m,this._stretchStartingKeyframe=D,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:c,easing:v}=this.timings;if(this._stretchStartingKeyframe&&i){const m=[],b=c+i,D=i/b,P=l1(n[0]);P.set("offset",0),m.push(P);const F=l1(n[0]);F.set("offset",ao(D)),m.push(F);const le=n.length-1;for(let _e=1;_e<=le;_e++){let Ve=l1(n[_e]);const Oe=Ve.get("offset");Ve.set("offset",ao((i+Oe*c)/b)),m.push(Ve)}c=b,i=0,v="",n=m}return $2(this.element,n,this.preStyleProps,this.postStyleProps,c,i,v,!0)}}function ao(e,n=3){const i=Math.pow(10,n-1);return Math.round(e*i)/i}function r2(e,n,i,c,v,m,b,D,P,F,le,_e,Ve){return{type:0,element:e,triggerName:n,isRemovalTransition:v,fromState:i,fromStyles:m,toState:c,toStyles:b,timelines:D,queriedElements:P,preStyleProps:F,postStyleProps:le,totalTime:_e,errors:Ve}}const So={};class Fl{constructor(n,i,c){this._triggerName=n,this.ast=i,this._stateStyles=c}match(n,i,c,v){return function Hf(e,n,i,c,v){return e.some(m=>m(n,i,c,v))}(this.ast.matchers,n,i,c,v)}buildStyles(n,i,c){let v=this._stateStyles.get("*");return void 0!==n&&(v=this._stateStyles.get(n?.toString())||v),v?v.buildStyles(i,c):new Map}build(n,i,c,v,m,b,D,P,F,le){const _e=[],Ve=this.ast.options&&this.ast.options.params||So,Ue=this.buildStyles(c,D&&D.params||So,_e),je=P&&P.params||So,vt=this.buildStyles(v,je,_e),wt=new Set,Ot=new Map,Rt=new Map,At="void"===v,sn={params:y6(je,Ve),delay:this.ast.options?.delay},nn=le?[]:Zt(n,i,this.ast.animation,m,b,Ue,vt,sn,F,_e);let An=0;if(nn.forEach(Jn=>{An=Math.max(Jn.duration+Jn.delay,An)}),_e.length)return r2(i,this._triggerName,c,v,At,Ue,vt,[],[],Ot,Rt,An,_e);nn.forEach(Jn=>{const yr=Jn.element,cr=Fe(Ot,yr,new Set);Jn.preStyleProps.forEach(zr=>cr.add(zr));const Er=Fe(Rt,yr,new Set);Jn.postStyleProps.forEach(zr=>Er.add(zr)),yr!==i&&wt.add(yr)});const _n=c1(wt.values());return r2(i,this._triggerName,c,v,At,Ue,vt,nn,_n,Ot,Rt,An)}}function y6(e,n){const i=io(n);for(const c in e)e.hasOwnProperty(c)&&null!=e[c]&&(i[c]=e[c]);return i}class _6{constructor(n,i,c){this.styles=n,this.defaultParams=i,this.normalizer=c}buildStyles(n,i){const c=new Map,v=io(this.defaultParams);return Object.keys(n).forEach(m=>{const b=n[m];null!==b&&(v[m]=b)}),this.styles.styles.forEach(m=>{"string"!=typeof m&&m.forEach((b,D)=>{b&&(b=Q1(b,v,i));const P=this.normalizer.normalizePropertyName(D,i);b=this.normalizer.normalizeStyleValue(D,P,b,i),c.set(D,b)})}),c}}class x6{constructor(n,i,c){this.name=n,this.ast=i,this._normalizer=c,this.transitionFactories=[],this.states=new Map,i.states.forEach(v=>{this.states.set(v.name,new _6(v.style,v.options&&v.options.params||{},c))}),$0(this.states,"true","1"),$0(this.states,"false","0"),i.transitions.forEach(v=>{this.transitionFactories.push(new Fl(n,v,this.states))}),this.fallbackTransition=function Ul(e,n,i){return new Fl(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,D)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,c,v){return this.transitionFactories.find(b=>b.match(n,i,c,v))||null}matchStyles(n,i,c){return this.fallbackTransition.buildStyles(n,i,c)}}function $0(e,n,i){e.has(n)?e.has(i)||e.set(i,e.get(n)):e.has(i)&&e.set(n,e.get(i))}const r4=new Te;class yo{constructor(n,i,c){this.bodyNode=n,this._driver=i,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,i){const c=[],m=n2(this._driver,i,c,[]);if(c.length)throw function Dt(e){return new T.vHH(3503,!1)}();this._animations.set(n,m)}_buildPlayer(n,i,c){const v=n.element,m=Dr(this._normalizer,n.keyframes,i,c);return this._driver.animate(v,m,n.duration,n.delay,n.easing,[],!0)}create(n,i,c={}){const v=[],m=this._animations.get(n);let b;const D=new Map;if(m?(b=Zt(this._driver,i,m,X4,Jc,new Map,new Map,c,r4,v),b.forEach(le=>{const _e=Fe(D,le.element,new Map);le.postStyleProps.forEach(Ve=>_e.set(Ve,null))})):(v.push(function Bt(){return new T.vHH(3300,!1)}()),b=[]),v.length)throw function ln(e){return new T.vHH(3504,!1)}();D.forEach((le,_e)=>{le.forEach((Ve,Oe)=>{le.set(Oe,this._driver.computeStyle(_e,Oe,Mi.l3))})});const F=pr(b.map(le=>{const _e=D.get(le.element);return this._buildPlayer(le,new Map,_e)}));return this._playersById.set(n,F),F.onDestroy(()=>this.destroy(n)),this.players.push(F),F}destroy(n){const i=this._getPlayer(n);i.destroy(),this._playersById.delete(n);const c=this.players.indexOf(i);c>=0&&this.players.splice(c,1)}_getPlayer(n){const i=this._playersById.get(n);if(!i)throw function Kn(e){return new T.vHH(3301,!1)}();return i}listen(n,i,c,v){const m=lt(i,"","","");return jr(this._getPlayer(n),c,m,v),()=>{}}command(n,i,c,v){if("register"==c)return void this.register(n,v[0]);if("create"==c)return void this.create(n,i,v[0]||{});const m=this._getPlayer(n);switch(c){case"play":m.play();break;case"pause":m.pause();break;case"reset":m.reset();break;case"restart":m.restart();break;case"finish":m.finish();break;case"init":m.init();break;case"setPosition":m.setPosition(parseFloat(v[0]));break;case"destroy":this.destroy(n)}}}const X0="ng-animate-queued",q1="ng-animate-disabled",a2=[],a4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Q2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},A1="__ng_removed";class Q0{get params(){return this.options.params}constructor(n,i=""){this.namespaceId=i;const c=n&&n.hasOwnProperty("value");if(this.value=function o2(e){return e??null}(c?n.value:n),c){const m=io(n);delete m.value,this.options=m}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const i=n.params;if(i){const c=this.options.params;Object.keys(i).forEach(v=>{null==c[v]&&(c[v]=i[v])})}}}const J0="void",V8=new Q0(J0);class Nf{constructor(n,i,c){this.id=n,this.hostElement=i,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ol(i,this._hostClassName)}listen(n,i,c,v){if(!this._triggers.has(i))throw function Yn(e,n){return new T.vHH(3302,!1)}();if(null==c||0==c.length)throw function Sr(e){return new T.vHH(3303,!1)}();if(!function o4(e){return"start"==e||"done"==e}(c))throw function Yr(e,n){return new T.vHH(3400,!1)}();const m=Fe(this._elementListeners,n,[]),b={name:i,phase:c,callback:v};m.push(b);const D=Fe(this._engine.statesByElement,n,new Map);return D.has(i)||(Ol(n,_c),Ol(n,_c+"-"+i),D.set(i,V8)),()=>{this._engine.afterFlush(()=>{const P=m.indexOf(b);P>=0&&m.splice(P,1),this._triggers.has(i)||D.delete(i)})}}register(n,i){return!this._triggers.has(n)&&(this._triggers.set(n,i),!0)}_getTrigger(n){const i=this._triggers.get(n);if(!i)throw function qt(e){return new T.vHH(3401,!1)}();return i}trigger(n,i,c,v=!0){const m=this._getTrigger(i),b=new S6(this.id,i,n);let D=this._engine.statesByElement.get(n);D||(Ol(n,_c),Ol(n,_c+"-"+i),this._engine.statesByElement.set(n,D=new Map));let P=D.get(i);const F=new Q0(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&P&&F.absorbOptions(P.options),D.set(i,F),P||(P=V8),F.value!==J0&&P.value===F.value){if(!function s2(e,n){const i=Object.keys(e),c=Object.keys(n);if(i.length!=c.length)return!1;for(let v=0;v<i.length;v++){const m=i[v];if(!n.hasOwnProperty(m)||e[m]!==n[m])return!1}return!0}(P.params,F.params)){const je=[],vt=m.matchStyles(P.value,P.params,je),wt=m.matchStyles(F.value,F.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{t4(n,vt),Js(n,wt)})}return}const Ve=Fe(this._engine.playersByElement,n,[]);Ve.forEach(je=>{je.namespaceId==this.id&&je.triggerName==i&&je.queued&&je.destroy()});let Oe=m.matchTransition(P.value,F.value,n,F.params),Ue=!1;if(!Oe){if(!v)return;Oe=m.fallbackTransition,Ue=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:Oe,fromState:P,toState:F,player:b,isFallbackTransition:Ue}),Ue||(Ol(n,X0),b.onStart(()=>{Sc(n,X0)})),b.onDone(()=>{let je=this.players.indexOf(b);je>=0&&this.players.splice(je,1);const vt=this._engine.playersByElement.get(n);if(vt){let wt=vt.indexOf(b);wt>=0&&vt.splice(wt,1)}}),this.players.push(b),Ve.push(b),b}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(i=>i.delete(n)),this._elementListeners.forEach((i,c)=>{this._elementListeners.set(c,i.filter(v=>v.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(c=>c.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const c=this._engine.driver.query(n,pl,!0);c.forEach(v=>{if(v[A1])return;const m=this._engine.fetchNamespacesByElement(v);m.size?m.forEach(b=>b.triggerLeaveAnimation(v,i,!1,!0)):this.clearElementCache(v)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(v=>this.clearElementCache(v)))}triggerLeaveAnimation(n,i,c,v){const m=this._engine.statesByElement.get(n),b=new Map;if(m){const D=[];if(m.forEach((P,F)=>{if(b.set(F,P.value),this._triggers.has(F)){const le=this.trigger(n,F,J0,v);le&&D.push(le)}}),D.length)return this._engine.markElementAsRemoved(this.id,n,!0,i,b),c&&pr(D).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),c=this._engine.statesByElement.get(n);if(i&&c){const v=new Set;i.forEach(m=>{const b=m.name;if(v.has(b))return;v.add(b);const P=this._triggers.get(b).fallbackTransition,F=c.get(b)||V8,le=new Q0(J0),_e=new S6(this.id,b,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:b,transition:P,fromState:F,toState:le,player:_e,isFallbackTransition:!0})})}}removeNode(n,i){const c=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let v=!1;if(c.totalAnimations){const m=c.players.length?c.playersByQueriedElement.get(n):[];if(m&&m.length)v=!0;else{let b=n;for(;b=b.parentNode;)if(c.statesByElement.get(b)){v=!0;break}}}if(this.prepareLeaveAnimationListeners(n),v)c.markElementAsRemoved(this.id,n,!1,i);else{const m=n[A1];(!m||m===a4)&&(c.afterFlush(()=>this.clearElementCache(n)),c.destroyInnerAnimations(n),c._onRemovalComplete(n,i))}}insertNode(n,i){Ol(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(c=>{const v=c.player;if(v.destroyed)return;const m=c.element,b=this._elementListeners.get(m);b&&b.forEach(D=>{if(D.name==c.triggerName){const P=lt(m,c.triggerName,c.fromState.value,c.toState.value);P._data=n,jr(c.player,D.phase,P,D.callback)}}),v.markedForDestroy?this._engine.afterFlush(()=>{v.destroy()}):i.push(c)}),this._queue=[],i.sort((c,v)=>{const m=c.transition.ast.depCount,b=v.transition.ast.depCount;return 0==m||0==b?m-b:this._engine.driver.containsElement(c.element,v.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class lp{_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}constructor(n,i,c){this.bodyNode=n,this.driver=i,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(v,m)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(c=>{c.queued&&n.push(c)})}),n}createNamespace(n,i){const c=new Nf(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(c,i):(this.newHostElements.set(i,c),this.collectEnterElement(i)),this._namespaceLookup[n]=c}_balanceNamespaceList(n,i){const c=this._namespaceList,v=this.namespacesByHostElement;if(c.length-1>=0){let b=!1,D=this.driver.getParentElement(i);for(;D;){const P=v.get(D);if(P){const F=c.indexOf(P);c.splice(F+1,0,n),b=!0;break}D=this.driver.getParentElement(D)}b||c.unshift(n)}else c.push(n);return v.set(i,n),n}register(n,i){let c=this._namespaceLookup[n];return c||(c=this.createNamespace(n,i)),c}registerTrigger(n,i,c){let v=this._namespaceLookup[n];v&&v.register(i,c)&&this.totalAnimations++}destroy(n,i){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(n);this.namespacesByHostElement.delete(c.hostElement);const v=this._namespaceList.indexOf(c);v>=0&&this._namespaceList.splice(v,1),c.destroy(i),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,c=this.statesByElement.get(n);if(c)for(let v of c.values())if(v.namespaceId){const m=this._fetchNamespace(v.namespaceId);m&&i.add(m)}return i}trigger(n,i,c,v){if(nl(i)){const m=this._fetchNamespace(n);if(m)return m.trigger(i,c,v),!0}return!1}insertNode(n,i,c,v){if(!nl(i))return;const m=i[A1];if(m&&m.setForRemoval){m.setForRemoval=!1,m.setForMove=!0;const b=this.collectedLeaveElements.indexOf(i);b>=0&&this.collectedLeaveElements.splice(b,1)}if(n){const b=this._fetchNamespace(n);b&&b.insertNode(i,c)}v&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ol(n,q1)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Sc(n,q1))}removeNode(n,i,c){if(nl(i)){const v=n?this._fetchNamespace(n):null;v?v.removeNode(i,c):this.markElementAsRemoved(n,i,!1,c);const m=this.namespacesByHostElement.get(i);m&&m.id!==n&&m.removeNode(i,c)}else this._onRemovalComplete(i,c)}markElementAsRemoved(n,i,c,v,m){this.collectedLeaveElements.push(i),i[A1]={namespaceId:n,setForRemoval:v,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:m}}listen(n,i,c,v,m){return nl(i)?this._fetchNamespace(n).listen(i,c,v,m):()=>{}}_buildInstruction(n,i,c,v,m){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,c,v,n.fromState.options,n.toState.options,i,m)}destroyInnerAnimations(n){let i=this.driver.query(n,pl,!0);i.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,qc,!0),i.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return pr(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[A1];if(i&&i.setForRemoval){if(n[A1]=a4,i.namespaceId){this.destroyInnerAnimations(n);const c=this._fetchNamespace(i.namespaceId);c&&c.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}n.classList?.contains(q1)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,v)=>this._balanceNamespaceList(c,v)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Ol(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{i=this._flushAnimations(c,n)}finally{for(let v=0;v<c.length;v++)c[v]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],i.length?pr(i).onDone(()=>{c.forEach(v=>v())}):c.forEach(v=>v())}}reportError(n){throw function Sn(e){return new T.vHH(3402,!1)}()}_flushAnimations(n,i){const c=new Te,v=[],m=new Map,b=[],D=new Map,P=new Map,F=new Map,le=new Set;this.disabledNodes.forEach(qn=>{le.add(qn);const gr=this.driver.query(qn,".ng-animate-queued",!0);for(let ir=0;ir<gr.length;ir++)le.add(gr[ir])});const _e=this.bodyNode,Ve=Array.from(this.statesByElement.keys()),Oe=Bf(Ve,this.collectedEnterElements),Ue=new Map;let je=0;Oe.forEach((qn,gr)=>{const ir=X4+je++;Ue.set(gr,ir),qn.forEach(si=>Ol(si,ir))});const vt=[],wt=new Set,Ot=new Set;for(let qn=0;qn<this.collectedLeaveElements.length;qn++){const gr=this.collectedLeaveElements[qn],ir=gr[A1];ir&&ir.setForRemoval&&(vt.push(gr),wt.add(gr),ir.hasAnimation?this.driver.query(gr,".ng-star-inserted",!0).forEach(si=>wt.add(si)):Ot.add(gr))}const Rt=new Map,At=Bf(Ve,Array.from(wt));At.forEach((qn,gr)=>{const ir=Jc+je++;Rt.set(gr,ir),qn.forEach(si=>Ol(si,ir))}),n.push(()=>{Oe.forEach((qn,gr)=>{const ir=Ue.get(gr);qn.forEach(si=>Sc(si,ir))}),At.forEach((qn,gr)=>{const ir=Rt.get(gr);qn.forEach(si=>Sc(si,ir))}),vt.forEach(qn=>{this.processLeaveNode(qn)})});const sn=[],nn=[];for(let qn=this._namespaceList.length-1;qn>=0;qn--)this._namespaceList[qn].drainQueuedTransitions(i).forEach(ir=>{const si=ir.player,Zr=ir.element;if(sn.push(si),this.collectedEnterElements.length){const ca=Zr[A1];if(ca&&ca.setForMove){if(ca.previousTriggersValues&&ca.previousTriggersValues.has(ir.triggerName)){const Ga=ca.previousTriggersValues.get(ir.triggerName),ja=this.statesByElement.get(ir.element);if(ja&&ja.has(ir.triggerName)){const zo=ja.get(ir.triggerName);zo.value=Ga,ja.set(ir.triggerName,zo)}}return void si.destroy()}}const ta=!_e||!this.driver.containsElement(_e,Zr),Ai=Rt.get(Zr),ra=Ue.get(Zr),Li=this._buildInstruction(ir,c,ra,Ai,ta);if(Li.errors&&Li.errors.length)return void nn.push(Li);if(ta)return si.onStart(()=>t4(Zr,Li.fromStyles)),si.onDestroy(()=>Js(Zr,Li.toStyles)),void v.push(si);if(ir.isFallbackTransition)return si.onStart(()=>t4(Zr,Li.fromStyles)),si.onDestroy(()=>Js(Zr,Li.toStyles)),void v.push(si);const ia=[];Li.timelines.forEach(ca=>{ca.stretchStartingKeyframe=!0,this.disabledNodes.has(ca.element)||ia.push(ca)}),Li.timelines=ia,c.append(Zr,Li.timelines),b.push({instruction:Li,player:si,element:Zr}),Li.queriedElements.forEach(ca=>Fe(D,ca,[]).push(si)),Li.preStyleProps.forEach((ca,Ga)=>{if(ca.size){let ja=P.get(Ga);ja||P.set(Ga,ja=new Set),ca.forEach((zo,Ao)=>ja.add(Ao))}}),Li.postStyleProps.forEach((ca,Ga)=>{let ja=F.get(Ga);ja||F.set(Ga,ja=new Set),ca.forEach((zo,Ao)=>ja.add(Ao))})});if(nn.length){const qn=[];nn.forEach(gr=>{qn.push(function Hn(e,n){return new T.vHH(3505,!1)}())}),sn.forEach(gr=>gr.destroy()),this.reportError(qn)}const An=new Map,_n=new Map;b.forEach(qn=>{const gr=qn.element;c.has(gr)&&(_n.set(gr,gr),this._beforeAnimationBuild(qn.player.namespaceId,qn.instruction,An))}),v.forEach(qn=>{const gr=qn.element;this._getPreviousPlayers(gr,!1,qn.namespaceId,qn.triggerName,null).forEach(si=>{Fe(An,gr,[]).push(si),si.destroy()})});const Jn=vt.filter(qn=>s4(qn,P,F)),yr=new Map;e3(yr,this.driver,Ot,F,Mi.l3).forEach(qn=>{s4(qn,P,F)&&Jn.push(qn)});const Er=new Map;Oe.forEach((qn,gr)=>{e3(Er,this.driver,new Set(qn),P,Mi.k1)}),Jn.forEach(qn=>{const gr=yr.get(qn),ir=Er.get(qn);yr.set(qn,new Map([...gr?.entries()??[],...ir?.entries()??[]]))});const zr=[],Mr=[],Fr={};b.forEach(qn=>{const{element:gr,player:ir,instruction:si}=qn;if(c.has(gr)){if(le.has(gr))return ir.onDestroy(()=>Js(gr,si.toStyles)),ir.disabled=!0,ir.overrideTotalTime(si.totalTime),void v.push(ir);let Zr=Fr;if(_n.size>1){let Ai=gr;const ra=[];for(;Ai=Ai.parentNode;){const Li=_n.get(Ai);if(Li){Zr=Li;break}ra.push(Ai)}ra.forEach(Li=>_n.set(Li,Zr))}const ta=this._buildAnimation(ir.namespaceId,si,An,m,Er,yr);if(ir.setRealPlayer(ta),Zr===Fr)zr.push(ir);else{const Ai=this.playersByElement.get(Zr);Ai&&Ai.length&&(ir.parentPlayer=pr(Ai)),v.push(ir)}}else t4(gr,si.fromStyles),ir.onDestroy(()=>Js(gr,si.toStyles)),Mr.push(ir),le.has(gr)&&v.push(ir)}),Mr.forEach(qn=>{const gr=m.get(qn.element);if(gr&&gr.length){const ir=pr(gr);qn.setRealPlayer(ir)}}),v.forEach(qn=>{qn.parentPlayer?qn.syncPlayerEvents(qn.parentPlayer):qn.destroy()});for(let qn=0;qn<vt.length;qn++){const gr=vt[qn],ir=gr[A1];if(Sc(gr,Jc),ir&&ir.hasAnimation)continue;let si=[];if(D.size){let ta=D.get(gr);ta&&ta.length&&si.push(...ta);let Ai=this.driver.query(gr,qc,!0);for(let ra=0;ra<Ai.length;ra++){let Li=D.get(Ai[ra]);Li&&Li.length&&si.push(...Li)}}const Zr=si.filter(ta=>!ta.destroyed);Zr.length?kf(this,gr,Zr):this.processLeaveNode(gr)}return vt.length=0,zr.forEach(qn=>{this.players.push(qn),qn.onDone(()=>{qn.destroy();const gr=this.players.indexOf(qn);this.players.splice(gr,1)}),qn.play()}),zr}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,c,v,m){let b=[];if(i){const D=this.playersByQueriedElement.get(n);D&&(b=D)}else{const D=this.playersByElement.get(n);if(D){const P=!m||m==J0;D.forEach(F=>{F.queued||!P&&F.triggerName!=v||b.push(F)})}}return(c||v)&&(b=b.filter(D=>!(c&&c!=D.namespaceId||v&&v!=D.triggerName))),b}_beforeAnimationBuild(n,i,c){const m=i.element,b=i.isRemovalTransition?void 0:n,D=i.isRemovalTransition?void 0:i.triggerName;for(const P of i.timelines){const F=P.element,le=F!==m,_e=Fe(c,F,[]);this._getPreviousPlayers(F,le,b,D,i.toState).forEach(Oe=>{const Ue=Oe.getRealPlayer();Ue.beforeDestroy&&Ue.beforeDestroy(),Oe.destroy(),_e.push(Oe)})}t4(m,i.fromStyles)}_buildAnimation(n,i,c,v,m,b){const D=i.triggerName,P=i.element,F=[],le=new Set,_e=new Set,Ve=i.timelines.map(Ue=>{const je=Ue.element;le.add(je);const vt=je[A1];if(vt&&vt.removedBeforeQueried)return new Mi.ZN(Ue.duration,Ue.delay);const wt=je!==P,Ot=function d1(e){const n=[];return N8(e,n),n}((c.get(je)||a2).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===je),Rt=m.get(je),At=b.get(je),sn=Dr(this._normalizer,Ue.keyframes,Rt,At),nn=this._buildPlayer(Ue,sn,Ot);if(Ue.subTimeline&&v&&_e.add(je),wt){const An=new S6(n,D,je);An.setRealPlayer(nn),F.push(An)}return nn});F.forEach(Ue=>{Fe(this.playersByQueriedElement,Ue.element,[]).push(Ue),Ue.onDone(()=>function H8(e,n,i){let c=e.get(n);if(c){if(c.length){const v=c.indexOf(i);c.splice(v,1)}0==c.length&&e.delete(n)}return c}(this.playersByQueriedElement,Ue.element,Ue))}),le.forEach(Ue=>Ol(Ue,Mc));const Oe=pr(Ve);return Oe.onDestroy(()=>{le.forEach(Ue=>Sc(Ue,Mc)),Js(P,i.toStyles)}),_e.forEach(Ue=>{Fe(v,Ue,[]).push(Oe)}),Oe}_buildPlayer(n,i,c){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,c):new Mi.ZN(n.duration,n.delay)}}class S6{constructor(n,i,c){this.namespaceId=n,this.triggerName=i,this.element=c,this._player=new Mi.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((i,c)=>{i.forEach(v=>jr(n,c,void 0,v))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){Fe(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function nl(e){return e&&1===e.nodeType}function q0(e,n){const i=e.style.display;return e.style.display=n??"none",i}function e3(e,n,i,c,v){const m=[];i.forEach(P=>m.push(q0(P)));const b=[];c.forEach((P,F)=>{const le=new Map;P.forEach(_e=>{const Ve=n.computeStyle(F,_e,v);le.set(_e,Ve),(!Ve||0==Ve.length)&&(F[A1]=Q2,b.push(F))}),e.set(F,le)});let D=0;return i.forEach(P=>q0(P,m[D++])),b}function Bf(e,n){const i=new Map;if(e.forEach(D=>i.set(D,[])),0==n.length)return i;const v=new Set(n),m=new Map;function b(D){if(!D)return 1;let P=m.get(D);if(P)return P;const F=D.parentNode;return P=i.has(F)?F:v.has(F)?1:b(F),m.set(D,P),P}return n.forEach(D=>{const P=b(D);1!==P&&i.get(P).push(D)}),i}function Ol(e,n){e.classList?.add(n)}function Sc(e,n){e.classList?.remove(n)}function kf(e,n,i){pr(i).onDone(()=>e.processLeaveNode(n))}function N8(e,n){for(let i=0;i<e.length;i++){const c=e[i];c instanceof Mi.ZE?N8(c.players,n):n.push(c)}}function s4(e,n,i){const c=i.get(e);if(!c)return!1;let v=n.get(e);return v?c.forEach(m=>v.add(m)):n.set(e,c),i.delete(e),!0}class l4{constructor(n,i,c){this._driver=i,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(v,m)=>{},this._transitionEngine=new lp(n.body,i,c),this._timelineEngine=new yo(n.body,i,c),this._transitionEngine.onRemovalComplete=(v,m)=>this.onRemovalComplete(v,m)}registerTrigger(n,i,c,v,m){const b=n+"-"+v;let D=this._triggerCache[b];if(!D){const P=[],le=n2(this._driver,m,P,[]);if(P.length)throw function rt(e,n){return new T.vHH(3404,!1)}();D=function M6(e,n,i){return new x6(e,n,i)}(v,le,this._normalizer),this._triggerCache[b]=D}this._transitionEngine.registerTrigger(i,v,D)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,c,v){this._transitionEngine.insertNode(n,i,c,v)}onRemove(n,i,c){this._transitionEngine.removeNode(n,i,c)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,c,v){if("@"==c.charAt(0)){const[m,b]=et(c);this._timelineEngine.command(m,i,b,v)}else this._transitionEngine.trigger(n,i,c,v)}listen(n,i,c,v,m){if("@"==c.charAt(0)){const[b,D]=et(c);return this._timelineEngine.listen(b,i,D,m)}return this._transitionEngine.listen(n,i,c,v,m)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let B8=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(i,c,v){this._element=i,this._startStyles=c,this._endStyles=v,this._state=0;let m=e.initialStylesByElement.get(i);m||e.initialStylesByElement.set(i,m=new Map),this._initialStyles=m}start(){this._state<1&&(this._startStyles&&Js(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Js(this._element,this._initialStyles),this._endStyles&&(Js(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(t4(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(t4(this._element,this._endStyles),this._endStyles=null),Js(this._element,this._initialStyles),this._state=3)}}return e})();function q2(e){let n=null;return e.forEach((i,c)=>{(function C6(e){return"display"===e||"position"===e})(c)&&(n=n||new Map,n.set(c,i))}),n}class e0{constructor(n,i,c,v){this.element=n,this.keyframes=i,this.options=c,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const i=[];return n.forEach(c=>{i.push(Object.fromEntries(c))}),i}_triggerWebAnimation(n,i,c){return n.animate(this._convertKeyframesToObject(i),c)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,v)=>{"offset"!==v&&n.set(v,this._finished?c:q4(this.element,v))}),this.currentSnapshot=n}triggerCallback(n){const i="start"===n?this._onStartFns:this._onDoneFns;i.forEach(c=>c()),i.length=0}}class k8{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,i){return!1}containsElement(n,i){return ka(n,i)}getParentElement(n){return Rn(n)}query(n,i,c){return Da(n,i,c)}computeStyle(n,i,c){return window.getComputedStyle(n)[i]}animate(n,i,c,v,m,b=[]){const P={duration:c,delay:v,fill:0==v?"both":"forwards"};m&&(P.easing=m);const F=new Map,le=b.filter(Oe=>Oe instanceof e0);(function j0(e,n){return 0===e||0===n})(c,v)&&le.forEach(Oe=>{Oe.currentSnapshot.forEach((Ue,je)=>F.set(je,Ue))});let _e=function Ji(e){return e.length?e[0]instanceof Map?e:e.map(n=>e4(n)):[]}(i).map(Oe=>l1(Oe));_e=function I8(e,n,i){if(i.size&&n.length){let c=n[0],v=[];if(i.forEach((m,b)=>{c.has(b)||v.push(b),c.set(b,m)}),v.length)for(let m=1;m<n.length;m++){let b=n[m];v.forEach(D=>b.set(D,q4(e,D)))}}return n}(n,_e,F);const Ve=function J2(e,n){let i=null,c=null;return Array.isArray(n)&&n.length?(i=q2(n[0]),n.length>1&&(c=q2(n[n.length-1]))):n instanceof Map&&(i=q2(n)),i||c?new B8(e,i,c):null}(n,_e);return new e0(n,_e,P,Ve)}}const tc="@.disabled";class t3{constructor(n,i,c,v){this.namespaceId=n,this.delegate=i,this.engine=c,this._onDestroy=v,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,c,v=!0){this.delegate.insertBefore(n,i,c),this.engine.onInsert(this.namespaceId,i,n,v)}removeChild(n,i,c){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,c,v){this.delegate.setAttribute(n,i,c,v)}removeAttribute(n,i,c){this.delegate.removeAttribute(n,i,c)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,c,v){this.delegate.setStyle(n,i,c,v)}removeStyle(n,i,c){this.delegate.removeStyle(n,i,c)}setProperty(n,i,c){"@"==i.charAt(0)&&i==tc?this.disableAnimations(n,!!c):this.delegate.setProperty(n,i,c)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,c){return this.delegate.listen(n,i,c)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class F8 extends t3{constructor(n,i,c,v,m){super(i,c,v,m),this.factory=n,this.namespaceId=i}setProperty(n,i,c){"@"==i.charAt(0)?"."==i.charAt(1)&&i==tc?this.disableAnimations(n,c=void 0===c||!!c):this.engine.process(this.namespaceId,n,i.slice(1),c):this.delegate.setProperty(n,i,c)}listen(n,i,c){if("@"==i.charAt(0)){const v=function E6(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let m=i.slice(1),b="";return"@"!=m.charAt(0)&&([m,b]=function l2(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(m)),this.engine.listen(this.namespaceId,v,m,b,D=>{this.factory.scheduleListenerCallback(D._data||-1,c,D)})}return this.delegate.listen(n,i,c)}}class c2{constructor(n,i,c){this.delegate=n,this.engine=i,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(v,m)=>{const b=m?.parentNode(v);b&&m.removeChild(b,v)}}createRenderer(n,i){const v=this.delegate.createRenderer(n,i);if(!n||!i?.data?.animation){const F=this._rendererCache;let le=F.get(v);return le||(le=new t3("",v,this.engine,()=>F.delete(v)),F.set(v,le)),le}const m=i.id,b=i.id+"-"+this._currentId;this._currentId++,this.engine.register(b,n);const D=F=>{Array.isArray(F)?F.forEach(D):this.engine.registerTrigger(m,b,n,F.name,F)};return i.data.animation.forEach(D),new F8(this,b,v,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,c){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>i(c));const v=this._animationCallbacksBuffer;0==v.length&&queueMicrotask(()=>{this._zone.run(()=>{v.forEach(m=>{const[b,D]=m;b(D)}),this._animationCallbacksBuffer=[]})}),v.push([i,c])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let $o=(()=>{class e extends l4{constructor(i,c,v,m){super(i,c,v)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(c){return new(c||e)(T.LFG(ie.K0),T.LFG(va),T.LFG(Bl),T.LFG(T.z2F))};static#t=this.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac})}return e})();const rl=[{provide:Bl,useFactory:function f1(){return new Z2}},{provide:l4,useClass:$o},{provide:T.FYo,useFactory:function U8(e,n,i){return new c2(e,n,i)},deps:[_.se,l4,T.R0b]}],Y8=[{provide:va,useFactory:()=>new k8},{provide:T.QbO,useValue:"BrowserAnimations"},...rl],G8=[{provide:va,useClass:xa},{provide:T.QbO,useValue:"NoopAnimations"},...rl];let uu=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?G8:Y8}}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e});static#n=this.\u0275inj=T.cJS({providers:Y8,imports:[_.b2]})}return e})();const u4=void 0,t0=["en",[["a","p"],["AM","PM"],u4],[["AM","PM"],u4,u4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u4,"{1} 'at' {0}",u4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function a3(e){const i=Math.floor(Math.abs(e)),c=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];var Ff=C(258),z6=C(2242),u2=C(3742);const Uf=[{path:"",pathMatch:"full",redirectTo:"/welcome"},{path:"welcome",loadChildren:()=>C.e(781).then(C.bind(C,6781)).then(e=>e.WelcomeModule)},{path:"basic",loadChildren:()=>Promise.all([C.e(592),C.e(27)]).then(C.bind(C,7027)).then(e=>e.DemoBasicModule)},{path:"advanced",loadChildren:()=>Promise.all([C.e(592),C.e(148)]).then(C.bind(C,148)).then(e=>e.DemoAdvancedModule)},{path:"series",loadChildren:()=>Promise.all([C.e(592),C.e(298)]).then(C.bind(C,2298)).then(e=>e.DemoSeriesModule)},{path:"gl",loadChildren:()=>Promise.all([C.e(592),C.e(16)]).then(C.bind(C,5016)).then(e=>e.DemoGlModule)}];let cp=(()=>{class e{static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e});static#n=this.\u0275inj=T.cJS({imports:[u2.Bz.forRoot(Uf),u2.Bz]})}return e})();var Yf=C(2181);const up=[{path:"/welcome",icon:"home",text:"Home"},{path:"/basic",icon:"appstore",text:"Getting Started"},{path:"/advanced",icon:"group",text:"Advanced"},{path:"/series",icon:"bar-chart",text:"Series",submenus:[{path:"/series/graph",text:"Graph"},{path:"/series/tree",text:"Tree"},{path:"/series/heatmap",text:"Heatmap"}]},{path:"/gl",icon:"heat-map",text:"GL",submenus:[{path:"/gl/bar3d",text:"3D Bar"}]}];var Gf=C(1474),h4=C(3460),A6=C(855);function jf(e,n){if(1&e&&(T.ynx(0),T.TgZ(1,"li",4)(2,"span",5),T._UZ(3,"i",6),T.TgZ(4,"span",7),T._uU(5),T.qZA()()(),T.BQk()),2&e){const i=T.oxw().$implicit;T.xp6(1),T.Q6J("routerLink",i.path)("routerLinkActive","ant-menu-item-selected"),T.xp6(2),T.Q6J("nzType",i.icon)("nzTheme",i.iconTheme?i.iconTheme:"outline"),T.xp6(2),T.Oqu(i.text)}}function Uo(e,n){if(1&e&&T._UZ(0,"i",6),2&e){const i=T.oxw().$implicit;T.Q6J("nzType",i.icon)("nzTheme",i.iconTheme?i.iconTheme:"outline")}}function P6(e,n){if(1&e&&(T.TgZ(0,"li",4)(1,"span",5),T.YNc(2,Uo,1,2,"i",10),T.TgZ(3,"span",7),T._uU(4),T.qZA()()()),2&e){const i=n.$implicit;T.Q6J("routerLink",i.path)("routerLinkActive","ant-menu-item-selected"),T.xp6(2),T.Q6J("ngIf",i.icon),T.xp6(2),T.Oqu(i.text)}}function P1(e,n){if(1&e&&(T.TgZ(0,"li",8)(1,"ul"),T.YNc(2,P6,5,4,"li",9),T.qZA()()),2&e){const i=T.oxw().$implicit,c=T.oxw();T.Q6J("nzTitle",i.text)("nzIcon",i.icon)("nzOpen",i.pathRegex.test(c.currentUrl)),T.xp6(2),T.Q6J("ngForOf",i.submenus)}}function h2(e,n){if(1&e&&T.YNc(0,jf,6,5,"ng-container",2)(1,P1,3,4,"ng-template",null,3,T.W1O),2&e){const i=n.$implicit,c=T.MAs(2);T.Q6J("ngIf",!i.submenus)("ngIfElse",c)}}let is=(()=>{class e{constructor(i){this.router=i,i.events.pipe((0,Yf.h)(c=>c instanceof u2.m2)).subscribe(c=>{this.currentUrl=c.url}),this.menus=up.map(c=>({path:c.path,pathRegex:new RegExp(c.path),text:c.text,icon:c.icon,iconTheme:c.iconTheme,submenus:c.submenus?c.submenus.concat():void 0}))}static#e=this.\u0275fac=function(c){return new(c||e)(T.Y36(u2.F0))};static#t=this.\u0275cmp=T.Xpm({type:e,selectors:[["app-menu"]],inputs:{isCollapsed:"isCollapsed"},decls:2,vars:3,consts:[["nz-menu","","nzTheme","dark",3,"nzMode","nzInlineCollapsed"],["ngFor","",3,"ngForOf"],[4,"ngIf","ngIfElse"],["submenu",""],["nz-menu-item","",3,"routerLink","routerLinkActive"],["title",""],["nz-icon","",3,"nzType","nzTheme"],[1,"nav-text"],["nz-submenu","",3,"nzTitle","nzIcon","nzOpen"],["nz-menu-item","",3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],["nz-icon","",3,"nzType","nzTheme",4,"ngIf"]],template:function(c,v){1&c&&(T.TgZ(0,"ul",0),T.YNc(1,h2,3,2,"ng-template",1),T.qZA()),2&c&&(T.Q6J("nzMode","inline")("nzInlineCollapsed",v.isCollapsed),T.xp6(1),T.Q6J("ngForOf",v.menus))},dependencies:[ie.sg,ie.O5,Gf.Ls,h4.wO,h4.u9,h4.rY,A6.w,u2.rH,u2.Od]})}return e})();var Cc=C(3410);let L6=(()=>{class e{constructor(){this.isCollapsed=!1}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275cmp=T.Xpm({type:e,selectors:[["app-root"]],decls:16,vars:4,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo"],["href","https://xieziyu.github.io/ngx-echarts","target","_blank"],["src","assets/img/brand.svg","alt","logo"],[3,"isCollapsed"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],["href","https://github.com/xieziyu/ngx-echarts","target","_blank",1,"github-logo"],["nz-icon","","nzType","github","nzTheme","outline",1,"trigger"],[1,"inner-content"]],template:function(c,v){1&c&&(T.TgZ(0,"nz-layout",0)(1,"nz-sider",1),T.NdJ("nzCollapsedChange",function(b){return v.isCollapsed=b}),T.TgZ(2,"div",2)(3,"a",3),T._UZ(4,"img",4),T.qZA()(),T._UZ(5,"app-menu",5),T.qZA(),T.TgZ(6,"nz-layout")(7,"nz-header")(8,"div",6)(9,"span",7),T.NdJ("click",function(){return v.isCollapsed=!v.isCollapsed}),T._UZ(10,"i",8),T.qZA(),T.TgZ(11,"a",9),T._UZ(12,"i",10),T.qZA()()(),T.TgZ(13,"nz-content")(14,"div",11),T._UZ(15,"router-outlet"),T.qZA()()()()),2&c&&(T.xp6(1),T.Q6J("nzCollapsed",v.isCollapsed)("nzTrigger",null),T.xp6(4),T.Q6J("isCollapsed",v.isCollapsed),T.xp6(5),T.Q6J("nzType",v.isCollapsed?"menu-unfold":"menu-fold"))},dependencies:[is,u2.lC,Gf.Ls,Cc.hw,Cc.E8,Cc.OK,Cc.t7,A6.w],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959}.header-trigger[_ngcontent-%COMP%]{padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:40px;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914;display:flex;justify-content:space-between;align-items:center}.github-logo[_ngcontent-%COMP%]{padding:0 24px;font-size:25px;cursor:pointer;transition:all .3s,padding 0s}a.github-logo[_ngcontent-%COMP%]{color:#000000a6}nz-content[_ngcontent-%COMP%]{margin:24px;overflow-y:scroll}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff}"]})}return e})();var hu=C(859);let o3=(()=>{class e{static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e});static#n=this.\u0275inj=T.cJS({imports:[ie.ez,hu.m,u2.Bz]})}return e})();var gn=C(659),Wf=C(7230),hp=(C(2235),C(9644)),ks=C(583),L1=C(5906);function d2(e,n,i){"object"==typeof n&&(i=n,n=null);var v,c=this;if(!(e instanceof Function))for(var m in v=[],e)e.hasOwnProperty(m)&&v.push(m);var b=function(P){if(c.apply(this,arguments),e instanceof Function?s3(this,e.call(this,P)):function Zf(e,n,i){for(var c=0;c<i.length;c++){var v=i[c];e[v]=n[v]}}(this,e,v),this.constructor===b)for(var F=b.__initializers__,le=0;le<F.length;le++)F[le].apply(this,arguments)};b.__super__=c,b.__initializers__=c.__initializers__?c.__initializers__.slice():[],n&&b.__initializers__.push(n);var D=function(){};return D.prototype=c.prototype,b.prototype=new D,b.prototype.constructor=b,s3(b.prototype,i),b.extend=c.extend,b.derive=c.extend,b}function s3(e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}(0,Wf.D)([hp.N,ks.N]),(0,Wf.D)(L1.T);const Kf={extend:d2,derive:d2};function $f(e,n){this.action=e,this.context=n}var I6={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var n=this.__handlers__[e],i=n.length,c=-1,v=arguments;switch(v.length){case 1:for(;++c<i;)n[c].action.call(n[c].context);return;case 2:for(;++c<i;)n[c].action.call(n[c].context,v[1]);return;case 3:for(;++c<i;)n[c].action.call(n[c].context,v[1],v[2]);return;case 4:for(;++c<i;)n[c].action.call(n[c].context,v[1],v[2],v[3]);return;case 5:for(;++c<i;)n[c].action.call(n[c].context,v[1],v[2],v[3],v[4]);return;default:for(;++c<i;)n[c].action.apply(n[c].context,Array.prototype.slice.call(v,1));return}}},on:function(e,n,i){if(e&&n){var c=this.__handlers__||(this.__handlers__={});if(c[e]){if(this.has(e,n))return}else c[e]=[];var v=new $f(n,i||this);return c[e].push(v),this}},once:function(e,n,i){if(e&&n){var c=this;return this.on(e,function v(){c.off(e,v),n.apply(this,arguments)},i)}},before:function(e,n,i){if(e&&n)return this.on(e="before"+e,n,i)},after:function(e,n,i){if(e&&n)return this.on(e="after"+e,n,i)},success:function(e,n){return this.once("success",e,n)},error:function(e,n){return this.once("error",e,n)},off:function(e,n){var i=this.__handlers__||(this.__handlers__={});if(n){if(i[e]){for(var c=i[e],v=[],m=0;m<c.length;m++)n&&c[m].action!==n&&v.push(c[m]);i[e]=v}return this}i[e]=[]},has:function(e,n){var i=this.__handlers__;if(!i||!i[e])return!1;for(var c=i[e],v=0;v<c.length;v++)if(c[v].action===n)return!0}};const n0=I6;var R6=0,l3=Array.prototype.forEach,r0={genGUID:function(){return++R6},relative2absolute:function(e,n){if(!n||e.match(/^\//))return e;for(var i=e.split("/"),c=n.split("/"),v=i[0];"."===v||".."===v;)".."===v&&c.pop(),i.shift(),v=i[0];return c.join("/")+"/"+i.join("/")},extend:function(e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e},defaults:function(e,n){if(n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e},extendWithPropList:function(e,n,i){if(n)for(var c=0;c<i.length;c++){var v=i[c];e[v]=n[v]}return e},defaultsWithPropList:function(e,n,i){if(n)for(var c=0;c<i.length;c++){var v=i[c];null==e[v]&&(e[v]=n[v])}return e},each:function(e,n,i){if(e&&n)if(e.forEach&&e.forEach===l3)e.forEach(n,i);else if(e.length===+e.length)for(var c=0,v=e.length;c<v;c++)n.call(i,e[c],c,e);else for(var m in e)e.hasOwnProperty(m)&&n.call(i,e[m],m,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(r0.isObject(e)){if(r0.isArray(e))return e.slice();if(r0.isArrayLike(e)){for(var n=new e.constructor(e.length),i=0;i<e.length;i++)n[i]=e[i];return n}return r0.extend({},e)}return e}};const Io=r0;var c3=function(){this.__uid__=Io.genGUID()};c3.__initializers__=[function(e){Io.extend(this,e)}],Io.extend(c3,Kf),Io.extend(c3.prototype,n0);const as=c3;var W8=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],du=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];const fu=function Z8(e){for(var n={},i={},c=0;c<W8.length;c++)b(W8[c]);for(c=0;c<du.length;c++){var m=du[c];i[m]=e.getParameter(e[m])}function b(D){if(e.getExtension){var P=e.getExtension(D);P||(P=e.getExtension("MOZ_"+D)),P||(P=e.getExtension("WEBKIT_"+D)),n[D]=P}}this.getExtension=function(D){return D in n||b(D),n[D]},this.getParameter=function(D){return i[D]}},fr_DEPTH_BUFFER_BIT=256,fr_STENCIL_BUFFER_BIT=1024,fr_COLOR_BUFFER_BIT=16384,fr_POINTS=0,fr_LINES=1,fr_LINE_LOOP=2,fr_LINE_STRIP=3,fr_TRIANGLES=4,fr_TRIANGLE_STRIP=5,fr_TRIANGLE_FAN=6,fr_STREAM_DRAW=35040,fr_STATIC_DRAW=35044,fr_DYNAMIC_DRAW=35048,fr_FRONT=1028,fr_BACK=1029,fr_FRONT_AND_BACK=1032,fr_CW=2304,fr_CCW=2305,fr_BYTE=5120,fr_UNSIGNED_BYTE=5121,fr_SHORT=5122,fr_UNSIGNED_SHORT=5123,fr_INT=5124,fr_UNSIGNED_INT=5125,fr_FLOAT=5126,fr_DEPTH_COMPONENT=6402,fr_ALPHA=6406,fr_RGB=6407,fr_RGBA=6408,fr_LUMINANCE=6409,fr_LUMINANCE_ALPHA=6410,fr_NEAREST=9728,fr_LINEAR=9729,fr_NEAREST_MIPMAP_NEAREST=9984,fr_LINEAR_MIPMAP_NEAREST=9985,fr_NEAREST_MIPMAP_LINEAR=9986,fr_LINEAR_MIPMAP_LINEAR=9987,fr_TEXTURE_2D=3553,fr_TEXTURE_CUBE_MAP=34067,fr_REPEAT=10497,fr_CLAMP_TO_EDGE=33071,fr_MIRRORED_REPEAT=33648,fr_FRAMEBUFFER=36160,fr_RENDERBUFFER=36161,fr_DEPTH_STENCIL=34041,fr_COLOR_ATTACHMENT0=36064,fr_DEPTH_ATTACHMENT=36096,fr_STENCIL_ATTACHMENT=36128,fr_DEPTH_STENCIL_ATTACHMENT=33306,Qf={get:function Xf(e){var n=new XMLHttpRequest;n.open("get",e.url),n.responseType=e.responseType||"text",e.onprogress&&(n.onprogress=function(i){i.lengthComputable?e.onprogress(i.loaded/i.total,i.loaded,i.total):e.onprogress(null)}),n.onload=function(i){n.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(n.response)},e.onerror&&(n.onerror=e.onerror),n.send(null)}};var f4,os={supportWebGL:function(){if(null==f4)try{var e=document.createElement("canvas");if(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))throw new Error}catch{f4=!1}return f4}};os.Int8Array=typeof Int8Array>"u"?Array:Int8Array,os.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array,os.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array,os.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array,os.Int16Array=typeof Int16Array>"u"?Array:Int16Array,os.Float32Array=typeof Float32Array>"u"?Array:Float32Array,os.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var v4={};typeof window<"u"?v4=window:typeof global<"u"&&(v4=global),os.requestAnimationFrame=v4.requestAnimationFrame||v4.msRequestAnimationFrame||v4.mozRequestAnimationFrame||v4.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},os.createCanvas=function(){return document.createElement("canvas")},os.createImage=function(){return new v4.Image},os.request={get:Qf.get},os.addEventListener=function(e,n,i,c){e.addEventListener(n,i,c)},os.removeEventListener=function(e,n,i){e.removeEventListener(n,i)};const Xo=os;var Yo=function(){this.head=null,this.tail=null,this._length=0};Yo.prototype.insert=function(e){var n=new Yo.Entry(e);return this.insertEntry(n),n},Yo.prototype.insertAt=function(e,n){if(!(e<0)){for(var i=this.head,c=0;i&&c!=e;)i=i.next,c++;if(i){var v=new Yo.Entry(n),m=i.prev;m?(m.next=v,v.prev=m):this.head=v,v.next=i,i.prev=v}else this.insert(n)}},Yo.prototype.insertBeforeEntry=function(e,n){var i=new Yo.Entry(e),c=n.prev;c?(c.next=i,i.prev=c):this.head=i,i.next=n,n.prev=i,this._length++},Yo.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},Yo.prototype.remove=function(e){var n=e.prev,i=e.next;n?n.next=i:this.head=i,i?i.prev=n:this.tail=n,e.next=e.prev=null,this._length--},Yo.prototype.removeAt=function(e){if(!(e<0)){for(var n=this.head,i=0;n&&i!=e;)n=n.next,i++;if(n)return this.remove(n),n.value}},Yo.prototype.getHead=function(){if(this.head)return this.head.value},Yo.prototype.getTail=function(){if(this.tail)return this.tail.value},Yo.prototype.getAt=function(e){if(!(e<0)){for(var n=this.head,i=0;n&&i!=e;)n=n.next,i++;return n.value}},Yo.prototype.indexOf=function(e){for(var n=this.head,i=0;n;){if(n.value===e)return i;n=n.next,i++}},Yo.prototype.length=function(){return this._length},Yo.prototype.isEmpty=function(){return 0===this._length},Yo.prototype.forEach=function(e,n){for(var i=this.head,c=0,v=typeof n<"u";i;)v?e.call(n,i.value,c):e(i.value,c),i=i.next,c++},Yo.prototype.clear=function(){this.tail=this.head=null,this._length=0},Yo.Entry=function(e){this.value=e,this.next=null,this.prev=null};const u3=Yo;var h3=function(e){this._list=new u3,this._map={},this._maxSize=e||10};h3.prototype.setMaxSize=function(e){this._maxSize=e},h3.prototype.put=function(e,n){if(!this._map.hasOwnProperty(e)){var i=this._list.length();if(i>=this._maxSize&&i>0){var c=this._list.head;this._list.remove(c),delete this._map[c.key]}var v=this._list.insert(n);v.key=e,this._map[e]=v}},h3.prototype.get=function(e){var n=this._map[e];if(this._map.hasOwnProperty(e))return n!==this._list.tail&&(this._list.remove(n),this._list.insertEntry(n)),n.value},h3.prototype.remove=function(e){var n=this._map[e];typeof n<"u"&&(delete this._map[e],this._list.remove(n))},h3.prototype.clear=function(){this._list.clear(),this._map={}};const K8=h3;var oo={},$8={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function bs(e){return(e=Math.round(e))<0?0:e>255?255:e}function f2(e){return e<0?0:e>1?1:e}function a0(e){return e.length&&"%"===e.charAt(e.length-1)?bs(parseFloat(e)/100*255):bs(parseInt(e,10))}function p4(e){return e.length&&"%"===e.charAt(e.length-1)?f2(parseFloat(e)/100):f2(parseFloat(e))}function pu(e,n,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(n-e)*i*6:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e}function Tc(e,n,i){return e+(n-e)*i}function v1(e,n,i,c,v){return e[0]=n,e[1]=i,e[2]=c,e[3]=v,e}function v2(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}var X8=new K8(20),g4=null;function o0(e,n){g4&&v2(g4,n),g4=X8.put(e,g4||n.slice())}function d3(e,n){var i=(parseFloat(e[0])%360+360)%360/360,c=p4(e[1]),v=p4(e[2]),m=v<=.5?v*(c+1):v+c-v*c,b=2*v-m;return v1(n=n||[],bs(255*pu(b,m,i+1/3)),bs(255*pu(b,m,i)),bs(255*pu(b,m,i-1/3)),1),4===e.length&&(n[3]=e[3]),n}oo.parse=function(e,n){if(e){n=n||[];var i=X8.get(e);if(i)return v2(n,i);var v,c=(e+="").replace(/ /g,"").toLowerCase();if(c in $8)return v2(n,$8[c]),o0(e,n),n;if("#"===c.charAt(0))return 4===c.length?(v=parseInt(c.substr(1),16))>=0&&v<=4095?(v1(n,(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1),o0(e,n),n):void v1(n,0,0,0,1):7===c.length?(v=parseInt(c.substr(1),16))>=0&&v<=16777215?(v1(n,(16711680&v)>>16,(65280&v)>>8,255&v,1),o0(e,n),n):void v1(n,0,0,0,1):void 0;var m=c.indexOf("("),b=c.indexOf(")");if(-1!==m&&b+1===c.length){var D=c.substr(0,m),P=c.substr(m+1,b-(m+1)).split(","),F=1;switch(D){case"rgba":if(4!==P.length)return void v1(n,0,0,0,1);F=p4(P.pop());case"rgb":return 3!==P.length?void v1(n,0,0,0,1):(v1(n,a0(P[0]),a0(P[1]),a0(P[2]),F),o0(e,n),n);case"hsla":return 4!==P.length?void v1(n,0,0,0,1):(P[3]=p4(P[3]),d3(P,n),o0(e,n),n);case"hsl":return 3!==P.length?void v1(n,0,0,0,1):(d3(P,n),o0(e,n),n);default:return}}v1(n,0,0,0,1)}},oo.parseToFloat=function(e,n){if(n=oo.parse(e,n))return n[0]/=255,n[1]/=255,n[2]/=255,n},oo.lift=function(e,n){var i=oo.parse(e);if(i){for(var c=0;c<3;c++)i[c]=n<0?i[c]*(1-n)|0:(255-i[c])*n+i[c]|0;return oo.stringify(i,4===i.length?"rgba":"rgb")}},oo.toHex=function(e){var n=oo.parse(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)},oo.fastLerp=function(e,n,i){if(n&&n.length&&e>=0&&e<=1){i=i||[];var c=e*(n.length-1),v=Math.floor(c),m=Math.ceil(c),b=n[v],D=n[m],P=c-v;return i[0]=bs(Tc(b[0],D[0],P)),i[1]=bs(Tc(b[1],D[1],P)),i[2]=bs(Tc(b[2],D[2],P)),i[3]=f2(Tc(b[3],D[3],P)),i}},oo.fastMapToColor=oo.fastLerp,oo.lerp=function(e,n,i){if(n&&n.length&&e>=0&&e<=1){var c=e*(n.length-1),v=Math.floor(c),m=Math.ceil(c),b=oo.parse(n[v]),D=oo.parse(n[m]),P=c-v,F=oo.stringify([bs(Tc(b[0],D[0],P)),bs(Tc(b[1],D[1],P)),bs(Tc(b[2],D[2],P)),f2(Tc(b[3],D[3],P))],"rgba");return i?{color:F,leftIndex:v,rightIndex:m,value:c}:F}},oo.mapToColor=oo.lerp,oo.modifyHSL=function(e,n,i,c){if(e=oo.parse(e))return e=function Q8(e){if(e){var P,F,n=e[0]/255,i=e[1]/255,c=e[2]/255,v=Math.min(n,i,c),m=Math.max(n,i,c),b=m-v,D=(m+v)/2;if(0===b)P=0,F=0;else{F=D<.5?b/(m+v):b/(2-m-v);var le=((m-n)/6+b/2)/b,_e=((m-i)/6+b/2)/b,Ve=((m-c)/6+b/2)/b;n===m?P=Ve-_e:i===m?P=1/3+le-Ve:c===m&&(P=2/3+_e-le),P<0&&(P+=1),P>1&&(P-=1)}var Oe=[360*P,F,D];return null!=e[3]&&Oe.push(e[3]),Oe}}(e),null!=n&&(e[0]=function vu(e){return(e=Math.round(e))<0?0:e>360?360:e}(n)),null!=i&&(e[1]=p4(i)),null!=c&&(e[2]=p4(c)),oo.stringify(d3(e),"rgba")},oo.modifyAlpha=function(e,n){if((e=oo.parse(e))&&null!=n)return e[3]=f2(n),oo.stringify(e,"rgba")},oo.stringify=function(e,n){if(e&&e.length){var i=e[0]+","+e[1]+","+e[2];return("rgba"===n||"hsva"===n||"hsla"===n)&&(i+=","+e[3]),n+"("+i+")"}};var p2=oo.parseToFloat,gu={};function f3(e){var n=Object.keys(e);n.sort();for(var i=[],c=0;c<n.length;c++){var v=n[c],m=e[v];i.push(null===m?v:v+" "+m.toString())}return i.join("\n")}var Jf=as.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,n){void 0===n&&console.warn('Uniform value "'+e+'" is undefined');var i=this.uniforms[e];i&&("string"==typeof n&&(n=p2(n)||n),i.value=n,this.autoUpdateTextureStatus&&"t"===i.type&&(n?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var n in e)this.setUniform(n,e[n])},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,n){if("object"==typeof e)for(var i in e)this.setUniform(i,e[i]);else this.setUniform(e,n)},get:function(e){var n=this.uniforms[e];if(n)return n.value},attachShader:function(e,n){var i=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var c=this.uniforms;this._enabledUniforms=Object.keys(c),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(F){var le=this.uniforms[F].type;return"t"===le||"tv"===le},this);var v=this.vertexDefines,m=this.fragmentDefines;if(this.vertexDefines=Io.clone(e.vertexDefines),this.fragmentDefines=Io.clone(e.fragmentDefines),n){for(var b in i)c[b]&&(c[b].value=i[b].value);Io.defaults(this.vertexDefines,v),Io.defaults(this.fragmentDefines,m)}var D={};for(var P in e.textures)D[P]={shaderType:e.textures[P].shaderType,type:e.textures[P].type,enabled:!(!n||!this._textureStatus[P])&&this._textureStatus[P].enabled};this._textureStatus=D,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var n in this.uniforms)e.uniforms[n].value=this.uniforms[n].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=Io.clone(this.vertexDefines),e.fragmentDefines=Io.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,n,i){var c=this.vertexDefines,v=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(i=n,n=e,e="both"),i=i??null,("vertex"===e||"both"===e)&&c[n]!==i&&(c[n]=i,this._programKey=""),("fragment"===e||"both"===e)&&v[n]!==i&&(v[n]=i,"both"!==e&&(this._programKey=""))},undefine:function(e,n){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(n=e,e="both"),("vertex"===e||"both"===e)&&this.isDefined("vertex",n)&&(delete this.vertexDefines[n],this._programKey=""),("fragment"===e||"both"===e)&&this.isDefined("fragment",n)&&(delete this.fragmentDefines[n],"both"!==e&&(this._programKey=""))},isDefined:function(e,n){switch(e){case"vertex":return void 0!==this.vertexDefines[n];case"fragment":return void 0!==this.fragmentDefines[n]}},getDefine:function(e,n){switch(e){case"vertex":return this.vertexDefines[n];case"fragment":return this.fragmentDefines[n]}},enableTexture:function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.enableTexture(e[n]);else{var i=this._textureStatus[e];i&&(i.enabled||(i.enabled=!0,this._programKey=""))}},enableTexturesAll:function(){var e=this._textureStatus;for(var n in e)e[n].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.disableTexture(e[n]);else{var i=this._textureStatus[e];i&&(!i.enabled||(i.enabled=!1,this._programKey=""))}},disableTexturesAll:function(){var e=this._textureStatus;for(var n in e)e[n].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var n=this._textureStatus;return!!n[e]&&n[e].enabled},getEnabledTextures:function(){var e=[],n=this._textureStatus;for(var i in n)n[i].enabled&&e.push(i);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function mu(e,n,i){i.sort();for(var c=[],v=0;v<i.length;v++)c.push(i[v]);var b=f3(e)+"\n"+f3(n)+"\n"+c.join("\n");if(gu[b])return gu[b];var D=Io.genGUID();return gu[b]=D,D}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});const yl=Jf;var e,O1=1e-6,eo=Array,p1=Math.random,Bi={create:function(){var e=new eo(2);return e[0]=0,e[1]=0,e},clone:function(e){var n=new eo(2);return n[0]=e[0],n[1]=e[1],n},fromValues:function(e,n){var i=new eo(2);return i[0]=e,i[1]=n,i},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e},set:function(e,n,i){return e[0]=n,e[1]=i,e},add:function(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e},subtract:function(e,n,i){return e[0]=n[0]-i[0],e[1]=n[1]-i[1],e}};Bi.sub=Bi.subtract,Bi.multiply=function(e,n,i){return e[0]=n[0]*i[0],e[1]=n[1]*i[1],e},Bi.mul=Bi.multiply,Bi.divide=function(e,n,i){return e[0]=n[0]/i[0],e[1]=n[1]/i[1],e},Bi.div=Bi.divide,Bi.min=function(e,n,i){return e[0]=Math.min(n[0],i[0]),e[1]=Math.min(n[1],i[1]),e},Bi.max=function(e,n,i){return e[0]=Math.max(n[0],i[0]),e[1]=Math.max(n[1],i[1]),e},Bi.scale=function(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e},Bi.scaleAndAdd=function(e,n,i,c){return e[0]=n[0]+i[0]*c,e[1]=n[1]+i[1]*c,e},Bi.distance=function(e,n){var i=n[0]-e[0],c=n[1]-e[1];return Math.sqrt(i*i+c*c)},Bi.dist=Bi.distance,Bi.squaredDistance=function(e,n){var i=n[0]-e[0],c=n[1]-e[1];return i*i+c*c},Bi.sqrDist=Bi.squaredDistance,Bi.length=function(e){var n=e[0],i=e[1];return Math.sqrt(n*n+i*i)},Bi.len=Bi.length,Bi.squaredLength=function(e){var n=e[0],i=e[1];return n*n+i*i},Bi.sqrLen=Bi.squaredLength,Bi.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e},Bi.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e},Bi.normalize=function(e,n){var i=n[0],c=n[1],v=i*i+c*c;return v>0&&(v=1/Math.sqrt(v),e[0]=n[0]*v,e[1]=n[1]*v),e},Bi.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]},Bi.cross=function(e,n,i){var c=n[0]*i[1]-n[1]*i[0];return e[0]=e[1]=0,e[2]=c,e},Bi.lerp=function(e,n,i,c){var v=n[0],m=n[1];return e[0]=v+c*(i[0]-v),e[1]=m+c*(i[1]-m),e},Bi.random=function(e,n){n=n||1;var i=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e},Bi.transformMat2=function(e,n,i){var c=n[0],v=n[1];return e[0]=i[0]*c+i[2]*v,e[1]=i[1]*c+i[3]*v,e},Bi.transformMat2d=function(e,n,i){var c=n[0],v=n[1];return e[0]=i[0]*c+i[2]*v+i[4],e[1]=i[1]*c+i[3]*v+i[5],e},Bi.transformMat3=function(e,n,i){var c=n[0],v=n[1];return e[0]=i[0]*c+i[3]*v+i[6],e[1]=i[1]*c+i[4]*v+i[7],e},Bi.transformMat4=function(e,n,i){var c=n[0],v=n[1];return e[0]=i[0]*c+i[4]*v+i[12],e[1]=i[1]*c+i[5]*v+i[13],e},Bi.forEach=(e=Bi.create(),function(n,i,c,v,m,b){var D,P;for(i||(i=2),c||(c=0),P=v?Math.min(v*i+c,n.length):n.length,D=c;D<P;D+=i)e[0]=n[D],e[1]=n[D+1],m(e,e,b),n[D]=e[0],n[D+1]=e[1];return n});const pi=Bi;var Xi=function(e,n){this.array=pi.fromValues(e=e||0,n=n||0),this._dirty=!0};if(Xi.prototype={constructor:Xi,add:function(e){return pi.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n){return this.array[0]=e,this.array[1]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new Xi(this.x,this.y)},copy:function(e){return pi.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,n){return pi.cross(e.array,this.array,n.array),e._dirty=!0,this},dist:function(e){return pi.dist(this.array,e.array)},distance:function(e){return pi.distance(this.array,e.array)},div:function(e){return pi.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return pi.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return pi.dot(this.array,e.array)},len:function(){return pi.len(this.array)},length:function(){return pi.length(this.array)},lerp:function(e,n,i){return pi.lerp(this.array,e.array,n.array,i),this._dirty=!0,this},min:function(e){return pi.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return pi.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return pi.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return pi.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return pi.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return pi.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return pi.random(this.array,e),this._dirty=!0,this},scale:function(e){return pi.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return pi.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return pi.sqrDist(this.array,e.array)},squaredDistance:function(e){return pi.squaredDistance(this.array,e.array)},sqrLen:function(){return pi.sqrLen(this.array)},squaredLength:function(){return pi.squaredLength(this.array)},sub:function(e){return pi.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return pi.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return pi.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return pi.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return pi.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return pi.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var J8=Xi.prototype;Object.defineProperty(J8,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(J8,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}Xi.add=function(e,n,i){return pi.add(e.array,n.array,i.array),e._dirty=!0,e},Xi.set=function(e,n,i){return pi.set(e.array,n,i),e._dirty=!0,e},Xi.copy=function(e,n){return pi.copy(e.array,n.array),e._dirty=!0,e},Xi.cross=function(e,n,i){return pi.cross(e.array,n.array,i.array),e._dirty=!0,e},Xi.dist=function(e,n){return pi.distance(e.array,n.array)},Xi.distance=Xi.dist,Xi.div=function(e,n,i){return pi.divide(e.array,n.array,i.array),e._dirty=!0,e},Xi.divide=Xi.div,Xi.dot=function(e,n){return pi.dot(e.array,n.array)},Xi.len=function(e){return pi.length(e.array)},Xi.lerp=function(e,n,i,c){return pi.lerp(e.array,n.array,i.array,c),e._dirty=!0,e},Xi.min=function(e,n,i){return pi.min(e.array,n.array,i.array),e._dirty=!0,e},Xi.max=function(e,n,i){return pi.max(e.array,n.array,i.array),e._dirty=!0,e},Xi.mul=function(e,n,i){return pi.multiply(e.array,n.array,i.array),e._dirty=!0,e},Xi.multiply=Xi.mul,Xi.negate=function(e,n){return pi.negate(e.array,n.array),e._dirty=!0,e},Xi.normalize=function(e,n){return pi.normalize(e.array,n.array),e._dirty=!0,e},Xi.random=function(e,n){return pi.random(e.array,n),e._dirty=!0,e},Xi.scale=function(e,n,i){return pi.scale(e.array,n.array,i),e._dirty=!0,e},Xi.scaleAndAdd=function(e,n,i,c){return pi.scaleAndAdd(e.array,n.array,i.array,c),e._dirty=!0,e},Xi.sqrDist=function(e,n){return pi.sqrDist(e.array,n.array)},Xi.squaredDistance=Xi.sqrDist,Xi.sqrLen=function(e){return pi.sqrLen(e.array)},Xi.squaredLength=Xi.sqrLen,Xi.sub=function(e,n,i){return pi.subtract(e.array,n.array,i.array),e._dirty=!0,e},Xi.subtract=Xi.sub,Xi.transformMat2=function(e,n,i){return pi.transformMat2(e.array,n.array,i.array),e._dirty=!0,e},Xi.transformMat2d=function(e,n,i){return pi.transformMat2d(e.array,n.array,i.array),e._dirty=!0,e},Xi.transformMat3=function(e,n,i){return pi.transformMat3(e.array,n.array,i.array),e._dirty=!0,e},Xi.transformMat4=function(e,n,i){return pi.transformMat4(e.array,n.array,i.array),e._dirty=!0,e};const ws=Xi;var yu={};function qf(e){for(var n=e.split("\n"),i=0,c=n.length;i<c;i++)n[i]=i+1+": "+n[i];return n.join("\n")}function p3(e,n,i){if(!e.getShaderParameter(n,e.COMPILE_STATUS))return[e.getShaderInfoLog(n),qf(i)].join("\n")}var _u=new Xo.Float32Array(16),ev=as.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){return null!=this._locations[e]},useTextureSlot:function(e,n,i){n&&(e.gl.activeTexture(e.gl.TEXTURE0+i),n.isRenderable()?n.bind(e):n.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,n){var i=this._textureSlot;return this.useTextureSlot(e,n,i),this._textureSlot++,i},setUniform:function(e,n,i,c){var m=this._locations[i];if(null==m)return!1;switch(n){case"m4":if(!(c instanceof Float32Array)){for(var b=0;b<c.length;b++)_u[b]=c[b];c=_u}e.uniformMatrix4fv(m,!1,c);break;case"2i":e.uniform2i(m,c[0],c[1]);break;case"2f":e.uniform2f(m,c[0],c[1]);break;case"3i":e.uniform3i(m,c[0],c[1],c[2]);break;case"3f":e.uniform3f(m,c[0],c[1],c[2]);break;case"4i":e.uniform4i(m,c[0],c[1],c[2],c[3]);break;case"4f":e.uniform4f(m,c[0],c[1],c[2],c[3]);break;case"1i":e.uniform1i(m,c);break;case"1f":e.uniform1f(m,c);break;case"1fv":e.uniform1fv(m,c);break;case"1iv":e.uniform1iv(m,c);break;case"2iv":e.uniform2iv(m,c);break;case"2fv":e.uniform2fv(m,c);break;case"3iv":e.uniform3iv(m,c);break;case"3fv":e.uniform3fv(m,c);break;case"4iv":e.uniform4iv(m,c);break;case"4fv":e.uniform4fv(m,c);break;case"m2":case"m2v":e.uniformMatrix2fv(m,!1,c);break;case"m3":case"m3v":e.uniformMatrix3fv(m,!1,c);break;case"m4v":if(Array.isArray(c)&&Array.isArray(c[0])){var D=new Xo.Float32Array(16*c.length),P=0;for(b=0;b<c.length;b++)for(var F=c[b],le=0;le<16;le++)D[P++]=F[le];e.uniformMatrix4fv(m,!1,D)}else e.uniformMatrix4fv(m,!1,c)}return!0},setUniformOfSemantic:function(e,n,i){var c=this.uniformSemantics[n];return!!c&&this.setUniform(e,c.type,c.symbol,i)},enableAttributes:function(e,n,i){var b,c=e.gl,v=this._program,m=this._locations;(b=i?i.__enabledAttributeList:yu[e.__uid__])||(b=i?i.__enabledAttributeList=[]:yu[e.__uid__]=[]);for(var D=[],P=0;P<n.length;P++){var F=n[P];if(this.attributes[F]){var le=m[F];if(null==le){if(-1===(le=c.getAttribLocation(v,F))){D[P]=-1;continue}m[F]=le}D[P]=le,b[le]=b[le]?2:1}else D[P]=-1}for(P=0;P<b.length;P++)switch(b[P]){case 1:c.enableVertexAttribArray(P),b[P]=3;break;case 2:b[P]=3;break;case 3:c.disableVertexAttribArray(P),b[P]=0}return D},getAttribLocation:function(e,n){var i=this._locations,c=i[n];return null==c&&(c=e.getAttribLocation(this._program,n),i[n]=c),c},buildProgram:function(e,n,i,c){var v=e.createShader(e.VERTEX_SHADER),m=e.createProgram();e.shaderSource(v,i),e.compileShader(v);var b=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(b,c),e.compileShader(b);var D=p3(e,v,i);if(D||(D=p3(e,b,c)))return D;if(e.attachShader(m,v),e.attachShader(m,b),n.attributeSemantics.POSITION)e.bindAttribLocation(m,0,n.attributeSemantics.POSITION.symbol);else{var P=Object.keys(this.attributes);e.bindAttribLocation(m,0,P[0])}if(e.linkProgram(m),e.deleteShader(v),e.deleteShader(b),this._program=m,this.vertexCode=i,this.fragmentCode=c,!e.getProgramParameter(m,e.LINK_STATUS))return"Could not link program\n"+e.getProgramInfoLog(m);for(var F=0;F<n.uniforms.length;F++){var le=n.uniforms[F];this._locations[le]=e.getUniformLocation(m,le)}}});const eh=ev;var th=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function nh(e,n,i){var v={};for(var m in i)v[m+"_COUNT"]=i[m];return e.replace(th,function c(b,D,P,F){var le="";isNaN(D)&&(D=D in n?n[D]:v[D]),isNaN(P)&&(P=P in n?n[P]:v[P]);for(var _e=parseInt(D);_e<parseInt(P);_e++)le+="{"+F.replace(/float\s*\(\s*_idx_\s*\)/g,_e.toFixed(1)).replace(/_idx_/g,_e)+"}";return le})}function s0(e,n,i){var c=[];if(n)for(var v in n){var m=n[v];m>0&&c.push("#define "+v.toUpperCase()+"_COUNT "+m)}if(i)for(var b=0;b<i.length;b++)c.push("#define "+(D=i[b]).toUpperCase()+"_ENABLED");for(var D in e){var P=e[D];c.push(null===P?"#define "+D:"#define "+D+" "+P.toString())}return c.join("\n")}function nv(e){this._renderer=e,this._cache={}}nv.prototype.getProgram=function(e,n,i){var c=this._cache,v=e.isSkinnedMesh&&e.isSkinnedMesh(),m=e.isInstancedMesh&&e.isInstancedMesh(),b="s"+n.shader.shaderID+"m"+n.getProgramKey();if(i&&(b+="se"+i.getProgramKey(e.lightGroup)),v&&(b+=",sk"+e.joints.length),m&&(b+=",is"),At=c[b])return At;var D=i?i.getLightsNumbers(e.lightGroup):{},P=this._renderer,F=P.gl,le=n.getEnabledTextures(),_e="";if(v){var Ve={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>P.getMaxJointNumber()&&(Ve.USE_SKIN_MATRICES_TEXTURE=null),_e+="\n"+s0(Ve)+"\n"}m&&(_e+="\n#define INSTANCING\n");var Oe=_e+s0(n.vertexDefines,D,le),Ue=_e+s0(n.fragmentDefines,D,le),je=Oe+"\n"+n.shader.vertex,vt=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(nn){return null!=P.getGLExtension(nn)});vt.indexOf("EXT_shader_texture_lod")>=0&&(Ue+="\n#define SUPPORT_TEXTURE_LOD"),vt.indexOf("OES_standard_derivatives")>=0&&(Ue+="\n#define SUPPORT_STANDARD_DERIVATIVES");var At,wt=function tv(e){for(var n=[],i=0;i<e.length;i++)n.push("#extension GL_"+e[i]+" : enable");return n.join("\n")}(vt)+"\n"+function N6(e){return["precision",e,"float"].join(" ")+";\n"+["precision",e,"int"].join(" ")+";\n"+["precision",e,"sampler2D"].join(" ")+";\n"}(n.precision)+"\n"+Ue+"\n"+n.shader.fragment,Ot=nh(je,n.vertexDefines,D),Rt=nh(wt,n.fragmentDefines,D);(At=new eh).uniformSemantics=n.shader.uniformSemantics,At.attributes=n.shader.attributes;var sn=At.buildProgram(F,n.shader,Ot,Rt);return At.__error=sn,c[b]=At,At};const B6=nv;var rh=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,Il=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,m4=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,nc={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function Rl(e){for(var n=[],i=0;i<e;i++)n[i]=0;return n}var l0={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return Rl(2)},vec3:function(){return Rl(3)},vec4:function(){return Rl(4)},ivec2:function(){return Rl(2)},ivec3:function(){return Rl(3)},ivec4:function(){return Rl(4)},mat2:function(){return Rl(4)},mat3:function(){return Rl(9)},mat4:function(){return Rl(16)},array:function(){return[]}},g2=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],k6=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],F6=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],m2={vec4:4,vec3:3,vec2:2,float:1},ih={},Dc={};function Y6(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function y2(){console.error("Wrong uniform/attributes syntax")}function g3(e,n){for(var i=/[,=\(\):]/,c=n.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),v=[],m=0;m<c.length;m++)c[m].match(i)?v.push(c[m].charAt(0),c[m].slice(1)):v.push(c[m]);var je,Ve=0,Oe={},Ue=null;function vt(Rt){Rt||y2();var At=Rt.match(/\[(.*?)\]/);je=Rt.replace(/\[(.*?)\]/,""),Oe[je]={},At&&(Oe[je].isArray=!0,Oe[je].arraySize=At[1])}for(vt((c=v)[0]),m=1;m<c.length;m++){var wt=c[m];if(wt){if("="===wt){if(0!==Ve&&3!==Ve){y2();break}Ve=1;continue}if(":"===wt){Ve=4;continue}if(","===wt){if(2===Ve){if(!(Ue instanceof Array)){y2();break}Ue.push(+c[++m])}else Ve=5;continue}if(")"===wt){Oe[je].value=new Xo.Float32Array(Ue),Ue=null,Ve=5;continue}if("("===wt){if(2!==Ve){y2();break}if(!(Ue instanceof Array)){y2();break}Ue.push(+c[++m]);continue}if(wt.indexOf("vec")>=0){if(1!==Ve&&4!==Ve){y2();break}Ve=2,Ue=[];continue}if(1===Ve){Oe[je].value="bool"===e?"true"===wt:parseFloat(wt),Ue=null;continue}if(4===Ve){var Ot=wt;g2.indexOf(Ot)>=0||k6.indexOf(Ot)>=0||F6.indexOf(Ot)>=0?Oe[je].semantic=Ot:"ignore"===Ot||"unconfigurable"===Ot?Oe[je].ignore=!0:Oe[je].value="bool"===e?"true"===Ot:parseFloat(Ot);continue}vt(wt),Ve=0}}return Oe}function ss(e,n){"object"==typeof e&&(n=e.fragment,e=e.vertex),e=Y6(e),n=Y6(n),this._shaderID=function U6(e,n){var i="vertex:"+e+"fragment:"+n;if(ih[i])return ih[i];var c=Io.genGUID();return ih[i]=c,Dc[c]={vertex:e,fragment:n},c}(e,n),this._vertexCode=ss.parseImport(e),this._fragmentCode=ss.parseImport(n),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}ss.prototype={constructor:ss,createUniforms:function(){var e={};for(var n in this.uniformTemplates){var i=this.uniformTemplates[n];e[n]={type:i.type,value:i.value()}}return e},_parseImport:function(){this._vertexCode=ss.parseImport(this.vertex),this._fragmentCode=ss.parseImport(this.fragment)},_addSemanticUniform:function(e,n,i){if(g2.indexOf(i)>=0)this.attributeSemantics[i]={symbol:e,type:n};else if(F6.indexOf(i)>=0){var c=!1,v=i;i.match(/TRANSPOSE$/)&&(c=!0,v=i.slice(0,-9)),this.matrixSemantics[i]={symbol:e,type:n,isTranspose:c,semanticNoTranspose:v}}else k6.indexOf(i)>=0&&(this.uniformSemantics[i]={symbol:e,type:n})},_addMaterialUniform:function(e,n,i,c,v,m){m[e]={type:i,value:v?l0.array:c||l0[n],semantic:null}},_parseUniforms:function(){var e={},n=this;function c(m){return null!=m?function(){return m}:null}function v(m,b,D){var P=g3(b,D),F=[];for(var le in P){var _e=P[le],Ve=_e.semantic,Oe=le,Ue=nc[b],je=c(P[le].value);P[le].isArray&&(Oe+="["+P[le].arraySize+"]",Ue+="v"),F.push(Oe),n._uniformList.push(le),_e.ignore||(("sampler2D"===b||"samplerCube"===b)&&(n.textures[le]={shaderType:"fragment",type:b}),Ve?n._addSemanticUniform(le,Ue,Ve):n._addMaterialUniform(le,b,Ue,je,P[le].isArray,e))}return F.length>0?"uniform "+b+" "+F.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(rh,v),this._fragmentCode=this._fragmentCode.replace(rh,v),n.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},n=this;this._vertexCode=this._vertexCode.replace(Il,function i(c,v,m){var b=g3(v,m),D=m2[v]||1,P=[];for(var F in b){var le=b[F].semantic;if(e[F]={type:"float",size:D,semantic:le||null},le){if(g2.indexOf(le)<0)throw new Error('Unkown semantic "'+le+'"');n.attributeSemantics[le]={symbol:F,type:v}}P.push(F)}return"attribute "+v+" "+P.join(",")+";\n"}),this.attributes=e},_parseDefines:function(){var e=this;function i(c,v,m){var b=e.fragmentDefines;return b[v]||(b[v]="false"!==m&&("true"===m||(m?isNaN(parseFloat(m))?m.trim():parseFloat(m):null))),""}this._vertexCode=this._vertexCode.replace(m4,i),this._fragmentCode=this._fragmentCode.replace(m4,i)},clone:function(){var e=Dc[this._shaderID];return new ss(e.vertex,e.fragment)}},Object.defineProperty&&(Object.defineProperty(ss.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(ss.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(ss.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(ss.prototype,"uniforms",{get:function(){return this._uniformList}}));var ah=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;ss.parseImport=function(e){return e.replace(ah,function(v,i,c){return(v=ss.source(c))?ss.parseImport(v):(console.error('Shader chunk "'+c+'" not existed in library'),"")})};var G6=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;ss.import=function(e){e.replace(G6,function(n,i,c,m){if(m=m.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var F,b=c.split("."),D=ss.codes,P=0;P<b.length-1;)D[F=b[P++]]||(D[F]={}),D=D[F];D[F=b[P]]=m}return m})},ss.codes={},ss.source=function(e){for(var n=e.split("."),i=ss.codes,c=0;i&&c<n.length;)i=i[n[c++]];return"string"!=typeof i?(console.error('Shader "'+e+'" not existed in library'),""):i};const ti=ss,oh="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end";var Ya={create:function(){var e=new eo(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var n=new eo(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,n){if(e===n){var i=n[1],c=n[2],v=n[3],m=n[6],b=n[7],D=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=i,e[6]=n[9],e[7]=n[13],e[8]=c,e[9]=m,e[11]=n[14],e[12]=v,e[13]=b,e[14]=D}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e},invert:function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=n[4],D=n[5],P=n[6],F=n[7],le=n[8],_e=n[9],Ve=n[10],Oe=n[11],Ue=n[12],je=n[13],vt=n[14],wt=n[15],Ot=i*D-c*b,Rt=i*P-v*b,At=i*F-m*b,sn=c*P-v*D,nn=c*F-m*D,An=v*F-m*P,_n=le*je-_e*Ue,Jn=le*vt-Ve*Ue,yr=le*wt-Oe*Ue,cr=_e*vt-Ve*je,Er=_e*wt-Oe*je,zr=Ve*wt-Oe*vt,Mr=Ot*zr-Rt*Er+At*cr+sn*yr-nn*Jn+An*_n;return Mr?(e[0]=(D*zr-P*Er+F*cr)*(Mr=1/Mr),e[1]=(v*Er-c*zr-m*cr)*Mr,e[2]=(je*An-vt*nn+wt*sn)*Mr,e[3]=(Ve*nn-_e*An-Oe*sn)*Mr,e[4]=(P*yr-b*zr-F*Jn)*Mr,e[5]=(i*zr-v*yr+m*Jn)*Mr,e[6]=(vt*At-Ue*An-wt*Rt)*Mr,e[7]=(le*An-Ve*At+Oe*Rt)*Mr,e[8]=(b*Er-D*yr+F*_n)*Mr,e[9]=(c*yr-i*Er-m*_n)*Mr,e[10]=(Ue*nn-je*At+wt*Ot)*Mr,e[11]=(_e*At-le*nn-Oe*Ot)*Mr,e[12]=(D*Jn-b*cr-P*_n)*Mr,e[13]=(i*cr-c*Jn+v*_n)*Mr,e[14]=(je*Rt-Ue*sn-vt*Ot)*Mr,e[15]=(le*sn-_e*Rt+Ve*Ot)*Mr,e):null},adjoint:function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=n[4],D=n[5],P=n[6],F=n[7],le=n[8],_e=n[9],Ve=n[10],Oe=n[11],Ue=n[12],je=n[13],vt=n[14],wt=n[15];return e[0]=D*(Ve*wt-Oe*vt)-_e*(P*wt-F*vt)+je*(P*Oe-F*Ve),e[1]=-(c*(Ve*wt-Oe*vt)-_e*(v*wt-m*vt)+je*(v*Oe-m*Ve)),e[2]=c*(P*wt-F*vt)-D*(v*wt-m*vt)+je*(v*F-m*P),e[3]=-(c*(P*Oe-F*Ve)-D*(v*Oe-m*Ve)+_e*(v*F-m*P)),e[4]=-(b*(Ve*wt-Oe*vt)-le*(P*wt-F*vt)+Ue*(P*Oe-F*Ve)),e[5]=i*(Ve*wt-Oe*vt)-le*(v*wt-m*vt)+Ue*(v*Oe-m*Ve),e[6]=-(i*(P*wt-F*vt)-b*(v*wt-m*vt)+Ue*(v*F-m*P)),e[7]=i*(P*Oe-F*Ve)-b*(v*Oe-m*Ve)+le*(v*F-m*P),e[8]=b*(_e*wt-Oe*je)-le*(D*wt-F*je)+Ue*(D*Oe-F*_e),e[9]=-(i*(_e*wt-Oe*je)-le*(c*wt-m*je)+Ue*(c*Oe-m*_e)),e[10]=i*(D*wt-F*je)-b*(c*wt-m*je)+Ue*(c*F-m*D),e[11]=-(i*(D*Oe-F*_e)-b*(c*Oe-m*_e)+le*(c*F-m*D)),e[12]=-(b*(_e*vt-Ve*je)-le*(D*vt-P*je)+Ue*(D*Ve-P*_e)),e[13]=i*(_e*vt-Ve*je)-le*(c*vt-v*je)+Ue*(c*Ve-v*_e),e[14]=-(i*(D*vt-P*je)-b*(c*vt-v*je)+Ue*(c*P-v*D)),e[15]=i*(D*Ve-P*_e)-b*(c*Ve-v*_e)+le*(c*P-v*D),e},determinant:function(e){var n=e[0],i=e[1],c=e[2],v=e[3],m=e[4],b=e[5],D=e[6],P=e[7],F=e[8],le=e[9],_e=e[10],Ve=e[11],Oe=e[12],Ue=e[13],je=e[14],vt=e[15];return(n*b-i*m)*(_e*vt-Ve*je)-(n*D-c*m)*(le*vt-Ve*Ue)+(n*P-v*m)*(le*je-_e*Ue)+(i*D-c*b)*(F*vt-Ve*Oe)-(i*P-v*b)*(F*je-_e*Oe)+(c*P-v*D)*(F*Ue-le*Oe)},multiply:function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=n[6],le=n[7],_e=n[8],Ve=n[9],Oe=n[10],Ue=n[11],je=n[12],vt=n[13],wt=n[14],Ot=n[15],Rt=i[0],At=i[1],sn=i[2],nn=i[3];return e[0]=Rt*c+At*D+sn*_e+nn*je,e[1]=Rt*v+At*P+sn*Ve+nn*vt,e[2]=Rt*m+At*F+sn*Oe+nn*wt,e[3]=Rt*b+At*le+sn*Ue+nn*Ot,e[4]=(Rt=i[4])*c+(At=i[5])*D+(sn=i[6])*_e+(nn=i[7])*je,e[5]=Rt*v+At*P+sn*Ve+nn*vt,e[6]=Rt*m+At*F+sn*Oe+nn*wt,e[7]=Rt*b+At*le+sn*Ue+nn*Ot,e[8]=(Rt=i[8])*c+(At=i[9])*D+(sn=i[10])*_e+(nn=i[11])*je,e[9]=Rt*v+At*P+sn*Ve+nn*vt,e[10]=Rt*m+At*F+sn*Oe+nn*wt,e[11]=Rt*b+At*le+sn*Ue+nn*Ot,e[12]=(Rt=i[12])*c+(At=i[13])*D+(sn=i[14])*_e+(nn=i[15])*je,e[13]=Rt*v+At*P+sn*Ve+nn*vt,e[14]=Rt*m+At*F+sn*Oe+nn*wt,e[15]=Rt*b+At*le+sn*Ue+nn*Ot,e},multiplyAffine:function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[4],D=n[5],P=n[6],F=n[8],le=n[9],_e=n[10],Ve=n[12],Oe=n[13],Ue=n[14],je=i[0],vt=i[1],wt=i[2];return e[0]=je*c+vt*b+wt*F,e[1]=je*v+vt*D+wt*le,e[2]=je*m+vt*P+wt*_e,e[4]=(je=i[4])*c+(vt=i[5])*b+(wt=i[6])*F,e[5]=je*v+vt*D+wt*le,e[6]=je*m+vt*P+wt*_e,e[8]=(je=i[8])*c+(vt=i[9])*b+(wt=i[10])*F,e[9]=je*v+vt*D+wt*le,e[10]=je*m+vt*P+wt*_e,e[12]=(je=i[12])*c+(vt=i[13])*b+(wt=i[14])*F+Ve,e[13]=je*v+vt*D+wt*le+Oe,e[14]=je*m+vt*P+wt*_e+Ue,e}};Ya.mul=Ya.multiply,Ya.mulAffine=Ya.multiplyAffine,Ya.translate=function(e,n,i){var b,D,P,F,le,_e,Ve,Oe,Ue,je,vt,wt,c=i[0],v=i[1],m=i[2];return n===e?(e[12]=n[0]*c+n[4]*v+n[8]*m+n[12],e[13]=n[1]*c+n[5]*v+n[9]*m+n[13],e[14]=n[2]*c+n[6]*v+n[10]*m+n[14],e[15]=n[3]*c+n[7]*v+n[11]*m+n[15]):(D=n[1],P=n[2],F=n[3],le=n[4],_e=n[5],Ve=n[6],Oe=n[7],Ue=n[8],je=n[9],vt=n[10],wt=n[11],e[0]=b=n[0],e[1]=D,e[2]=P,e[3]=F,e[4]=le,e[5]=_e,e[6]=Ve,e[7]=Oe,e[8]=Ue,e[9]=je,e[10]=vt,e[11]=wt,e[12]=b*c+le*v+Ue*m+n[12],e[13]=D*c+_e*v+je*m+n[13],e[14]=P*c+Ve*v+vt*m+n[14],e[15]=F*c+Oe*v+wt*m+n[15]),e},Ya.scale=function(e,n,i){var c=i[0],v=i[1],m=i[2];return e[0]=n[0]*c,e[1]=n[1]*c,e[2]=n[2]*c,e[3]=n[3]*c,e[4]=n[4]*v,e[5]=n[5]*v,e[6]=n[6]*v,e[7]=n[7]*v,e[8]=n[8]*m,e[9]=n[9]*m,e[10]=n[10]*m,e[11]=n[11]*m,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},Ya.rotate=function(e,n,i,c){var P,F,le,_e,Ve,Oe,Ue,je,vt,wt,Ot,Rt,At,sn,nn,An,_n,Jn,yr,cr,Er,zr,Mr,Fr,v=c[0],m=c[1],b=c[2],D=Math.sqrt(v*v+m*m+b*b);return Math.abs(D)<O1?null:(v*=D=1/D,m*=D,b*=D,P=Math.sin(i),F=Math.cos(i),Ve=n[1],Oe=n[2],Ue=n[3],vt=n[5],wt=n[6],Ot=n[7],At=n[9],sn=n[10],nn=n[11],yr=v*m*(le=1-F)-b*P,cr=m*m*le+F,Er=b*m*le+v*P,zr=v*b*le+m*P,Mr=m*b*le-v*P,Fr=b*b*le+F,e[0]=(_e=n[0])*(An=v*v*le+F)+(je=n[4])*(_n=m*v*le+b*P)+(Rt=n[8])*(Jn=b*v*le-m*P),e[1]=Ve*An+vt*_n+At*Jn,e[2]=Oe*An+wt*_n+sn*Jn,e[3]=Ue*An+Ot*_n+nn*Jn,e[4]=_e*yr+je*cr+Rt*Er,e[5]=Ve*yr+vt*cr+At*Er,e[6]=Oe*yr+wt*cr+sn*Er,e[7]=Ue*yr+Ot*cr+nn*Er,e[8]=_e*zr+je*Mr+Rt*Fr,e[9]=Ve*zr+vt*Mr+At*Fr,e[10]=Oe*zr+wt*Mr+sn*Fr,e[11]=Ue*zr+Ot*Mr+nn*Fr,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)},Ya.rotateX=function(e,n,i){var c=Math.sin(i),v=Math.cos(i),m=n[4],b=n[5],D=n[6],P=n[7],F=n[8],le=n[9],_e=n[10],Ve=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=m*v+F*c,e[5]=b*v+le*c,e[6]=D*v+_e*c,e[7]=P*v+Ve*c,e[8]=F*v-m*c,e[9]=le*v-b*c,e[10]=_e*v-D*c,e[11]=Ve*v-P*c,e},Ya.rotateY=function(e,n,i){var c=Math.sin(i),v=Math.cos(i),m=n[0],b=n[1],D=n[2],P=n[3],F=n[8],le=n[9],_e=n[10],Ve=n[11];return n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=m*v-F*c,e[1]=b*v-le*c,e[2]=D*v-_e*c,e[3]=P*v-Ve*c,e[8]=m*c+F*v,e[9]=b*c+le*v,e[10]=D*c+_e*v,e[11]=P*c+Ve*v,e},Ya.rotateZ=function(e,n,i){var c=Math.sin(i),v=Math.cos(i),m=n[0],b=n[1],D=n[2],P=n[3],F=n[4],le=n[5],_e=n[6],Ve=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=m*v+F*c,e[1]=b*v+le*c,e[2]=D*v+_e*c,e[3]=P*v+Ve*c,e[4]=F*v-m*c,e[5]=le*v-b*c,e[6]=_e*v-D*c,e[7]=Ve*v-P*c,e},Ya.fromRotationTranslation=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=c+c,P=v+v,F=m+m,le=c*D,_e=c*P,Ve=c*F,Oe=v*P,Ue=v*F,je=m*F,vt=b*D,wt=b*P,Ot=b*F;return e[0]=1-(Oe+je),e[1]=_e+Ot,e[2]=Ve-wt,e[3]=0,e[4]=_e-Ot,e[5]=1-(le+je),e[6]=Ue+vt,e[7]=0,e[8]=Ve+wt,e[9]=Ue-vt,e[10]=1-(le+Oe),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},Ya.fromQuat=function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=i+i,D=c+c,P=v+v,F=i*b,le=c*b,_e=c*D,Ve=v*b,Oe=v*D,Ue=v*P,je=m*b,vt=m*D,wt=m*P;return e[0]=1-_e-Ue,e[1]=le+wt,e[2]=Ve-vt,e[3]=0,e[4]=le-wt,e[5]=1-F-Ue,e[6]=Oe+je,e[7]=0,e[8]=Ve+vt,e[9]=Oe-je,e[10]=1-F-_e,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Ya.frustum=function(e,n,i,c,v,m,b){var D=1/(i-n),P=1/(v-c),F=1/(m-b);return e[0]=2*m*D,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*m*P,e[6]=0,e[7]=0,e[8]=(i+n)*D,e[9]=(v+c)*P,e[10]=(b+m)*F,e[11]=-1,e[12]=0,e[13]=0,e[14]=b*m*2*F,e[15]=0,e},Ya.perspective=function(e,n,i,c,v){var m=1/Math.tan(n/2),b=1/(c-v);return e[0]=m/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=m,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(v+c)*b,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*v*c*b,e[15]=0,e},Ya.ortho=function(e,n,i,c,v,m,b){var D=1/(n-i),P=1/(c-v),F=1/(m-b);return e[0]=-2*D,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*P,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*F,e[11]=0,e[12]=(n+i)*D,e[13]=(v+c)*P,e[14]=(b+m)*F,e[15]=1,e},Ya.lookAt=function(e,n,i,c){var v,m,b,D,P,F,le,_e,Ve,Oe,Ue=n[0],je=n[1],vt=n[2],wt=c[0],Ot=c[1],Rt=c[2],At=i[0],sn=i[1],nn=i[2];return Math.abs(Ue-At)<O1&&Math.abs(je-sn)<O1&&Math.abs(vt-nn)<O1?Ya.identity(e):(le=Ue-At,_e=je-sn,Ve=vt-nn,v=Ot*(Ve*=Oe=1/Math.sqrt(le*le+_e*_e+Ve*Ve))-Rt*(_e*=Oe),m=Rt*(le*=Oe)-wt*Ve,b=wt*_e-Ot*le,(Oe=Math.sqrt(v*v+m*m+b*b))?(v*=Oe=1/Oe,m*=Oe,b*=Oe):(v=0,m=0,b=0),D=_e*b-Ve*m,P=Ve*v-le*b,F=le*m-_e*v,(Oe=Math.sqrt(D*D+P*P+F*F))?(D*=Oe=1/Oe,P*=Oe,F*=Oe):(D=0,P=0,F=0),e[0]=v,e[1]=D,e[2]=le,e[3]=0,e[4]=m,e[5]=P,e[6]=_e,e[7]=0,e[8]=b,e[9]=F,e[10]=Ve,e[11]=0,e[12]=-(v*Ue+m*je+b*vt),e[13]=-(D*Ue+P*je+F*vt),e[14]=-(le*Ue+_e*je+Ve*vt),e[15]=1,e)},Ya.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};const Wr=Ya;var di={create:function(){var e=new eo(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var n=new eo(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},fromValues:function(e,n,i){var c=new eo(3);return c[0]=e,c[1]=n,c[2]=i,c},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e},set:function(e,n,i,c){return e[0]=n,e[1]=i,e[2]=c,e},add:function(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e},subtract:function(e,n,i){return e[0]=n[0]-i[0],e[1]=n[1]-i[1],e[2]=n[2]-i[2],e}};di.sub=di.subtract,di.multiply=function(e,n,i){return e[0]=n[0]*i[0],e[1]=n[1]*i[1],e[2]=n[2]*i[2],e},di.mul=di.multiply,di.divide=function(e,n,i){return e[0]=n[0]/i[0],e[1]=n[1]/i[1],e[2]=n[2]/i[2],e},di.div=di.divide,di.min=function(e,n,i){return e[0]=Math.min(n[0],i[0]),e[1]=Math.min(n[1],i[1]),e[2]=Math.min(n[2],i[2]),e},di.max=function(e,n,i){return e[0]=Math.max(n[0],i[0]),e[1]=Math.max(n[1],i[1]),e[2]=Math.max(n[2],i[2]),e},di.scale=function(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e},di.scaleAndAdd=function(e,n,i,c){return e[0]=n[0]+i[0]*c,e[1]=n[1]+i[1]*c,e[2]=n[2]+i[2]*c,e},di.distance=function(e,n){var i=n[0]-e[0],c=n[1]-e[1],v=n[2]-e[2];return Math.sqrt(i*i+c*c+v*v)},di.dist=di.distance,di.squaredDistance=function(e,n){var i=n[0]-e[0],c=n[1]-e[1],v=n[2]-e[2];return i*i+c*c+v*v},di.sqrDist=di.squaredDistance,di.length=function(e){var n=e[0],i=e[1],c=e[2];return Math.sqrt(n*n+i*i+c*c)},di.len=di.length,di.squaredLength=function(e){var n=e[0],i=e[1],c=e[2];return n*n+i*i+c*c},di.sqrLen=di.squaredLength,di.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e},di.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],e},di.normalize=function(e,n){var i=n[0],c=n[1],v=n[2],m=i*i+c*c+v*v;return m>0&&(m=1/Math.sqrt(m),e[0]=n[0]*m,e[1]=n[1]*m,e[2]=n[2]*m),e},di.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]},di.cross=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=i[0],D=i[1],P=i[2];return e[0]=v*P-m*D,e[1]=m*b-c*P,e[2]=c*D-v*b,e},di.lerp=function(e,n,i,c){var v=n[0],m=n[1],b=n[2];return e[0]=v+c*(i[0]-v),e[1]=m+c*(i[1]-m),e[2]=b+c*(i[2]-b),e},di.random=function(e,n){n=n||1;var i=2*p1()*Math.PI,c=2*p1()-1,v=Math.sqrt(1-c*c)*n;return e[0]=Math.cos(i)*v,e[1]=Math.sin(i)*v,e[2]=c*n,e},di.transformMat4=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=i[3]*c+i[7]*v+i[11]*m+i[15];return e[0]=(i[0]*c+i[4]*v+i[8]*m+i[12])/(b=b||1),e[1]=(i[1]*c+i[5]*v+i[9]*m+i[13])/b,e[2]=(i[2]*c+i[6]*v+i[10]*m+i[14])/b,e},di.transformMat3=function(e,n,i){var c=n[0],v=n[1],m=n[2];return e[0]=c*i[0]+v*i[3]+m*i[6],e[1]=c*i[1]+v*i[4]+m*i[7],e[2]=c*i[2]+v*i[5]+m*i[8],e},di.transformQuat=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=i[0],D=i[1],P=i[2],F=i[3],le=F*c+D*m-P*v,_e=F*v+P*c-b*m,Ve=F*m+b*v-D*c,Oe=-b*c-D*v-P*m;return e[0]=le*F+Oe*-b+_e*-P-Ve*-D,e[1]=_e*F+Oe*-D+Ve*-b-le*-P,e[2]=Ve*F+Oe*-P+le*-D-_e*-b,e},di.rotateX=function(e,n,i,c){var v=[],m=[];return v[0]=n[0]-i[0],v[1]=n[1]-i[1],v[2]=n[2]-i[2],m[0]=v[0],m[1]=v[1]*Math.cos(c)-v[2]*Math.sin(c),m[2]=v[1]*Math.sin(c)+v[2]*Math.cos(c),e[0]=m[0]+i[0],e[1]=m[1]+i[1],e[2]=m[2]+i[2],e},di.rotateY=function(e,n,i,c){var v=[],m=[];return v[0]=n[0]-i[0],v[1]=n[1]-i[1],v[2]=n[2]-i[2],m[0]=v[2]*Math.sin(c)+v[0]*Math.cos(c),m[1]=v[1],m[2]=v[2]*Math.cos(c)-v[0]*Math.sin(c),e[0]=m[0]+i[0],e[1]=m[1]+i[1],e[2]=m[2]+i[2],e},di.rotateZ=function(e,n,i,c){var v=[],m=[];return v[0]=n[0]-i[0],v[1]=n[1]-i[1],v[2]=n[2]-i[2],m[0]=v[0]*Math.cos(c)-v[1]*Math.sin(c),m[1]=v[0]*Math.sin(c)+v[1]*Math.cos(c),m[2]=v[2],e[0]=m[0]+i[0],e[1]=m[1]+i[1],e[2]=m[2]+i[2],e},di.forEach=function(){var e=di.create();return function(n,i,c,v,m,b){var D,P;for(i||(i=3),c||(c=0),P=v?Math.min(v*i+c,n.length):n.length,D=c;D<P;D+=i)e[0]=n[D],e[1]=n[D+1],e[2]=n[D+2],m(e,e,b),n[D]=e[0],n[D+1]=e[1],n[D+2]=e[2];return n}}(),di.angle=function(e,n){var i=di.fromValues(e[0],e[1],e[2]),c=di.fromValues(n[0],n[1],n[2]);di.normalize(i,i),di.normalize(c,c);var v=di.dot(i,c);return v>1?0:Math.acos(v)};const Tn=di;ti.import(oh);var ua=Wr.create,I1={};function Mu(e){return e.material}function j6(e,n,i){return n.uniforms[i].value}function y4(e,n,i,c){return i!==c}function m3(e){return!0}function rv(){}var y3={float:fr_FLOAT,byte:fr_BYTE,ubyte:fr_UNSIGNED_BYTE,short:fr_SHORT,ushort:fr_UNSIGNED_SHORT};function sh(e,n,i){this.availableAttributes=e,this.availableAttributeSymbols=n,this.indicesBuffer=i,this.vao=null}function lh(e){var n,i;this.bind=function(c){n||((n=Xo.createCanvas()).width=n.height=1,n.getContext("2d"));var v=c.gl,m=!i;m&&(i=v.createTexture()),v.bindTexture(v.TEXTURE_2D,i),m&&v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,n)},this.unbind=function(c){c.gl.bindTexture(c.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var rc=as.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=Xo.createCanvas());var e=this.canvas;try{var n={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!this.gl)throw new Error;this._glinfo=new fu(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(i){throw"Error creating WebGL Context "+i}this._programMgr=new B6(this),this._placeholderTexture=new lh(this)},{resize:function(e,n){var i=this.canvas,c=this.devicePixelRatio;null!=e?(i.style&&(i.style.width=e+"px",i.style.height=n+"px"),i.width=e*c,i.height=n*c,this._width=e,this._height=n):(this._width=i.width/c,this._height=i.height/c),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,n,i,c,v){if("object"==typeof e){var m=e;e=m.x,n=m.y,i=m.width,c=m.height,v=m.devicePixelRatio}this.gl.viewport(e*(v=v||this.devicePixelRatio),n*v,i*v,c*v),this.viewport={x:e,y:n,width:i,height:c,devicePixelRatio:v}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,n,i,c){var v=this.gl,m=this.clearColor;if(this.clearBit){v.colorMask(!0,!0,!0,!0),v.depthMask(!0);var b=this.viewport,D=!1,P=b.devicePixelRatio;(b.width!==this._width||b.height!==this._height||P&&P!==this.devicePixelRatio||b.x||b.y)&&(D=!0,v.enable(v.SCISSOR_TEST),v.scissor(b.x*P,b.y*P,b.width*P,b.height*P)),v.clearColor(m[0],m[1],m[2],m[3]),v.clear(this.clearBit),D&&v.disable(v.SCISSOR_TEST)}if(i||e.update(!1),e.updateLights(),n=n||e.getMainCamera()){n.update();var F=e.updateRenderList(n,!0);this._sceneRendering=e;var le=F.opaque,_e=F.transparent,Ve=e.material;e.trigger("beforerender",this,e,n,F),c?(this.renderPreZ(le,e,n),v.depthFunc(v.LEQUAL)):v.depthFunc(v.LESS);for(var Oe=ua(),Ue=Tn.create(),je=0;je<_e.length;je++){var vt=_e[je];Wr.multiplyAffine(Oe,n.viewMatrix.array,vt.worldTransform.array),Tn.transformMat4(Ue,vt.position.array,Oe),vt.__depth=Ue[2]}this.renderPass(le,n,{getMaterial:function(wt){return Ve||wt.material},sortCompare:this.opaqueSortCompare}),this.renderPass(_e,n,{getMaterial:function(wt){return Ve||wt.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,n,F),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(e,n,i){return this._programMgr.getProgram(e,n=n||e.material,i)},validateProgram:function(e){if(e.__error){var n=e.__error;if(I1[e.__uid__])return;if(I1[e.__uid__]=!0,this.throwError)throw new Error(n);this.trigger("error",n)}},updatePrograms:function(e,n,i){var c=i&&i.getMaterial||Mu;n=n||null;for(var v=0;v<e.length;v++){var m=e[v],b=c.call(this,m);if(v>0){var D=e[v-1];if((m.joints?m.joints.length:0)===(D.joints?D.joints.length:0)&&m.material===D.material&&m.lightGroup===D.lightGroup){m.__program=D.__program;continue}}var le=this._programMgr.getProgram(m,b,n);this.validateProgram(le),m.__program=le}},renderPass:function(e,n,i){this.trigger("beforerenderpass",this,e,n,i),(i=i||{}).getMaterial=i.getMaterial||Mu,i.getUniform=i.getUniform||j6,i.isMaterialChanged=i.isMaterialChanged||y4,i.beforeRender=i.beforeRender||rv,i.afterRender=i.afterRender||rv;var c=i.ifRender||m3;this.updatePrograms(e,this._sceneRendering,i),i.sortCompare&&e.sort(i.sortCompare);var v=this.viewport,m=v.devicePixelRatio,b=[v.x*m,v.y*m,v.width*m,v.height*m],D=this.devicePixelRatio,P=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*D,this._height*D],F=[b[2],b[3]],le=Date.now();n?(Wr.copy(so.VIEW,n.viewMatrix.array),Wr.copy(so.PROJECTION,n.projectionMatrix.array),Wr.copy(so.VIEWINVERSE,n.worldTransform.array)):(Wr.identity(so.VIEW),Wr.identity(so.PROJECTION),Wr.identity(so.VIEWINVERSE)),Wr.multiply(so.VIEWPROJECTION,so.PROJECTION,so.VIEW),Wr.invert(so.PROJECTIONINVERSE,so.PROJECTION),Wr.invert(so.VIEWPROJECTIONINVERSE,so.VIEWPROJECTION);for(var Oe,Ue,je,vt,wt,Ot,Rt,At,sn,nn,An,_n,_e=this.gl,Ve=this._sceneRendering,yr=0;yr<e.length;yr++){var zr,cr=e[yr],Er=null!=cr.worldTransform;if(c(cr)){Er&&(zr=cr.isSkinnedMesh&&cr.isSkinnedMesh()?cr.offsetMatrix?cr.offsetMatrix.array:so.IDENTITY:cr.worldTransform.array);var Mr=cr.geometry,Fr=i.getMaterial.call(this,cr),qn=cr.__program,gr=Fr.shader,ir=Mr.__uid__+"-"+qn.__uid__,si=ir!==nn;nn=ir,Er&&(Wr.copy(so.WORLD,zr),Wr.multiply(so.WORLDVIEWPROJECTION,so.VIEWPROJECTION,zr),Wr.multiplyAffine(so.WORLDVIEW,so.VIEW,zr),(gr.matrixSemantics.WORLDINVERSE||gr.matrixSemantics.WORLDINVERSETRANSPOSE)&&Wr.invert(so.WORLDINVERSE,zr),(gr.matrixSemantics.WORLDVIEWINVERSE||gr.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&Wr.invert(so.WORLDVIEWINVERSE,so.WORLDVIEW),(gr.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||gr.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&Wr.invert(so.WORLDVIEWPROJECTIONINVERSE,so.WORLDVIEWPROJECTION)),cr.beforeRender&&cr.beforeRender(this),i.beforeRender.call(this,cr,Fr,Oe);var Zr=qn!==Ue;Zr?(qn.bind(this),qn.setUniformOfSemantic(_e,"VIEWPORT",b),qn.setUniformOfSemantic(_e,"WINDOW_SIZE",P),n&&(qn.setUniformOfSemantic(_e,"NEAR",n.near),qn.setUniformOfSemantic(_e,"FAR",n.far)),qn.setUniformOfSemantic(_e,"DEVICEPIXELRATIO",m),qn.setUniformOfSemantic(_e,"TIME",le),qn.setUniformOfSemantic(_e,"VIEWPORT_SIZE",F),Ve&&Ve.setLightUniforms(qn,cr.lightGroup,this)):qn=Ue,(Zr||i.isMaterialChanged(cr,je,Fr,Oe))&&(Fr.depthTest!==vt&&(Fr.depthTest?_e.enable(_e.DEPTH_TEST):_e.disable(_e.DEPTH_TEST),vt=Fr.depthTest),Fr.depthMask!==wt&&(_e.depthMask(Fr.depthMask),wt=Fr.depthMask),Fr.transparent!==sn&&(Fr.transparent?_e.enable(_e.BLEND):_e.disable(_e.BLEND),sn=Fr.transparent),Fr.transparent&&(Fr.blend?Fr.blend(_e):(_e.blendEquationSeparate(_e.FUNC_ADD,_e.FUNC_ADD),_e.blendFuncSeparate(_e.SRC_ALPHA,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA))),_n=this._bindMaterial(cr,Fr,qn,je||null,Oe||null,Ue||null,i.getUniform),Oe=Fr);var ta=gr.matrixSemanticKeys;if(Er)for(var Ai=0;Ai<ta.length;Ai++){var ra=ta[Ai],Li=gr.matrixSemantics[ra],ia=so[ra];Li.isTranspose&&Wr.transpose(ia,so[Li.semanticNoTranspose]),qn.setUniform(_e,Li.type,Li.symbol,ia)}cr.cullFace!==Rt&&_e.cullFace(Rt=cr.cullFace),cr.frontFace!==At&&_e.frontFace(At=cr.frontFace),cr.culling!==Ot&&((Ot=cr.culling)?_e.enable(_e.CULL_FACE):_e.disable(_e.CULL_FACE)),this._updateSkeleton(cr,qn,_n),si&&(An=this._bindVAO(null,gr,Mr,qn)),this._renderObject(cr,An,qn),i.afterRender(this,cr),cr.afterRender&&cr.afterRender(this),Ue=qn,je=cr}}this.trigger("afterrenderpass",this,e,n,i)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,n,i){var c=this.gl,v=e.skeleton;if(v)if(v.update(),e.joints.length>this.getMaxJointNumber()){var m=v.getSubSkinMatricesTexture(e.__uid__,e.joints);n.useTextureSlot(this,m,i),n.setUniform(c,"1i","skinMatricesTexture",i),n.setUniform(c,"1f","skinMatricesTextureSize",m.width)}else{var b=v.getSubSkinMatrices(e.__uid__,e.joints);n.setUniformOfSemantic(c,"SKIN_MATRIX",b)}},_renderObject:function(e,n,i){var c=this.gl,v=e.geometry,m=e.mode;null==m&&(m=4);var b=null,D=e.isInstancedMesh&&e.isInstancedMesh();if(!D||(b=this.getGLExtension("ANGLE_instanced_arrays"))){var P;if(D&&(P=this._bindInstancedAttributes(e,i,b)),n.indicesBuffer){var _e=this.getGLExtension("OES_element_index_uint")&&v.indices instanceof Uint32Array?c.UNSIGNED_INT:c.UNSIGNED_SHORT;D?b.drawElementsInstancedANGLE(m,n.indicesBuffer.count,_e,0,e.getInstanceCount()):c.drawElements(m,n.indicesBuffer.count,_e,0)}else D?b.drawArraysInstancedANGLE(m,0,v.vertexCount,e.getInstanceCount()):c.drawArrays(m,0,v.vertexCount);if(D)for(var Ve=0;Ve<P.length;Ve++)c.disableVertexAttribArray(P[Ve])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(e,n,i){for(var c=this.gl,v=e.getInstancedAttributesBuffers(this),m=[],b=0;b<v.length;b++){var D=v[b],P=n.getAttribLocation(c,D.symbol);if(!(P<0)){var F=y3[D.type]||c.FLOAT;c.enableVertexAttribArray(P),c.bindBuffer(c.ARRAY_BUFFER,D.buffer),c.vertexAttribPointer(P,D.size,F,!1,0,0),i.vertexAttribDivisorANGLE(P,D.divisor),m.push(P)}}return m},_bindMaterial:function(e,n,i,c,v,m,b){for(var D=this.gl,P=m===i,F=i.currentTextureSlot(),le=n.getEnabledUniforms(),_e=n.getTextureUniforms(),Ve=this._placeholderTexture,Oe=0;Oe<_e.length;Oe++){var je=b(e,n,Ue=_e[Oe]);if("t"===(vt=n.uniforms[Ue].type)&&je)je.__slot=-1;else if("tv"===vt)for(var wt=0;wt<je.length;wt++)je[wt]&&(je[wt].__slot=-1)}for(Ve.__slot=-1,Oe=0;Oe<le.length;Oe++){var Ue,vt,Ot=n.uniforms[Ue=le[Oe]],Rt=(je=b(e,n,Ue),"t"===(vt=Ot.type));if(Rt&&(!je||!je.isRenderable())&&(je=Ve),v&&P){var At=b(c,v,Ue);if(Rt&&(!At||!At.isRenderable())&&(At=Ve),At===je){if(Rt)i.takeCurrentTextureSlot(this,null);else if("tv"===vt&&je)for(wt=0;wt<je.length;wt++)i.takeCurrentTextureSlot(this,null);continue}}if(null!=je)if(Rt)if(je.__slot<0){var sn=i.currentTextureSlot();i.setUniform(D,"1i",Ue,sn)&&(i.takeCurrentTextureSlot(this,je),je.__slot=sn)}else i.setUniform(D,"1i",Ue,je.__slot);else if(Array.isArray(je)){if(0===je.length)continue;if("tv"===vt){if(!i.hasUniform(Ue))continue;var An=[];for(wt=0;wt<je.length;wt++){var _n=je[wt];_n.__slot<0?(sn=i.currentTextureSlot(),An.push(sn),i.takeCurrentTextureSlot(this,_n),_n.__slot=sn):An.push(_n.__slot)}i.setUniform(D,"1iv",Ue,An)}else i.setUniform(D,Ot.type,Ue,je)}else i.setUniform(D,Ot.type,Ue,je)}var Jn=i.currentTextureSlot();return i.resetTextureSlot(F),Jn},_bindVAO:function(e,n,i,c){var v=!i.dynamic,m=this.gl,b=this.__uid__+"-"+c.__uid__,D=i.__vaoCache[b];if(!D){var P=i.getBufferChunks(this);if(!P||!P.length)return;for(var F=P[0],le=F.attributeBuffers,At=F.indicesBuffer,Rt=[],_e=[],Ve=0;Ve<le.length;Ve++){var vt,je=(Oe=le[Ve]).semantic;if(je){var wt=n.attributeSemantics[je];vt=wt&&wt.symbol}else vt=Oe.name;vt&&c.attributes[vt]&&(Rt.push(Oe),_e.push(vt))}D=new sh(Rt,_e,At),v&&(i.__vaoCache[b]=D)}var Ot=!0;if(e&&v&&(null==D.vao?D.vao=e.createVertexArrayOES():Ot=!1,e.bindVertexArrayOES(D.vao)),Rt=D.availableAttributes,At=D.indicesBuffer,Ot){var sn=c.enableAttributes(this,D.availableAttributeSymbols,e&&v&&D);for(Ve=0;Ve<Rt.length;Ve++){var nn=sn[Ve];if(-1!==nn){var Oe,_n=(Oe=Rt[Ve]).size,Jn=y3[Oe.type]||m.FLOAT;m.bindBuffer(m.ARRAY_BUFFER,Oe.buffer),m.vertexAttribPointer(nn,_n,Jn,!1,0,0)}}i.isUseIndices()&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,At.buffer)}return D},renderPreZ:function(e,n,i){var c=this.gl,v=this._prezMaterial||new yl({shader:new ti(ti.source("clay.prez.vertex"),ti.source("clay.prez.fragment"))});this._prezMaterial=v,c.colorMask(!1,!1,!1,!1),c.depthMask(!0),this.renderPass(e,i,{ifRender:function(m){return!m.ignorePreZ},isMaterialChanged:function(m,b){var D=m.material,P=b.material;return D.get("diffuseMap")!==P.get("diffuseMap")||(D.get("alphaCutoff")||0)!==(P.get("alphaCutoff")||0)},getUniform:function(m,b,D){return"alphaMap"===D?m.material.get("diffuseMap"):"alphaCutoff"===D?m.material.isDefined("fragment","ALPHA_TEST")&&m.material.get("diffuseMap")&&m.material.get("alphaCutoff")||0:"uvRepeat"===D?m.material.get("uvRepeat"):"uvOffset"===D?m.material.get("uvOffset"):b.get(D)},getMaterial:function(){return v},sort:this.opaqueSortCompare}),c.colorMask(!0,!0,!0,!0),c.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,n,i){e.getParent()&&e.getParent().remove(e);var c={};e.traverse(function(v){var m=v.material;if(v.geometry&&n&&v.geometry.dispose(this),i&&m&&!c[m.__uid__]){for(var b=m.getTextureUniforms(),D=0;D<b.length;D++){var P=b[D],F=m.uniforms[P].value,le=m.uniforms[P].type;if(F)if("t"===le)F.dispose&&F.dispose(this);else if("tv"===le)for(var _e=0;_e<F.length;_e++)F[_e]&&F[_e].dispose&&F[_e].dispose(this)}c[m.__uid__]=!0}v.dispose&&v.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,n,i){i||(i=new ws),n=this._height-n;var c=this.viewport,v=i.array;return v[0]=(e-c.x)/c.width,v[0]=2*v[0]-1,v[1]=(n-c.y)/c.height,v[1]=2*v[1]-1,i}});rc.opaqueSortCompare=rc.prototype.opaqueSortCompare=function(e,n){return e.renderOrder===n.renderOrder?e.__program===n.__program?e.material===n.material?e.geometry.__uid__-n.geometry.__uid__:e.material.__uid__-n.material.__uid__:e.__program&&n.__program?e.__program.__uid__-n.__program.__uid__:0:e.renderOrder-n.renderOrder},rc.transparentSortCompare=rc.prototype.transparentSortCompare=function(e,n){return e.renderOrder===n.renderOrder?e.__depth===n.__depth?e.__program===n.__program?e.material===n.material?e.geometry.__uid__-n.geometry.__uid__:e.material.__uid__-n.material.__uid__:e.__program&&n.__program?e.__program.__uid__-n.__program.__uid__:0:e.__depth-n.__depth:e.renderOrder-n.renderOrder};var so={IDENTITY:ua(),WORLD:ua(),VIEW:ua(),PROJECTION:ua(),WORLDVIEW:ua(),VIEWPROJECTION:ua(),WORLDVIEWPROJECTION:ua(),WORLDINVERSE:ua(),VIEWINVERSE:ua(),PROJECTIONINVERSE:ua(),WORLDVIEWINVERSE:ua(),VIEWPROJECTIONINVERSE:ua(),WORLDVIEWPROJECTIONINVERSE:ua(),WORLDTRANSPOSE:ua(),VIEWTRANSPOSE:ua(),PROJECTIONTRANSPOSE:ua(),WORLDVIEWTRANSPOSE:ua(),VIEWPROJECTIONTRANSPOSE:ua(),WORLDVIEWPROJECTIONTRANSPOSE:ua(),WORLDINVERSETRANSPOSE:ua(),VIEWINVERSETRANSPOSE:ua(),PROJECTIONINVERSETRANSPOSE:ua(),WORLDVIEWINVERSETRANSPOSE:ua(),VIEWPROJECTIONINVERSETRANSPOSE:ua(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:ua()};rc.COLOR_BUFFER_BIT=fr_COLOR_BUFFER_BIT,rc.DEPTH_BUFFER_BIT=fr_DEPTH_BUFFER_BIT,rc.STENCIL_BUFFER_BIT=fr_STENCIL_BUFFER_BIT;const _2=rc;var xi=function(e,n,i){this.array=Tn.fromValues(e=e||0,n=n||0,i=i||0),this._dirty=!0};xi.prototype={constructor:xi,add:function(e){return Tn.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,i){return this.array[0]=e,this.array[1]=n,this.array[2]=i,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new xi(this.x,this.y,this.z)},copy:function(e){return Tn.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,n){return Tn.cross(this.array,e.array,n.array),this._dirty=!0,this},dist:function(e){return Tn.dist(this.array,e.array)},distance:function(e){return Tn.distance(this.array,e.array)},div:function(e){return Tn.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return Tn.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return Tn.dot(this.array,e.array)},len:function(){return Tn.len(this.array)},length:function(){return Tn.length(this.array)},lerp:function(e,n,i){return Tn.lerp(this.array,e.array,n.array,i),this._dirty=!0,this},min:function(e){return Tn.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return Tn.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return Tn.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return Tn.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return Tn.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Tn.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return Tn.random(this.array,e),this._dirty=!0,this},scale:function(e){return Tn.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return Tn.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return Tn.sqrDist(this.array,e.array)},squaredDistance:function(e){return Tn.squaredDistance(this.array,e.array)},sqrLen:function(){return Tn.sqrLen(this.array)},squaredLength:function(){return Tn.squaredLength(this.array)},sub:function(e){return Tn.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return Tn.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return Tn.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return Tn.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return Tn.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var n=this.array;if(0===(e=e.array)[15]){var i=-1/n[2];n[0]=e[0]*n[0]*i,n[1]=e[5]*n[1]*i,n[2]=(e[10]*n[2]+e[14])*i}else n[0]=e[0]*n[0]+e[12],n[1]=e[5]*n[1]+e[13],n[2]=e[10]*n[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,n){xi.eulerFromQuat(this,e,n)},eulerFromMat3:function(e,n){xi.eulerFromMat3(this,e,n)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var xu=Object.defineProperty;if(xu){var ch=xi.prototype;xu(ch,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),xu(ch,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),xu(ch,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function Vl(e,n,i){return e<n?n:e>i?i:e}xi.add=function(e,n,i){return Tn.add(e.array,n.array,i.array),e._dirty=!0,e},xi.set=function(e,n,i,c){Tn.set(e.array,n,i,c),e._dirty=!0},xi.copy=function(e,n){return Tn.copy(e.array,n.array),e._dirty=!0,e},xi.cross=function(e,n,i){return Tn.cross(e.array,n.array,i.array),e._dirty=!0,e},xi.dist=function(e,n){return Tn.distance(e.array,n.array)},xi.distance=xi.dist,xi.div=function(e,n,i){return Tn.divide(e.array,n.array,i.array),e._dirty=!0,e},xi.divide=xi.div,xi.dot=function(e,n){return Tn.dot(e.array,n.array)},xi.len=function(e){return Tn.length(e.array)},xi.lerp=function(e,n,i,c){return Tn.lerp(e.array,n.array,i.array,c),e._dirty=!0,e},xi.min=function(e,n,i){return Tn.min(e.array,n.array,i.array),e._dirty=!0,e},xi.max=function(e,n,i){return Tn.max(e.array,n.array,i.array),e._dirty=!0,e},xi.mul=function(e,n,i){return Tn.multiply(e.array,n.array,i.array),e._dirty=!0,e},xi.multiply=xi.mul,xi.negate=function(e,n){return Tn.negate(e.array,n.array),e._dirty=!0,e},xi.normalize=function(e,n){return Tn.normalize(e.array,n.array),e._dirty=!0,e},xi.random=function(e,n){return Tn.random(e.array,n),e._dirty=!0,e},xi.scale=function(e,n,i){return Tn.scale(e.array,n.array,i),e._dirty=!0,e},xi.scaleAndAdd=function(e,n,i,c){return Tn.scaleAndAdd(e.array,n.array,i.array,c),e._dirty=!0,e},xi.sqrDist=function(e,n){return Tn.sqrDist(e.array,n.array)},xi.squaredDistance=xi.sqrDist,xi.sqrLen=function(e){return Tn.sqrLen(e.array)},xi.squaredLength=xi.sqrLen,xi.sub=function(e,n,i){return Tn.subtract(e.array,n.array,i.array),e._dirty=!0,e},xi.subtract=xi.sub,xi.transformMat3=function(e,n,i){return Tn.transformMat3(e.array,n.array,i.array),e._dirty=!0,e},xi.transformMat4=function(e,n,i){return Tn.transformMat4(e.array,n.array,i.array),e._dirty=!0,e},xi.transformQuat=function(e,n,i){return Tn.transformQuat(e.array,n.array,i.array),e._dirty=!0,e};var Ta=Math.atan2,g1=Math.asin,R1=Math.abs;xi.eulerFromQuat=function(e,n,Ve){e._dirty=!0;var c=e.array,v=(n=n.array)[0],m=n[1],b=n[2],D=n[3],P=v*v,F=m*m,le=b*b,_e=D*D;switch(Ve=(Ve||"XYZ").toUpperCase()){case"XYZ":c[0]=Ta(2*(v*D-m*b),_e-P-F+le),c[1]=g1(Vl(2*(v*b+m*D),-1,1)),c[2]=Ta(2*(b*D-v*m),_e+P-F-le);break;case"YXZ":c[0]=g1(Vl(2*(v*D-m*b),-1,1)),c[1]=Ta(2*(v*b+m*D),_e-P-F+le),c[2]=Ta(2*(v*m+b*D),_e-P+F-le);break;case"ZXY":c[0]=g1(Vl(2*(v*D+m*b),-1,1)),c[1]=Ta(2*(m*D-b*v),_e-P-F+le),c[2]=Ta(2*(b*D-v*m),_e-P+F-le);break;case"ZYX":c[0]=Ta(2*(v*D+b*m),_e-P-F+le),c[1]=g1(Vl(2*(m*D-v*b),-1,1)),c[2]=Ta(2*(v*m+b*D),_e+P-F-le);break;case"YZX":c[0]=Ta(2*(v*D-b*m),_e-P+F-le),c[1]=Ta(2*(m*D-v*b),_e+P-F-le),c[2]=g1(Vl(2*(v*m+b*D),-1,1));break;case"XZY":c[0]=Ta(2*(v*D+m*b),_e-P+F-le),c[1]=Ta(2*(v*b+m*D),_e+P-F-le),c[2]=g1(Vl(2*(b*D-v*m),-1,1));break;default:console.warn("Unkown order: "+Ve)}return e},xi.eulerFromMat3=function(e,n,Ue){var c=n.array,v=c[0],m=c[3],b=c[6],D=c[1],P=c[4],F=c[7],le=c[2],_e=c[5],Ve=c[8],Oe=e.array;switch(Ue=(Ue||"XYZ").toUpperCase()){case"XYZ":Oe[1]=g1(Vl(b,-1,1)),R1(b)<.99999?(Oe[0]=Ta(-F,Ve),Oe[2]=Ta(-m,v)):(Oe[0]=Ta(_e,P),Oe[2]=0);break;case"YXZ":Oe[0]=g1(-Vl(F,-1,1)),R1(F)<.99999?(Oe[1]=Ta(b,Ve),Oe[2]=Ta(D,P)):(Oe[1]=Ta(-le,v),Oe[2]=0);break;case"ZXY":Oe[0]=g1(Vl(_e,-1,1)),R1(_e)<.99999?(Oe[1]=Ta(-le,Ve),Oe[2]=Ta(-m,P)):(Oe[1]=0,Oe[2]=Ta(D,v));break;case"ZYX":Oe[1]=g1(-Vl(le,-1,1)),R1(le)<.99999?(Oe[0]=Ta(_e,Ve),Oe[2]=Ta(D,v)):(Oe[0]=0,Oe[2]=Ta(-m,P));break;case"YZX":Oe[2]=g1(Vl(D,-1,1)),R1(D)<.99999?(Oe[0]=Ta(-F,P),Oe[1]=Ta(-le,v)):(Oe[0]=0,Oe[1]=Ta(b,Ve));break;case"XZY":Oe[2]=g1(-Vl(m,-1,1)),R1(m)<.99999?(Oe[0]=Ta(_e,P),Oe[1]=Ta(b,v)):(Oe[0]=Ta(-F,Ve),Oe[1]=0);break;default:console.warn("Unkown order: "+Ue)}return e._dirty=!0,e},Object.defineProperties(xi,{POSITIVE_X:{get:function(){return new xi(1,0,0)}},NEGATIVE_X:{get:function(){return new xi(-1,0,0)}},POSITIVE_Y:{get:function(){return new xi(0,1,0)}},NEGATIVE_Y:{get:function(){return new xi(0,-1,0)}},POSITIVE_Z:{get:function(){return new xi(0,0,1)}},NEGATIVE_Z:{get:function(){return new xi(0,0,-1)}},UP:{get:function(){return new xi(0,1,0)}},ZERO:{get:function(){return new xi}}});const Kr=xi;var c0=1e-5,uh=function(e,n){this.origin=e||new Kr,this.direction=n||new Kr};uh.prototype={constructor:uh,intersectPlane:function(e,n){var i=e.normal.array,c=e.distance,v=this.origin.array,m=this.direction.array,b=Tn.dot(i,m);if(0===b)return null;n||(n=new Kr);var D=(Tn.dot(i,v)-c)/b;return Tn.scaleAndAdd(n.array,v,m,-D),n._dirty=!0,n},mirrorAgainstPlane:function(e){var n=Tn.dot(e.normal.array,this.direction.array);Tn.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-n),this.direction._dirty=!0},distanceToPoint:function(){var e=Tn.create();return function(n){Tn.sub(e,n,this.origin.array);var i=Tn.dot(e,this.direction.array);if(i<0)return Tn.distance(this.origin.array,n);var c=Tn.lenSquared(e);return Math.sqrt(c-i*i)}}(),intersectSphere:function(){var e=Tn.create();return function(n,i,c){var v=this.origin.array,m=this.direction.array;Tn.sub(e,n=n.array,v);var b=Tn.dot(e,m),P=Tn.squaredLength(e)-b*b,F=i*i;if(!(P>F)){var le=Math.sqrt(F-P),_e=b-le,Ve=b+le;return c||(c=new Kr),_e<0?Ve<0?null:(Tn.scaleAndAdd(c.array,v,m,Ve),c):(Tn.scaleAndAdd(c.array,v,m,_e),c)}}}(),intersectBoundingBox:function(e,n){var F,le,_e,Ve,Oe,Ue,i=this.direction.array,c=this.origin.array,v=e.min.array,m=e.max.array,b=1/i[0],D=1/i[1],P=1/i[2];if(b>=0?(F=(v[0]-c[0])*b,le=(m[0]-c[0])*b):(le=(v[0]-c[0])*b,F=(m[0]-c[0])*b),D>=0?(_e=(v[1]-c[1])*D,Ve=(m[1]-c[1])*D):(Ve=(v[1]-c[1])*D,_e=(m[1]-c[1])*D),F>Ve||_e>le||((_e>F||F!=F)&&(F=_e),(Ve<le||le!=le)&&(le=Ve),P>=0?(Oe=(v[2]-c[2])*P,Ue=(m[2]-c[2])*P):(Ue=(v[2]-c[2])*P,Oe=(m[2]-c[2])*P),F>Ue||Oe>le)||((Oe>F||F!=F)&&(F=Oe),(Ue<le||le!=le)&&(le=Ue),le<0))return null;var je=F>=0?F:le;return n||(n=new Kr),Tn.scaleAndAdd(n.array,c,i,je),n},intersectTriangle:function(){var e=Tn.create(),n=Tn.create(),i=Tn.create(),c=Tn.create();return function(v,m,b,D,P,F){var le=this.direction.array,_e=this.origin.array;b=b.array,Tn.sub(e,m=m.array,v=v.array),Tn.sub(n,b,v),Tn.cross(c,n,le);var Ve=Tn.dot(e,c);if(D){if(Ve>-c0)return null}else if(Ve>-c0&&Ve<c0)return null;Tn.sub(i,_e,v);var Oe=Tn.dot(c,i)/Ve;if(Oe<0||Oe>1)return null;Tn.cross(c,e,i);var Ue=Tn.dot(le,c)/Ve;if(Ue<0||Ue>1||Oe+Ue>1)return null;Tn.cross(c,e,n);var je=-Tn.dot(i,c)/Ve;return je<0?null:(P||(P=new Kr),F&&Kr.set(F,1-Oe-Ue,Oe,Ue),Tn.scaleAndAdd(P.array,_e,le,je),P)}}(),applyTransform:function(e){Kr.add(this.direction,this.direction,this.origin),Kr.transformMat4(this.origin,this.origin,e),Kr.transformMat4(this.direction,this.direction,e),Kr.sub(this.direction,this.direction,this.origin),Kr.normalize(this.direction,this.direction)},copy:function(e){Kr.copy(this.origin,e.origin),Kr.copy(this.direction,e.direction)},clone:function(){var e=new uh;return e.copy(this),e}};const hh=uh;var Qi={create:function(){var e=new eo(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var n=new eo(4);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},fromValues:function(e,n,i,c){var v=new eo(4);return v[0]=e,v[1]=n,v[2]=i,v[3]=c,v},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},set:function(e,n,i,c,v){return e[0]=n,e[1]=i,e[2]=c,e[3]=v,e},add:function(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e[3]=n[3]+i[3],e},subtract:function(e,n,i){return e[0]=n[0]-i[0],e[1]=n[1]-i[1],e[2]=n[2]-i[2],e[3]=n[3]-i[3],e}};Qi.sub=Qi.subtract,Qi.multiply=function(e,n,i){return e[0]=n[0]*i[0],e[1]=n[1]*i[1],e[2]=n[2]*i[2],e[3]=n[3]*i[3],e},Qi.mul=Qi.multiply,Qi.divide=function(e,n,i){return e[0]=n[0]/i[0],e[1]=n[1]/i[1],e[2]=n[2]/i[2],e[3]=n[3]/i[3],e},Qi.div=Qi.divide,Qi.min=function(e,n,i){return e[0]=Math.min(n[0],i[0]),e[1]=Math.min(n[1],i[1]),e[2]=Math.min(n[2],i[2]),e[3]=Math.min(n[3],i[3]),e},Qi.max=function(e,n,i){return e[0]=Math.max(n[0],i[0]),e[1]=Math.max(n[1],i[1]),e[2]=Math.max(n[2],i[2]),e[3]=Math.max(n[3],i[3]),e},Qi.scale=function(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=n[3]*i,e},Qi.scaleAndAdd=function(e,n,i,c){return e[0]=n[0]+i[0]*c,e[1]=n[1]+i[1]*c,e[2]=n[2]+i[2]*c,e[3]=n[3]+i[3]*c,e},Qi.distance=function(e,n){var i=n[0]-e[0],c=n[1]-e[1],v=n[2]-e[2],m=n[3]-e[3];return Math.sqrt(i*i+c*c+v*v+m*m)},Qi.dist=Qi.distance,Qi.squaredDistance=function(e,n){var i=n[0]-e[0],c=n[1]-e[1],v=n[2]-e[2],m=n[3]-e[3];return i*i+c*c+v*v+m*m},Qi.sqrDist=Qi.squaredDistance,Qi.length=function(e){var n=e[0],i=e[1],c=e[2],v=e[3];return Math.sqrt(n*n+i*i+c*c+v*v)},Qi.len=Qi.length,Qi.squaredLength=function(e){var n=e[0],i=e[1],c=e[2],v=e[3];return n*n+i*i+c*c+v*v},Qi.sqrLen=Qi.squaredLength,Qi.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=-n[3],e},Qi.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],e[3]=1/n[3],e},Qi.normalize=function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=i*i+c*c+v*v+m*m;return b>0&&(b=1/Math.sqrt(b),e[0]=n[0]*b,e[1]=n[1]*b,e[2]=n[2]*b,e[3]=n[3]*b),e},Qi.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]},Qi.lerp=function(e,n,i,c){var v=n[0],m=n[1],b=n[2],D=n[3];return e[0]=v+c*(i[0]-v),e[1]=m+c*(i[1]-m),e[2]=b+c*(i[2]-b),e[3]=D+c*(i[3]-D),e},Qi.random=function(e,n){return n=n||1,e[0]=p1(),e[1]=p1(),e[2]=p1(),e[3]=p1(),Qi.normalize(e,e),Qi.scale(e,e,n),e},Qi.transformMat4=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3];return e[0]=i[0]*c+i[4]*v+i[8]*m+i[12]*b,e[1]=i[1]*c+i[5]*v+i[9]*m+i[13]*b,e[2]=i[2]*c+i[6]*v+i[10]*m+i[14]*b,e[3]=i[3]*c+i[7]*v+i[11]*m+i[15]*b,e},Qi.transformQuat=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=i[0],D=i[1],P=i[2],F=i[3],le=F*c+D*m-P*v,_e=F*v+P*c-b*m,Ve=F*m+b*v-D*c,Oe=-b*c-D*v-P*m;return e[0]=le*F+Oe*-b+_e*-P-Ve*-D,e[1]=_e*F+Oe*-D+Ve*-b-le*-P,e[2]=Ve*F+Oe*-P+le*-D-_e*-b,e},Qi.forEach=function(){var e=Qi.create();return function(n,i,c,v,m,b){var D,P;for(i||(i=4),c||(c=0),P=v?Math.min(v*i+c,n.length):n.length,D=c;D<P;D+=i)e[0]=n[D],e[1]=n[D+1],e[2]=n[D+2],e[3]=n[D+3],m(e,e,b),n[D]=e[0],n[D+1]=e[1],n[D+2]=e[2],n[D+3]=e[3];return n}}();const qr=Qi;var Co={create:function(){var e=new eo(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[4],e[4]=n[5],e[5]=n[6],e[6]=n[8],e[7]=n[9],e[8]=n[10],e},clone:function(e){var n=new eo(9);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,n){if(e===n){var i=n[1],c=n[2],v=n[5];e[1]=n[3],e[2]=n[6],e[3]=i,e[5]=n[7],e[6]=c,e[7]=v}else e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8];return e},invert:function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=n[4],D=n[5],P=n[6],F=n[7],le=n[8],_e=le*b-D*F,Ve=-le*m+D*P,Oe=F*m-b*P,Ue=i*_e+c*Ve+v*Oe;return Ue?(e[0]=_e*(Ue=1/Ue),e[1]=(-le*c+v*F)*Ue,e[2]=(D*c-v*b)*Ue,e[3]=Ve*Ue,e[4]=(le*i-v*P)*Ue,e[5]=(-D*i+v*m)*Ue,e[6]=Oe*Ue,e[7]=(-F*i+c*P)*Ue,e[8]=(b*i-c*m)*Ue,e):null},adjoint:function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=n[4],D=n[5],P=n[6],F=n[7],le=n[8];return e[0]=b*le-D*F,e[1]=v*F-c*le,e[2]=c*D-v*b,e[3]=D*P-m*le,e[4]=i*le-v*P,e[5]=v*m-i*D,e[6]=m*F-b*P,e[7]=c*P-i*F,e[8]=i*b-c*m,e},determinant:function(e){var v=e[3],m=e[4],b=e[5],D=e[6],P=e[7],F=e[8];return e[0]*(F*m-b*P)+e[1]*(-F*v+b*D)+e[2]*(P*v-m*D)},multiply:function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=n[6],le=n[7],_e=n[8],Ve=i[0],Oe=i[1],Ue=i[2],je=i[3],vt=i[4],wt=i[5],Ot=i[6],Rt=i[7],At=i[8];return e[0]=Ve*c+Oe*b+Ue*F,e[1]=Ve*v+Oe*D+Ue*le,e[2]=Ve*m+Oe*P+Ue*_e,e[3]=je*c+vt*b+wt*F,e[4]=je*v+vt*D+wt*le,e[5]=je*m+vt*P+wt*_e,e[6]=Ot*c+Rt*b+At*F,e[7]=Ot*v+Rt*D+At*le,e[8]=Ot*m+Rt*P+At*_e,e}};Co.mul=Co.multiply,Co.translate=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=n[6],le=n[7],_e=n[8],Ve=i[0],Oe=i[1];return e[0]=c,e[1]=v,e[2]=m,e[3]=b,e[4]=D,e[5]=P,e[6]=Ve*c+Oe*b+F,e[7]=Ve*v+Oe*D+le,e[8]=Ve*m+Oe*P+_e,e},Co.rotate=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=n[6],le=n[7],_e=n[8],Ve=Math.sin(i),Oe=Math.cos(i);return e[0]=Oe*c+Ve*b,e[1]=Oe*v+Ve*D,e[2]=Oe*m+Ve*P,e[3]=Oe*b-Ve*c,e[4]=Oe*D-Ve*v,e[5]=Oe*P-Ve*m,e[6]=F,e[7]=le,e[8]=_e,e},Co.scale=function(e,n,i){var c=i[0],v=i[1];return e[0]=c*n[0],e[1]=c*n[1],e[2]=c*n[2],e[3]=v*n[3],e[4]=v*n[4],e[5]=v*n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},Co.fromMat2d=function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=0,e[3]=n[2],e[4]=n[3],e[5]=0,e[6]=n[4],e[7]=n[5],e[8]=1,e},Co.fromQuat=function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=i+i,D=c+c,P=v+v,F=i*b,le=c*b,_e=c*D,Ve=v*b,Oe=v*D,Ue=v*P,je=m*b,vt=m*D,wt=m*P;return e[0]=1-_e-Ue,e[3]=le-wt,e[6]=Ve+vt,e[1]=le+wt,e[4]=1-F-Ue,e[7]=Oe-je,e[2]=Ve-vt,e[5]=Oe+je,e[8]=1-F-_e,e},Co.normalFromMat4=function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=n[4],D=n[5],P=n[6],F=n[7],le=n[8],_e=n[9],Ve=n[10],Oe=n[11],Ue=n[12],je=n[13],vt=n[14],wt=n[15],Ot=i*D-c*b,Rt=i*P-v*b,At=i*F-m*b,sn=c*P-v*D,nn=c*F-m*D,An=v*F-m*P,_n=le*je-_e*Ue,Jn=le*vt-Ve*Ue,yr=le*wt-Oe*Ue,cr=_e*vt-Ve*je,Er=_e*wt-Oe*je,zr=Ve*wt-Oe*vt,Mr=Ot*zr-Rt*Er+At*cr+sn*yr-nn*Jn+An*_n;return Mr?(e[0]=(D*zr-P*Er+F*cr)*(Mr=1/Mr),e[1]=(P*yr-b*zr-F*Jn)*Mr,e[2]=(b*Er-D*yr+F*_n)*Mr,e[3]=(v*Er-c*zr-m*cr)*Mr,e[4]=(i*zr-v*yr+m*Jn)*Mr,e[5]=(c*yr-i*Er-m*_n)*Mr,e[6]=(je*An-vt*nn+wt*sn)*Mr,e[7]=(vt*At-Ue*An-wt*Rt)*Mr,e[8]=(Ue*nn-je*At+wt*Ot)*Mr,e):null},Co.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};const ji=Co;var oa={create:function(){var e=new eo(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};oa.rotationTo=function(){var e=Tn.create(),n=Tn.fromValues(1,0,0),i=Tn.fromValues(0,1,0);return function(c,v,m){var b=Tn.dot(v,m);return b<-.999999?(Tn.cross(e,n,v),Tn.length(e)<1e-6&&Tn.cross(e,i,v),Tn.normalize(e,e),oa.setAxisAngle(c,e,Math.PI),c):b>.999999?(c[0]=0,c[1]=0,c[2]=0,c[3]=1,c):(Tn.cross(e,v,m),c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=1+b,oa.normalize(c,c))}}(),oa.setAxes=function(){var e=ji.create();return function(n,i,c,v){return e[0]=c[0],e[3]=c[1],e[6]=c[2],e[1]=v[0],e[4]=v[1],e[7]=v[2],e[2]=-i[0],e[5]=-i[1],e[8]=-i[2],oa.normalize(n,oa.fromMat3(n,e))}}(),oa.clone=qr.clone,oa.fromValues=qr.fromValues,oa.copy=qr.copy,oa.set=qr.set,oa.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},oa.setAxisAngle=function(e,n,i){i*=.5;var c=Math.sin(i);return e[0]=c*n[0],e[1]=c*n[1],e[2]=c*n[2],e[3]=Math.cos(i),e},oa.add=qr.add,oa.multiply=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=i[0],P=i[1],F=i[2],le=i[3];return e[0]=c*le+b*D+v*F-m*P,e[1]=v*le+b*P+m*D-c*F,e[2]=m*le+b*F+c*P-v*D,e[3]=b*le-c*D-v*P-m*F,e},oa.mul=oa.multiply,oa.scale=qr.scale,oa.rotateX=function(e,n,i){i*=.5;var c=n[0],v=n[1],m=n[2],b=n[3],D=Math.sin(i),P=Math.cos(i);return e[0]=c*P+b*D,e[1]=v*P+m*D,e[2]=m*P-v*D,e[3]=b*P-c*D,e},oa.rotateY=function(e,n,i){i*=.5;var c=n[0],v=n[1],m=n[2],b=n[3],D=Math.sin(i),P=Math.cos(i);return e[0]=c*P-m*D,e[1]=v*P+b*D,e[2]=m*P+c*D,e[3]=b*P-v*D,e},oa.rotateZ=function(e,n,i){i*=.5;var c=n[0],v=n[1],m=n[2],b=n[3],D=Math.sin(i),P=Math.cos(i);return e[0]=c*P+v*D,e[1]=v*P-c*D,e[2]=m*P+b*D,e[3]=b*P-m*D,e},oa.calculateW=function(e,n){var i=n[0],c=n[1],v=n[2];return e[0]=i,e[1]=c,e[2]=v,e[3]=Math.sqrt(Math.abs(1-i*i-c*c-v*v)),e},oa.dot=qr.dot,oa.lerp=qr.lerp,oa.slerp=function(e,n,i,c){var Ve,Oe,Ue,je,vt,v=n[0],m=n[1],b=n[2],D=n[3],P=i[0],F=i[1],le=i[2],_e=i[3];return(Oe=v*P+m*F+b*le+D*_e)<0&&(Oe=-Oe,P=-P,F=-F,le=-le,_e=-_e),1-Oe>1e-6?(Ve=Math.acos(Oe),Ue=Math.sin(Ve),je=Math.sin((1-c)*Ve)/Ue,vt=Math.sin(c*Ve)/Ue):(je=1-c,vt=c),e[0]=je*v+vt*P,e[1]=je*m+vt*F,e[2]=je*b+vt*le,e[3]=je*D+vt*_e,e},oa.invert=function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=i*i+c*c+v*v+m*m,D=b?1/b:0;return e[0]=-i*D,e[1]=-c*D,e[2]=-v*D,e[3]=m*D,e},oa.conjugate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],e},oa.length=qr.length,oa.len=oa.length,oa.squaredLength=qr.squaredLength,oa.sqrLen=oa.squaredLength,oa.normalize=qr.normalize,oa.fromMat3=function(e,n){var c,i=n[0]+n[4]+n[8];if(i>0)c=Math.sqrt(i+1),e[3]=.5*c,e[0]=(n[5]-n[7])*(c=.5/c),e[1]=(n[6]-n[2])*c,e[2]=(n[1]-n[3])*c;else{var v=0;n[4]>n[0]&&(v=1),n[8]>n[3*v+v]&&(v=2);var m=(v+1)%3,b=(v+2)%3;c=Math.sqrt(n[3*v+v]-n[3*m+m]-n[3*b+b]+1),e[v]=.5*c,e[3]=(n[3*m+b]-n[3*b+m])*(c=.5/c),e[m]=(n[3*m+v]+n[3*v+m])*c,e[b]=(n[3*b+v]+n[3*v+b])*c}return e};const wi=oa;var Qa=function(){this._axisX=new Kr,this._axisY=new Kr,this._axisZ=new Kr,this.array=Wr.create(),this._dirty=!0};Qa.prototype={constructor:Qa,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},adjoint:function(){return Wr.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Qa).copy(this)},copy:function(e){return Wr.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Wr.determinant(this.array)},fromQuat:function(e){return Wr.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,n){return Wr.fromRotationTranslation(this.array,e.array,n.array),this._dirty=!0,this},fromMat2d:function(e){return Qa.fromMat2d(this,e),this},frustum:function(e,n,i,c,v,m){return Wr.frustum(this.array,e,n,i,c,v,m),this._dirty=!0,this},identity:function(){return Wr.identity(this.array),this._dirty=!0,this},invert:function(){return Wr.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,n,i){return Wr.lookAt(this.array,e.array,n.array,i.array),this._dirty=!0,this},mul:function(e){return Wr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Wr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Wr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Wr.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,n,i,c,v,m){return Wr.ortho(this.array,e,n,i,c,v,m),this._dirty=!0,this},perspective:function(e,n,i,c){return Wr.perspective(this.array,e,n,i,c),this._dirty=!0,this},rotate:function(e,n){return Wr.rotate(this.array,this.array,e,n.array),this._dirty=!0,this},rotateX:function(e){return Wr.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Wr.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Wr.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Wr.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Wr.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return Wr.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=Tn.create(),n=Tn.create(),i=Tn.create(),c=ji.create();return function(v,m,b){var D=this.array;Tn.set(e,D[0],D[1],D[2]),Tn.set(n,D[4],D[5],D[6]),Tn.set(i,D[8],D[9],D[10]);var P=Tn.length(e),F=Tn.length(n),le=Tn.length(i);this.determinant()<0&&(P=-P),v&&v.set(P,F,le),b.set(D[12],D[13],D[14]),ji.fromMat4(c,D),c[0]/=P,c[1]/=P,c[2]/=P,c[3]/=F,c[4]/=F,c[5]/=F,c[6]/=le,c[7]/=le,c[8]/=le,wi.fromMat3(m.array,c),wi.normalize(m.array,m.array),m._dirty=!0,b._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var ic=Object.defineProperty;if(ic){var u0=Qa.prototype;ic(u0,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var n=this.array;n[8]=(e=e.array)[0],n[9]=e[1],n[10]=e[2],this._dirty=!0}}),ic(u0,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var n=this.array;n[4]=(e=e.array)[0],n[5]=e[1],n[6]=e[2],this._dirty=!0}}),ic(u0,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var n=this.array;n[0]=(e=e.array)[0],n[1]=e[1],n[2]=e[2],this._dirty=!0}})}Qa.adjoint=function(e,n){return Wr.adjoint(e.array,n.array),e._dirty=!0,e},Qa.copy=function(e,n){return Wr.copy(e.array,n.array),e._dirty=!0,e},Qa.determinant=function(e){return Wr.determinant(e.array)},Qa.identity=function(e){return Wr.identity(e.array),e._dirty=!0,e},Qa.ortho=function(e,n,i,c,v,m,b){return Wr.ortho(e.array,n,i,c,v,m,b),e._dirty=!0,e},Qa.perspective=function(e,n,i,c,v){return Wr.perspective(e.array,n,i,c,v),e._dirty=!0,e},Qa.lookAt=function(e,n,i,c){return Wr.lookAt(e.array,n.array,i.array,c.array),e._dirty=!0,e},Qa.invert=function(e,n){return Wr.invert(e.array,n.array),e._dirty=!0,e},Qa.mul=function(e,n,i){return Wr.mul(e.array,n.array,i.array),e._dirty=!0,e},Qa.multiply=Qa.mul,Qa.fromQuat=function(e,n){return Wr.fromQuat(e.array,n.array),e._dirty=!0,e},Qa.fromRotationTranslation=function(e,n,i){return Wr.fromRotationTranslation(e.array,n.array,i.array),e._dirty=!0,e},Qa.fromMat2d=function(c,i){return c._dirty=!0,(c=c.array)[0]=(i=i.array)[0],c[4]=i[2],c[12]=i[4],c[1]=i[1],c[5]=i[3],c[13]=i[5],c},Qa.rotate=function(e,n,i,c){return Wr.rotate(e.array,n.array,i,c.array),e._dirty=!0,e},Qa.rotateX=function(e,n,i){return Wr.rotateX(e.array,n.array,i),e._dirty=!0,e},Qa.rotateY=function(e,n,i){return Wr.rotateY(e.array,n.array,i),e._dirty=!0,e},Qa.rotateZ=function(e,n,i){return Wr.rotateZ(e.array,n.array,i),e._dirty=!0,e},Qa.scale=function(e,n,i){return Wr.scale(e.array,n.array,i.array),e._dirty=!0,e},Qa.transpose=function(e,n){return Wr.transpose(e.array,n.array),e._dirty=!0,e},Qa.translate=function(e,n,i){return Wr.translate(e.array,n.array,i.array),e._dirty=!0,e};const ui=Qa;var _a=function(e,n,i,c){this.array=wi.fromValues(e=e||0,n=n||0,i=i||0,c=void 0===c?1:c),this._dirty=!0};_a.prototype={constructor:_a,add:function(e){return wi.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return wi.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,n,i,c){return this.array[0]=e,this.array[1]=n,this.array[2]=i,this.array[3]=c,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new _a(this.x,this.y,this.z,this.w)},conjugate:function(){return wi.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return wi.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return wi.dot(this.array,e.array)},fromMat3:function(e){return wi.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=ji.create();return function(n){return ji.fromMat4(e,n.array),ji.transpose(e,e),wi.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return wi.identity(this.array),this._dirty=!0,this},invert:function(){return wi.invert(this.array,this.array),this._dirty=!0,this},len:function(){return wi.len(this.array)},length:function(){return wi.length(this.array)},lerp:function(e,n,i){return wi.lerp(this.array,e.array,n.array,i),this._dirty=!0,this},mul:function(e){return wi.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return wi.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return wi.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return wi.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return wi.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return wi.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return wi.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return wi.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,n){return wi.rotationTo(this.array,e.array,n.array),this._dirty=!0,this},setAxes:function(e,n,i){return wi.setAxes(this.array,e.array,n.array,i.array),this._dirty=!0,this},setAxisAngle:function(e,n){return wi.setAxisAngle(this.array,e.array,n),this._dirty=!0,this},slerp:function(e,n,i){return wi.slerp(this.array,e.array,n.array,i),this._dirty=!0,this},sqrLen:function(){return wi.sqrLen(this.array)},squaredLength:function(){return wi.squaredLength(this.array)},fromEuler:function(e,n){return _a.fromEuler(this,e,n)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var m1=Object.defineProperty;if(m1){var Yl=_a.prototype;m1(Yl,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),m1(Yl,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),m1(Yl,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),m1(Yl,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}_a.add=function(e,n,i){return wi.add(e.array,n.array,i.array),e._dirty=!0,e},_a.set=function(e,n,i,c,v){wi.set(e.array,n,i,c,v),e._dirty=!0},_a.copy=function(e,n){return wi.copy(e.array,n.array),e._dirty=!0,e},_a.calculateW=function(e,n){return wi.calculateW(e.array,n.array),e._dirty=!0,e},_a.conjugate=function(e,n){return wi.conjugate(e.array,n.array),e._dirty=!0,e},_a.identity=function(e){return wi.identity(e.array),e._dirty=!0,e},_a.invert=function(e,n){return wi.invert(e.array,n.array),e._dirty=!0,e},_a.dot=function(e,n){return wi.dot(e.array,n.array)},_a.len=function(e){return wi.length(e.array)},_a.lerp=function(e,n,i,c){return wi.lerp(e.array,n.array,i.array,c),e._dirty=!0,e},_a.slerp=function(e,n,i,c){return wi.slerp(e.array,n.array,i.array,c),e._dirty=!0,e},_a.mul=function(e,n,i){return wi.multiply(e.array,n.array,i.array),e._dirty=!0,e},_a.multiply=_a.mul,_a.rotateX=function(e,n,i){return wi.rotateX(e.array,n.array,i),e._dirty=!0,e},_a.rotateY=function(e,n,i){return wi.rotateY(e.array,n.array,i),e._dirty=!0,e},_a.rotateZ=function(e,n,i){return wi.rotateZ(e.array,n.array,i),e._dirty=!0,e},_a.setAxisAngle=function(e,n,i){return wi.setAxisAngle(e.array,n.array,i),e._dirty=!0,e},_a.normalize=function(e,n){return wi.normalize(e.array,n.array),e._dirty=!0,e},_a.sqrLen=function(e){return wi.sqrLen(e.array)},_a.squaredLength=_a.sqrLen,_a.fromMat3=function(e,n){return wi.fromMat3(e.array,n.array),e._dirty=!0,e},_a.setAxes=function(e,n,i,c){return wi.setAxes(e.array,n.array,i.array,c.array),e._dirty=!0,e},_a.rotationTo=function(e,n,i){return wi.rotationTo(e.array,n.array,i.array),e._dirty=!0,e},_a.fromEuler=function(e,n,le){e._dirty=!0,n=n.array;var c=e.array,v=Math.cos(n[0]/2),m=Math.cos(n[1]/2),b=Math.cos(n[2]/2),D=Math.sin(n[0]/2),P=Math.sin(n[1]/2),F=Math.sin(n[2]/2);switch(le=(le||"XYZ").toUpperCase()){case"XYZ":c[0]=D*m*b+v*P*F,c[1]=v*P*b-D*m*F,c[2]=v*m*F+D*P*b,c[3]=v*m*b-D*P*F;break;case"YXZ":c[0]=D*m*b+v*P*F,c[1]=v*P*b-D*m*F,c[2]=v*m*F-D*P*b,c[3]=v*m*b+D*P*F;break;case"ZXY":c[0]=D*m*b-v*P*F,c[1]=v*P*b+D*m*F,c[2]=v*m*F+D*P*b,c[3]=v*m*b-D*P*F;break;case"ZYX":c[0]=D*m*b-v*P*F,c[1]=v*P*b+D*m*F,c[2]=v*m*F-D*P*b,c[3]=v*m*b+D*P*F;break;case"YZX":c[0]=D*m*b+v*P*F,c[1]=v*P*b+D*m*F,c[2]=v*m*F-D*P*b,c[3]=v*m*b-D*P*F;break;case"XZY":c[0]=D*m*b-v*P*F,c[1]=v*P*b-D*m*F,c[2]=v*m*F+D*P*b,c[3]=v*m*b+D*P*F}};const _4=_a;var ac=Tn.set,_3=Tn.copy,bu=function(e,n){this.min=e||new Kr(1/0,1/0,1/0),this.max=n||new Kr(-1/0,-1/0,-1/0),this.vertices=null};bu.prototype={constructor:bu,updateFromVertices:function(e){if(e.length>0){var n=this.min,i=this.max,c=n.array,v=i.array;_3(c,e[0]),_3(v,e[0]);for(var m=1;m<e.length;m++){var b=e[m];b[0]<c[0]&&(c[0]=b[0]),b[1]<c[1]&&(c[1]=b[1]),b[2]<c[2]&&(c[2]=b[2]),b[0]>v[0]&&(v[0]=b[0]),b[1]>v[1]&&(v[1]=b[1]),b[2]>v[2]&&(v[2]=b[2])}n._dirty=!0,i._dirty=!0}},union:function(e){var n=this.min,i=this.max;return Tn.min(n.array,n.array,e.min.array),Tn.max(i.array,i.array,e.max.array),n._dirty=!0,i._dirty=!0,this},intersection:function(e){var n=this.min,i=this.max;return Tn.max(n.array,n.array,e.min.array),Tn.min(i.array,i.array,e.max.array),n._dirty=!0,i._dirty=!0,this},intersectBoundingBox:function(e){var n=this.min.array,i=this.max.array,c=e.min.array,v=e.max.array;return!(n[0]>v[0]||n[1]>v[1]||n[2]>v[2]||i[0]<c[0]||i[1]<c[1]||i[2]<c[2])},containBoundingBox:function(e){var n=this.min.array,i=this.max.array,c=e.min.array,v=e.max.array;return n[0]<=c[0]&&n[1]<=c[1]&&n[2]<=c[2]&&i[0]>=v[0]&&i[1]>=v[1]&&i[2]>=v[2]},containPoint:function(e){var n=this.min.array,i=this.max.array,c=e.array;return n[0]<=c[0]&&n[1]<=c[1]&&n[2]<=c[2]&&i[0]>=c[0]&&i[1]>=c[1]&&i[2]>=c[2]},isFinite:function(){var e=this.min.array,n=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(n[0])&&isFinite(n[1])&&isFinite(n[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=Tn.create(),n=Tn.create(),i=Tn.create(),c=Tn.create(),v=Tn.create(),m=Tn.create();return function(b,D){var P=b.min.array,F=b.max.array,le=D.array;return e[0]=le[0]*P[0],e[1]=le[1]*P[0],e[2]=le[2]*P[0],n[0]=le[0]*F[0],n[1]=le[1]*F[0],n[2]=le[2]*F[0],i[0]=le[4]*P[1],i[1]=le[5]*P[1],i[2]=le[6]*P[1],c[0]=le[4]*F[1],c[1]=le[5]*F[1],c[2]=le[6]*F[1],v[0]=le[8]*P[2],v[1]=le[9]*P[2],v[2]=le[10]*P[2],m[0]=le[8]*F[2],m[1]=le[9]*F[2],m[2]=le[10]*F[2],F=this.max.array,(P=this.min.array)[0]=Math.min(e[0],n[0])+Math.min(i[0],c[0])+Math.min(v[0],m[0])+le[12],P[1]=Math.min(e[1],n[1])+Math.min(i[1],c[1])+Math.min(v[1],m[1])+le[13],P[2]=Math.min(e[2],n[2])+Math.min(i[2],c[2])+Math.min(v[2],m[2])+le[14],F[0]=Math.max(e[0],n[0])+Math.max(i[0],c[0])+Math.max(v[0],m[0])+le[12],F[1]=Math.max(e[1],n[1])+Math.max(i[1],c[1])+Math.max(v[1],m[1])+le[13],F[2]=Math.max(e[2],n[2])+Math.max(i[2],c[2])+Math.max(v[2],m[2])+le[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var n=this.min.array,i=this.max.array,c=e.array,v=n[0],m=n[1],b=n[2],D=i[0],P=i[1],F=n[2],le=i[0],_e=i[1],Ve=i[2];if(1===c[15])n[0]=c[0]*v+c[12],n[1]=c[5]*m+c[13],i[2]=c[10]*b+c[14],i[0]=c[0]*le+c[12],i[1]=c[5]*_e+c[13],n[2]=c[10]*Ve+c[14];else{var Oe=-1/b;n[0]=c[0]*v*Oe,n[1]=c[5]*m*Oe,i[2]=(c[10]*b+c[14])*Oe,i[0]=c[0]*D*(Oe=-1/F),i[1]=c[5]*P*Oe,n[2]=(c[10]*Ve+c[14])*(Oe=-1/Ve)}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var n=0;n<8;n++)e[n]=Tn.fromValues(0,0,0);this.vertices=e}var i=this.min.array,c=this.max.array;return ac(e[0],i[0],i[1],i[2]),ac(e[1],i[0],c[1],i[2]),ac(e[2],c[0],i[1],i[2]),ac(e[3],c[0],c[1],i[2]),ac(e[4],i[0],i[1],c[2]),ac(e[5],i[0],c[1],c[2]),ac(e[6],c[0],i[1],c[2]),ac(e[7],c[0],c[1],c[2]),this},copy:function(e){var n=this.min,i=this.max;return _3(n.array,e.min.array),_3(i.array,e.max.array),n._dirty=!0,i._dirty=!0,this},clone:function(){var e=new bu;return e.copy(this),e}};const ls=bu;var cs=0,iv=as.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+cs++),this.position||(this.position=new Kr),this.rotation||(this.rotation=new _4),this.scale||(this.scale=new Kr(1,1,1)),this.worldTransform=new ui,this.localTransform=new ui,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var n=this._scene;if(n){var i=n._nodeRepository;delete i[this.name],i[e]=this}this.name=e},add:function(e){var n=e._parent;if(n!==this){n&&n.remove(e),e._parent=this,this._children.push(e);var i=this._scene;i&&i!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var n=this._children,i=n.indexOf(e);i<0||(n.splice(i,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,n=0;n<e.length;n++)e[n]._parent=null,this._scene&&e[n].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var n=e._parent;n;){if(n===this)return!0;n=n._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===e)return n[i]},getDescendantByName:function(e){for(var n=this._children,i=0;i<n.length;i++){var c=n[i];if(c.name===e)return c;var v=c.getDescendantByName(e);if(v)return v}},queryNode:function(e){if(e){for(var n=e.split("/"),i=this,c=0;c<n.length;c++){var v=n[c];if(v){for(var m=!1,b=i._children,D=0;D<b.length;D++){var P=b[D];if(P.name===v){i=P,m=!0;break}}if(!m)return}}return i}},getPath:function(e){if(!this._parent)return"/";for(var n=this._parent,i=this.name;n._parent&&(i=n.name+"/"+i,n._parent!=e);)n=n._parent;return!n._parent&&e?null:i},traverse:function(e,n){e.call(n,this);for(var i=this._children,c=0,v=i.length;c<v;c++)i[c].traverse(e,n)},eachChild:function(e,n){for(var i=this._children,c=0,v=i.length;c<v;c++)e.call(n,i[c],c)},setLocalTransform:function(e){Wr.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){this.localTransform.decomposeMatrix(e?null:this.scale,this.rotation,this.position)},setWorldTransform:function(e){Wr.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=Wr.create();return function(n){var i=this.localTransform,c=this.worldTransform;this._parent?(Wr.invert(e,this._parent.worldTransform.array),Wr.multiply(i.array,e,c.array)):Wr.copy(i.array,c.array),i.decomposeMatrix(n?null:this.scale,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,n=this.rotation,i=this.scale;if(this.transformNeedsUpdate()){var c=this.localTransform.array;Wr.fromRotationTranslation(c,n.array,e.array),Wr.scale(c,c,i.array),n._dirty=!1,i._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,n=this.worldTransform.array;this._parent?Wr.multiplyAffine(n,this._parent.worldTransform.array,e):Wr.copy(n,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var n=this._children,i=0,c=n.length;i<c;i++)n[i].update(e)},getBoundingBox:function(){function e(v){return!v.invisible&&v.geometry}var n=new ls,i=new ui,c=new ui;return function(v,m){return m=m||new ls,v=v||e,this._parent?ui.invert(c,this._parent.worldTransform):ui.identity(c),this.traverse(function(b){b.geometry&&b.geometry.boundingBox&&(n.copy(b.geometry.boundingBox),ui.multiply(i,c,b.worldTransform),n.applyTransform(i),m.union(n))},this,e),m}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var n=this.worldTransform.array;if(e){var i=e.array;return i[0]=n[12],i[1]=n[13],i[2]=n[14],e}return new Kr(n[12],n[13],n[14])},clone:function(){var e=new this.constructor,n=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var i=0;i<n.length;i++)e.add(n[i].clone());return e},rotateAround:function(){var e=new Kr,n=new ui;return function(i,c,v){e.copy(this.position).subtract(i);var m=this.localTransform;m.identity(),m.translate(i),m.rotate(v,c),n.fromRotationTranslation(this.rotation,e),m.multiply(n),m.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new ui;return function(n,i){e.lookAt(this.position,n,i||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=n}}()});const V1=iv;var Gl=V1.extend({material:null,geometry:null,mode:fr_TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:fr_BACK,frontFace:fr_CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,n){},getBoundingBox:function(e,n){return n=V1.prototype.getBoundingBox.call(this,e,n),this.geometry&&this.geometry.boundingBox&&n.union(this.geometry.boundingBox),n},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var n=V1.prototype.clone.call(this);n.geometry=this.geometry,n.material=this.material;for(var i=0;i<e.length;i++){var c=e[i];n[c]!==this[c]&&(n[c]=this[c])}return n}}()});Gl.POINTS=fr_POINTS,Gl.LINES=fr_LINES,Gl.LINE_LOOP=fr_LINE_LOOP,Gl.LINE_STRIP=fr_LINE_STRIP,Gl.TRIANGLES=fr_TRIANGLES,Gl.TRIANGLE_STRIP=fr_TRIANGLE_STRIP,Gl.TRIANGLE_FAN=fr_TRIANGLE_FAN,Gl.BACK=fr_BACK,Gl.FRONT=fr_FRONT,Gl.FRONT_AND_BACK=fr_FRONT_AND_BACK,Gl.CW=fr_CW,Gl.CCW=fr_CCW;const M3=Gl;var dh=as.extend({scene:null,camera:null,renderer:null},function(){this._ray=new hh,this._ndc=new ws},{pick:function(e,n,i){return this.pickAll(e,n,[],i)[0]||null},pickAll:function(e,n,i,c){return this.renderer.screenToNDC(e,n,this._ndc),this.camera.castRay(this._ndc,this._ray),this._intersectNode(this.scene,i=i||[],c||!1),i.sort(this._intersectionCompareFunc),i},_intersectNode:function(e,n,i){e instanceof M3&&e.isRenderable()&&(!e.ignorePicking||i)&&(e.mode===fr_TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,n);for(var c=0;c<e._children.length;c++)this._intersectNode(e._children[c],n,i)},_intersectRenderable:function(){var e=new Kr,n=new Kr,i=new Kr,c=new hh,v=new ui;return function(m,b){var D=m.isSkinnedMesh();c.copy(this._ray),ui.invert(v,m.worldTransform),D||c.applyTransform(v);var P=m.geometry,F=D?m.skeleton.boundingBox:P.boundingBox;if(!F||c.intersectBoundingBox(F)){if(P.pick)return void P.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,m,b);if(P.pickByRay)return void P.pickByRay(c,m,b);var _e,vt,le=m.cullFace===fr_BACK&&m.frontFace===fr_CCW||m.cullFace===fr_FRONT&&m.frontFace===fr_CW,Ve=P.indices,Oe=P.attributes.position,Ue=P.attributes.weight,je=P.attributes.joint,wt=[];if(Oe&&Oe.value&&Ve){if(D){vt=m.skeleton.getSubSkinMatrices(m.__uid__,m.joints);for(var Ot=0;Ot<m.joints.length;Ot++){wt[Ot]=wt[Ot]||[];for(var Rt=0;Rt<16;Rt++)wt[Ot][Rt]=vt[16*Ot+Rt]}var At=[],sn=[],nn=[],An=[],_n=[],Jn=P.attributes.skinnedPosition;for((!Jn||!Jn.value)&&(P.createAttribute("skinnedPosition","f",3),(Jn=P.attributes.skinnedPosition).init(P.vertexCount)),Ot=0;Ot<P.vertexCount;Ot++){for(Oe.get(Ot,At),Ue.get(Ot,sn),je.get(Ot,nn),sn[3]=1-sn[0]-sn[1]-sn[2],Tn.set(An,0,0,0),Rt=0;Rt<4;Rt++)nn[Rt]>=0&&sn[Rt]>1e-4&&(Tn.transformMat4(_n,At,wt[nn[Rt]]),Tn.scaleAndAdd(An,An,_n,sn[Rt]));Jn.set(Ot,An)}}for(Ot=0;Ot<Ve.length;Ot+=3){var yr=Ve[Ot],cr=Ve[Ot+1],Er=Ve[Ot+2],zr=D?P.attributes.skinnedPosition:Oe;if(zr.get(yr,e.array),zr.get(cr,n.array),zr.get(Er,i.array),_e=le?c.intersectTriangle(e,n,i,m.culling):c.intersectTriangle(e,i,n,m.culling)){var Mr=new Kr;D?Kr.copy(Mr,_e):Kr.transformMat4(Mr,_e,m.worldTransform),b.push(new dh.Intersection(_e,Mr,m,[yr,cr,Er],Ot/3,Kr.dist(Mr,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,n){return e.distance-n.distance}});dh.Intersection=function(e,n,i,c,v,m){this.point=e,this.pointWorld=n,this.target=i,this.triangle=c,this.triangleIndex=v,this.distance=m};const W6=dh;var Ss="__dt__",M4=function(){this._contextId=0,this._caches=[],this._context={}};M4.prototype={use:function(e,n){var i=this._caches;i[e]||(i[e]={},n&&(i[e]=n())),this._contextId=e,this._context=i[e]},put:function(e,n){this._context[e]=n},get:function(e){return this._context[e]},dirty:function(e){this.put(Ss+(e=e||""),!0)},dirtyAll:function(e){for(var n=Ss+(e=e||""),i=this._caches,c=0;c<i.length;c++)i[c]&&(i[c][n]=!0)},fresh:function(e){this.put(Ss+(e=e||""),!1)},freshAll:function(e){for(var n=Ss+(e=e||""),i=this._caches,c=0;c<i.length;c++)i[c]&&(i[c][n]=!1)},isDirty:function(e){var n=Ss+(e=e||""),i=this._context;return!i.hasOwnProperty(n)||!0===i[n]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,n){Object.keys(this._caches).forEach(function(c){e&&e.call(n,c)})},miss:function(e){return!this._context.hasOwnProperty(e)}},M4.prototype.constructor=M4;const wu=M4;var ea=as.extend({width:512,height:512,type:fr_UNSIGNED_BYTE,format:fr_RGBA,wrapS:fr_REPEAT,wrapT:fr_REPEAT,minFilter:fr_LINEAR_MIPMAP_LINEAR,magFilter:fr_LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new wu},{getWebGLTexture:function(e){var n=e.gl,i=this._cache;return i.use(e.__uid__),i.miss("webgl_texture")&&i.put("webgl_texture",n.createTexture()),this.dynamic?this.update(e):i.isDirty()&&(this.update(e),i.fresh()),i.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var n=e.gl;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===fr_DEPTH_COMPONENT&&(this.useMipmap=!1);var i=e.getGLExtension("EXT_sRGB");this.format===ea.SRGB&&!i&&(this.format=ea.RGB),this.format===ea.SRGB_ALPHA&&!i&&(this.format=ea.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?fr_CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?fr_CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===fr_NEAREST_MIPMAP_NEAREST||e===fr_NEAREST_MIPMAP_LINEAR?fr_NEAREST:e===fr_LINEAR_MIPMAP_LINEAR||e===fr_LINEAR_MIPMAP_NEAREST?fr_LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var n=1;n<32;n<<=1)e|=e>>n;return e+1},dispose:function(e){var n=this._cache;n.use(e.__uid__);var i=n.get("webgl_texture");i&&e.gl.deleteTexture(i),n.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(ea.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(ea.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),ea.BYTE=fr_BYTE,ea.UNSIGNED_BYTE=fr_UNSIGNED_BYTE,ea.SHORT=fr_SHORT,ea.UNSIGNED_SHORT=fr_UNSIGNED_SHORT,ea.INT=fr_INT,ea.UNSIGNED_INT=fr_UNSIGNED_INT,ea.FLOAT=fr_FLOAT,ea.HALF_FLOAT=36193,ea.UNSIGNED_INT_24_8_WEBGL=34042,ea.DEPTH_COMPONENT=fr_DEPTH_COMPONENT,ea.DEPTH_STENCIL=fr_DEPTH_STENCIL,ea.ALPHA=fr_ALPHA,ea.RGB=fr_RGB,ea.RGBA=fr_RGBA,ea.LUMINANCE=fr_LUMINANCE,ea.LUMINANCE_ALPHA=fr_LUMINANCE_ALPHA,ea.SRGB=35904,ea.SRGB_ALPHA=35906,ea.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,ea.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,ea.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,ea.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,ea.NEAREST=fr_NEAREST,ea.LINEAR=fr_LINEAR,ea.NEAREST_MIPMAP_NEAREST=fr_NEAREST_MIPMAP_NEAREST,ea.LINEAR_MIPMAP_NEAREST=fr_LINEAR_MIPMAP_NEAREST,ea.NEAREST_MIPMAP_LINEAR=fr_NEAREST_MIPMAP_LINEAR,ea.LINEAR_MIPMAP_LINEAR=fr_LINEAR_MIPMAP_LINEAR,ea.REPEAT=fr_REPEAT,ea.CLAMP_TO_EDGE=fr_CLAMP_TO_EDGE,ea.MIRRORED_REPEAT=fr_MIRRORED_REPEAT;const ri=ea;var Go=M3.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=M3.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});Go.POINTS=fr_POINTS,Go.LINES=fr_LINES,Go.LINE_LOOP=fr_LINE_LOOP,Go.LINE_STRIP=fr_LINE_STRIP,Go.TRIANGLES=fr_TRIANGLES,Go.TRIANGLE_STRIP=fr_TRIANGLE_STRIP,Go.TRIANGLE_FAN=fr_TRIANGLE_FAN,Go.BACK=fr_BACK,Go.FRONT=fr_FRONT,Go.FRONT_AND_BACK=fr_FRONT_AND_BACK,Go.CW=fr_CW,Go.CCW=fr_CCW;const H1=Go;var h0={isPowerOfTwo:function(e){return 0==(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}};const Su=h0;var Cu=Su.isPowerOfTwo;function Z6(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}var fh=ri.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var n=e.gl;n.bindTexture(n.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var i=this.format,c=this.type,v=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==ri.REPEAT&&this.wrapT!==ri.REPEAT||!this.NPOT);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,v?this.wrapS:this.getAvailableWrapS()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,v?this.wrapT:this.getAvailableWrapT()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,v?this.magFilter:this.getAvailableMagFilter()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,v?this.minFilter:this.getAvailableMinFilter());var m=e.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&n.texParameterf(n.TEXTURE_2D,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===c&&(e.getGLExtension("OES_texture_half_float")||(c=fr_FLOAT)),this.mipmaps.length)for(var D=this.width,P=this.height,F=0;F<this.mipmaps.length;F++)this._updateTextureData(n,this.mipmaps[F],F,D,P,i,c,!1),D/=2,P/=2;else this._updateTextureData(n,this,0,this.width,this.height,i,c,v),this.useMipmap&&(!this.NPOT||v)&&n.generateMipmap(n.TEXTURE_2D);n.bindTexture(n.TEXTURE_2D,null)},_updateTextureData:function(e,n,i,c,v,m,b,D){if(n.image){var P=n.image;D&&(this._potCanvas=function K6(e,n){var i=Z6(e.width),c=Z6(e.height);return(n=n||document.createElement("canvas")).width=i,n.height=c,n.getContext("2d").drawImage(e.image,0,0,i,c),n}(this,this._potCanvas),P=this._potCanvas),e.texImage2D(e.TEXTURE_2D,i,m,m,b,P)}else m<=ri.COMPRESSED_RGBA_S3TC_DXT5_EXT&&m>=ri.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,i,m,c,v,0,n.pixels):e.texImage2D(e.TEXTURE_2D,i,m,c,v,0,m,b,n.pixels)},generateMipmap:function(e){var n=e.gl;this.useMipmap&&!this.NPOT&&(n.bindTexture(n.TEXTURE_2D,this._cache.get("webgl_texture")),n.generateMipmap(n.TEXTURE_2D))},isPowerOfTwo:function(){return Cu(this.width)&&Cu(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,n){var i=Xo.createImage();n&&(i.crossOrigin=n);var c=this;return i.onload=function(){c.dirty(),c.trigger("success",c)},i.onerror=function(){c.trigger("error",c)},i.src=e,this.image=i,this}});Object.defineProperty(fh.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(fh.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const Wi=fh;function vh(e){return{byte:Xo.Int8Array,ubyte:Xo.Uint8Array,short:Xo.Int16Array,ushort:Xo.Uint16Array}[e]||Xo.Float32Array}function ph(e){return"attr_"+e}function x4(e,n,i,c){switch(this.name=e,this.type=n,this.size=i,this.semantic=c||"",this.value=null,i){case 1:this.get=function(v){return this.value[v]},this.set=function(v,m){this.value[v]=m},this.copy=function(v,m){this.value[v]=this.value[v]};break;case 2:this.get=function(v,m){var b=this.value;return m[0]=b[2*v],m[1]=b[2*v+1],m},this.set=function(v,m){var b=this.value;b[2*v]=m[0],b[2*v+1]=m[1]},this.copy=function(v,m){var b=this.value;b[v*=2]=b[m*=2],b[v+1]=b[m+1]};break;case 3:this.get=function(v,m){var b=3*v,D=this.value;return m[0]=D[b],m[1]=D[b+1],m[2]=D[b+2],m},this.set=function(v,m){var b=3*v,D=this.value;D[b]=m[0],D[b+1]=m[1],D[b+2]=m[2]},this.copy=function(v,m){var b=this.value;b[v*=3]=b[m*=3],b[v+1]=b[m+1],b[v+2]=b[m+2]};break;case 4:this.get=function(v,m){var b=this.value,D=4*v;return m[0]=b[D],m[1]=b[D+1],m[2]=b[D+2],m[3]=b[D+3],m},this.set=function(v,m){var b=this.value,D=4*v;b[D]=m[0],b[D+1]=m[1],b[D+2]=m[2],b[D+3]=m[3]},this.copy=function(v,m){var b=this.value;b[v*=4]=b[m*=4],b[v+1]=b[m+1],b[v+2]=b[m+2],b[v+3]=b[m+3]}}}function Tu(e,n,i,c,v){this.name=e,this.type=n,this.buffer=i,this.size=c,this.semantic=v,this.symbol="",this.needsRemove=!1}function $6(e){this.buffer=e,this.count=0}x4.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var n=vh(this.type);this.value=new n(e*this.size)}},x4.prototype.fromArray=function(e){var i,n=vh(this.type);if(e[0]&&e[0].length){var c=0,v=this.size;i=new n(e.length*v);for(var m=0;m<e.length;m++)for(var b=0;b<v;b++)i[c++]=e[m][b]}else i=new n(e);this.value=i},x4.prototype.clone=function(e){var n=new x4(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),n};var jl=as.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new wu,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),n=0;n<e.length;n++)this.dirtyAttribute(e[n]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(ph(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,n){if(e<this.triangleCount&&e>=0){n||(n=[]);var i=this.indices;return n[0]=i[3*e],n[1]=i[3*e+1],n[2]=i[3*e+2],n}},setTriangleIndices:function(e,n){var i=this.indices;i[3*e]=n[0],i[3*e+1]=n[1],i[3*e+2]=n[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var n,i=this.vertexCount>65535?Xo.Uint32Array:Xo.Uint16Array;if(e[0]&&e[0].length){var c=0;n=new i(3*e.length);for(var m=0;m<e.length;m++)for(var b=0;b<3;b++)n[c++]=e[m][b]}else n=new i(e);this.indices=n},createAttribute:function(e,n,i,c){var v=new x4(e,n,i,c);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=v,this._attributeList.push(e),v},removeAttribute:function(e){var n=this._attributeList,i=n.indexOf(e);return i>=0&&(n.splice(i,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,n=this._attributeList;if(e)return e;for(var i=[],c=this.vertexCount,v=0;v<n.length;v++){var m=n[v],b=this.attributes[m];b.value&&b.value.length===c*b.size&&i.push(m)}return this._enabledAttributes=i,i},getBufferChunks:function(e){var n=this._cache;n.use(e.__uid__);var i=n.isDirty("attributes"),c=n.isDirty("indices");if(i||c){this._updateBuffer(e.gl,i,c);for(var v=this.getEnabledAttributes(),m=0;m<v.length;m++)n.fresh(ph(v[m]));n.fresh("attributes"),n.fresh("indices")}return n.fresh("any"),n.get("chunks")},_updateBuffer:function(e,n,i){var c=this._cache,v=c.get("chunks"),m=!1;v||((v=[])[0]={attributeBuffers:[],indicesBuffer:null},c.put("chunks",v),m=!0);var b=v[0],D=b.attributeBuffers,P=b.indicesBuffer;if(n||m){var F=this.getEnabledAttributes(),le={};if(!m)for(var _e=0;_e<D.length;_e++)le[D[_e].name]=D[_e];for(var Ve=0;Ve<F.length;Ve++){var je,vt,Oe=F[Ve],Ue=this.attributes[Oe];m||(je=le[Oe]),vt=je?je.buffer:e.createBuffer(),c.isDirty(ph(Oe))&&(e.bindBuffer(e.ARRAY_BUFFER,vt),e.bufferData(e.ARRAY_BUFFER,Ue.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),D[Ve]=new Tu(Oe,Ue.type,vt,Ue.size,Ue.semantic)}for(_e=Ve;_e<D.length;_e++)e.deleteBuffer(D[_e].buffer);D.length=Ve}this.isUseIndices()&&(i||m)&&(P||(P=new $6(e.createBuffer()),b.indicesBuffer=P),P.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,P.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var n=this._cache;n.use(e.__uid__);var i=n.get("chunks");if(i)for(var c=0;c<i.length;c++){for(var v=i[c],m=0;m<v.attributeBuffers.length;m++)e.gl.deleteBuffer(v.attributeBuffers[m].buffer);v.indicesBuffer&&e.gl.deleteBuffer(v.indicesBuffer.buffer)}if(this.__vaoCache){var D=e.getGLExtension("OES_vertex_array_object");for(var P in this.__vaoCache){var F=this.__vaoCache[P].vao;F&&D.deleteVertexArrayOES(F)}}this.__vaoCache={},n.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(jl.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(jl.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),jl.STATIC_DRAW=fr_STATIC_DRAW,jl.DYNAMIC_DRAW=fr_DYNAMIC_DRAW,jl.STREAM_DRAW=fr_STREAM_DRAW,jl.AttributeBuffer=Tu,jl.IndicesBuffer=$6,jl.Attribute=x4;const b4=jl;var _l=Tn.create,M2=Tn.add,Ec=Tn.set,y1=b4.Attribute,_1=b4.extend(function(){return{attributes:{position:new y1("position","float",3,"POSITION"),texcoord0:new y1("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new y1("texcoord1","float",2,"TEXCOORD_1"),normal:new y1("normal","float",3,"NORMAL"),tangent:new y1("tangent","float",4,"TANGENT"),color:new y1("color","float",4,"COLOR"),weight:new y1("weight","float",3,"WEIGHT"),joint:new y1("joint","float",4,"JOINT"),barycentric:new y1("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new ls);var n=this.attributes.position.value;if(n&&n.length){var i=e.min,c=e.max,v=i.array,m=c.array;Tn.set(v,n[0],n[1],n[2]),Tn.set(m,n[0],n[1],n[2]);for(var b=3;b<n.length;){var D=n[b++],P=n[b++],F=n[b++];D<v[0]&&(v[0]=D),P<v[1]&&(v[1]=P),F<v[2]&&(v[2]=F),D>m[0]&&(m[0]=D),P>m[1]&&(m[1]=P),F>m[2]&&(m[2]=F)}i._dirty=!0,c._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,n=this.attributes,i=n.position.value,c=n.normal.value;if(c&&c.length===i.length)for(var v=0;v<c.length;v++)c[v]=0;else c=n.normal.value=new Xo.Float32Array(i.length);for(var Ve,Oe,Ue,m=_l(),b=_l(),D=_l(),P=_l(),F=_l(),le=_l(),_e=e?e.length:this.vertexCount,je=0;je<_e;)for(e?(Ve=e[je++],Oe=e[je++],Ue=e[je++]):(Ve=je++,Oe=je++,Ue=je++),Ec(m,i[3*Ve],i[3*Ve+1],i[3*Ve+2]),Ec(b,i[3*Oe],i[3*Oe+1],i[3*Oe+2]),Ec(D,i[3*Ue],i[3*Ue+1],i[3*Ue+2]),Tn.sub(P,m,b),Tn.sub(F,b,D),Tn.cross(le,P,F),v=0;v<3;v++)c[3*Ve+v]=c[3*Ve+v]+le[v],c[3*Oe+v]=c[3*Oe+v]+le[v],c[3*Ue+v]=c[3*Ue+v]+le[v];for(v=0;v<c.length;)Ec(le,c[v],c[v+1],c[v+2]),Tn.normalize(le,le),c[v++]=le[0],c[v++]=le[1],c[v++]=le[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,n=this.attributes,i=n.position.value,c=n.normal.value,v=_l(),m=_l(),b=_l(),D=_l(),P=_l(),F=_l();c||(c=n.normal.value=new Float32Array(i.length));for(var _e,Ve,Oe,le=e?e.length:this.vertexCount,Ue=0;Ue<le;){e?(_e=e[Ue++],Ve=e[Ue++],Oe=e[Ue++]):(_e=Ue++,Ve=Ue++,Oe=Ue++),Ec(v,i[3*_e],i[3*_e+1],i[3*_e+2]),Ec(m,i[3*Ve],i[3*Ve+1],i[3*Ve+2]),Ec(b,i[3*Oe],i[3*Oe+1],i[3*Oe+2]),Tn.sub(D,v,m),Tn.sub(P,m,b),Tn.cross(F,D,P),Tn.normalize(F,F);for(var je=0;je<3;je++)c[3*_e+je]=F[je],c[3*Ve+je]=F[je],c[3*Oe+je]=F[je]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,n=this.attributes;n.tangent.value||(n.tangent.value=new Float32Array(4*e));var i=n.texcoord0.value,c=n.position.value,v=n.tangent.value,m=n.normal.value;if(!i)return void console.warn("Geometry without texcoords can't generate tangents.");for(var b=[],D=[],P=0;P<e;P++)b[P]=[0,0,0],D[P]=[0,0,0];var Oe,Ue,je,F=[0,0,0],le=[0,0,0],_e=this.indices,Ve=_e?_e.length:this.vertexCount;for(P=0;P<Ve;){_e?(Oe=_e[P++],Ue=_e[P++],je=_e[P++]):(Oe=P++,Ue=P++,je=P++);var vt=i[2*Oe],Rt=i[2*Oe+1],nn=c[3*Oe],Jn=c[3*Oe+1],Er=c[3*Oe+2],Fr=c[3*Ue]-nn,qn=c[3*je]-nn,gr=c[3*Ue+1]-Jn,ir=c[3*je+1]-Jn,si=c[3*Ue+2]-Er,Zr=c[3*je+2]-Er,ta=i[2*Ue]-vt,Ai=i[2*je]-vt,ra=i[2*Ue+1]-Rt,Li=i[2*je+1]-Rt,ia=1/(ta*Li-ra*Ai);F[0]=(Li*Fr-ra*qn)*ia,F[1]=(Li*gr-ra*ir)*ia,F[2]=(Li*si-ra*Zr)*ia,le[0]=(ta*qn-Ai*Fr)*ia,le[1]=(ta*ir-Ai*gr)*ia,le[2]=(ta*Zr-Ai*si)*ia,M2(b[Oe],b[Oe],F),M2(b[Ue],b[Ue],F),M2(b[je],b[je],F),M2(D[Oe],D[Oe],le),M2(D[Ue],D[Ue],le),M2(D[je],D[je],le)}var es=_l(),ca=_l(),Ga=_l();for(P=0;P<e;P++){Ga[0]=m[3*P],Ga[1]=m[3*P+1],Ga[2]=m[3*P+2];var ja=b[P];Tn.scale(es,Ga,Tn.dot(Ga,ja)),Tn.sub(es,ja,es),Tn.normalize(es,es),Tn.cross(ca,Ga,ja),v[4*P]=es[0],v[4*P+1]=es[1],v[4*P+2]=es[2],v[4*P+3]=Tn.dot(ca,D[P])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new Xo.Uint32Array(this.indices));for(var e=this.attributes,n=this.indices,i=this.getEnabledAttributes(),c={},v=0;v<i.length;v++)c[m=i[v]]=e[m].value,e[m].init(this.indices.length);for(var b=0,D=0;D<n.length;D++){var P=n[D];for(v=0;v<i.length;v++)for(var m,F=e[m=i[v]].value,le=e[m].size,_e=0;_e<le;_e++)F[b*le+_e]=c[m][P*le+_e];n[D]=b,b++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,n=e.barycentric.value,i=this.indices;if(!n||n.length!==3*i.length){n=e.barycentric.value=new Float32Array(3*i.length);for(var c=0;c<(i?i.length:this.vertexCount/3);)for(var v=0;v<3;v++)n[3*(i?i[c++]:3*c+v)+v]=1;this.dirty()}}},applyTransform:function(e){var n=this.attributes,i=n.position.value,c=n.normal.value,v=n.tangent.value;e=e.array;var m=Wr.create();Wr.invert(m,e),Wr.transpose(m,m);var b=Tn.transformMat4,D=Tn.forEach;D(i,3,0,null,b,e),c&&D(c,3,0,null,b,m),v&&D(v,4,0,null,b,m),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var n=this._cache;n.use(e.__uid__);var i=n.get("chunks");if(i)for(var c=0;c<i.length;c++){for(var v=i[c],m=0;m<v.attributeBuffers.length;m++)e.gl.deleteBuffer(v.attributeBuffers[m].buffer);v.indicesBuffer&&e.gl.deleteBuffer(v.indicesBuffer.buffer)}if(this.__vaoCache){var D=e.getGLExtension("OES_vertex_array_object");for(var P in this.__vaoCache){var F=this.__vaoCache[P].vao;F&&D.deleteVertexArrayOES(F)}}this.__vaoCache={},n.deleteContext(e.__uid__)}});_1.STATIC_DRAW=b4.STATIC_DRAW,_1.DYNAMIC_DRAW=b4.DYNAMIC_DRAW,_1.STREAM_DRAW=b4.STREAM_DRAW,_1.AttributeBuffer=b4.AttributeBuffer,_1.IndicesBuffer=b4.IndicesBuffer,_1.Attribute=y1;const ha=_1;var il="uniform vec3 ",w4="uniform float ",S4="@export clay.header.",zc="@end",us=":unconfigurable;";const x3=[S4+"directional_light",il+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+us,il+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+us,zc,S4+"ambient_light",il+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+us,zc,S4+"ambient_sh_light",il+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+us,il+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+us,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",zc,S4+"ambient_cubemap_light",il+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+us,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+us,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+us,zc,S4+"point_light",il+"pointLightPosition[POINT_LIGHT_COUNT]"+us,w4+"pointLightRange[POINT_LIGHT_COUNT]"+us,il+"pointLightColor[POINT_LIGHT_COUNT]"+us,zc,S4+"spot_light",il+"spotLightPosition[SPOT_LIGHT_COUNT]"+us,il+"spotLightDirection[SPOT_LIGHT_COUNT]"+us,w4+"spotLightRange[SPOT_LIGHT_COUNT]"+us,w4+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+us,w4+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+us,w4+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+us,il+"spotLightColor[SPOT_LIGHT_COUNT]"+us,zc].join("\n");ti.import(x3);var Q6=V1.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=V1.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});const N1=Q6;var b3=function(e,n){this.normal=e||new Kr(0,1,0),this.distance=n||0};b3.prototype={constructor:b3,distanceToPoint:function(e){return Tn.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,n){n||(n=new Kr);var i=this.distanceToPoint(e);return Tn.scaleAndAdd(n.array,e.array,this.normal.array,-i),n._dirty=!0,n},normalize:function(){var e=1/Tn.len(this.normal.array);Tn.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var n=e.vertices,i=this.normal.array,c=Tn.dot(n[0].array,i)>this.distance,v=1;v<8;v++)if(Tn.dot(n[v].array,i)>this.distance!=c)return!0},intersectLine:function(){var e=Tn.create();return function(n,i,c){var v=this.distanceToPoint(n),m=this.distanceToPoint(i);if(v>0&&m>0||v<0&&m<0)return null;var b=this.normal.array,D=this.distance,P=n.array;Tn.sub(e,i.array,n.array),Tn.normalize(e,e);var F=Tn.dot(b,e);if(0===F)return null;c||(c=new Kr);var le=(Tn.dot(b,P)-D)/F;return Tn.scaleAndAdd(c.array,P,e,-le),c._dirty=!0,c}}(),applyTransform:function(){var e=Wr.create(),n=qr.create(),i=qr.create();return i[3]=1,function(c){c=c.array,Tn.scale(i,this.normal.array,this.distance),qr.transformMat4(i,i,c),this.distance=Tn.dot(i,this.normal.array),Wr.invert(e,c),Wr.transpose(e,e),n[3]=0,Tn.copy(n,this.normal.array),qr.transformMat4(n,n,e),Tn.copy(this.normal.array,n)}}(),copy:function(e){Tn.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new b3;return e.copy(this),e}};const C4=b3;var fo=Tn.set,Du=Tn.copy,Eu=Tn.transformMat4,zu=Math.min,x2=Math.max,Au=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new C4);for(this.boundingBox=new ls,this.vertices=[],e=0;e<8;e++)this.vertices[e]=Tn.fromValues(0,0,0)};Au.prototype={setFromProjection:function(e){var n=this.planes,i=e.array,c=i[0],v=i[1],m=i[2],b=i[3],D=i[4],P=i[5],F=i[6],le=i[7],_e=i[8],Ve=i[9],Oe=i[10],Ue=i[11],je=i[12],vt=i[13],wt=i[14],Ot=i[15];fo(n[0].normal.array,b-c,le-D,Ue-_e),n[0].distance=-(Ot-je),n[0].normalize(),fo(n[1].normal.array,b+c,le+D,Ue+_e),n[1].distance=-(Ot+je),n[1].normalize(),fo(n[2].normal.array,b+v,le+P,Ue+Ve),n[2].distance=-(Ot+vt),n[2].normalize(),fo(n[3].normal.array,b-v,le-P,Ue-Ve),n[3].distance=-(Ot-vt),n[3].normalize(),fo(n[4].normal.array,b-m,le-F,Ue-Oe),n[4].distance=-(Ot-wt),n[4].normalize(),fo(n[5].normal.array,b+m,le+F,Ue+Oe),n[5].distance=-(Ot+wt),n[5].normalize();var Rt=this.boundingBox,At=this.vertices;if(0===Ot){var sn=P/c,nn=-wt/(Oe-1),An=-wt/(Oe+1),_n=-An/P,Jn=-nn/P;Rt.min.set(-_n*sn,-_n,An),Rt.max.set(_n*sn,_n,nn),fo(At[0],-_n*sn,-_n,An),fo(At[1],-_n*sn,_n,An),fo(At[2],_n*sn,-_n,An),fo(At[3],_n*sn,_n,An),fo(At[4],-Jn*sn,-Jn,nn),fo(At[5],-Jn*sn,Jn,nn),fo(At[6],Jn*sn,-Jn,nn),fo(At[7],Jn*sn,Jn,nn)}else{var yr=(-1-je)/c,cr=(1-je)/c,Er=(1-vt)/P,zr=(-1-vt)/P,Mr=(-1-wt)/Oe,Fr=(1-wt)/Oe;Rt.min.set(Math.min(yr,cr),Math.min(zr,Er),Math.min(Fr,Mr)),Rt.max.set(Math.max(cr,yr),Math.max(Er,zr),Math.max(Mr,Fr));var qn=Rt.min.array,gr=Rt.max.array;fo(At[0],qn[0],qn[1],qn[2]),fo(At[1],qn[0],gr[1],qn[2]),fo(At[2],gr[0],qn[1],qn[2]),fo(At[3],gr[0],gr[1],qn[2]),fo(At[4],qn[0],qn[1],gr[2]),fo(At[5],qn[0],gr[1],gr[2]),fo(At[6],gr[0],qn[1],gr[2]),fo(At[7],gr[0],gr[1],gr[2])}},getTransformedBoundingBox:function(){var e=Tn.create();return function(n,i){var c=this.vertices,v=i.array,m=n.min,b=n.max,D=m.array,P=b.array,F=c[0];Eu(e,F,v),Du(D,e),Du(P,e);for(var le=1;le<8;le++)Eu(e,F=c[le],v),D[0]=zu(e[0],D[0]),D[1]=zu(e[1],D[1]),D[2]=zu(e[2],D[2]),P[0]=x2(e[0],P[0]),P[1]=x2(e[1],P[1]),P[2]=x2(e[2],P[2]);return m._dirty=!0,b._dirty=!0,n}}()};const Wl=Au;var d0=V1.extend(function(){return{projectionMatrix:new ui,invProjectionMatrix:new ui,viewMatrix:new ui,frustum:new Wl}},function(){this.update(!0)},{update:function(e){V1.prototype.update.call(this,e),ui.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),ui.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){ui.copy(this.viewMatrix,e),ui.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){ui.copy(this.projectionMatrix,e),ui.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=qr.create();return function(n,i){var c=void 0!==i?i:new hh,v=n.array[0],m=n.array[1];return qr.set(e,v,m,-1,1),qr.transformMat4(e,e,this.invProjectionMatrix.array),qr.transformMat4(e,e,this.worldTransform.array),Tn.scale(c.origin.array,e,1/e[3]),qr.set(e,v,m,1,1),qr.transformMat4(e,e,this.invProjectionMatrix.array),qr.transformMat4(e,e,this.worldTransform.array),Tn.scale(e,e,1/e[3]),Tn.sub(c.direction.array,e,c.origin.array),Tn.normalize(c.direction.array,c.direction.array),c.direction._dirty=!0,c.origin._dirty=!0,c}}()});const T4=d0;var gh=Wr.create(),mh=Wr.create(),f0={};function J6(e){var n=[],i=Object.keys(e);i.sort();for(var c=0;c<i.length;c++){var v=i[c];n.push(v+" "+e[v])}var m=n.join("\n");if(f0[m])return f0[m];var b=Io.genGUID();return f0[m]=b,b}function w3(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}w3.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},w3.prototype.add=function(e,n){n?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},w3.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var b2=V1.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new ls,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new K8(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof T4?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof N1&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var n;e instanceof T4?(n=this._cameraList.indexOf(e))>=0&&this._cameraList.splice(n,1):e instanceof N1&&(n=this.lights.indexOf(e))>=0&&this.lights.splice(n,1),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var n=this._cameraList.indexOf(e);n>=0&&this._cameraList.splice(n,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var n={},i=0;i<e.length;i++){var c=e[i];if(!c.invisible){var v=c.group;n[v]||(n[v]={}),n[v][c.type]=n[v][c.type]||0,n[v][c.type]++}}for(var m in this._lightNumber=n,n)this._lightProgramKeys[m]=J6(n[m]);this._updateLightUniforms()},cloneNode:function(e){var n=e.clone(),i={};return function c(v,m){i[v.__uid__]=m;for(var b=0;b<v._children.length;b++)c(v._children[b],m._children[b])}(e,n),n.traverse(function(v){v.skeleton&&(v.skeleton=v.skeleton.clone(i)),v.material&&(v.material=v.material.clone())}),n},updateRenderList:function(e,n){var i=e.__uid__,c=this._renderLists.get(i);return c||(c=new w3,this._renderLists.put(i,c)),c.startCount(),n&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0)),this._doUpdateRenderList(this,e,this.material&&this.material.transparent||!1,c,n),c.endCount(),c},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,n,i,c,v){if(!e.invisible)for(var m=0;m<e._children.length;m++){var b=e._children[m];if(b.isRenderable()){var D=b.isSkinnedMesh()?gh:b.worldTransform.array,P=b.geometry;Wr.multiplyAffine(mh,n.viewMatrix.array,D),(v&&!P.boundingBox||!this.isFrustumCulled(b,n,mh))&&c.add(b,b.material.transparent||i)}b._children.length>0&&this._doUpdateRenderList(b,n,i,c,v)}},isFrustumCulled:function(){var e=new ls,n=new ui;return function(i,c,v){var m=i.boundingBox;if(m||(m=i.skeleton&&i.skeleton.boundingBox?i.skeleton.boundingBox:i.geometry.boundingBox),!m)return!1;if(n.array=v,e.transformFrom(m,n),i.castShadow&&this.viewBoundingBoxLastFrame.union(e),i.frustumCulling){if(!e.intersectBoundingBox(c.frustum.boundingBox))return!0;n.array=c.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(n);var b=e.min.array,D=e.max.array;if(D[0]<-1||b[0]>1||D[1]<-1||b[1]>1||D[2]<-1||b[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(q6);var n=this._lightUniforms;for(var i in n)for(var c in n[i])n[i][c].value.length=0;for(var v=0;v<e.length;v++){var m=e[v];if(!m.invisible)for(var c in i=m.group,m.uniformTemplates){var b=m.uniformTemplates[c],D=b.value(m);if(null!=D){n[i]||(n[i]={}),n[i][c]||(n[i][c]={type:"",value:[]});var P=n[i][c];switch(P.type=b.type+"v",b.type){case"1i":case"1f":case"t":P.value.push(D);break;case"2f":case"3f":case"4f":for(var F=0;F<D.length;F++)P.value.push(D[F]);break;default:console.error("Unkown light uniform type "+b.type)}}}}},getLightGroups:function(){var e=[];for(var n in this._lightNumber)e.push(n);return e},getNumberChangedLightGroups:function(){var e=[];for(var n in this._lightNumber)this.isLightNumberChanged(n)&&e.push(n);return e},isLightNumberChanged:function(e){var n=this._previousLightNumber,i=this._lightNumber;for(var c in i[e])if(!n[e]||i[e][c]!==n[e][c])return!0;for(var c in n[e])if(!i[e]||i[e][c]!==n[e][c])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(n,i,c){for(var v in n){var m=n[v];if("tv"===m.type){if(!i.hasUniform(v))continue;for(var b=[],D=0;D<m.value.length;D++){var F=i.takeCurrentTextureSlot(c,m.value[D]);b.push(F)}i.setUniform(c.gl,"1iv",v,b)}else i.setUniform(c.gl,m.type,v,m.value)}}return function(n,i,c){e(this._lightUniforms[i],n,c),e(this.shadowUniforms,n,c)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function q6(e,n){if(n.castShadow&&!e.castShadow)return!0}const oc=b2;var ed=C(4862),w2=Su.isPowerOfTwo,v0=["px","nx","py","ny","pz","nz"],p0=ri.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var n=e.gl;n.bindTexture(n.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var i=this.format,c=this.type;n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_S,this.getAvailableWrapS()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_T,this.getAvailableWrapT()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var v=e.getGLExtension("EXT_texture_filter_anisotropic");if(v&&this.anisotropic>1&&n.texParameterf(n.TEXTURE_CUBE_MAP,v.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===c&&(e.getGLExtension("OES_texture_half_float")||(c=fr_FLOAT)),this.mipmaps.length)for(var b=this.width,D=this.height,P=0;P<this.mipmaps.length;P++)this._updateTextureData(n,this.mipmaps[P],P,b,D,i,c),b/=2,D/=2;else this._updateTextureData(n,this,0,this.width,this.height,i,c),!this.NPOT&&this.useMipmap&&n.generateMipmap(n.TEXTURE_CUBE_MAP);n.bindTexture(n.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,n,i,c,v,m,b){for(var D=0;D<6;D++){var P=v0[D],F=n.image&&n.image[P];F?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,i,m,m,b,F):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,i,m,c,v,0,m,b,n.pixels&&n.pixels[P])}},generateMipmap:function(e){var n=e.gl;this.useMipmap&&!this.NPOT&&(n.bindTexture(n.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),n.generateMipmap(n.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?w2(this.image.px.width)&&w2(this.image.px.height):w2(this.width)&&w2(this.height)},isRenderable:function(){return this.image.px?Ac(this.image.px)&&Ac(this.image.nx)&&Ac(this.image.py)&&Ac(this.image.ny)&&Ac(this.image.pz)&&Ac(this.image.nz):!(!this.width||!this.height)},load:function(e,n){var i=0,c=this;return Io.each(e,function(v,m){var b=Xo.createImage();n&&(b.crossOrigin=n),b.onload=function(){0==--i&&(c.dirty(),c.trigger("success",c))},b.onerror=function(){i--},i++,b.src=v,c.image[m]=b}),this}});function Ac(e){return e.width>0&&e.height>0}Object.defineProperty(p0.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(p0.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const S2=p0;var Pu=T4.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,n=2*Math.atan(1/e[5]);this.fov=n/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=T4.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});const jo=Pu;var D4="framebuffer",B1="renderbuffer",Lu=B1+"_width",yh=B1+"_height",_h=B1+"_attached",S3="depthtexture_attached",E4=fr_FRAMEBUFFER,z4=fr_RENDERBUFFER,A4=fr_DEPTH_ATTACHMENT,Ou=fr_COLOR_ATTACHMENT0,k1=as.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new wu,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var n=e.gl;n.bindFramebuffer(E4,this._getFrameBufferGL(e)),this._boundRenderer=e;var i=this._cache;i.put("viewport",e.viewport);var v,m,c=!1;for(var b in this._textures){c=!0;var D=this._textures[b];D&&(v=D.texture.width,m=D.texture.height,this._doAttach(e,D.texture,b,D.target))}this._width=v,this._height=m,!c&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,v,m,1);var P=i.get("attached_textures");if(P)for(var b in P)this._textures[b]||this._doDetach(n,b,P[b]);if(!i.get(S3)&&this.depthBuffer){i.miss(B1)&&i.put(B1,n.createRenderbuffer());var le=i.get(B1);(v!==i.get(Lu)||m!==i.get(yh))&&(n.bindRenderbuffer(z4,le),n.renderbufferStorage(z4,n.DEPTH_COMPONENT16,v,m),i.put(Lu,v),i.put(yh,m),n.bindRenderbuffer(z4,null)),i.get(_h)||(n.framebufferRenderbuffer(E4,A4,z4,le),i.put(_h,!0))}},unbind:function(e){e.__currentFrameBuffer=null,e.gl.bindFramebuffer(E4,null),this._boundRenderer=null,this._cache.use(e.__uid__);var i=this._cache.get("viewport");i&&e.setViewport(i),this.updateMipmap(e)},updateMipmap:function(e){var n=e.gl;for(var i in this._textures){var c=this._textures[i];if(c){var v=c.texture;if(!v.NPOT&&v.useMipmap&&v.minFilter===ri.LINEAR_MIPMAP_LINEAR){var m="textureCube"===v.textureType?fr_TEXTURE_CUBE_MAP:fr_TEXTURE_2D;n.bindTexture(m,v.getWebGLTexture(e)),n.generateMipmap(m),n.bindTexture(m,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(E4)},_getFrameBufferGL:function(e){var n=this._cache;return n.use(e.__uid__),n.miss(D4)&&n.put(D4,e.gl.createFramebuffer()),n.get(D4)},attach:function(e,n,i){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");n=n||Ou,i=i||fr_TEXTURE_2D;var m,c=this._boundRenderer;if(c&&c.gl){var b=this._cache;b.use(c.__uid__),m=b.get("attached_textures")}var D=this._textures[n];if(!D||D.target!==i||D.texture!==e||!m||null==m[n]){var P=!0;c&&(P=this._doAttach(c,e,n,i),this.viewport||c.setViewport(0,0,e.width,e.height,1)),P&&(this._textures[n]=this._textures[n]||{},this._textures[n].texture=e,this._textures[n].target=i)}},_doAttach:function(e,n,i,c){var v=e.gl,m=n.getWebGLTexture(e),b=this._cache.get("attached_textures");if(b&&b[i]){var D=b[i];if(D.texture===n&&D.target===c)return}var P=!0;if(((i=+i)===A4||i===fr_DEPTH_STENCIL_ATTACHMENT)&&(e.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),P=!1),n.format!==fr_DEPTH_COMPONENT&&n.format!==fr_DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),P=!1),P)){var le=this._cache.get(B1);le&&(v.framebufferRenderbuffer(E4,A4,z4,null),v.deleteRenderbuffer(le),this._cache.put(B1,!1)),this._cache.put(_h,!1),this._cache.put(S3,!0)}return v.framebufferTexture2D(E4,i,c,m,0),b||this._cache.put("attached_textures",b={}),b[i]=b[i]||{},b[i].texture=n,b[i].target=c,P},_doDetach:function(e,n,i){e.framebufferTexture2D(E4,n,i,null,0);var c=this._cache.get("attached_textures");c&&c[n]&&(c[n]=null),(n===A4||n===fr_DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(S3,!1)},detach:function(e,n){this._textures[e]=null,this._boundRenderer&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,n))},dispose:function(e){var n=e.gl,i=this._cache;i.use(e.__uid__);var c=i.get(B1);c&&n.deleteRenderbuffer(c);var v=i.get(D4);v&&n.deleteFramebuffer(v),i.deleteContext(e.__uid__),this._textures={}}});k1.DEPTH_ATTACHMENT=A4,k1.COLOR_ATTACHMENT0=Ou,k1.STENCIL_ATTACHMENT=fr_STENCIL_ATTACHMENT,k1.DEPTH_STENCIL_ATTACHMENT=fr_DEPTH_STENCIL_ATTACHMENT;const hs=k1;var Mh=["px","nx","py","ny","pz","nz"],td=as.extend(function(){var e={position:new Kr,far:1e3,near:.1,texture:null,shadowMapPass:null},n=e._cameras={px:new jo({fov:90}),nx:new jo({fov:90}),py:new jo({fov:90}),ny:new jo({fov:90}),pz:new jo({fov:90}),nz:new jo({fov:90})};return n.px.lookAt(Kr.POSITIVE_X,Kr.NEGATIVE_Y),n.nx.lookAt(Kr.NEGATIVE_X,Kr.NEGATIVE_Y),n.py.lookAt(Kr.POSITIVE_Y,Kr.POSITIVE_Z),n.ny.lookAt(Kr.NEGATIVE_Y,Kr.NEGATIVE_Z),n.pz.lookAt(Kr.POSITIVE_Z,Kr.NEGATIVE_Y),n.nz.lookAt(Kr.NEGATIVE_Z,Kr.NEGATIVE_Y),e._frameBuffer=new hs,e},{getCamera:function(e){return this._cameras[e]},render:function(e,n,i){var c=e.gl;i||n.update();for(var v=this.texture.width,m=2*Math.atan(v/(v-.5))/Math.PI*180,b=0;b<6;b++){var P=this._cameras[Mh[b]];if(Kr.copy(P.position,this.position),P.far=this.far,P.near=this.near,P.fov=m,this.shadowMapPass){P.update();var F=n.getBoundingBox();F.applyTransform(P.viewMatrix),n.viewBoundingBoxLastFrame.copy(F),this.shadowMapPass.render(e,n,P,!0)}this._frameBuffer.attach(this.texture,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+b),this._frameBuffer.bind(e),e.render(n,P,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});const C3=td;var g0=ha.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,n=this.widthSegments,i=this.attributes,c=[],v=[],m=[],b=[],D=0;D<=e;D++)for(var P=D/e,F=0;F<=n;F++){var le=F/n;if(c.push([2*le-1,2*P-1,0]),v&&v.push([le,P]),m&&m.push([0,0,1]),F<n&&D<e){var _e=F+D*(n+1);b.push([_e,_e+1,_e+n+1]),b.push([_e+n+1,_e+1,_e+n+2])}}i.position.fromArray(c),i.texcoord0.fromArray(v),i.normal.fromArray(m),this.initIndicesFromArray(b),this.boundingBox=new ls,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});const P4=g0;var Na=new ui,Iu=ha.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:Pc("px",this.depthSegments,this.heightSegments),nx:Pc("nx",this.depthSegments,this.heightSegments),py:Pc("py",this.widthSegments,this.depthSegments),ny:Pc("ny",this.widthSegments,this.depthSegments),pz:Pc("pz",this.widthSegments,this.heightSegments),nz:Pc("nz",this.widthSegments,this.heightSegments)},n=["position","texcoord0","normal"],i=0,c=0;for(var v in e)i+=e[v].vertexCount,c+=e[v].indices.length;for(var m=0;m<n.length;m++)this.attributes[n[m]].init(i);this.indices=new Xo.Uint16Array(c);var b=0,D=0;for(var v in e){var P=e[v];for(m=0;m<n.length;m++)for(var F=n[m],le=P.attributes[F].value,_e=P.attributes[F].size,Ve="normal"===F,Oe=0;Oe<le.length;Oe++){var Ue=le[Oe];this.inside&&Ve&&(Ue=-Ue),this.attributes[F].value[Oe+_e*D]=Ue}var je=P.indices.length;for(Oe=0;Oe<P.indices.length;Oe++)this.indices[Oe+b]=D+P.indices[this.inside?je-Oe-1:Oe];b+=P.indices.length,D+=P.vertexCount}this.boundingBox=new ls,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function Pc(e,n,i){Na.identity();var c=new P4({widthSegments:n,heightSegments:i});switch(e){case"px":ui.translate(Na,Na,Kr.POSITIVE_X),ui.rotateY(Na,Na,Math.PI/2);break;case"nx":ui.translate(Na,Na,Kr.NEGATIVE_X),ui.rotateY(Na,Na,-Math.PI/2);break;case"py":ui.translate(Na,Na,Kr.POSITIVE_Y),ui.rotateX(Na,Na,-Math.PI/2);break;case"ny":ui.translate(Na,Na,Kr.NEGATIVE_Y),ui.rotateX(Na,Na,Math.PI/2);break;case"pz":ui.translate(Na,Na,Kr.POSITIVE_Z);break;case"nz":ui.translate(Na,Na,Kr.NEGATIVE_Z),ui.rotateY(Na,Na,Math.PI)}return c.applyTransform(Na),c}const Lc=Iu;ti.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");var nd=H1.extend(function(){var e=new ti({vertex:ti.source("clay.skybox.vertex"),fragment:ti.source("clay.skybox.fragment")}),n=new yl({shader:e,depthMask:!1});return{scene:null,geometry:new Lc,material:n,environmentMap:null,culling:!1,_dummyCamera:new jo}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){"texture2D"===e.textureType?(this.material.define("EQUIRECTANGULAR"),e.minFilter=ri.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,n,i){this.renderSkybox(e,i)},renderSkybox:function(e,n){var i=this._dummyCamera;i.aspect=e.getViewportAspect(),i.fov=n.fov||50,i.updateProjectionMatrix(),ui.invert(i.invProjectionMatrix,i.projectionMatrix),i.worldTransform.copy(n.worldTransform),i.viewMatrix.copy(n.viewMatrix),this.position.copy(n.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],i)}});const Ru=nd,bh=Ru;function od(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var dv=od("DXT1"),fv=od("DXT3"),vv=od("DXT5"),mv={parse:function(e,n){var i=new Int32Array(e,0,31);if(542327876!==i[0]||4&!i(20))return null;var P,F,c=i(21),v=i[4],m=i[3],b=512&i[28],D=131072&i[2];switch(c){case dv:P=8,F=ri.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case fv:P=16,F=ri.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case vv:P=16,F=ri.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var le=i[1]+4,_e=b?6:1,Ve=1;D&&(Ve=Math.max(1,i[7]));for(var Oe=[],Ue=0;Ue<_e;Ue++){var je=v,vt=m;Oe[Ue]=new Wi({width:je,height:vt,format:F});for(var wt=[],Ot=0;Ot<Ve;Ot++){var Rt=Math.max(4,je)/4*Math.max(4,vt)/4*P,At=new Uint8Array(e,le,Rt);le+=Rt,je*=.5,vt*=.5,wt[Ot]=At}Oe[Ue].pixels=wt[0],D&&(Oe[Ue].mipmaps=wt)}if(!n)return Oe[0];n.width=Oe[0].width,n.height=Oe[0].height,n.format=Oe[0].format,n.pixels=Oe[0].pixels,n.mipmaps=Oe[0].mipmaps}};const yv=mv;var E3=String.fromCharCode;function z3(e,n,i,c){if(e[3]>0){var v=Math.pow(2,e[3]-128-8+c);n[i+0]=e[0]*v,n[i+1]=e[1]*v,n[i+2]=e[2]*v}else n[i+0]=0,n[i+1]=0,n[i+2]=0;return n[i+3]=1,n}function ud(e,n){n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]}function A3(e,n,i,c){for(var v=0,m=0,b=c;b>0;)if(e[m][0]=n[i++],e[m][1]=n[i++],e[m][2]=n[i++],e[m][3]=n[i++],1===e[m][0]&&1===e[m][1]&&1===e[m][2]){for(var D=e[m][3]<<v>>>0;D>0;D--)ud(e[m-1],e[m]),m++,b--;v+=8}else m++,b--,v=0;return i}function _v(e,n,i,c){if(c<8|c>32767)return A3(e,n,i,c);if(2!=(v=n[i++]))return A3(e,n,i-1,c);if(e[0][1]=n[i++],e[0][2]=n[i++],v=n[i++],(e[0][2]<<8>>>0|v)>>>0!==c)return null;for(var v=0;v<4;v++)for(var m=0;m<c;){var b=n[i++];if(b>128){b=(127&b)>>>0;for(var D=n[i++];b--;)e[m++][v]=D}else for(;b--;)e[m++][v]=n[i++]}return i}var Th={parseRGBE:function(e,n,i){null==i&&(i=0);var c=new Uint8Array(e),v=c.length;if("#?"===function Cp(e,n,i){for(var c="",v=n;v<i;v++)c+=E3(e[v]);return c}(c,0,2)){for(var m=2;m<v&&("\n"!==E3(c[m])||"\n"!==E3(c[m+1]));m++);if(!(m>=v)){m+=2;for(var b="";m<v;m++){var D=E3(c[m]);if("\n"===D)break;b+=D}var P=b.split(" "),F=parseInt(P[1]),le=parseInt(P[3]);if(le&&F){for(var _e=m+1,Ve=[],Oe=0;Oe<le;Oe++){Ve[Oe]=[];for(var Ue=0;Ue<4;Ue++)Ve[Oe][Ue]=0}for(var je=new Float32Array(le*F*4),vt=0,wt=0;wt<F;wt++){if(!(_e=_v(Ve,c,_e,le)))return null;for(Oe=0;Oe<le;Oe++)z3(Ve[Oe],je,vt,i),vt+=4}return n||(n=new Wi),n.width=le,n.height=F,n.pixels=je,n.type=ri.FLOAT,n}}}},parseRGBEFromPNG:function(e){}};const Dh=Th;var Rc={loadTexture:function(e,n,i,c){var v;if("function"==typeof n?(c=i=n,n={}):n=n||{},"string"==typeof e){if(e.match(/.hdr$/)||"hdr"===n.fileType)return v=new Wi({width:0,height:0,sRGB:!1}),Rc._fetchTexture(e,function(m){Dh.parseRGBE(m,v,n.exposure),v.dirty(),i&&i(v)},c),v;e.match(/.dds$/)||"dds"===n.fileType?(v=new Wi({width:0,height:0}),Rc._fetchTexture(e,function(m){yv.parse(m,v),v.dirty(),i&&i(v)},c)):((v=new Wi).load(e),v.success(i),v.error(c))}else"object"==typeof e&&typeof e.px<"u"&&((v=new S2).load(e),v.success(i),v.error(c));return v},loadPanorama:function(e,n,i,c,v,m){var b=this;"function"==typeof c?(m=v=c,c={}):c=c||{},Rc.loadTexture(n,c,function(D){D.flipY=c.flipY||!1,b.panoramaToCubeMap(e,D,i,c),D.dispose(e),v&&v(i)},m)},panoramaToCubeMap:function(e,n,i,c){var v=new C3,m=new bh({scene:new oc});return m.setEnvironmentMap(n),(c=c||{}).encodeRGBM&&m.material.define("fragment","RGBM_ENCODE"),i.sRGB=n.sRGB,v.texture=i,v.render(e,m.scene),v.texture=null,v.dispose(e),i},heightToNormal:function(e,n){var i=document.createElement("canvas"),c=i.width=e.width,v=i.height=e.height,m=i.getContext("2d");m.drawImage(e,0,0,c,v),n=n||!1;for(var b=m.getImageData(0,0,c,v),D=m.createImageData(c,v),P=0;P<b.data.length;P+=4){if(n){var le=b.data[P+1],_e=b.data[P+2];if(Math.abs(b.data[P]-le)+Math.abs(le-_e)>20)return console.warn("Given image is not a height map"),e}var Oe,Ue,je,vt;P%(4*c)==0?(Oe=b.data[P],je=b.data[P+4]):P%(4*c)==4*(c-1)?(Oe=b.data[P-4],je=b.data[P]):(Oe=b.data[P-4],je=b.data[P+4]),P<4*c?(Ue=b.data[P],vt=b.data[P+4*c]):P>c*(v-1)*4?(Ue=b.data[P-4*c],vt=b.data[P]):(Ue=b.data[P-4*c],vt=b.data[P+4*c]),D.data[P]=Oe-je+127,D.data[P+1]=Ue-vt+127,D.data[P+2]=255,D.data[P+3]=255}return m.putImageData(D,0,0),i},isHeightImage:function(e,n,i){if(!e||!e.width||!e.height)return!1;var c=document.createElement("canvas"),v=c.getContext("2d"),m=n||32;i=i||20,c.width=c.height=m,v.drawImage(e,0,0,m,m);for(var b=v.getImageData(0,0,m,m),D=0;D<b.data.length;D+=4){var F=b.data[D+1],le=b.data[D+2];if(Math.abs(b.data[D]-F)+Math.abs(F-le)>i)return!1}return!0},_fetchTexture:function(e,n,i){Xo.request.get({url:e,responseType:"arraybuffer",onload:n,onerror:i})},createChessboard:function(e,n,i,c){e=e||512,n=n||64,i=i||"black",c=c||"white";var v=Math.ceil(e/n),m=document.createElement("canvas");m.width=e,m.height=e;var b=m.getContext("2d");b.fillStyle=c,b.fillRect(0,0,e,e),b.fillStyle=i;for(var D=0;D<v;D++)for(var P=0;P<v;P++)(P%2?D%2:D%2-1)&&b.fillRect(D*n,P*n,n,n);return new Wi({image:m,anisotropic:8})},createBlank:function(e){var n=document.createElement("canvas");n.width=1,n.height=1;var i=n.getContext("2d");return i.fillStyle=e,i.fillRect(0,0,1,1),new Wi({image:n})}};const Ml=Rc;var T2=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function M1(e){return"_on"+e}var L4=function(e){var n=this;this._texture=new Wi({anisotropic:32,flipY:!1,surface:this,dispose:function(i){n.dispose(),Wi.prototype.dispose.call(this,i)}}),T2.forEach(function(i){this[M1(i)]=function(c){c.triangle&&this._meshes.forEach(function(v){this.dispatchEvent(i,v,c.triangle,c.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};L4.prototype={constructor:L4,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var n=e.getDom();if(n instanceof HTMLCanvasElement){var i=this,c=e.getZr(),v=c.__oldRefreshImmediately||c.refreshImmediately;c.refreshImmediately=function(){v.call(this),i._texture.dirty(),i.onupdate&&i.onupdate()},c.__oldRefreshImmediately=v}else console.error("ECharts must init on canvas if it is used as texture."),n=document.createElement("canvas");this._texture.image=n,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new Kr,n=new Kr,i=new Kr,c=new ws,v=new ws,m=new ws,b=new ws,D=new Kr;return function(P,F,le,_e){var Ve=F.geometry,Oe=Ve.attributes.position,Ue=Ve.attributes.texcoord0,je=Kr.dot,vt=Kr.cross;Oe.get(le[0],e.array),Oe.get(le[1],n.array),Oe.get(le[2],i.array),Ue.get(le[0],c.array),Ue.get(le[1],v.array),Ue.get(le[2],m.array),vt(D,n,i);var wt=je(e,D),Ot=je(_e,D)/wt;vt(D,i,e);var Rt=je(_e,D)/wt;vt(D,e,n);var At=je(_e,D)/wt;ws.scale(b,c,Ot),ws.scaleAndAdd(b,b,v,Rt),ws.scaleAndAdd(b,b,m,At);var sn=b.x*this._chart.getWidth(),nn=b.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(P,{zrX:sn,zrY:nn})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(T2.forEach(function(n){e.on(n,this[M1(n)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var n=this._meshes.indexOf(e);n>=0&&this._meshes.splice(n,1),T2.forEach(function(i){e.off(i,this[M1(i)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};const D2=L4;var Nu=T4.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=T4.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const Vc=Nu;ti.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var Mv=new P4,ku=new H1({geometry:Mv,frustumCulling:!1}),P3=new Vc,y0=as.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new ti(ti.source("clay.compositor.vertex"),this.fragment),n=new yl({shader:e});n.enableTexturesAll(),this.material=n},{setUniform:function(e,n){this.material.setUniform(e,n)},getUniform:function(e){var n=this.material.uniforms[e];if(n)return n.value},attachOutput:function(e,n){this.outputs||(this.outputs={}),this.outputs[n=n||fr_COLOR_ATTACHMENT0]=e},detachOutput:function(e){for(var n in this.outputs)this.outputs[n]===e&&(this.outputs[n]=null)},bind:function(e,n){if(this.outputs)for(var i in this.outputs){var c=this.outputs[i];c&&n.attach(c,i)}n&&n.bind(e)},unbind:function(e,n){n.unbind(e)},render:function(e,n){var i=e.gl;if(n){this.bind(e,n);var c=e.getGLExtension("EXT_draw_buffers");if(c&&this.outputs){var v=[];for(var m in this.outputs)(m=+m)>=i.COLOR_ATTACHMENT0&&m<=i.COLOR_ATTACHMENT0+8&&v.push(m);c.drawBuffersEXT(v)}}this.trigger("beforerender",this,e);var b=this.clearDepth?i.DEPTH_BUFFER_BIT:0;if(i.depthMask(!0),this.clearColor){b|=i.COLOR_BUFFER_BIT,i.colorMask(!0,!0,!0,!0);var D=this.clearColor;Array.isArray(D)&&i.clearColor(D[0],D[1],D[2],D[3])}i.clear(b),this.blendWithPrevious?(i.enable(i.BLEND),this.material.transparent=!0):(i.disable(i.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),n&&this.unbind(e,n)},renderQuad:function(e){ku.material=this.material,e.renderPass([ku],P3)},dispose:function(e){}});const Ro=y0;var Hc={},Fu=["px","nx","py","ny","pz","nz"];Hc.prefilterEnvironmentMap=function(e,n,i,c,v){(!v||!c)&&(c=Hc.generateNormalDistribution(),v=Hc.integrateBRDF(e,c));var m=(i=i||{}).width||64,b=i.height||64,D=i.type||n.type,P=new S2({width:m,height:b,type:D,flipY:!1,mipmaps:[]});P.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var F=Math.min(m,b),le=Math.log(F)/Math.log(2)+1,_e=new yl({shader:new ti({vertex:ti.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});_e.set("normalDistribution",c),i.encodeRGBM&&_e.define("fragment","RGBM_ENCODE"),i.decodeRGBM&&_e.define("fragment","RGBM_DECODE");var Oe,Ve=new oc;if("texture2D"===n.textureType){var Ue=new S2({width:m,height:b,type:D===ri.FLOAT?ri.HALF_FLOAT:D});Ml.panoramaToCubeMap(e,n,Ue,{encodeRGBM:i.decodeRGBM}),n=Ue}(Oe=new Ru({scene:Ve,material:_e})).material.set("environmentMap",n);var je=new C3({texture:P});i.encodeRGBM&&(D=P.type=ri.UNSIGNED_BYTE);for(var vt=new Wi({width:m,height:b,type:D}),wt=new hs({depthBuffer:!1}),Ot=Xo[D===ri.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],Rt=0;Rt<le;Rt++){P.mipmaps[Rt]={pixels:{}},Oe.material.set("roughness",Rt/(le-1));for(var At=vt.width,sn=2*Math.atan(At/(At-.5))/Math.PI*180,nn=0;nn<Fu.length;nn++){var An=new Ot(vt.width*vt.height*4);wt.attach(vt),wt.bind(e);var _n=je.getCamera(Fu[nn]);_n.fov=sn,e.render(Ve,_n),e.gl.readPixels(0,0,vt.width,vt.height,ri.RGBA,D,An),wt.unbind(e),P.mipmaps[Rt].pixels[Fu[nn]]=An}vt.width/=2,vt.height/=2,vt.dirty()}return wt.dispose(e),vt.dispose(e),Oe.dispose(e),c.dispose(e),{environmentMap:P,brdfLookup:v,normalDistribution:c,maxMipmapLevel:le}},Hc.integrateBRDF=function(e,n){n=n||Hc.generateNormalDistribution();var i=new hs({depthBuffer:!1}),c=new Ro({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),v=new Wi({width:512,height:256,type:ri.HALF_FLOAT,wrapS:ri.CLAMP_TO_EDGE,wrapT:ri.CLAMP_TO_EDGE,minFilter:ri.NEAREST,magFilter:ri.NEAREST,useMipmap:!1});return c.setUniform("normalDistribution",n),c.setUniform("viewportSize",[512,256]),c.attachOutput(v),c.render(e,i),i.dispose(e),v},Hc.generateNormalDistribution=function(i,c){for(var v=new Wi({width:i=i||256,height:c=c||1024,type:ri.FLOAT,minFilter:ri.NEAREST,magFilter:ri.NEAREST,wrapS:ri.CLAMP_TO_EDGE,wrapT:ri.CLAMP_TO_EDGE,useMipmap:!1}),m=new Float32Array(c*i*4),b=[],D=0;D<i;D++){for(var P=D/i,F=P*P,le=0;le<c;le++){var _e=(le<<16|le>>>16)>>>0;_e=(((16711935&(_e=((252645135&(_e=((858993459&(_e=((1431655765&_e)<<1|(2863311530&_e)>>>1)>>>0))<<2|(3435973836&_e)>>>2)>>>0))<<4|(4042322160&_e)>>>4)>>>0))<<8|(4278255360&_e)>>>8)>>>0)/4294967296;var Ve=Math.sqrt((1-_e)/(1+(F*F-1)*_e));b[le]=Ve}for(le=0;le<c;le++){var Oe=4*(le*i+D),Ue=(Ve=b[le],Math.sqrt(1-Ve*Ve)),vt=2*Math.PI*(le/c);m[Oe]=Ue*Math.cos(vt),m[Oe+1]=Ve,m[Oe+2]=Ue*Math.sin(vt),m[Oe+3]=1}}return v.pixels=m,v};const Uu=Hc;var hd=N1.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,n){if(e.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=Uu.generateNormalDistribution(),this._brdfLookup=Uu.integrateBRDF(e,this._normalDistribution));var i=this.cubemap;if(!i.__prefiltered){var c=Uu.prefilterEnvironmentMap(e,i,{encodeRGBM:!0,width:n,height:n},this._normalDistribution,this._brdfLookup);this.cubemap=c.environmentMap,this.cubemap.__prefiltered=!0,i.dispose(e)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var n=e.color,i=e.intensity;return[n[0]*i,n[1]*i,n[2]*i]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}});const wv=hd;var O4=N1.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new Xo.Float32Array(27)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var n=e.color,i=e.intensity;return[n[0]*i,n[1]*i,n[2]*i]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var n=e._coefficientsTmpArr,i=0;i<e.coefficients.length;i++)n[i]=e.coefficients[i];return n}}}});const I4=O4;var Nc={},E2=["px","nx","py","ny","pz","nz"];function Eh(e,n){var i=e[0],c=e[1],v=e[2];return 0===n?1:1===n?i:2===n?c:3===n?v:4===n?i*v:5===n?c*v:6===n?i*c:7===n?3*v*v-1:i*i-c*c}var Yu={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};Nc.projectEnvironmentMap=function(e,n,i){(i=i||{}).lod=i.lod||0;var c,v=new oc,m=64;"texture2D"===n.textureType?c=new bh({scene:v,environmentMap:n}):(m=n.image&&n.image.px?n.image.px.width:n.width,c=new Ru({scene:v,environmentMap:n}));var b=Math.ceil(m/Math.pow(2,i.lod)),D=Math.ceil(m/Math.pow(2,i.lod)),P=new Wi({width:b,height:D}),F=new hs;c.material.define("fragment","RGBM_ENCODE"),i.decodeRGBM&&c.material.define("fragment","RGBM_DECODE"),c.material.set("lod",i.lod);for(var le=new C3({texture:P}),_e={},Ve=0;Ve<E2.length;Ve++){_e[E2[Ve]]=new Uint8Array(b*D*4);var Oe=le.getCamera(E2[Ve]);Oe.fov=90,F.attach(P),F.bind(e),e.render(v,Oe),e.gl.readPixels(0,0,b,D,ri.RGBA,ri.UNSIGNED_BYTE,_e[E2[Ve]]),F.unbind(e)}return c.dispose(e),F.dispose(e),P.dispose(e),function dd(e,n,i,c){for(var v=new Xo.Float32Array(27),m=Tn.create(),b=Tn.create(),D=Tn.create(),P=0;P<9;P++){for(var F=Tn.create(),le=0;le<E2.length;le++){for(var _e=n[E2[le]],Ve=Tn.create(),Oe=0,Ue=0,je=Yu[E2[le]],vt=0;vt<c;vt++)for(var wt=0;wt<i;wt++){m[0]=wt/(i-1)*2-1,m[1]=vt/(c-1)*2-1,m[2]=-1,Tn.normalize(m,m),D[0]=m[je[0]]*je[3],D[1]=m[je[1]]*je[4],D[2]=m[je[2]]*je[5],b[0]=_e[Ue++]/255,b[1]=_e[Ue++]/255,b[2]=_e[Ue++]/255;var Ot=_e[Ue++]/255*8.12;b[0]*=Ot,b[1]*=Ot,b[2]*=Ot,Tn.scaleAndAdd(Ve,Ve,b,Eh(D,P)*-m[2]),Oe+=-m[2]}Tn.scaleAndAdd(F,F,Ve,1/Oe)}v[3*P]=F[0]/6,v[3*P+1]=F[1]/6,v[3*P+2]=F[2]/6}return v}(0,_e,b,D)};const fd=Nc;var Cv={firstNotNull:function(){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?gn.D5.isArray(n.dataIndex)?gn.D5.map(n.dataIndex,function(i){return e.indexOfRawIndex(i)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?gn.D5.isArray(n.name)?gn.D5.map(n.name,function(i){return e.indexOfName(i)}):e.indexOfName(n.name):void 0}};const Zi=Cv;var Tp=ha.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,n=this.widthSegments,i=this.attributes.position,c=this.attributes.texcoord0,v=this.attributes.normal,m=(n+1)*(e+1);i.init(m),c.init(m),v.init(m);var P,F,le,_e,Ve,Oe,Ue,Rt,b=m>65535?Uint32Array:Uint16Array,D=this.indices=new b(n*e*6),je=this.phiStart,vt=this.phiLength,wt=this.thetaStart,Ot=this.thetaLength,At=[],sn=[],nn=0,An=1/(Rt=this.radius);for(Ue=0;Ue<=e;Ue++)for(Oe=0;Oe<=n;Oe++)_e=Oe/n,Ve=Ue/e,P=-Rt*Math.cos(je+_e*vt)*Math.sin(wt+Ve*Ot),F=Rt*Math.cos(wt+Ve*Ot),le=Rt*Math.sin(je+_e*vt)*Math.sin(wt+Ve*Ot),At[0]=P,At[1]=F,At[2]=le,sn[0]=_e,sn[1]=Ve,i.set(nn,At),c.set(nn,sn),At[0]*=An,At[1]*=An,At[2]*=An,v.set(nn,At),nn++;var Jn,yr,cr,Er=n+1,zr=0;for(Ue=0;Ue<e;Ue++)for(Oe=0;Oe<n;Oe++)Jn=Ue*Er+Oe,cr=(Ue+1)*Er+Oe+1,yr=(Ue+1)*Er+Oe,D[zr++]=Ue*Er+Oe+1,D[zr++]=Jn,D[zr++]=cr,D[zr++]=Jn,D[zr++]=yr,D[zr++]=cr;this.boundingBox=new ls,this.boundingBox.max.set(Rt,Rt,Rt),this.boundingBox.min.set(-Rt,-Rt,-Rt)}});const Tv=Tp;var _0=N1.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var n=e.color,i=e.intensity;return[n[0]*i,n[1]*i,n[2]*i]}}}});const vd=_0;var z2=N1.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new Kr,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var n=e.color,i=e.intensity;return[n[0]*i,n[1]*i,n[2]*i]}}},clone:function(){var e=N1.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const M0=z2;var zh=N1.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var n=e.color,i=e.intensity;return[n[0]*i,n[1]*i,n[2]*i]}}},clone:function(){var e=N1.prototype.clone.call(this);return e.range=this.range,e}});const Gu=zh;var Ah=N1.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new Kr,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var n=e.color,i=e.intensity;return[n[0]*i,n[1]*i,n[2]*i]}}},clone:function(){var e=N1.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const pd=Ah;var sa=function(e,n,i,c){this.array=qr.fromValues(e=e||0,n=n||0,i=i||0,c=c||0),this._dirty=!0};sa.prototype={constructor:sa,add:function(e){return qr.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,i,c){return this.array[0]=e,this.array[1]=n,this.array[2]=i,this.array[3]=c,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new sa(this.x,this.y,this.z,this.w)},copy:function(e){return qr.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return qr.dist(this.array,e.array)},distance:function(e){return qr.distance(this.array,e.array)},div:function(e){return qr.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return qr.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return qr.dot(this.array,e.array)},len:function(){return qr.len(this.array)},length:function(){return qr.length(this.array)},lerp:function(e,n,i){return qr.lerp(this.array,e.array,n.array,i),this._dirty=!0,this},min:function(e){return qr.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return qr.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return qr.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return qr.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return qr.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return qr.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return qr.random(this.array,e),this._dirty=!0,this},scale:function(e){return qr.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return qr.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return qr.sqrDist(this.array,e.array)},squaredDistance:function(e){return qr.squaredDistance(this.array,e.array)},sqrLen:function(){return qr.sqrLen(this.array)},squaredLength:function(){return qr.squaredLength(this.array)},sub:function(e){return qr.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return qr.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return qr.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return qr.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var x1=Object.defineProperty;if(x1){var ju=sa.prototype;x1(ju,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),x1(ju,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),x1(ju,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),x1(ju,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}sa.add=function(e,n,i){return qr.add(e.array,n.array,i.array),e._dirty=!0,e},sa.set=function(e,n,i,c,v){qr.set(e.array,n,i,c,v),e._dirty=!0},sa.copy=function(e,n){return qr.copy(e.array,n.array),e._dirty=!0,e},sa.dist=function(e,n){return qr.distance(e.array,n.array)},sa.distance=sa.dist,sa.div=function(e,n,i){return qr.divide(e.array,n.array,i.array),e._dirty=!0,e},sa.divide=sa.div,sa.dot=function(e,n){return qr.dot(e.array,n.array)},sa.len=function(e){return qr.length(e.array)},sa.lerp=function(e,n,i,c){return qr.lerp(e.array,n.array,i.array,c),e._dirty=!0,e},sa.min=function(e,n,i){return qr.min(e.array,n.array,i.array),e._dirty=!0,e},sa.max=function(e,n,i){return qr.max(e.array,n.array,i.array),e._dirty=!0,e},sa.mul=function(e,n,i){return qr.multiply(e.array,n.array,i.array),e._dirty=!0,e},sa.multiply=sa.mul,sa.negate=function(e,n){return qr.negate(e.array,n.array),e._dirty=!0,e},sa.normalize=function(e,n){return qr.normalize(e.array,n.array),e._dirty=!0,e},sa.random=function(e,n){return qr.random(e.array,n),e._dirty=!0,e},sa.scale=function(e,n,i){return qr.scale(e.array,n.array,i),e._dirty=!0,e},sa.scaleAndAdd=function(e,n,i,c){return qr.scaleAndAdd(e.array,n.array,i.array,c),e._dirty=!0,e},sa.sqrDist=function(e,n){return qr.sqrDist(e.array,n.array)},sa.squaredDistance=sa.sqrDist,sa.sqrLen=function(e){return qr.sqrLen(e.array)},sa.squaredLength=sa.sqrLen,sa.sub=function(e,n,i){return qr.subtract(e.array,n.array,i.array),e._dirty=!0,e},sa.subtract=sa.sub,sa.transformMat4=function(e,n,i){return qr.transformMat4(e.array,n.array,i.array),e._dirty=!0,e},sa.transformQuat=function(e,n,i){return qr.transformQuat(e.array,n.array,i.array),e._dirty=!0,e};const Wu=sa;var al={create:function(){var e=new eo(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var n=new eo(4);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,n){if(e===n){var i=n[1];e[1]=n[2],e[2]=i}else e[0]=n[0],e[1]=n[2],e[2]=n[1],e[3]=n[3];return e},invert:function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=i*m-v*c;return b?(e[0]=m*(b=1/b),e[1]=-c*b,e[2]=-v*b,e[3]=i*b,e):null},adjoint:function(e,n){var i=n[0];return e[0]=n[3],e[1]=-n[1],e[2]=-n[2],e[3]=i,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=i[0],P=i[1],F=i[2],le=i[3];return e[0]=c*D+m*P,e[1]=v*D+b*P,e[2]=c*F+m*le,e[3]=v*F+b*le,e}};al.mul=al.multiply,al.rotate=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=Math.sin(i),P=Math.cos(i);return e[0]=c*P+m*D,e[1]=v*P+b*D,e[2]=c*-D+m*P,e[3]=v*-D+b*P,e},al.scale=function(e,n,i){var v=n[1],m=n[2],b=n[3],D=i[0],P=i[1];return e[0]=n[0]*D,e[1]=v*D,e[2]=m*P,e[3]=b*P,e},al.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},al.LDU=function(e,n,i,c){return e[2]=c[2]/c[0],i[0]=c[0],i[1]=c[1],i[3]=c[3]-e[2]*i[1],[e,n,i]};const To=al;var ol=function(){this.array=To.create(),this._dirty=!0};ol.prototype={constructor:ol,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},clone:function(){return(new ol).copy(this)},copy:function(e){return To.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return To.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return To.determinant(this.array)},identity:function(){return To.identity(this.array),this._dirty=!0,this},invert:function(){return To.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return To.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return To.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return To.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return To.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return To.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return To.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return To.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},ol.adjoint=function(e,n){return To.adjoint(e.array,n.array),e._dirty=!0,e},ol.copy=function(e,n){return To.copy(e.array,n.array),e._dirty=!0,e},ol.determinant=function(e){return To.determinant(e.array)},ol.identity=function(e){return To.identity(e.array),e._dirty=!0,e},ol.invert=function(e,n){return To.invert(e.array,n.array),e._dirty=!0,e},ol.mul=function(e,n,i){return To.mul(e.array,n.array,i.array),e._dirty=!0,e},ol.multiply=ol.mul,ol.rotate=function(e,n,i){return To.rotate(e.array,n.array,i),e._dirty=!0,e},ol.scale=function(e,n,i){return To.scale(e.array,n.array,i.array),e._dirty=!0,e},ol.transpose=function(e,n){return To.transpose(e.array,n.array),e._dirty=!0,e};const Bc=ol;var sl={create:function(){var e=new eo(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var n=new eo(6);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,n){var i=n[0],c=n[1],v=n[2],m=n[3],b=n[4],D=n[5],P=i*m-c*v;return P?(e[0]=m*(P=1/P),e[1]=-c*P,e[2]=-v*P,e[3]=i*P,e[4]=(v*D-m*b)*P,e[5]=(c*b-i*D)*P,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=i[0],le=i[1],_e=i[2],Ve=i[3],Oe=i[4],Ue=i[5];return e[0]=c*F+m*le,e[1]=v*F+b*le,e[2]=c*_e+m*Ve,e[3]=v*_e+b*Ve,e[4]=c*Oe+m*Ue+D,e[5]=v*Oe+b*Ue+P,e}};sl.mul=sl.multiply,sl.rotate=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=Math.sin(i),le=Math.cos(i);return e[0]=c*le+m*F,e[1]=v*le+b*F,e[2]=c*-F+m*le,e[3]=v*-F+b*le,e[4]=D,e[5]=P,e},sl.scale=function(e,n,i){var v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=i[0],le=i[1];return e[0]=n[0]*F,e[1]=v*F,e[2]=m*le,e[3]=b*le,e[4]=D,e[5]=P,e},sl.translate=function(e,n,i){var c=n[0],v=n[1],m=n[2],b=n[3],D=n[4],P=n[5],F=i[0],le=i[1];return e[0]=c,e[1]=v,e[2]=m,e[3]=b,e[4]=c*F+m*le+D,e[5]=v*F+b*le+P,e},sl.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};const Wo=sl;var Fs=function(){this.array=Wo.create(),this._dirty=!0};Fs.prototype={constructor:Fs,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},clone:function(){return(new Fs).copy(this)},copy:function(e){return Wo.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Wo.determinant(this.array)},identity:function(){return Wo.identity(this.array),this._dirty=!0,this},invert:function(){return Wo.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return Wo.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Wo.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Wo.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Wo.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return Wo.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Wo.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Wo.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Fs.copy=function(e,n){return Wo.copy(e.array,n.array),e._dirty=!0,e},Fs.determinant=function(e){return Wo.determinant(e.array)},Fs.identity=function(e){return Wo.identity(e.array),e._dirty=!0,e},Fs.invert=function(e,n){return Wo.invert(e.array,n.array),e._dirty=!0,e},Fs.mul=function(e,n,i){return Wo.mul(e.array,n.array,i.array),e._dirty=!0,e},Fs.multiply=Fs.mul,Fs.rotate=function(e,n,i){return Wo.rotate(e.array,n.array,i),e._dirty=!0,e},Fs.scale=function(e,n,i){return Wo.scale(e.array,n.array,i.array),e._dirty=!0,e},Fs.translate=function(e,n,i){return Wo.translate(e.array,n.array,i.array),e._dirty=!0,e};const Ph=Fs;var Qo=function(){this.array=ji.create(),this._dirty=!0};Qo.prototype={constructor:Qo,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},adjoint:function(){return ji.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Qo).copy(this)},copy:function(e){return ji.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return ji.determinant(this.array)},fromMat2d:function(e){return ji.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return ji.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return ji.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return ji.identity(this.array),this._dirty=!0,this},invert:function(){return ji.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return ji.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return ji.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return ji.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return ji.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return ji.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return ji.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return ji.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return ji.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return ji.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Qo.adjoint=function(e,n){return ji.adjoint(e.array,n.array),e._dirty=!0,e},Qo.copy=function(e,n){return ji.copy(e.array,n.array),e._dirty=!0,e},Qo.determinant=function(e){return ji.determinant(e.array)},Qo.identity=function(e){return ji.identity(e.array),e._dirty=!0,e},Qo.invert=function(e,n){return ji.invert(e.array,n.array),e},Qo.mul=function(e,n,i){return ji.mul(e.array,n.array,i.array),e._dirty=!0,e},Qo.multiply=Qo.mul,Qo.fromMat2d=function(e,n){return ji.fromMat2d(e.array,n.array),e._dirty=!0,e},Qo.fromMat4=function(e,n){return ji.fromMat4(e.array,n.array),e._dirty=!0,e},Qo.fromQuat=function(e,n){return ji.fromQuat(e.array,n.array),e._dirty=!0,e},Qo.normalFromMat4=function(e,n){return ji.normalFromMat4(e.array,n.array),e._dirty=!0,e},Qo.rotate=function(e,n,i){return ji.rotate(e.array,n.array,i),e._dirty=!0,e},Qo.scale=function(e,n,i){return ji.scale(e.array,n.array,i.array),e._dirty=!0,e},Qo.transpose=function(e,n){return ji.transpose(e.array,n.array),e._dirty=!0,e},Qo.translate=function(e,n,i){return ji.translate(e.array,n.array,i.array),e._dirty=!0,e};const R4=Qo;var Lh=C(9638),Zu={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,n){var c;if(this._animators=this._animators||[],e){for(var v=e.split("."),m=this,b=0,D=v.length;b<D;b++)m&&(m=m[v[b]]);m&&(c=m)}else c=this;if(null==c)throw new Error("Target "+e+" not exists");var P=this._animators,F=new Lh.Z(c,n),le=this;return F.during(function(){le.__zr&&le.__zr.refresh()}).done(function(){var _e=P.indexOf(F);_e>=0&&P.splice(_e,1)}),P.push(F),this.__zr&&this.__zr.animation.addAnimator(F),F},stopAnimation:function(e){this._animators=this._animators||[];for(var n=this._animators,i=n.length,c=0;c<i;c++)n[c].stop(e);return n.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var n=0;n<this._animators.length;n++)e.animation.addAnimator(this._animators[n])},removeAnimatorsFromZr:function(e){if(this._animators)for(var n=0;n<this._animators.length;n++)e.animation.removeAnimator(this._animators[n])}};const F1="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end";function Oh(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}Object.assign(V1.prototype,Zu),ti.import(F1),ti.import(oh),ti.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),ti.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),ti.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),ti.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),ti.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),ti.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var _d=oc.prototype.addToScene,$u=oc.prototype.removeFromScene;oc.prototype.addToScene=function(e){if(_d.call(this,e),this.__zr){var n=this.__zr;e.traverse(function(i){i.__zr=n,i.addAnimatorsToZr&&i.addAnimatorsToZr(n)})}},oc.prototype.removeFromScene=function(e){$u.call(this,e),e.traverse(function(n){var i=n.__zr;n.__zr=null,i&&n.removeAnimatorsFromZr&&n.removeAnimatorsFromZr(i)})},yl.prototype.setTextureImage=function(e,n,i,c){if(this.shader){var b,v=i.getZr(),m=this;return m.autoUpdateTextureStatus=!1,m.disableTexture(e),function md(e){return!e||"none"===e}(n)||(b=Si.loadTexture(n,i,c,function(D){m.enableTexture(e),v&&v.refresh()}),m.set(e,b)),b}};var Si={};Si.Renderer=_2,Si.Node=V1,Si.Mesh=H1,Si.Shader=ti,Si.Material=yl,Si.Texture=ri,Si.Texture2D=Wi,Si.Geometry=ha,Si.SphereGeometry=Tv,Si.PlaneGeometry=P4,Si.CubeGeometry=Lc,Si.AmbientLight=vd,Si.DirectionalLight=M0,Si.PointLight=Gu,Si.SpotLight=pd,Si.PerspectiveCamera=jo,Si.OrthographicCamera=Vc,Si.Vector2=ws,Si.Vector3=Kr,Si.Vector4=Wu,Si.Quaternion=_4,Si.Matrix2=Bc,Si.Matrix2d=Ph,Si.Matrix3=R4,Si.Matrix4=ui,Si.Plane=C4,Si.Ray=hh,Si.BoundingBox=ls,Si.Frustum=Wl;var V4=null;function Xu(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function xd(e){if((e.wrapS===ri.REPEAT||e.wrapT===ri.REPEAT)&&e.image){var n=Xu(e.width),i=Xu(e.height);if(n!==e.width||i!==e.height){var c=document.createElement("canvas");c.width=n,c.height=i,c.getContext("2d").drawImage(e.image,0,0,n,i),e.image=c}}}Si.loadTexture=function(e,n,i,c){"function"==typeof i&&(c=i,i={}),i=i||{};for(var v=Object.keys(i).sort(),m="",b=0;b<v.length;b++)m+=v[b]+"_"+i[v[b]]+"_";var D=n.__textureCache=n.__textureCache||new ed.ZP(20);if(function yd(e){return e.getZr&&e.setOption}(e)){if(F=D.get(m+(P=e.__textureid__)))F.texture.surface.setECharts(e),c&&c(F.texture);else{var le=new D2(e);for(le.onupdate=function(){n.getZr().refresh()},F={texture:le.getTexture()},b=0;b<v.length;b++)F.texture[v[b]]=i[v[b]];e.__textureid__=P=e.__textureid__||"__ecgl_ec__"+F.texture.__uid__,D.put(m+P,F),c&&c(F.texture)}return F.texture}if(Oh(e)){var P,F;if(!(F=D.get(m+(P=e.__textureid__)))){for(F={texture:new Si.Texture2D({image:e})},b=0;b<v.length;b++)F.texture[v[b]]=i[v[b]];e.__textureid__=P=e.__textureid__||"__ecgl_image__"+F.texture.__uid__,D.put(m+P,F),xd(F.texture),c&&c(F.texture)}return F.texture}if(F=D.get(m+e))F.callbacks?F.callbacks.push(c):c&&c(F.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){F={callbacks:[c]};var _e=Ml.loadTexture(e,{exposure:i.exposure,fileType:"hdr"},function(){_e.dirty(),F.callbacks.forEach(function(Ue){Ue&&Ue(_e)}),F.callbacks=null});F.texture=_e,D.put(m+e,F)}else{for(_e=new Si.Texture2D({image:new Image}),b=0;b<v.length;b++)_e[v[b]]=i[v[b]];F={texture:_e,callbacks:[c]};var Ve=_e.image;Ve.onload=function(){_e.image=Ve,xd(_e),_e.dirty(),F.callbacks.forEach(function(je){je&&je(_e)}),F.callbacks=null},Ve.crossOrigin="Anonymous",Ve.src=e,_e.image=function Md(){return null!==V4||(V4=Ml.createBlank("rgba(255,255,255,0)").image),V4}(),D.put(m+e,F)}return F.texture},Si.createAmbientCubemap=function(e,n,i,c){var v=(e=e||{}).texture,m=Zi.firstNotNull(e.exposure,1),b=new wv({intensity:Zi.firstNotNull(e.specularIntensity,1)}),D=new I4({intensity:Zi.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return b.cubemap=Si.loadTexture(v,i,{exposure:m},function(){b.cubemap.flipY=!1,b.prefilter(n,32),D.coefficients=fd.projectEnvironmentMap(n,b.cubemap,{lod:1}),c&&c()}),{specular:b,diffuse:D}},Si.createBlankTexture=Ml.createBlank,Si.isImage=Oh,Si.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},Si.parseColor=function(e,n){return e instanceof Array?(n||(n=[]),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e.length>3?e[3]:1,n):((n=gn.$_.parse(e||"#000",n)||[0,0,0,0])[0]/=255,n[1]/=255,n[2]/=255,n)},Si.directionFromAlphaBeta=function(e,n){var i=e/180*Math.PI+Math.PI/2,c=-n/180*Math.PI+Math.PI/2,v=[],m=Math.sin(i);return v[0]=m*Math.cos(c),v[1]=-Math.cos(i),v[2]=m*Math.sin(c),v},Si.getShadowResolution=function(e){var n=1024;switch(e){case"low":n=512;break;case"medium":break;case"high":n=2048;break;case"ultra":n=4096}return n},Si.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],Si.createShader=function(e){"ecgl.shadow"===e&&(e="ecgl.displayShadow");var n=ti.source(e+".vertex"),i=ti.source(e+".fragment");n||console.error("Vertex shader of '%s' not exits",e),i||console.error("Fragment shader of '%s' not exits",e);var c=new ti(n,i);return c.name=e,c},Si.createMaterial=function(e,n){n instanceof Array||(n=[n]);var i=Si.createShader(e),c=new yl({shader:i});return n.forEach(function(v){"string"==typeof v&&c.define(v)}),c},Si.setMaterialFromModel=function(e,n,i,c){n.autoUpdateTextureStatus=!1;var v=i.getModel(e+"Material"),m=v.get("detailTexture"),b=Zi.firstNotNull(v.get("textureTiling"),1),D=Zi.firstNotNull(v.get("textureOffset"),0);"number"==typeof b&&(b=[b,b]),"number"==typeof D&&(D=[D,D]);var P=b[0]>1||b[1]>1?Si.Texture.REPEAT:Si.Texture.CLAMP_TO_EDGE,F={anisotropic:8,wrapS:P,wrapT:P};if("realistic"===e){var le=v.get("roughness"),_e=v.get("metalness");null!=_e?isNaN(_e)&&(n.setTextureImage("metalnessMap",_e,c,F),_e=Zi.firstNotNull(v.get("metalnessAdjust"),.5)):_e=0,null!=le?isNaN(le)&&(n.setTextureImage("roughnessMap",le,c,F),le=Zi.firstNotNull(v.get("roughnessAdjust"),.5)):le=.5;var Ve=v.get("normalTexture");n.setTextureImage("detailMap",m,c,F),n.setTextureImage("normalMap",Ve,c,F),n.set({roughness:le,metalness:_e,detailUvRepeat:b,detailUvOffset:D})}else if("lambert"===e)n.setTextureImage("detailMap",m,c,F),n.set({detailUvRepeat:b,detailUvOffset:D});else if("color"===e)n.setTextureImage("detailMap",m,c,F),n.set({detailUvRepeat:b,detailUvOffset:D});else if("hatching"===e){for(var Oe=v.get("hatchingTextures")||[],Ue=0;Ue<6;Ue++)n.setTextureImage("hatch"+(Ue+1),Oe[Ue],c,{anisotropic:8,wrapS:Si.Texture.REPEAT,wrapT:Si.Texture.REPEAT});n.set({detailUvRepeat:b,detailUvOffset:D})}},Si.updateVertexAnimation=function(e,n,i,c){var v=c.get("animation"),m=c.get("animationDurationUpdate"),b=c.get("animationEasingUpdate"),D=i.shadowDepthMaterial;if(v&&n&&m>0&&n.geometry.vertexCount===i.geometry.vertexCount){i.material.define("vertex","VERTEX_ANIMATION"),i.ignorePreZ=!0,D&&D.define("vertex","VERTEX_ANIMATION");for(var P=0;P<e.length;P++)i.geometry.attributes[e[P][0]].value=n.geometry.attributes[e[P][1]].value;i.geometry.dirty(),i.__percent=0,i.material.set("percent",0),i.stopAnimation(),i.animate().when(m,{__percent:1}).during(function(){i.material.set("percent",i.__percent),D&&D.set("percent",i.__percent)}).done(function(){i.ignorePreZ=!1,i.material.undefine("vertex","VERTEX_ANIMATION"),D&&D.undefine("vertex","VERTEX_ANIMATION")}).start(b)}else i.material.undefine("vertex","VERTEX_ANIMATION"),D&&D.undefine("vertex","VERTEX_ANIMATION")};const Kt=Si;var bd=C(5962),Ja=function(e,n){this.id=e,this.zr=n;try{this.renderer=new _2({clearBit:0,devicePixelRatio:n.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(n.painter.getWidth(),n.painter.getHeight())}catch(c){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(c)}this.onglobalout=this.onglobalout.bind(this),n.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var i=this.dom.style;i.position="absolute",i.left="0",i.top="0",this.views=[],this._picking=new W6({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new gn.Q.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function wd(e){var n=e.__zr;e.__zr=null,n&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(n)}Ja.prototype.setUnpainted=function(){},Ja.prototype.addView=function(e){if(e.layer!==this){var n=this._viewsToDispose.indexOf(e);n>=0&&this._viewsToDispose.splice(n,1),this.views.push(e),e.layer=this;var i=this.zr;e.scene.traverse(function(c){c.__zr=i,c.addAnimatorsToZr&&c.addAnimatorsToZr(i)})}},Ja.prototype.removeView=function(e){if(e.layer===this){var n=this.views.indexOf(e);n>=0&&(this.views.splice(n,1),e.scene.traverse(wd,this),e.layer=null,this._viewsToDispose.push(e))}},Ja.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(wd,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0},Ja.prototype.resize=function(e,n){this.renderer.resize(e,n)},Ja.prototype.clear=function(){var e=this.renderer.gl,n=this._backgroundColor||[0,0,0,0];e.clearColor(n[0],n[1],n[2],n[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},Ja.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},Ja.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},Ja.prototype.needsRefresh=function(){this.zr.refresh()},Ja.prototype.refresh=function(e){this._backgroundColor=e?Kt.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var n=0;n<this.views.length;n++)this.views[n].prepareRender(this.renderer);for(this._doRender(!1),this._trackAndClean(),n=0;n<this._viewsToDispose.length;n++)this._viewsToDispose[n].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},Ja.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},Ja.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var n=0;n<this.views.length;n++)this.views[n].render(this.renderer,e);this.renderer.restoreViewport()},Ja.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var Mg=1;function O3(e){for(var n=0;n<e.length;n++)e[n].__used__=0}function sc(e,n){for(var i=0;i<n.length;i++)n[i].__used__||n[i].dispose(e)}function x0(e,n){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&n.push(e)}function Sd(e,n,i){var c,v;e.traverse(function(b){if(b.isRenderable()){var D=b.geometry,P=b.material;if(P!==c)for(var F=P.getTextureUniforms(),le=0;le<F.length;le++){var Ve=P.uniforms[F[le]].value;if(Ve)if(Ve instanceof ri)x0(Ve,n);else if(Ve instanceof Array)for(var Oe=0;Oe<Ve.length;Oe++)Ve[Oe]instanceof ri&&x0(Ve[Oe],n)}D!==v&&x0(D,i),c=P,v=D}});for(var m=0;m<e.lights.length;m++)e.lights[m].cubemap&&x0(e.lights[m].cubemap,n)}Ja.prototype._startAccumulating=function(e){var n=this;this._stopAccumulating();for(var i=!1,c=0;c<this.views.length;c++)i=this.views[c].needsAccumulate()||i;function v(m){if(n._accumulatingId&&m===n._accumulatingId){for(var b=!0,D=0;D<n.views.length;D++)b=n.views[D].isAccumulateFinished()&&i;b||(n._doRender(!0),e?v(m):(0,bd.Z)(function(){v(m)}))}}i&&(this._accumulatingId=Mg++,e?v(n._accumulatingId):this._accumulatingTimeout=setTimeout(function(){v(n._accumulatingId)},50))},Ja.prototype._trackAndClean=function(){var e=[],n=[];this._textureList&&(O3(this._textureList),O3(this._geometriesList));for(var i=0;i<this.views.length;i++)Sd(this.views[i].scene,e,n);this._textureList&&(sc(this.renderer,this._textureList),sc(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=n},Ja.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(O3(this._textureList),O3(this._geometriesList),sc(this.renderer,this._textureList),sc(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},Ja.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY);n&&(this._dispatchEvent("mousedown",e,n),this._dispatchDataEvent("mousedown",e,n)),this._downX=e.offsetX,this._downY=e.offsetY}},Ja.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY),i=n&&n.target,c=this._hovered;this._hovered=n,c&&i!==c.target&&(c.relatedTarget=i,this._dispatchEvent("mouseout",e,c),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,n),n&&(this.zr.setCursorStyle("pointer"),(!c||i!==c.target)&&this._dispatchEvent("mouseover",e,n)),this._dispatchDataEvent("mousemove",e,n)}},Ja.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY);n&&(this._dispatchEvent("mouseup",e,n),this._dispatchDataEvent("mouseup",e,n)),this._upX=e.offsetX,this._upY=e.offsetY}},Ja.prototype.onclick=Ja.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this._upX-this._downX,i=this._upY-this._downY;if(!(Math.sqrt(n*n+i*i)>20)){var c=this.pickObject((e=e.event).offsetX,e.offsetY);c&&(this._dispatchEvent(e.type,e,c),this._dispatchDataEvent(e.type,e,c));var v=this._clickToSetFocusPoint(e);v&&v.view.setDOFFocusOnPoint(v.distance)&&this.zr.refresh()}}},Ja.prototype._clickToSetFocusPoint=function(e){for(var n=this.renderer,i=n.viewport,c=this.views.length-1;c>=0;c--){var v=this.views[c];if(v.hasDOF()&&v.containPoint(e.offsetX,e.offsetY)){this._picking.scene=v.scene,this._picking.camera=v.camera,n.viewport=v.viewport;var m=this._picking.pick(e.offsetX,e.offsetY,!0);if(m)return m.view=v,m}}n.viewport=i},Ja.prototype.onglobalout=function(e){var n=this._hovered;n&&this._dispatchEvent("mouseout",e,{target:n.target})},Ja.prototype.pickObject=function(e,n){for(var i=[],c=this.renderer,v=c.viewport,m=0;m<this.views.length;m++){var b=this.views[m];b.containPoint(e,n)&&(this._picking.scene=b.scene,this._picking.camera=b.camera,c.viewport=b.viewport,this._picking.pickAll(e,n,i))}return c.viewport=v,i.sort(function(D,P){return D.distance-P.distance}),i[0]},Ja.prototype._dispatchEvent=function(e,n,i){i||(i={});var c=i.target;for(i.cancelBubble=!1,i.event=n,i.type=e,i.offsetX=n.offsetX,i.offsetY=n.offsetY;c&&(c.trigger(e,i),c=c.getParent(),!i.cancelBubble););this._dispatchToView(e,i)},Ja.prototype._dispatchDataEvent=function(e,n,i){var c=i&&i.target,v=c&&c.dataIndex,m=c&&c.seriesIndex,b=c&&c.eventData,D=!1,P=this._zrEventProxy;P.x=n.offsetX,P.y=n.offsetY,P.update();var F={target:P};const le=gn._y.getECData(P);"mousemove"===e&&(null!=v?v!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(le.dataIndex=this._lastDataIndex,le.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(F,"mouseout",n)),D=!0):null!=b&&b!==this._lastEventData&&(null!=this._lastEventData&&(le.eventData=this._lastEventData,this.zr.handler.dispatchToElement(F,"mouseout",n)),D=!0),this._lastEventData=b,this._lastDataIndex=v,this._lastSeriesIndex=m),le.eventData=b,le.dataIndex=v,le.seriesIndex=m,(null!=b||parseInt(v,10)>=0&&parseInt(m,10)>=0)&&(this.zr.handler.dispatchToElement(F,e,n),D&&this.zr.handler.dispatchToElement(F,"mouseover",n))},Ja.prototype._dispatchToView=function(e,n){for(var i=0;i<this.views.length;i++)this.views[i].containPoint(n.offsetX,n.offsetY)&&this.views[i].trigger(e,n)},Object.assign(Ja.prototype,n0);const Cd=Ja;var zp=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function I3(e,n){if(e&&e[n]&&(e[n].normal||e[n].emphasis)){var i=e[n].normal,c=e[n].emphasis;i&&(e[n]=i),c&&(e.emphasis=e.emphasis||{},e.emphasis[n]=c)}}function Ih(e){e&&(e instanceof Array||(e=[e]),gn.D5.each(e,function(n){if(n.axisLabel){var i=n.axisLabel;Object.assign(i,i.textStyle),i.textStyle=null}}))}function Pp(e){this._layers={},this._zr=e}Pp.prototype.update=function(e,n){var i=this,c=n.getZr();if(c.getWidth()&&c.getHeight()){for(var b in this._layers)this._layers[b].removeViewsAll();e.eachComponent(function(D,P){if("series"!==D){var F=n.getViewOfComponentModel(P),le=P.coordinateSystem;if(F.__ecgl__){if(le){if(!le.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+P.id);_e=le.viewGL}else{if(!P.viewGL)return void console.error("Can't find viewGL of component "+P.id);_e=le.viewGL}var _e=le.viewGL,Ve=v(P);Ve.addView(_e),F.afterRender&&F.afterRender(P,e,n,Ve),m(F.groupGL,P.get("silent"))}}}),e.eachSeries(function(D){var P=n.getViewOfSeriesModel(D),F=D.coordinateSystem;if(P.__ecgl__){if(F&&!F.viewGL&&!P.viewGL)return void console.error("Can't find viewGL of series "+P.id);var le=F&&F.viewGL||P.viewGL,_e=v(D);_e.addView(le),P.afterRender&&P.afterRender(D,e,n,_e),m(P.groupGL,D.get("silent"))}})}else console.warn("Dom has no width or height");function v(D){var P;c.setSleepAfterStill(0),P=D.get("zlevel");var F=i._layers,le=F[P];if(!le){if(le=F[P]=new Cd("gl-"+P,c),c.painter.isSingleCanvas()){le.virtual=!0;var _e=new gn.Q.Image({z:1e4,style:{image:le.renderer.canvas},silent:!0});le.__hostImage=_e,c.add(_e)}c.painter.insertLayer(P,le)}return le.__hostImage&&le.__hostImage.setStyle({width:le.renderer.getWidth(),height:le.renderer.getHeight()}),le}function m(D,P){D&&D.traverse(function(F){F.isRenderable&&F.isRenderable()&&(F.ignorePicking=null!=F.$ignorePicking?F.$ignorePicking:P)})}},gn.sq(function(e){var n=e.getZr(),i=n.painter.dispose;n.painter.dispose=function(){"function"==typeof this.eachOtherLayer&&this.eachOtherLayer(function(c){c instanceof Cd&&c.dispose()}),i.call(this)},n.painter.getRenderedCanvas=function(c){if(c=c||{},this._singleCanvas)return this._layers[0].dom;var v=document.createElement("canvas"),m=c.pixelRatio||this.dpr;v.width=this.getWidth()*m,v.height=this.getHeight()*m;var b=v.getContext("2d");b.dpr=m,b.clearRect(0,0,v.width,v.height),c.backgroundColor&&(b.fillStyle=c.backgroundColor,b.fillRect(0,0,v.width,v.height));var F,D=this.storage.getDisplayList(!0),P={},le=this;function _e(je,vt){var wt=le._zlevelList;null==je&&(je=-1/0);for(var Ot,Rt=0;Rt<wt.length;Rt++){var At=wt[Rt],sn=le._layers[At];if(!sn.__builtin__&&At>je&&At<vt){Ot=sn;break}}Ot&&Ot.renderToCanvas&&(b.save(),Ot.renderToCanvas(b),b.restore())}for(var Ve={ctx:b},Oe=0;Oe<D.length;Oe++){var Ue=D[Oe];Ue.zlevel!==F&&(_e(F,Ue.zlevel),F=Ue.zlevel),this._doPaintEl(Ue,Ve,!0,null,P)}return _e(F,1/0),v}}),gn.Br(function(e,n){var i=n.getZr();(i.__egl=i.__egl||new Pp(i)).update(e,n)}),gn.ds(function Ev(e){gn.D5.each(e.series,function(n){gn.D5.indexOf(zp,n.type)>=0&&(function Ap(e){I3(e,"itemStyle"),I3(e,"lineStyle"),I3(e,"areaStyle"),I3(e,"label")}(n),"mapbox"===n.coordinateSystem&&(n.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),Ih(e.xAxis3D),Ih(e.yAxis3D),Ih(e.zAxis3D),Ih(e.grid3D),I3(e.geo3D)});const Td={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}},Qu={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},b0={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var Ju=gn.tF.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});gn.D5.merge(Ju.prototype,Td),gn.D5.merge(Ju.prototype,Qu),gn.D5.merge(Ju.prototype,b0);const bg=Ju;var ki=C(4258),R3=Zi.firstNotNull,Dd={left:0,middle:1,right:2};function w0(e){return e instanceof Array||(e=[e,e]),e}var Ed=as.extend(function(){return{zr:null,viewGL:null,_center:new Kr,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new ws,_panVelocity:new ws,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,n){var i=(n=n||{}).baseDistance||0,c=n.baseOrthoSize||1,v=e.get("projection");"perspective"!==v&&"orthographic"!==v&&"isometric"!==v&&(v="perspective"),this._projection=v,this.viewGL.setProjection(v);var m=e.get("distance")+i,b=e.get("orthographicSize")+c;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(Ve){this[Ve[0]]=R3(e.get(Ve[0]),Ve[1])},this),this.minDistance+=i,this.maxDistance+=i,this.minOrthographicSize+=c,this.maxOrthographicSize+=c;var D=e.ecModel,P={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(Ve){P[Ve]=R3(e.get(Ve),D&&D.get(Ve))});var F=R3(n.alpha,e.get("alpha"))||0,le=R3(n.beta,e.get("beta"))||0,_e=R3(n.center,e.get("center"))||[0,0,0];P.animation&&P.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:F,beta:le,center:_e,distance:m,orthographicSize:b,easing:P.animationEasingUpdate,duration:P.animationDurationUpdate}):(this.setDistance(m),this.setAlpha(F),this.setBeta(le),this.setCenter(_e),this.setOrthographicSize(b)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(e){var n=this.zr,i=this,c={},v={};return null!=e.distance&&(c.distance=this.getDistance(),v.distance=e.distance),null!=e.orthographicSize&&(c.orthographicSize=this.getOrthographicSize(),v.orthographicSize=e.orthographicSize),null!=e.alpha&&(c.alpha=this.getAlpha(),v.alpha=e.alpha),null!=e.beta&&(c.beta=this.getBeta(),v.beta=e.beta),null!=e.center&&(c.center=this.getCenter(),v.center=e.center),this._addAnimator(n.animation.animate(c).when(e.duration||1e3,v).during(function(){null!=c.alpha&&i.setAlpha(c.alpha),null!=c.beta&&i.setBeta(c.beta),null!=c.distance&&i.setDistance(c.distance),null!=c.center&&i.setCenter(c.center),null!=c.orthographicSize&&i.setOrthographicSize(c.orthographicSize),i._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var n=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=n*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var n=this._rotateVelocity;this._phi=n.y*e/20+this._phi,this._theta=n.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(n,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var n=this.getCamera(),i=this._orthoSize,c=i/this.viewGL.viewport.height*this.viewGL.viewport.width;n.left=-c/2,n.right=c/2,n.top=i/2,n.bottom=-i/2},_updatePan:function(e){var n=this._panVelocity,i=this._distance,c=this.getCamera(),v=c.worldTransform.y;this._center.scaleAndAdd(c.worldTransform.x,-n.x*i/200).scaleAndAdd(v,-n.y*i/200),this._vectorDamping(n,0)},_updateTransform:function(){var e=this.getCamera(),n=new Kr,i=this._theta+Math.PI/2,c=this._phi+Math.PI/2,v=Math.sin(i);n.x=v*Math.cos(c),n.y=-Math.cos(i),n.z=v*Math.sin(c),e.position.copy(this._center).scaleAndAdd(n,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,n=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){n._rotating=!0},1e3*e))},_vectorDamping:function(e,n){var i=e.len();(i*=n)<1e-4&&(i=0),e.normalize().scale(i)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,n=Math.asin(e.y),i=Math.atan2(e.x,e.z);this._theta=n,this._phi=-i,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){e.target||this._isAnimating()||this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):this._mode=e.event.button===Dd[this.rotateMouseButton]?"rotate":e.event.button===Dd[this.panMouseButton]?"pan":"",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy||this._isAnimating())){var n=w0(this.panSensitivity),i=w0(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*i[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*i[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*n[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*n[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){this._isAnimating()||this._zoomHandler(e,e.event.wheelDelta||-e.event.detail)},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,n){var v;0!==n&&(this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(v="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(n>0?-1:1)*v*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()))},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var n=this._animators;return n.push(e),e.done(function(){var i=n.indexOf(e);i>=0&&n.splice(i,1)}),e}});Object.defineProperty(Ed.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const Rh=Ed,P2={convertToDynamicArray:function(e){e&&this.resetOffset();var n=this.attributes;for(var i in n)n[i].value=e||!n[i].value?[]:Array.prototype.slice.call(n[i].value);this.indices=e||!this.indices?[]:Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var n in e)e[n].value=e[n].value&&e[n].value.length>0?new Float32Array(e[n].value):null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},Do={vec2:pi,vec3:Tn,vec4:qr,mat2:To,mat2d:Wo,mat3:ji,mat4:Wr,quat:wi};var C0=Do.vec3,zd=[[0,0],[1,1]],Vh=ha.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new ha.Attribute("position","float",3,"POSITION"),positionPrev:new ha.Attribute("positionPrev","float",3),positionNext:new ha.Attribute("positionNext","float",3),prevPositionPrev:new ha.Attribute("prevPositionPrev","float",3),prevPosition:new ha.Attribute("prevPosition","float",3),prevPositionNext:new ha.Attribute("prevPositionNext","float",3),offset:new ha.Attribute("offset","float",1),color:new ha.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var n=this.attributes;this.vertexCount!==e&&(n.position.init(e),n.color.init(e),this.useNativeLine||(n.positionPrev.init(e),n.positionNext.init(e),n.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,n,i,c){return 1/(C0.dist(e,n)+C0.dist(i,n)+C0.dist(c,i)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,n,i,c){var v=this._getCubicCurveApproxStep(e,n,i,c),m=Math.ceil(1/v);return this.useNativeLine?2*m:2*m+2},getCubicCurveTriangleCount:function(e,n,i,c){var v=this._getCubicCurveApproxStep(e,n,i,c),m=Math.ceil(1/v);return this.useNativeLine?0:2*m},getLineVertexCount:function(){return this.getPolylineVertexCount(zd)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(zd)},getPolylineVertexCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?2*(n-1):2*(n-1)+2},getPolylineTriangleCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?0:2*Math.max(n-1,0)},addCubicCurve:function(e,n,i,c,v,m){null==m&&(m=1);var b=e[0],D=e[1],P=e[2],F=n[0],le=n[1],_e=n[2],Ve=i[0],Oe=i[1],Ue=i[2],je=c[0],vt=c[1],wt=c[2],Ot=this._getCubicCurveApproxStep(e,n,i,c),Rt=Ot*Ot,At=Rt*Ot,sn=3*Ot,nn=3*Rt,An=6*Rt,_n=6*At,Jn=b-2*F+Ve,yr=D-2*le+Oe,cr=P-2*_e+Ue,Er=3*(F-Ve)-b+je,zr=3*(le-Oe)-D+vt,Mr=3*(_e-Ue)-P+wt,Fr=b,qn=D,gr=P,ir=(F-b)*sn+Jn*nn+Er*At,si=(le-D)*sn+yr*nn+zr*At,Zr=(_e-P)*sn+cr*nn+Mr*At,ta=Jn*An+Er*_n,Ai=yr*An+zr*_n,ra=cr*An+Mr*_n,Li=Er*_n,ia=zr*_n,es=Mr*_n,ca=0,Ga=0,ja=Math.ceil(1/Ot),zo=new Float32Array(3*(ja+1)),Ao=(zo=[],0);for(Ga=0;Ga<ja+1;Ga++)zo[Ao++]=Fr,zo[Ao++]=qn,zo[Ao++]=gr,Fr+=ir,qn+=si,gr+=Zr,ir+=ta,si+=Ai,Zr+=ra,ta+=Li,Ai+=ia,ra+=es,(ca+=Ot)>1&&(Fr=ir>0?Math.min(Fr,je):Math.max(Fr,je),qn=si>0?Math.min(qn,vt):Math.max(qn,vt),gr=Zr>0?Math.min(gr,wt):Math.max(gr,wt));return this.addPolyline(zo,v,m)},addLine:function(e,n,i,c){return this.addPolyline([e,n],i,c)},addPolyline:function(e,n,i,c,v){if(e.length){var m="number"!=typeof e[0];if(null==v&&(v=m?e.length:e.length/3),!(v<2)){null==c&&(c=0),null==i&&(i=1),this._itemVertexOffsets.push(this._vertexOffset);var Ue,je,b=(m="number"!=typeof e[0])?"number"!=typeof n[0]:n.length/4===v,D=this.attributes.position,P=this.attributes.positionPrev,F=this.attributes.positionNext,le=this.attributes.color,_e=this.attributes.offset,Ve=this.indices,Oe=this._vertexOffset;i=Math.max(i,.01);for(var vt=c;vt<v;vt++){if(m)Ue=e[vt],je=b?n[vt]:n;else{var wt=3*vt;if((Ue=Ue||[])[0]=e[wt],Ue[1]=e[wt+1],Ue[2]=e[wt+2],b){var Ot=4*vt;(je=je||[])[0]=n[Ot],je[1]=n[Ot+1],je[2]=n[Ot+2],je[3]=n[Ot+3]}else je=n}if(this.useNativeLine?vt>1&&(D.copy(Oe,Oe-1),le.copy(Oe,Oe-1),Oe++):(vt<v-1&&(P.set(Oe+2,Ue),P.set(Oe+3,Ue)),vt>0&&(F.set(Oe-2,Ue),F.set(Oe-1,Ue)),D.set(Oe,Ue),D.set(Oe+1,Ue),le.set(Oe,je),le.set(Oe+1,je),_e.set(Oe,i/2),_e.set(Oe+1,-i/2),Oe+=2),this.useNativeLine)le.set(Oe,je),D.set(Oe,Ue),Oe++;else if(vt>0){var Rt=3*this._triangleOffset;(Ve=this.indices)[Rt]=Oe-4,Ve[Rt+1]=Oe-3,Ve[Rt+2]=Oe-2,Ve[Rt+3]=Oe-3,Ve[Rt+4]=Oe-1,Ve[Rt+5]=Oe-2,this._triangleOffset+=2}}if(!this.useNativeLine){var At=this._vertexOffset,sn=this._vertexOffset+2*v;P.copy(At,At+2),P.copy(At+1,At+3),F.copy(sn-1,sn-3),F.copy(sn-2,sn-4)}return this._vertexOffset=Oe,this._vertexOffset}}},setItemColor:function(e,n){for(var c=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,v=this._itemVertexOffsets[e];v<c;v++)this.attributes.color.set(v,n);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});gn.D5.defaults(Vh.prototype,P2);const H4=Vh;function b1(e,n,i,c,v,m,b){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=c,this.height=v,this.offsetX=n,this.offsetY=i,this.dpr=b,this.gap=m}function V3(e){(e=e||{}).width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var n=document.createElement("canvas");n.width=e.width*e.devicePixelRatio,n.height=e.height*e.devicePixelRatio,this._canvas=n,this._texture=new Wi({image:n,flipY:!1});var i=this;this._zr=gn.x_.init(n);var c=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){c.call(this),i._texture.dirty(),i.onupdate&&i.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new b1(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}b1.prototype={constructor:b1,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,n,i){var c=e.getBoundingRect();null==n&&(n=c.width),null==i&&(i=c.height),this._fitElement(e,n*=this.dpr,i*=this.dpr);var v=this._x,m=this._y,b=this.width*this.dpr,D=this.height*this.dpr,P=this.gap;if(v+n+P>b&&(v=this._x=0,this._y=m+=this._rowHeight+P,this._rowHeight=0),this._x+=n+P,this._rowHeight=Math.max(this._rowHeight,i),m+i+P>D)return null;e.x+=this.offsetX*this.dpr+v,e.y+=this.offsetY*this.dpr+m,this._zr.add(e);var F=[this.offsetX/this.width,this.offsetY/this.height];return[[v/b+F[0],m/D+F[1]],[(v+n)/b+F[0],(m+i)/D+F[1]]]},_fitElement:function(e,n,i){var c=e.getBoundingRect(),v=n/c.width,m=i/c.height;e.x=-c.x*v,e.y=-c.y*m,e.scaleX=v,e.scaleY=m,e.update()}},V3.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,i=this._textureAtlasNodes.length,c=i*this._nodeWidth%e,v=Math.floor(i*this._nodeWidth/e)*this._nodeHeight;if(!(v>=e)){var m=(c+this._nodeWidth)*this._dpr,b=(v+this._nodeHeight)*this._dpr;try{this._zr.resize({width:m,height:b})}catch{this._canvas.width=m,this._canvas.height=b}var D=new b1(this._zr,c,v,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(D),D}},add:function(e,n,i){if(this._coords[e.id])return this._coords[e.id];var c=this._getCurrentNode().add(e,n,i);if(!c){var v=this._expand();if(!v)return;c=v.add(e,n,i)}return this._coords[e.id]=c,c},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};const U1=V3;function Ad(){}Ad.prototype={constructor:Ad,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new Kt.DirectionalLight({shadowBias:.005}),this.ambientLight=new Kt.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var n=this.mainLight,i=this.ambientLight,c=e.getModel("light"),v=c.getModel("main"),m=c.getModel("ambient");n.intensity=v.get("intensity"),i.intensity=m.get("intensity"),n.color=Kt.parseColor(v.get("color")).slice(0,3),i.color=Kt.parseColor(m.get("color")).slice(0,3);var b=v.get("alpha")||0,D=v.get("beta")||0;n.position.setArray(Kt.directionFromAlphaBeta(b,D)),n.lookAt(Kt.Vector3.ZERO),n.castShadow=v.get("shadow"),n.shadowResolution=Kt.getShadowResolution(v.get("shadowQuality"))},updateAmbientCubemap:function(e,n,i){var c=n.getModel("light.ambientCubemap"),v=c.get("texture");if(v){this._cubemapLightsCache=this._cubemapLightsCache||{};var m=this._cubemapLightsCache[v];if(!m){var b=this;m=this._cubemapLightsCache[v]=Kt.createAmbientCubemap(c.option,e,i,function(){b._isSkyboxFromAmbientCubemap&&b._skybox.setEnvironmentMap(m.specular.cubemap),i.getZr().refresh()})}this._lightRoot.add(m.diffuse),this._lightRoot.add(m.specular),this._currentCubemapLights=m}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,n,i){var c=n.get("environment"),v=this,b=function m(){return v._skybox=v._skybox||new Ru,v._skybox}();if(c&&"none"!==c)if("auto"===c)this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights?(b.setEnvironmentMap(this._currentCubemapLights.specular.cubemap),this._scene&&b.attachScene(this._scene),b.material.set("lod",3)):this._skybox&&this._skybox.detachScene();else if("object"==typeof c&&c.colorStops||"string"==typeof c&&gn.$_.parse(c)){this._isSkyboxFromAmbientCubemap=!1;var P=new Kt.Texture2D({anisotropic:8,flipY:!1});b.setEnvironmentMap(P);var F=P.image=document.createElement("canvas");F.width=F.height=16;var le=F.getContext("2d"),_e=new gn.Q.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:c}});gn.z$(le,_e),b.attachScene(this._scene)}else this._isSkyboxFromAmbientCubemap=!1,P=Kt.loadTexture(c,i,{anisotropic:8,flipY:!1}),b.setEnvironmentMap(P),b.attachScene(this._scene);else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var Ve=n.coordinateSystem;if(this._skybox)if(!Ve||!Ve.viewGL||"auto"===c||c.match&&c.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var Oe=Ve.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[Oe]("fragment","SRGB_DECODE")}}};const H3=Ad;var T0=Do.vec3,Hh=ha.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new ha.Attribute("position","float",3,"POSITION"),normal:new ha.Attribute("normal","float",3,"NORMAL"),color:new ha.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var n=this.attributes,i=this.getQuadVertexCount()*e,c=this.getQuadTriangleCount()*e;this.vertexCount!==i&&(n.position.init(i),n.normal.init(i),n.color.init(i)),this.triangleCount!==c&&(this.indices=i>65535?new Uint32Array(3*c):new Uint16Array(3*c))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=T0.create(),n=T0.create(),i=T0.create(),c=[0,3,1,3,2,1];return function(v,m){var b=this.attributes.position,D=this.attributes.normal,P=this.attributes.color;T0.sub(e,v[1],v[0]),T0.sub(n,v[2],v[1]),T0.cross(i,e,n),T0.normalize(i,i);for(var F=0;F<4;F++)b.set(this._vertexOffset+F,v[F]),P.set(this._vertexOffset+F,m),D.set(this._vertexOffset+F,i);var le=3*this._faceOffset;for(F=0;F<6;F++)this.indices[le+F]=c[F]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});gn.D5.defaults(Hh.prototype,P2);const Nh=Hh;var Bh=Zi.firstNotNull,zv={x:0,y:2,z:1};function qu(e,n,i){this.rootNode=new Kt.Node;var c=new Kt.Mesh({geometry:new H4({useNativeLine:!1}),material:n,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),v=new Kt.Mesh({geometry:new Nh,material:i,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(v),this.rootNode.add(c),this.faceInfo=e,this.plane=new Kt.Plane,this.linesMesh=c,this.quadsMesh=v}qu.prototype.update=function(e,n,i){var c=e.coordinateSystem,v=[c.getAxis(this.faceInfo[0]),c.getAxis(this.faceInfo[1])],m=this.linesMesh.geometry,b=this.quadsMesh.geometry;m.convertToDynamicArray(!0),b.convertToDynamicArray(!0),this._updateSplitLines(m,v,e,i),this._udpateSplitAreas(b,v,e,i),m.convertToTypedArray(),b.convertToTypedArray();var D=c.getAxis(this.faceInfo[2]);!function Lp(e,n,i,c){var v=[0,0,0],m=c<0?i.getExtentMin():i.getExtentMax();v[zv[i.dim]]=m,e.position.setArray(v),e.rotation.identity(),n.distance=-Math.abs(m),n.normal.set(0,0,0),"x"===i.dim?(e.rotation.rotateY(c*Math.PI/2),n.normal.x=-c):"z"===i.dim?(e.rotation.rotateX(-c*Math.PI/2),n.normal.y=-c):(c>0&&e.rotation.rotateY(Math.PI),n.normal.z=-c)}(this.rootNode,this.plane,D,this.faceInfo[3])},qu.prototype._updateSplitLines=function(e,n,i,c){var v=c.getDevicePixelRatio();n.forEach(function(m,b){var D=m.model,P=n[1-b].getExtent();if(!m.scale.isBlank()){var F=D.getModel("splitLine",i.getModel("splitLine"));if(F.get("show")){var le=F.getModel("lineStyle"),_e=le.get("color"),Ve=Bh(le.get("opacity"),1),Oe=Bh(le.get("width"),1);_e=gn.D5.isArray(_e)?_e:[_e];for(var Ue=m.getTicksCoords({tickModel:F}),je=0,vt=0;vt<Ue.length;vt++){var wt=Ue[vt].coord,Ot=Kt.parseColor(_e[je%_e.length]);Ot[3]*=Ve;var Rt=[0,0,0],At=[0,0,0];Rt[b]=At[b]=wt,Rt[1-b]=P[0],At[1-b]=P[1],e.addLine(Rt,At,Ot,Oe*v),je++}}}})},qu.prototype._udpateSplitAreas=function(e,n,i,c){n.forEach(function(v,m){var b=v.model,D=n[1-m].getExtent();if(!v.scale.isBlank()){var P=b.getModel("splitArea",i.getModel("splitArea"));if(P.get("show")){var F=P.getModel("areaStyle"),le=F.get("color"),_e=Bh(F.get("opacity"),1);le=gn.D5.isArray(le)?le:[le];for(var Ve=v.getTicksCoords({tickModel:P,clamp:!0}),Oe=0,Ue=[0,0,0],je=[0,0,0],vt=0;vt<Ve.length;vt++){var Ot=[0,0,0],Rt=[0,0,0];if(Ot[m]=Rt[m]=Ve[vt].coord,Ot[1-m]=D[0],Rt[1-m]=D[1],0!==vt){var At=Kt.parseColor(le[Oe%le.length]);At[3]*=_e,e.addQuad([Ue,Ot,Rt,je],At),Ue=Ot,je=Rt,Oe++}else Ue=Ot,je=Rt}}}})};const Av=qu;var Pv=[0,1,2,0,2,3],Pd=ha.extend(function(){return{attributes:{position:new ha.Attribute("position","float",3,"POSITION"),texcoord:new ha.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new ha.Attribute("offset","float",2),color:new ha.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var n=4*e,i=2*e;this.vertexCount!==n&&(this.attributes.position.init(n),this.attributes.offset.init(n),this.attributes.color.init(n)),this.triangleCount!==i&&(this.indices=n>65535?new Uint32Array(3*i):new Uint16Array(3*i))},setSpriteAlign:function(e,n,i,c,v){var m,b,D,P;switch(null==i&&(i="left"),null==c&&(c="top"),v=v||0,i){case"left":m=v,D=n[0]+v;break;case"center":case"middle":m=-n[0]/2,D=n[0]/2;break;case"right":m=-n[0]-v,D=-v}switch(c){case"bottom":b=v,P=n[1]+v;break;case"middle":b=-n[1]/2,P=n[1]/2;break;case"top":b=-n[1]-v,P=-v}var F=4*e,le=this.attributes.offset;le.set(F,[m,P]),le.set(F+1,[D,P]),le.set(F+2,[D,b]),le.set(F+3,[m,b])},addSprite:function(e,n,i,c,v,m){var b=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,n,i,c,v,m);for(var D=0;D<Pv.length;D++)this.indices[3*this._faceOffset+D]=Pv[D]+b;return this._faceOffset+=2,this._vertexOffset+=4,b/4},setSprite:function(e,n,i,c,v,m,b){for(var D=4*e,P=this.attributes,F=0;F<4;F++)P.position.set(D+F,n);var le=P.texcoord;le.set(D,[c[0][0],c[0][1]]),le.set(D+1,[c[1][0],c[0][1]]),le.set(D+2,[c[1][0],c[1][1]]),le.set(D+3,[c[0][0],c[1][1]]),this.setSpriteAlign(e,i,v,m,b)}});gn.D5.defaults(Pd.prototype,P2);const Zl=Pd;Kt.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");const Ld=Kt.Mesh.extend(function(){return{geometry:new Zl({dynamic:!0}),material:new Kt.Material({shader:Kt.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}});var kc=Zi.firstNotNull,N4={x:0,y:2,z:1};function kh(e,n){var i=new Kt.Mesh({geometry:new H4({useNativeLine:!1}),material:n,castShadow:!1,ignorePicking:!0,renderOrder:2}),c=new Ld;c.material.depthMask=!1;var v=new Kt.Node;v.add(i),v.add(c),this.rootNode=v,this.dim=e,this.linesMesh=i,this.labelsMesh=c,this.axisLineCoords=null,this.labelElements=[]}var Fh={x:"y",y:"x",z:"y"};kh.prototype.update=function(e,n,i){var v=e.coordinateSystem.getAxis(this.dim),m=this.linesMesh.geometry,b=this.labelsMesh.geometry;m.convertToDynamicArray(!0),b.convertToDynamicArray(!0);var D=v.model,P=v.getExtent(),cr=i.getDevicePixelRatio(),F=D.getModel("axisLine",e.getModel("axisLine")),le=D.getModel("axisTick",e.getModel("axisTick")),_e=D.getModel("axisLabel",e.getModel("axisLabel")),Ve=F.get("lineStyle.color");if(F.get("show")){var Oe=F.getModel("lineStyle"),je=[0,0,0];(Ue=[0,0,0])[vt=N4[v.dim]]=P[0],je[vt]=P[1],this.axisLineCoords=[Ue,je];var wt=Kt.parseColor(Ve),Ot=kc(Oe.get("width"),1),Rt=kc(Oe.get("opacity"),1);wt[3]*=Rt,m.addLine(Ue,je,wt,Ot*cr)}if(le.get("show")){var At=le.getModel("lineStyle"),sn=Kt.parseColor(kc(At.get("color"),Ve));Ot=kc(At.get("width"),1),sn[3]*=kc(At.get("opacity"),1);for(var nn=v.getTicksCoords(),An=le.get("length"),_n=0;_n<nn.length;_n++){var Ue,yr=N4[Fh[v.dim]];(Ue=[0,0,0])[vt=N4[v.dim]]=(je=[0,0,0])[vt]=Jn=nn[_n].coord,je[yr]=An,m.addLine(Ue,je,sn,Ot*cr)}}if(this.labelElements=[],cr=i.getDevicePixelRatio(),_e.get("show")){nn=v.getTicksCoords();var Er=D.get("data"),zr=_e.get("margin"),Mr=v.getViewLabels();for(_n=0;_n<Mr.length;_n++){var Fr=Mr[_n].tickValue,qn=Mr[_n].formattedLabel,gr=Mr[_n].rawLabel,Jn=v.dataToCoord(Fr);yr=N4[Fh[v.dim]],(ir=[0,0,0])[vt=N4[v.dim]]=ir[vt]=Jn,ir[yr]=zr;var si=_e;Er&&Er[Fr]&&Er[Fr].textStyle&&(si=new gn.Hn(Er[Fr].textStyle,_e,D.ecModel));var Zr=kc(si.get("color"),Ve),ta=new gn.Q.Text({style:(0,ki.Lr)(si,{text:qn,fill:"function"==typeof Zr?Zr("category"===v.type?gr:"value"===v.type?Fr+"":Fr,_n):Zr,verticalAlign:"top",align:"left"})}),Ai=n.add(ta),ra=ta.getBoundingRect();b.addSprite(ir,[ra.width*cr,ra.height*cr],Ai),this.labelElements.push(ta)}}if(D.get("name")){var Li=D.getModel("nameTextStyle"),ir=[0,0,0],vt=N4[v.dim],ia=(yr=N4[Fh[v.dim]],kc(Li.get("color"),Ve)),es=Li.get("borderColor");Ot=Li.get("borderWidth"),ir[vt]=ir[vt]=(P[0]+P[1])/2,ir[yr]=D.get("nameGap"),ta=new gn.Q.Text({style:(0,ki.Lr)(Li,{text:D.get("name"),fill:ia,stroke:es,lineWidth:Ot})}),Ai=n.add(ta),ra=ta.getBoundingRect(),b.addSprite(ir,[ra.width*cr,ra.height*cr],Ai),ta.__idx=this.labelElements.length,this.nameLabelElement=ta}this.labelsMesh.material.set("textureAtlas",n.getTexture()),this.labelsMesh.material.set("uvScale",n.getCoordsScale()),m.convertToTypedArray(),b.convertToTypedArray()},kh.prototype.setSpriteAlign=function(e,n,i){for(var c=i.getDevicePixelRatio(),v=this.labelsMesh.geometry,m=0;m<this.labelElements.length;m++){var D=this.labelElements[m].getBoundingRect();v.setSpriteAlign(m,[D.width*c,D.height*c],e,n)}var P=this.nameLabelElement;P&&(D=P.getBoundingRect(),v.setSpriteAlign(P.__idx,[D.width*c,D.height*c],e,n),v.dirty()),this.textAlign=e,this.textVerticalAlign=n};const Lv=kh,N3="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";var _o=Zi.firstNotNull;Kt.Shader.import(N3);var lc={x:0,y:2,z:1};const Od=gn.Ir.extend({type:"grid3D",__ecgl__:!0,init:function(e,n){var v=new Kt.Material({shader:Kt.createShader("ecgl.color"),depthMask:!1,transparent:!0}),m=new Kt.Material({shader:Kt.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});v.define("fragment","DOUBLE_SIDED"),v.define("both","VERTEX_COLOR"),this.groupGL=new Kt.Node,this._control=new Rh({zr:n.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map(function(D){var P=new Av(D,m,v);return this.groupGL.add(P.rootNode),P},this),this._axes=["x","y","z"].map(function(D){var P=new Lv(D,m);return this.groupGL.add(P.rootNode),P},this);var b=n.getDevicePixelRatio();this._axisLabelSurface=new U1({width:256,height:256,devicePixelRatio:b}),this._axisLabelSurface.onupdate=function(){n.getZr().refresh()},this._axisPointerLineMesh=new Kt.Mesh({geometry:new H4({useNativeLine:!1}),material:m,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new U1({width:128,height:128,devicePixelRatio:b}),this._axisPointerLabelsMesh=new Ld({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new Kt.Node,this._sceneHelper=new H3,this._sceneHelper.initLight(this._lightRoot)},render:function(e,n,i){this._model=e,this._api=i;var c=e.coordinateSystem;c.viewGL.add(this._lightRoot),e.get("show")?c.viewGL.add(this.groupGL):c.viewGL.remove(this.groupGL);var v=this._control;v.setViewGL(c.viewGL);var m=e.getModel("viewControl");v.setFromViewControlModel(m,0),this._axisLabelSurface.clear(),v.off("update"),e.get("show")&&(this._faces.forEach(function(b){b.update(e,n,i)},this),this._axes.forEach(function(b){b.update(e,this._axisLabelSurface,i)},this)),v.on("update",this._onCameraChange.bind(this,e,i),this),this._sceneHelper.setScene(c.viewGL.scene),this._sceneHelper.updateLight(e),c.viewGL.setPostEffect(e.getModel("postEffect"),i),c.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,n,i,c){var v=c.renderer;this._sceneHelper.updateAmbientCubemap(v,e,i),this._sceneHelper.updateSkybox(v,e,i)},showAxisPointer:function(e,n,i,c){this._doShowAxisPointer(),this._updateAxisPointer(c.value)},hideAxisPointer:function(e,n,i,c){this._doHideAxisPointer()},_initMouseHandler:function(e){var i=e.coordinateSystem.viewGL;e.get("show")&&e.get("axisPointer.show")?i.on("mousemove",this._updateAxisPointerOnMousePosition,this):i.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var m,i=this._model.coordinateSystem,c=i.viewGL,v=c.castRay(e.offsetX,e.offsetY,new Kt.Ray),b=0;b<this._faces.length;b++){var D=this._faces[b];if(!D.rootNode.invisible){D.plane.normal.dot(c.camera.worldTransform.z)<0&&D.plane.normal.negate();var P=v.intersectPlane(D.plane);if(P){var F=i.getAxis(D.faceInfo[0]),le=i.getAxis(D.faceInfo[1]),Ve=lc[D.faceInfo[1]];F.contain(P.array[lc[D.faceInfo[0]]])&&le.contain(P.array[Ve])&&(m=P)}}}if(m){var Oe=i.pointToData(m.array,[],!0);this._updateAxisPointer(Oe),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,n){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var i=this._control;n.dispatchAction({type:"grid3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),n=new Kt.Vector3;e.update();for(var i=0;i<this._faces.length/2;i++){for(var c=[],v=0;v<2;v++)this._faces[2*i+v].rootNode.getWorldPosition(n),n.transformMat4(e.viewMatrix),c[v]=n.z;var b=c[0]>c[1]?0:1,P=this._faces[2*i+1-b];this._faces[2*i+b].rootNode.invisible=!0,P.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,n=e.getAxis("x"),i=e.getAxis("y"),c=e.getAxis("z"),v=c.getExtentMax(),m=c.getExtentMin(),b=n.getExtentMin(),D=n.getExtentMax(),P=i.getExtentMax(),F=i.getExtentMin(),le=this._axes[0].rootNode,_e=this._axes[1].rootNode,Ve=this._axes[2].rootNode,Oe=this._faces,Ue=Oe[4].rootNode.invisible?F:P,je=Oe[2].rootNode.invisible?v:m,vt=Oe[0].rootNode.invisible?b:D,wt=Oe[2].rootNode.invisible?v:m,Ot=Oe[0].rootNode.invisible?D:b,Rt=Oe[4].rootNode.invisible?F:P;le.rotation.identity(),_e.rotation.identity(),Ve.rotation.identity(),Oe[4].rootNode.invisible&&(this._axes[0].flipped=!0,le.rotation.rotateX(Math.PI)),Oe[0].rootNode.invisible&&(this._axes[1].flipped=!0,_e.rotation.rotateZ(Math.PI)),Oe[4].rootNode.invisible&&(this._axes[2].flipped=!0,Ve.rotation.rotateY(Math.PI)),le.position.set(0,je,Ue),_e.position.set(vt,wt,0),Ve.position.set(Ot,0,Rt),le.update(),_e.update(),Ve.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),n=[new Kt.Vector4,new Kt.Vector4],i=new Kt.Vector4;this.groupGL.getWorldPosition(i),i.w=1,i.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),i.x/=i.w,i.y/=i.w,this._axes.forEach(function(c){for(var v=c.axisLineCoords,b=0;b<n.length;b++)n[b].setArray(v[b]),n[b].w=1,n[b].transformMat4(c.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n[b].x/=n[b].w,n[b].y/=n[b].w;var _e,Ve,F=(n[1].x+n[0].x)/2,le=(n[1].y+n[0].y)/2;Math.abs((n[1].y-n[0].y)/(n[1].x-n[0].x))<.5?(_e="center",Ve=le>i.y?"bottom":"top"):(Ve="middle",_e=F>i.x?"left":"right"),c.setSpriteAlign(_e,Ve,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var n=this._model.coordinateSystem,i=n.dataToPoint(e),v=this._axisPointerLineMesh.geometry,m=this._model.getModel("axisPointer"),b=this._api.getDevicePixelRatio();function D(_n){return Zi.firstNotNull(_n.model.get("axisPointer.show"),m.get("show"))}function P(_n){var yr=_n.model.getModel("axisPointer",m).getModel("lineStyle"),cr=Kt.parseColor(yr.get("color")),Er=_o(yr.get("width"),1),zr=_o(yr.get("opacity"),1);return cr[3]*=zr,{color:cr,lineWidth:Er}}v.convertToDynamicArray(!0);for(var F=0;F<this._faces.length;F++){var le=this._faces[F];if(!le.rootNode.invisible){for(var _e=le.faceInfo,Ve=_e[3]<0?n.getAxis(_e[2]).getExtentMin():n.getAxis(_e[2]).getExtentMax(),Oe=lc[_e[2]],Ue=0;Ue<2;Ue++){var je=_e[Ue],vt=_e[1-Ue],wt=n.getAxis(je),Ot=n.getAxis(vt);if(D(wt)){var sn=lc[je],nn=lc[vt];(Rt=[0,0,0])[sn]=(At=[0,0,0])[sn]=i[sn],Rt[Oe]=At[Oe]=Ve,Rt[nn]=Ot.getExtentMin(),At[nn]=Ot.getExtentMax();var An=P(wt);v.addLine(Rt,At,An.color,An.lineWidth*b)}}if(D(n.getAxis(_e[2]))){var At,Rt=i.slice();(At=i.slice())[Oe]=Ve,An=P(n.getAxis(_e[2])),v.addLine(Rt,At,An.color,An.lineWidth*b)}}}v.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var n=this._model,i=this._axisPointerLabelsMesh,c=this._axisPointerLabelsSurface,v=n.coordinateSystem,m=n.getModel("axisPointer");i.geometry.convertToDynamicArray(!0),c.clear();var b={x:"y",y:"x",z:"y"};this._axes.forEach(function(D,P){var F=v.getAxis(D.dim),_e=F.model.getModel("axisPointer",m),Ve=_e.getModel("label"),Oe=_e.get("lineStyle.color");if(Ve.get("show")&&_e.get("show")){var Ue=e[P],je=Ve.get("formatter"),vt=F.scale.getLabel({value:Ue});if(null!=je)vt=je(vt,e);else if("interval"===F.scale.type||"log"===F.scale.type){var wt=gn.Rx.getPrecisionSafe(F.scale.getTicks()[0]);vt=Ue.toFixed(wt+2)}var Ot=Ve.get("color"),Rt=new gn.Q.Text({style:(0,ki.Lr)(Ve,{text:vt,fill:Ot||Oe,align:"left",verticalAlign:"top"})}),At=c.add(Rt),sn=Rt.getBoundingRect(),nn=this._api.getDevicePixelRatio(),An=D.rootNode.position.toArray();An[lc[b[D.dim]]]+=(D.flipped?-1:1)*Ve.get("margin"),An[lc[D.dim]]=F.dataToCoord(e[P]),i.geometry.addSprite(An,[sn.width*nn,sn.height*nn],At,D.textAlign,D.textVerticalAlign)}},this),c.getZr().refreshImmediately(),i.material.set("uvScale",c.getCoordsScale()),i.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});var B3=C(7070);function k3(e){B3.Z.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}k3.prototype={constructor:k3,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,n,i){return(n=n||[])[0]=this.getAxis("x").dataToCoord(e[0],i),n[2]=this.getAxis("y").dataToCoord(e[1],i),n[1]=this.getAxis("z").dataToCoord(e[2],i),n},pointToData:function(e,n,i){return(n=n||[])[0]=this.getAxis("x").coordToData(e[0],i),n[1]=this.getAxis("y").coordToData(e[2],i),n[2]=this.getAxis("z").coordToData(e[1],i),n}},gn.D5.inherits(k3,B3.Z);const Id=k3;function e8(e,n,i){gn.RD.call(this,e,n,i)}e8.prototype={constructor:e8,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},gn.D5.inherits(e8,gn.RD);const sr=e8;var Yi=C(7436),zn=function(){this._pool={},this._allocatedTextures=[]};zn.prototype={constructor:zn,get:function(e){var n=la(e);this._pool.hasOwnProperty(n)||(this._pool[n]=[]);var i=this._pool[n];if(!i.length){var c=new Wi(e);return this._allocatedTextures.push(c),c}return i.pop()},put:function(e){var n=la(e);this._pool.hasOwnProperty(n)||(this._pool[n]=[]),this._pool[n].push(e)},clear:function(e){for(var n=0;n<this._allocatedTextures.length;n++)this._allocatedTextures[n].dispose(e);this._pool={},this._allocatedTextures=[]}};var vr={width:512,height:512,type:fr_UNSIGNED_BYTE,format:fr_RGBA,wrapS:fr_CLAMP_TO_EDGE,wrapT:fr_CLAMP_TO_EDGE,minFilter:fr_LINEAR_MIPMAP_LINEAR,magFilter:fr_LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},ci=Object.keys(vr);function la(e){Io.defaultsWithPropList(e,vr,ci),function Va(e){var n=function Mo(e,n){return 0==(e&e-1)&&0==(n&n-1)}(e.width,e.height);e.format===fr_DEPTH_COMPONENT&&(e.useMipmap=!1),(!n||!e.useMipmap)&&(e.minFilter==fr_NEAREST_MIPMAP_NEAREST||e.minFilter==fr_NEAREST_MIPMAP_LINEAR?e.minFilter=fr_NEAREST:(e.minFilter==fr_LINEAR_MIPMAP_LINEAR||e.minFilter==fr_LINEAR_MIPMAP_NEAREST)&&(e.minFilter=fr_LINEAR)),n||(e.wrapS=fr_CLAMP_TO_EDGE,e.wrapT=fr_CLAMP_TO_EDGE)}(e);for(var n="",i=0;i<ci.length;i++)n+=e[ci[i]].toString();return n}const xo=zn;var Kl=["px","nx","py","ny","pz","nz"];function D0(e,n,i){return"alphaMap"===i?e.material.get("diffuseMap"):"alphaCutoff"===i?e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")&&e.material.get("alphaCutoff")||0:"uvRepeat"===i?e.material.get("uvRepeat"):"uvOffset"===i?e.material.get("uvOffset"):n.get(i)}function Uh(e,n){var i=e.material,c=n.material;return i.get("diffuseMap")!==c.get("diffuseMap")||(i.get("alphaCutoff")||0)!==(c.get("alphaCutoff")||0)}ti.import("@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end");var Y1=as.extend(function(){return{softShadow:Y1.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new hs,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new xo}},function(){this._gaussianPassH=new Ro({fragment:ti.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new Ro({fragment:ti.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new Ro({fragment:ti.source("clay.sm.debug_depth")})},{render:function(e,n,i,c){i||(i=n.getMainCamera()),this.trigger("beforerender",this,e,n,i),this._renderShadowPass(e,n,i,c),this.trigger("afterrender",this,e,n,i)},renderDebug:function(e,n){e.saveClear();var i=e.viewport,c=0,m=n||i.width/4,b=m;for(var D in this.softShadow===Y1.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var P=this._textures[D];e.setViewport(c,0,m*P.width/P.height,b),this._outputDepthPass.setUniform("depthMap",P),this._outputDepthPass.render(e),c+=m*P.width/P.height}e.setViewport(i),e.restoreClear()},_updateReceivers:function(e,n){if(n.receiveShadow?(this._receivers.push(n),n.material.set("shadowEnabled",1),n.material.set("pcfKernel",this.kernelPCF)):n.material.set("shadowEnabled",0),this.softShadow===Y1.VSM)n.material.define("fragment","USE_VSM"),n.material.undefine("fragment","PCF_KERNEL_SIZE");else{n.material.undefine("fragment","USE_VSM");var i=this.kernelPCF;i&&i.length?n.material.define("fragment","PCF_KERNEL_SIZE",i.length/2):n.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,n){var i=this;n.traverse(function(m){m.isRenderable()&&i._updateReceivers(e,m)});for(var c=0;c<n.lights.length;c++){var v=n.lights[c];v.castShadow&&!v.invisible&&this._lightsCastShadow.push(v)}},_renderShadowPass:function(e,n,i,c){for(var v in this._shadowMapNumber)this._shadowMapNumber[v]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var m=e.gl;if(c||n.update(),i&&i.update(),n.updateLights(),this._update(e,n),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,m.enable(m.DEPTH_TEST),m.depthMask(!0),m.disable(m.BLEND),m.clearColor(1,1,1,1);for(var Ve,b=[],D=[],P=[],F=[],le=[],_e=[],Oe=0;Oe<this._lightsCastShadow.length;Oe++){var Ue=this._lightsCastShadow[Oe];if("DIRECTIONAL_LIGHT"===Ue.type){if(Ve){console.warn("Only one direectional light supported with shadow cascade");continue}if(Ue.shadowCascade>4){console.warn("Support at most 4 cascade");continue}Ue.shadowCascade>1&&(Ve=Ue),this.renderDirectionalLightShadow(e,n,i,Ue,le,F,P)}else"SPOT_LIGHT"===Ue.type?this.renderSpotLightShadow(e,n,Ue,D,b):"POINT_LIGHT"===Ue.type&&this.renderPointLightShadow(e,n,Ue,_e);this._shadowMapNumber[Ue.type]++}for(var je in this._shadowMapNumber){var vt=this._shadowMapNumber[je],wt=je+"_SHADOWMAP_COUNT";for(Oe=0;Oe<this._receivers.length;Oe++)(Rt=this._receivers[Oe].material).fragmentDefines[wt]!==vt&&(vt>0?Rt.define("fragment",wt,vt):Rt.isDefined("fragment",wt)&&Rt.undefine("fragment",wt))}for(Oe=0;Oe<this._receivers.length;Oe++){var Rt=this._receivers[Oe].material;Ve?Rt.define("fragment","SHADOW_CASCADE",Ve.shadowCascade):Rt.undefine("fragment","SHADOW_CASCADE")}var At=n.shadowUniforms;if(P.length>0){var nn=P.map(sn);if(At.directionalLightShadowMaps={value:P,type:"tv"},At.directionalLightMatrices={value:F,type:"m4v"},At.directionalLightShadowMapSizes={value:nn,type:"1fv"},Ve){var An=le.slice(),_n=le.slice();An.pop(),_n.shift(),An.reverse(),_n.reverse(),F.reverse(),At.shadowCascadeClipsNear={value:An,type:"1fv"},At.shadowCascadeClipsFar={value:_n,type:"1fv"}}}if(b.length>0){var Jn=b.map(sn);(At=n.shadowUniforms).spotLightShadowMaps={value:b,type:"tv"},At.spotLightMatrices={value:D,type:"m4v"},At.spotLightShadowMapSizes={value:Jn,type:"1fv"}}_e.length>0&&(At.pointLightShadowMaps={value:_e,type:"tv"})}function sn(yr){return yr.height}},renderDirectionalLightShadow:function(){var e=new Wl,n=new ui,i=new ls,c=new ui,v=new ui,m=new ui,b=new ui;return function(D,P,F,le,_e,Ve,Oe){var Ue=this._getDepthMaterial(le),je={getMaterial:function(ra){return ra.shadowDepthMaterial||Ue},isMaterialChanged:Uh,getUniform:D0,ifRender:function(ra){return ra.castShadow},sortCompare:_2.opaqueSortCompare};if(!P.viewBoundingBoxLastFrame.isFinite()){var vt=P.getBoundingBox();P.viewBoundingBoxLastFrame.copy(vt).applyTransform(F.viewMatrix)}var wt=Math.min(-P.viewBoundingBoxLastFrame.min.z,F.far),Ot=Math.max(-P.viewBoundingBoxLastFrame.max.z,F.near),Rt=this._getDirectionalLightCamera(le,P,F),At=m.array;b.copy(Rt.projectionMatrix),Wr.invert(v.array,Rt.worldTransform.array),Wr.multiply(v.array,v.array,F.worldTransform.array),Wr.multiply(At,b.array,v.array);for(var sn=[],nn=F instanceof jo,An=(F.near+F.far)/(F.near-F.far),_n=2*F.near*F.far/(F.near-F.far),Jn=0;Jn<=le.shadowCascade;Jn++){var Er=Ot*Math.pow(wt/Ot,Jn/le.shadowCascade)*le.cascadeSplitLogFactor+(Ot+(wt-Ot)*Jn/le.shadowCascade)*(1-le.cascadeSplitLogFactor);sn.push(Er),_e.push(-(-Er*An+_n)/-Er)}var zr=this._getTexture(le,le.shadowCascade);Oe.push(zr);var Mr=D.viewport,Fr=D.gl;for(this._frameBuffer.attach(zr),this._frameBuffer.bind(D),Fr.clear(Fr.COLOR_BUFFER_BIT|Fr.DEPTH_BUFFER_BIT),Jn=0;Jn<le.shadowCascade;Jn++){var qn=sn[Jn],gr=sn[Jn+1];nn?Wr.perspective(n.array,F.fov/180*Math.PI,F.aspect,qn,gr):Wr.ortho(n.array,F.left,F.right,F.bottom,F.top,qn,gr),e.setFromProjection(n),e.getTransformedBoundingBox(i,v),i.applyProjection(b);var ir=i.min.array,si=i.max.array;ir[0]=Math.max(ir[0],-1),ir[1]=Math.max(ir[1],-1),si[0]=Math.min(si[0],1),si[1]=Math.min(si[1],1),c.ortho(ir[0],si[0],ir[1],si[1],1,-1),Rt.projectionMatrix.multiplyLeft(c);var Zr=le.shadowResolution||512;D.setViewport((le.shadowCascade-Jn-1)*Zr,0,Zr,Zr,1);var ta=P.updateRenderList(Rt);D.renderPass(ta.opaque,Rt,je),this.softShadow===Y1.VSM&&this._gaussianFilter(D,zr,zr.width);var Ai=new ui;Ai.copy(Rt.viewMatrix).multiplyLeft(Rt.projectionMatrix),Ve.push(Ai.array),Rt.projectionMatrix.copy(b)}this._frameBuffer.unbind(D),D.setViewport(Mr)}}(),renderSpotLightShadow:function(e,n,i,c,v){var m=this._getTexture(i),b=this._getSpotLightCamera(i),D=e.gl;this._frameBuffer.attach(m),this._frameBuffer.bind(e),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT);var P=this._getDepthMaterial(i),F={getMaterial:function(Ve){return Ve.shadowDepthMaterial||P},isMaterialChanged:Uh,getUniform:D0,ifRender:function(Ve){return Ve.castShadow},sortCompare:_2.opaqueSortCompare},le=n.updateRenderList(b);e.renderPass(le.opaque,b,F),this._frameBuffer.unbind(e),this.softShadow===Y1.VSM&&this._gaussianFilter(e,m,m.width);var _e=new ui;_e.copy(b.worldTransform).invert().multiplyLeft(b.projectionMatrix),v.push(m),c.push(_e.array)},renderPointLightShadow:function(e,n,i,c){var v=this._getTexture(i),m=e.gl;c.push(v);var b=this._getDepthMaterial(i),D={getMaterial:function(Ot){return Ot.shadowDepthMaterial||b},getUniform:D0,sortCompare:_2.opaqueSortCompare},P={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},F=new ls,le=i.getWorldPosition().array,_e=new ls,Ve=i.range;_e.min.setArray(le),_e.max.setArray(le);var Oe=new Kr(Ve,Ve,Ve);_e.max.add(Oe),_e.min.sub(Oe);var Ue={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};n.traverse(function(Ot){if(Ot.isRenderable()&&Ot.castShadow){var Rt=Ot.geometry;if(!Rt.boundingBox){for(var At=0;At<Kl.length;At++)P[Kl[At]].push(Ot);return}if(F.transformFrom(Rt.boundingBox,Ot.worldTransform),!F.intersectBoundingBox(_e))return;for(F.updateVertices(),At=0;At<Kl.length;At++)Ue[Kl[At]]=!1;for(At=0;At<8;At++){var sn=F.vertices[At],nn=sn[0]-le[0],An=sn[1]-le[1],_n=sn[2]-le[2],Jn=Math.abs(nn),yr=Math.abs(An),cr=Math.abs(_n);Jn>yr?Jn>cr?Ue[nn>0?"px":"nx"]=!0:Ue[_n>0?"pz":"nz"]=!0:yr>cr?Ue[An>0?"py":"ny"]=!0:Ue[_n>0?"pz":"nz"]=!0}for(At=0;At<Kl.length;At++)Ue[Kl[At]]&&P[Kl[At]].push(Ot)}});for(var je=0;je<6;je++){var vt=Kl[je],wt=this._getPointLightCamera(i,vt);this._frameBuffer.attach(v,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+je),this._frameBuffer.bind(e),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),e.renderPass(P[vt],wt,D)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var n=this._lightMaterials[e.__uid__],i="POINT_LIGHT"===e.type;if(!n){var c=i?"clay.sm.distance.":"clay.sm.depth.";n=new yl({precision:this.precision,shader:new ti(ti.source(c+"vertex"),ti.source(c+"fragment"))}),this._lightMaterials[e.__uid__]=n}return null!=e.shadowSlopeScale&&n.setUniform("slopeScale",e.shadowSlopeScale),null!=e.shadowBias&&n.setUniform("bias",e.shadowBias),this.softShadow===Y1.VSM?n.define("fragment","USE_VSM"):n.undefine("fragment","USE_VSM"),i&&(n.set("lightPosition",e.getWorldPosition().array),n.set("range",e.range)),n},_gaussianFilter:function(e,n,i){var v=this._texturePool.get({width:i,height:i,type:ri.FLOAT});this._frameBuffer.attach(v),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",n),this._gaussianPassH.setUniform("textureWidth",i),this._gaussianPassH.render(e),this._frameBuffer.attach(n),this._gaussianPassV.setUniform("texture",v),this._gaussianPassV.setUniform("textureHeight",i),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(v)},_getTexture:function(e,n){var i=e.__uid__,c=this._textures[i],v=e.shadowResolution||512;return n=n||1,c||((c="POINT_LIGHT"===e.type?new S2:new Wi).width=v*n,c.height=v,this.softShadow===Y1.VSM?(c.type=ri.FLOAT,c.anisotropic=4):(c.minFilter=fr_NEAREST,c.magFilter=fr_NEAREST,c.useMipmap=!1),this._textures[i]=c),c},_getPointLightCamera:function(e,n){this._lightCameras.point||(this._lightCameras.point={px:new jo,nx:new jo,py:new jo,ny:new jo,pz:new jo,nz:new jo});var i=this._lightCameras.point[n];switch(i.far=e.range,i.fov=90,i.position.set(0,0,0),n){case"px":i.lookAt(Kr.POSITIVE_X,Kr.NEGATIVE_Y);break;case"nx":i.lookAt(Kr.NEGATIVE_X,Kr.NEGATIVE_Y);break;case"py":i.lookAt(Kr.POSITIVE_Y,Kr.POSITIVE_Z);break;case"ny":i.lookAt(Kr.NEGATIVE_Y,Kr.NEGATIVE_Z);break;case"pz":i.lookAt(Kr.POSITIVE_Z,Kr.NEGATIVE_Y);break;case"nz":i.lookAt(Kr.NEGATIVE_Z,Kr.NEGATIVE_Y)}return e.getWorldPosition(i.position),i.update(),i},_getDirectionalLightCamera:function(){var e=new ui,n=new ls,i=new ls;return function(c,v,m){this._lightCameras.directional||(this._lightCameras.directional=new Vc);var b=this._lightCameras.directional;n.copy(v.viewBoundingBoxLastFrame),n.intersection(m.frustum.boundingBox),b.position.copy(n.min).add(n.max).scale(.5).transformMat4(m.worldTransform),b.rotation.copy(c.rotation),b.scale.copy(c.scale),b.updateWorldTransform(),ui.invert(e,b.worldTransform),ui.multiply(e,e,m.worldTransform),i.copy(n).applyTransform(e);var D=i.min.array,P=i.max.array;return b.position.set((D[0]+P[0])/2,(D[1]+P[1])/2,P[2]).transformMat4(b.worldTransform),b.near=0,b.far=-D[2]+P[2],isNaN(this.lightFrustumBias)?b.far*=4:b.far+=this.lightFrustumBias,b.left=D[0],b.right=P[0],b.top=P[1],b.bottom=D[1],b.update(!0),b}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new jo);var n=this._lightCameras.spot;return n.fov=2*e.penumbraAngle,n.far=e.range,n.worldTransform.copy(e.worldTransform),n.updateProjectionMatrix(),Wr.invert(n.viewMatrix.array,n.worldTransform.array),n},dispose:function(e){var n=e.gl||e;for(var i in this._frameBuffer&&this._frameBuffer.dispose(n),this._textures)this._textures[i].dispose(n);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var c=0;c<this._receivers.length;c++){var v=this._receivers[c];if(v.material){var m=v.material;m.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),m.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),m.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),m.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});Y1.VSM=1,Y1.PCF=2;const Ip=Y1;var Rd=as.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,n){var b,D,i=this.outputs[e],c=i.parameters,v=i._parametersCopy;if(v||(v=i._parametersCopy={}),c)for(var m in c)"width"!==m&&"height"!==m&&(v[m]=c[m]);return b=c.width instanceof Function?c.width.call(this,n):c.width,D=c.height instanceof Function?c.height.call(this,n):c.height,(v.width!==b||v.height!==D)&&this._outputTextures[e]&&this._outputTextures[e].dispose(n.gl),v.width=b,v.height=D,v},setParameter:function(e,n){},getParameter:function(e){},setParameters:function(e){for(var n in e)this.setParameter(n,e[n])},render:function(){},getOutput:function(e,n){if(null==n)return this._outputTextures[n=e];var i=this.outputs[n];return i?this._rendered?i.outputLastFrame?this._prevOutputTextures[n]:this._outputTextures[n]:this._rendering?(this._prevOutputTextures[n]||(this._prevOutputTextures[n]=this._compositor.allocateTexture(i.parameters||{})),this._prevOutputTextures[n]):(this.render(e),this._outputTextures[n]):void 0},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},link:function(e,n,i){this.inputLinks[e]={node:n,pin:i},n.outputLinks[i]||(n.outputLinks[i]=[]),n.outputLinks[i].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var n in this._rendering=!0,this.inputLinks){var i=this.inputLinks[n];i.node.updateReference(i.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)this._outputReferences[e]>0&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))}});const F3=Rd;var L2=as.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){"string"==typeof e&&(e=this.getNodeByName(e));var n=this.nodes.indexOf(e);n>=0&&(this.nodes.splice(n,1),this._dirty=!0)},getNodeByName:function(e){for(var n=0;n<this.nodes.length;n++)if(this.nodes[n].name===e)return this.nodes[n]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var n=this.nodes[e];if(n.inputs)for(var i in n.inputs)if(n.inputs[i]){if(n.pass&&!n.pass.material.isUniformEnabled(i)){console.warn("Pin "+n.name+"."+i+" not used.");continue}var c=n.inputs[i],v=this.findPin(c);v?n.link(i,v.node,v.pin):console.warn("string"==typeof c?"Node "+c+" not exist":"Pin of "+c.node+"."+c.pin+" not exist")}}},findPin:function(e){var n;if(("string"==typeof e||e instanceof F3)&&(e={node:e}),"string"==typeof e.node)for(var i=0;i<this.nodes.length;i++){var c=this.nodes[i];c.name===e.node&&(n=c)}else n=e.node;if(n){var v=e.pin;if(v||n.outputs&&(v=Object.keys(n.outputs)[0]),n.outputs[v])return{node:n,pin:v}}}});const Rp=L2;var Ov=Rp.extend(function(){return{_outputs:[],_texturePool:new xo,_frameBuffer:new hs({depthBuffer:!1})}},{addNode:function(e){Rp.prototype.addNode.call(this,e),e._compositor=this},render:function(e,n){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var i=0;i<this.nodes.length;i++)this.nodes[i].outputs||this._outputs.push(this.nodes[i])}for(i=0;i<this.nodes.length;i++)this.nodes[i].beforeFrame();for(i=0;i<this._outputs.length;i++)this._outputs[i].updateReference();for(i=0;i<this._outputs.length;i++)this._outputs[i].render(e,n);for(i=0;i<this.nodes.length;i++)this.nodes[i].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});const wg=Ov;var Sg=F3.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new hs},{render:function(e){this._rendering=!0;var i,n=e.gl;if(this.trigger("beforerender"),this.outputs){var c=this.frameBuffer;for(var v in this.outputs){var m=this.updateParameter(v,e),b=this.outputs[v],D=this._compositor.allocateTexture(m);this._outputTextures[v]=D,"string"==typeof(P=b.attachment||n.COLOR_ATTACHMENT0)&&(P=n[P]),c.attach(D,P)}c.bind(e);var F=e.getGLExtension("EXT_draw_buffers");if(F){var le=[];for(var P in this.outputs)(P=parseInt(P))>=n.COLOR_ATTACHMENT0&&P<=n.COLOR_ATTACHMENT0+8&&le.push(P);F.drawBuffersEXT(le)}e.saveClear(),e.clearBit=fr_DEPTH_BUFFER_BIT|fr_COLOR_BUFFER_BIT,i=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),c.unbind(e)}else i=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",i),this._rendering=!1,this._rendered=!0}});const Cg=Sg,Tg=F3.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,n){return this.texture},beforeFrame:function(){},afterFrame:function(){}});var Iv=F3.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new Ro({fragment:this.shader});this.pass=e},{render:function(e,n){this.trigger("beforerender",e),this._rendering=!0;var i=e.gl;for(var c in this.inputLinks){var m=(v=this.inputLinks[c]).node.getOutput(e,v.pin);this.pass.setUniform(c,m)}if(this.outputs){this.pass.outputs={};var b={};for(var D in this.outputs){var P=this.updateParameter(D,e);isNaN(P.width)&&this.updateParameter(D,e);var F=this.outputs[D],le=this._compositor.allocateTexture(P);this._outputTextures[D]=le,"string"==typeof(_e=F.attachment||i.COLOR_ATTACHMENT0)&&(_e=i[_e]),b[_e]=le}for(var _e in this._compositor.getFrameBuffer().bind(e),b)this._compositor.getFrameBuffer().attach(b[_e],_e);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,n);for(var c in this.inputLinks){var v;(v=this.inputLinks[c]).node.removeReference(v.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,n){var b,D,i=this.outputs[e],c=i.parameters,v=i._parametersCopy;if(v||(v=i._parametersCopy={}),c)for(var m in c)"width"!==m&&"height"!==m&&(v[m]=c[m]);return b="function"==typeof c.width?c.width.call(this,n):c.width,D="function"==typeof c.height?c.height.call(this,n):c.height,b=Math.ceil(b),D=Math.ceil(D),(v.width!==b||v.height!==D)&&this._outputTextures[e]&&this._outputTextures[e].dispose(n),v.width=b,v.height=D,v},setParameter:function(e,n){this.pass.setUniform(e,n)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var n in e)this.setParameter(n,e[n])},define:function(e,n){this.pass.material.define("fragment",e,n)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},clear:function(){F3.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const Dg=Iv,Rv="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",Vv="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",t8="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",Hv="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",Nv="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",Np="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",Bv="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",Ag="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",Bp="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";!function Vd(e){e.import("@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"),e.import(Rv),e.import("@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"),e.import(Vv),e.import("@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"),e.import(t8),e.import(Hv),e.import(Nv),e.import(Np),e.import(Bv),e.import("@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"),e.import(Ag),e.import(Bp)}(ti);var Pg=/^#source\((.*?)\)/;function F9(e,n,i){var v,m,b,_e,c=e.type||"filter";if("filter"===c){var D=e.shader.trim(),P=Pg.exec(D);if(P?v=ti.source(P[1].trim()):"#"===D.charAt(0)&&(v=n.shaders[D.substr(1)]),v||(v=D),!v)return}if(e.inputs)for(var F in m={},e.inputs)m[F]="string"==typeof e.inputs[F]?e.inputs[F]:{node:e.inputs[F].node,pin:e.inputs[F].pin};if(e.outputs)for(var F in b={},e.outputs){var le=e.outputs[F];b[F]={},null!=le.attachment&&(b[F].attachment=le.attachment),null!=le.keepLastFrame&&(b[F].keepLastFrame=le.keepLastFrame),null!=le.outputLastFrame&&(b[F].outputLastFrame=le.outputLastFrame),le.parameters&&(b[F].parameters=Hd(le.parameters))}if(_e="scene"===c?new Cg({name:e.name,scene:i.scene,camera:i.camera,outputs:b}):"texture"===c?new Tg({name:e.name,outputs:b}):new Dg({name:e.name,shader:v,inputs:m,outputs:b})){if(e.parameters)for(var F in e.parameters)"string"==typeof(Ve=e.parameters[F])?"#"===(Ve=Ve.trim()).charAt(0)?Ve=n.textures[Ve.substr(1)]:_e.on("beforerender",Vg(F,E0(Ve))):"function"==typeof Ve&&_e.on("beforerender",Ve),_e.setParameter(F,Ve);if(e.defines&&_e.pass)for(var F in e.defines){var Ve;_e.pass.material.define("fragment",F,Ve=e.defines[F])}}return _e}function Og(e,n){return e}function Ig(e,n){return n}function Hd(e){var n={};if(!e)return n;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(c){var v=e[c];null!=v&&("string"==typeof v&&(v=ri[v]),n[c]=v)});var i=e.scale||1;return["width","height"].forEach(function(c){if(null!=e[c]){var v=e[c];"string"==typeof v?(v=v.trim(),n[c]=function Hg(e,n,i){return i=i||1,function(c){var v=c.getDevicePixelRatio(),m=c.getWidth()*i,b=c.getHeight()*i;return n(m,b,v)}}(0,E0(v),i)):n[c]=v}}),n.width||(n.width=Og),n.height||(n.height=Ig),null!=e.useMipmap&&(n.useMipmap=e.useMipmap),n}function Vg(e,n){return function(i){var c=i.getDevicePixelRatio(),v=i.getWidth(),m=i.getHeight(),b=n(v,m,c);this.setParameter(e,b)}}function E0(e){var n=/^expr\((.*)\)$/.exec(e);if(n)try{var i=new Function("width","height","dpr","return "+n[1]);return i(1,1),i}catch{throw new Error("Invalid expression.")}}const k4=function B4(e,n){for(var i=0,c=1/n,v=e;v>0;)i+=c*(v%n),v=Math.floor(v/n),c/=n;return i};function kg(e){for(var n=new Uint8Array(e*e*4),i=0,c=new Kr,v=0;v<e;v++)for(var m=0;m<e;m++)c.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),n[i++]=255*(.5*c.x+.5),n[i++]=255*(.5*c.y+.5),n[i++]=0,n[i++]=255;return n}function ds(e){return new Wi({pixels:kg(e),wrapS:ri.REPEAT,wrapT:ri.REPEAT,width:e,height:e})}function Fg(e,n,i){var c=new Float32Array(3*e);n=n||0;for(var v=0;v<e;v++){var m=k4(v+n,2)*(i?1:2)*Math.PI,b=k4(v+n,3)*Math.PI,D=Math.random(),P=Math.cos(m)*Math.sin(b)*D,F=Math.cos(b)*D,le=Math.sin(m)*Math.sin(b)*D;c[3*v]=P,c[3*v+1]=F,c[3*v+2]=le}return c}function Fc(e){e=e||{},this._ssaoPass=new Ro({fragment:ti.source("ecgl.ssao.estimate")}),this._blurPass=new Ro({fragment:ti.source("ecgl.ssao.blur")}),this._framebuffer=new hs({depthBuffer:!1}),this._ssaoTexture=new Wi,this._blurTexture=new Wi,this._blurTexture2=new Wi,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}ti.import("@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"),Fc.prototype.setDepthTexture=function(e){this._depthTex=e},Fc.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},Fc.prototype.update=function(e,n,i){var c=e.getWidth(),v=e.getHeight(),m=this._ssaoPass,b=this._blurPass;m.setUniform("kernel",this._kernels[i%this._kernels.length]),m.setUniform("depthTex",this._depthTex),null!=this._normalTex&&m.setUniform("normalTex",this._normalTex),m.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var D=new ui;ui.transpose(D,n.worldTransform),m.setUniform("projection",n.projectionMatrix.array),m.setUniform("projectionInv",n.invProjectionMatrix.array),m.setUniform("viewInverseTranspose",D.array);var P=this._ssaoTexture,F=this._blurTexture,le=this._blurTexture2;P.width=c/2,P.height=v/2,F.width=c,F.height=v,le.width=c,le.height=v,this._framebuffer.attach(P),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),m.render(e),b.setUniform("textureSize",[c/2,v/2]),b.setUniform("projection",n.projectionMatrix.array),this._framebuffer.attach(F),b.setUniform("direction",0),b.setUniform("ssaoTexture",P),b.render(e),this._framebuffer.attach(le),b.setUniform("textureSize",[c,v]),b.setUniform("direction",1),b.setUniform("ssaoTexture",F),b.render(e),this._framebuffer.unbind(e);var _e=e.clearColor;e.gl.clearColor(_e[0],_e[1],_e[2],_e[3])},Fc.prototype.getTargetTexture=function(){return this._blurTexture2},Fc.prototype.setParameter=function(e,n){"noiseTexSize"===e?this.setNoiseSize(n):"kernelSize"===e?this.setKernelSize(n):"intensity"===e?this._ssaoPass.material.set("intensity",n):this._ssaoPass.setUniform(e,n)},Fc.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var n=0;n<30;n++)this._kernels[n]=Fg(e,n*e,!!this._normalTex)},Fc.prototype.setNoiseSize=function(e){var n=this._ssaoPass.getUniform("noiseTex");n?(n.data=kg(e),n.width=n.height=e,n.dirty()):(n=ds(e),this._ssaoPass.setUniform("noiseTex",ds(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])},Fc.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const Ug=Fc;function Uc(e){e=e||{},this._ssrPass=new Ro({fragment:ti.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new Ro({fragment:ti.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new Ro({fragment:ti.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new Ro({fragment:ti.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Wi({type:ri.HALF_FLOAT}),this._texture2=new Wi({type:ri.HALF_FLOAT}),this._texture3=new Wi({type:ri.HALF_FLOAT}),this._prevTexture=new Wi({type:ri.HALF_FLOAT}),this._currentTexture=new Wi({type:ri.HALF_FLOAT}),this._frameBuffer=new hs({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}ti.import("@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"),Uc.prototype.setAmbientCubemap=function(e,n){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",n),this._ssrPass.material[e&&n?"enableTexture":"disableTexture"]("specularCubemap")},Uc.prototype.update=function(e,n,i,c){var v=e.getWidth(),m=e.getHeight(),b=this._ssrTexture,D=this._texture2,P=this._texture3;b.width=this._prevTexture.width=this._currentTexture.width=v/this._downScale,b.height=this._prevTexture.height=this._currentTexture.height=m/this._downScale,D.width=P.width=v,D.height=P.height=m;var F=this._frameBuffer,le=this._ssrPass,_e=this._blurPass1,Ve=this._blurPass2,Oe=this._blendPass,Ue=new ui,je=new ui;if(ui.transpose(Ue,n.worldTransform),ui.transpose(je,n.viewMatrix),le.setUniform("sourceTexture",i),le.setUniform("projection",n.projectionMatrix.array),le.setUniform("projectionInv",n.invProjectionMatrix.array),le.setUniform("toViewSpace",Ue.array),le.setUniform("toWorldSpace",je.array),le.setUniform("nearZ",n.near),le.setUniform("jitterOffset",c/this._totalSamples*this._samplePerFrame),le.setUniform("sampleOffset",c*this._samplePerFrame),_e.setUniform("textureSize",[b.width,b.height]),Ve.setUniform("textureSize",[v,m]),Ve.setUniform("sourceTexture",i),_e.setUniform("projection",n.projectionMatrix.array),Ve.setUniform("projection",n.projectionMatrix.array),F.attach(b),F.bind(e),le.render(e),this._physicallyCorrect&&(F.attach(this._currentTexture),Oe.setUniform("texture1",this._prevTexture),Oe.setUniform("texture2",b),Oe.material.set({weight1:c>=1?.95:0,weight2:c>=1?.05:1}),Oe.render(e)),F.attach(D),_e.setUniform("texture",this._physicallyCorrect?this._currentTexture:b),_e.render(e),F.attach(P),Ve.setUniform("texture",D),Ve.render(e),F.unbind(e),this._physicallyCorrect){var wt=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=wt}},Uc.prototype.getTargetTexture=function(){return this._texture3},Uc.prototype.setParameter=function(e,n){"maxIteration"===e?this._ssrPass.material.define("fragment","MAX_ITERATION",n):this._ssrPass.setUniform(e,n)},Uc.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=Uu.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e},Uc.prototype.setSSAOTexture=function(e){var n=this._blurPass2;e?(n.material.enableTexture("ssaoTex"),n.material.set("ssaoTex",e)):n.material.disableTexture("ssaoTex")},Uc.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},Uc.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const Fv=Uc,Uv=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];function Nd(e,n,i,c,v){var m=e.gl;n.setUniform(m,"1i",i,v),m.activeTexture(m.TEXTURE0+v),c.isRenderable()?c.bind(e):c.unbind(e)}function kp(e,n,i,c,v){var m,b,D,P,F=e.gl;return function(le,_e,Ve){if(!P||P.material!==le.material){var Oe=le.material,Ue=le.__program,je=Oe.get("roughness");null==je&&(je=1);var vt=Oe.get("normalMap")||n,wt=Oe.get("roughnessMap"),Ot=Oe.get("bumpMap"),Rt=Oe.get("uvRepeat"),At=Oe.get("uvOffset"),sn=Oe.get("detailUvRepeat"),nn=Oe.get("detailUvOffset"),An=!!Ot&&Oe.isTextureEnabled("bumpMap"),_n=!!wt&&Oe.isTextureEnabled("roughnessMap"),Jn=Oe.isDefined("fragment","DOUBLE_SIDED");Ot=Ot||i,wt=wt||c,Ve!==_e?(_e.set("normalMap",vt),_e.set("bumpMap",Ot),_e.set("roughnessMap",wt),_e.set("useBumpMap",An),_e.set("useRoughnessMap",_n),_e.set("doubleSide",Jn),null!=Rt&&_e.set("uvRepeat",Rt),null!=At&&_e.set("uvOffset",At),null!=sn&&_e.set("detailUvRepeat",sn),null!=nn&&_e.set("detailUvOffset",nn),_e.set("roughness",je)):(Ue.setUniform(F,"1f","roughness",je),m!==vt&&Nd(e,Ue,"normalMap",vt,0),b!==Ot&&Ot&&Nd(e,Ue,"bumpMap",Ot,1),D!==wt&&wt&&Nd(e,Ue,"roughnessMap",wt,2),null!=Rt&&Ue.setUniform(F,"2f","uvRepeat",Rt),null!=At&&Ue.setUniform(F,"2f","uvOffset",At),null!=sn&&Ue.setUniform(F,"2f","detailUvRepeat",sn),null!=nn&&Ue.setUniform(F,"2f","detailUvOffset",nn),Ue.setUniform(F,"1i","useBumpMap",+An),Ue.setUniform(F,"1i","useRoughnessMap",+_n),Ue.setUniform(F,"1i","doubleSide",+Jn)),m=vt,b=Ot,D=wt,P=le}}}function n8(e){e=e||{},this._depthTex=new Wi({format:ri.DEPTH_COMPONENT,type:ri.UNSIGNED_INT}),this._normalTex=new Wi({type:ri.HALF_FLOAT}),this._framebuffer=new hs,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,hs.DEPTH_ATTACHMENT),this._normalMaterial=new yl({shader:new ti(ti.source("ecgl.normal.vertex"),ti.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=Ml.createBlank("#000"),this._defaultBumpMap=Ml.createBlank("#000"),this._defaultRoughessMap=Ml.createBlank("#000"),this._debugPass=new Ro({fragment:ti.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}ti.import("@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"),n8.prototype.getDepthTexture=function(){return this._depthTex},n8.prototype.getNormalTexture=function(){return this._normalTex},n8.prototype.update=function(e,n,i){var c=e.getWidth(),v=e.getHeight(),m=this._depthTex,b=this._normalTex,D=this._normalMaterial;m.width=c,m.height=v,b.width=c,b.height=v;var P=n.getRenderList(i).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(P,i,{getMaterial:function(){return D},ifRender:function(F){return F.renderNormal},beforeRender:kp(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},n8.prototype.renderDebug=function(e){this._debugPass.render(e)},n8.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};const U3=n8;function Y3(e){e=e||{},this._edgePass=new Ro({fragment:ti.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new Wi({type:ri.HALF_FLOAT}),this._frameBuffer=new hs,this._frameBuffer.attach(this._targetTexture)}Y3.prototype.update=function(e,n,i,c){var v=e.getWidth(),m=e.getHeight(),b=this._targetTexture;b.width=v,b.height=m;var D=this._frameBuffer;D.bind(e),this._edgePass.setUniform("projectionInv",n.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[v,m]),this._edgePass.setUniform("texture",i),this._edgePass.render(e),D.unbind(e)},Y3.prototype.getTargetTexture=function(){return this._targetTexture},Y3.prototype.setParameter=function(e,n){this._edgePass.setUniform(e,n)},Y3.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const Bd=Y3,jg={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]};function Gh(e,n){return{color:{parameters:{width:e,height:n}}}}ti.import(Rv),ti.import(Vv),ti.import(t8),ti.import(Hv),ti.import(Nv),ti.import(Np),ti.import(Bv),ti.import(Ag),ti.import(Bp),ti.import("@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"),ti.import("@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end");var r8=["composite","FXAA"];function pa(){this._sourceTexture=new Wi({type:ri.HALF_FLOAT}),this._depthTexture=new Wi({format:ri.DEPTH_COMPONENT,type:ri.UNSIGNED_INT}),this._framebuffer=new hs,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,hs.DEPTH_ATTACHMENT),this._normalPass=new U3,this._compositor=function Lg(e,n){var i=new wg;n=n||{};var c={textures:{},parameters:{}};for(var m in e.parameters)c.parameters[m]=Hd(e.parameters[m]);return function Rg(e,n,i,c){if(e.textures){var v={},m=0,b=!1,D=i.textureRootPath;Io.each(e.textures,function(P,F){var le,_e=P.path,Ve=Hd(P.parameters);if(Array.isArray(_e)&&6===_e.length)D&&(_e=_e.map(function(Oe){return Io.relative2absolute(Oe,D)})),le=new S2(Ve);else{if("string"!=typeof _e)return;D&&(_e=Io.relative2absolute(_e,D)),le=new Wi(Ve)}le.load(_e),m++,le.once("success",function(){v[F]=le,0==--m&&(c(v),b=!0)})}),0===m&&!b&&c(v)}else c({})}(e,0,n,function(D){c.textures=D,function(D,P){for(var F=0;F<e.nodes.length;F++){var _e=F9(e.nodes[F],c,n);_e&&i.addNode(_e)}}()}),i}(jg);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var n=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=n,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(c){return this._compositor.getNodeByName(c)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=r8.map(function(c){return this._compositor.getNodeByName(c)},this);var i={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new Ug(i),this._ssrPass=new Fv(i),this._edgePass=new Bd(i)}pa.prototype.resize=function(c,v,i){v*=i=i||1;var m=this._sourceTexture,b=this._depthTexture;m.width=c*=i,m.height=v,b.width=c,b.height=v;var D={getWidth:function(){return c},getHeight:function(){return v},getDevicePixelRatio:function(){return i}};function P(F,le){if("function"==typeof F[le]){var _e=F[le].__original||F[le];F[le]=function(Ve){return _e.call(this,D)},F[le].__original=_e}}this._compositor.nodes.forEach(function(F){for(var le in F.outputs){var _e=F.outputs[le].parameters;_e&&(P(_e,"width"),P(_e,"height"))}for(var Ve in F.parameters)P(F.parameters,Ve)}),this._width=c,this._height=v,this._dpr=i},pa.prototype.getWidth=function(){return this._width},pa.prototype.getHeight=function(){return this._height},pa.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},pa.prototype._getPrevNode=function(e){for(var n=r8.indexOf(e.name)-1,i=this._finalNodesChain[n];i&&!this._compositor.getNodeByName(i.name);)i=this._finalNodesChain[n-=1];return i},pa.prototype._getNextNode=function(e){for(var n=r8.indexOf(e.name)+1,i=this._finalNodesChain[n];i&&!this._compositor.getNodeByName(i.name);)i=this._finalNodesChain[n+=1];return i},pa.prototype._addChainNode=function(e){var n=this._getPrevNode(e),i=this._getNextNode(e);n&&(e.inputs.texture=n.name,i?(e.outputs=Gh(this.getWidth.bind(this),this.getHeight.bind(this)),i.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},pa.prototype._removeChainNode=function(e){var n=this._getPrevNode(e),i=this._getNextNode(e);n&&(i?(n.outputs=Gh(this.getWidth.bind(this),this.getHeight.bind(this)),i.inputs.texture=n.name):n.outputs=null,this._compositor.removeNode(e))},pa.prototype.updateNormal=function(e,n,i,c){this._ifRenderNormalPass()&&this._normalPass.update(e,n,i)},pa.prototype.updateSSAO=function(e,n,i,c){this._ssaoPass.update(e,i,c)},pa.prototype.enableSSAO=function(){this._enableSSAO=!0},pa.prototype.disableSSAO=function(){this._enableSSAO=!1},pa.prototype.enableSSR=function(){this._enableSSR=!0},pa.prototype.disableSSR=function(){this._enableSSR=!1},pa.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},pa.prototype.getSourceFrameBuffer=function(){return this._framebuffer},pa.prototype.getSourceTexture=function(){return this._sourceTexture},pa.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},pa.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},pa.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},pa.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},pa.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},pa.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},pa.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},pa.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},pa.prototype.enableEdge=function(){this._enableEdge=!0},pa.prototype.disableEdge=function(){this._enableEdge=!1},pa.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)},pa.prototype.setSSAOParameter=function(e,n){switch(e){case"quality":this._ssaoPass.setParameter("kernelSize",{low:6,medium:12,high:32,ultra:62}[n]||12);break;case"radius":this._ssaoPass.setParameter(e,n),this._ssaoPass.setParameter("bias",n/200);break;case"intensity":this._ssaoPass.setParameter(e,n)}},pa.prototype.setDOFParameter=function(e,n){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,n);break;case"blurRadius":for(var i=0;i<this._dofBlurNodes.length;i++)this._dofBlurNodes[i].setParameter("blurRadius",n);break;case"quality":var c={low:4,medium:8,high:16,ultra:32}[n]||8;for(this._dofBlurKernelSize=c,i=0;i<this._dofBlurNodes.length;i++)this._dofBlurNodes[i].pass.material.define("POISSON_KERNEL_SIZE",c);this._dofBlurKernel=new Float32Array(2*c)}},pa.prototype.setSSRParameter=function(e,n){if(null!=n)switch(e){case"quality":var c={low:32,medium:16,high:8,ultra:4}[n]||16;this._ssrPass.setParameter("maxIteration",{low:10,medium:15,high:30,ultra:80}[n]||20),this._ssrPass.setParameter("pixelStride",c);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-n,1),0));break;case"physical":this.setPhysicallyCorrectSSR(n);break;default:console.warn("Unkown SSR parameter "+e)}},pa.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},pa.prototype.setEdgeColor=function(e){var n=Kt.parseColor(e);this._edgePass.setParameter("edgeColor",n)},pa.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))},pa.prototype.setColorLookupTexture=function(e,n){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",n,{minFilter:Kt.Texture.NEAREST,magFilter:Kt.Texture.NEAREST,flipY:!1})},pa.prototype.setColorCorrection=function(e,n){this._compositeNode.setParameter(e,n)},pa.prototype.isSSREnabled=function(){return this._enableSSR},pa.prototype.composite=function(e,n,i,c,v){var m=this._sourceTexture,b=m;this._enableEdge&&(this._edgePass.update(e,i,m,v),m=b=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,i,m,v),b=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=b,this._cocNode.setParameter("depth",this._depthTexture);for(var D=this._dofBlurKernel,P=this._dofBlurKernelSize,le=v%Math.floor(Uv.length/2/P),_e=0;_e<2*P;_e++)D[_e]=Uv[_e+le*P*2];for(_e=0;_e<this._dofBlurNodes.length;_e++)this._dofBlurNodes[_e].setParameter("percent",v/30),this._dofBlurNodes[_e].setParameter("poissonKernel",D);this._cocNode.setParameter("zNear",i.near),this._cocNode.setParameter("zFar",i.far),this._compositor.render(e,c)},pa.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};const Wg=pa;function i8(e){for(var n=[],i=0;i<30;i++)n.push([k4(i,2),k4(i,3)]);this._haltonSequence=n,this._frame=0,this._sourceTex=new Wi,this._sourceFb=new hs,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Wi,this._outputTex=new Wi;var c=this._blendPass=new Ro({fragment:ti.source("clay.compositor.blend")});c.material.disableTexturesAll(),c.material.enableTexture(["texture1","texture2"]),this._blendFb=new hs({depthBuffer:!1}),this._outputPass=new Ro({fragment:ti.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(v){v.blendEquationSeparate(v.FUNC_ADD,v.FUNC_ADD),v.blendFuncSeparate(v.ONE,v.ONE_MINUS_SRC_ALPHA,v.ONE,v.ONE_MINUS_SRC_ALPHA)}}i8.prototype={constructor:i8,jitterProjection:function(e,n){var i=e.viewport,c=i.devicePixelRatio||e.getDevicePixelRatio(),v=i.width*c,m=i.height*c,b=this._haltonSequence[this._frame%this._haltonSequence.length],D=new ui;D.array[12]=(2*b[0]-1)/v,D.array[13]=(2*b[1]-1)/m,ui.mul(n.projectionMatrix,D,n.projectionMatrix),ui.invert(n.invProjectionMatrix,n.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,n){this._prevFrameTex.width=e,this._prevFrameTex.height=n,this._outputTex.width=e,this._outputTex.height=n,this._sourceTex.width=e,this._sourceTex.height=n,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,n,i){var c=this._blendPass;0===this._frame?(c.setUniform("weight1",0),c.setUniform("weight2",1)):(c.setUniform("weight1",.9),c.setUniform("weight2",.1)),c.setUniform("texture1",this._prevFrameTex),c.setUniform("texture2",n||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),c.render(e),this._blendFb.unbind(e),i||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var v=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=v,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};const Up=i8;function to(e){e=e||"perspective",this.layer=null,this.scene=new oc,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new Wg,this._temporalSS=new Up,this._shadowMapPass=new Ip;for(var n=[],i=0,c=0;c<30;c++){for(var v=[],m=0;m<6;m++)v.push(4*k4(i,2)-2),v.push(4*k4(i,3)-2),i++;n.push(v)}this._pcfKernels=n,this.scene.on("beforerender",function(b,D,P){this.needsTemporalSS()&&this._temporalSS.jitterProjection(b,P)},this)}to.prototype.setProjection=function(e){var n=this.camera;n&&n.update(),"perspective"===e?this.camera instanceof jo||(this.camera=new jo,n&&this.camera.setLocalTransform(n.localTransform)):this.camera instanceof Vc||(this.camera=new Vc,n&&this.camera.setLocalTransform(n.localTransform)),this.camera.near=.1,this.camera.far=2e3},to.prototype.setViewport=function(e,n,i,c,v){this.camera instanceof jo&&(this.camera.aspect=i/c),v=v||1,this.viewport.x=e,this.viewport.y=n,this.viewport.width=i,this.viewport.height=c,this.viewport.devicePixelRatio=v,this._compositor.resize(i*v,c*v),this._temporalSS.resize(i*v,c*v)},to.prototype.containPoint=function(e,n){var i=this.viewport;return n=this.layer.renderer.getHeight()-n,e>=i.x&&n>=i.y&&e<=i.x+i.width&&n<=i.y+i.height};var kd=new ws;to.prototype.castRay=function(e,n,i){var c=this.layer.renderer,v=c.viewport;return c.viewport=this.viewport,c.screenToNDC(e,n,kd),this.camera.castRay(kd,i),c.viewport=v,i},to.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var n=0;n<e.transparent.length;n++){var c=e.transparent[n].geometry;c.needsSortVerticesProgressively&&c.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),c.needsSortTrianglesProgressively&&c.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},to.prototype.render=function(e,n){this._doRender(e,n,this._frame),this._frame++},to.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},to.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"===e&&(e=this._enablePostEffect),e},to.prototype.hasDOF=function(){return this._enableDOF},to.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},to.prototype._doRender=function(e,n,i){var c=this.scene,v=this.camera;this._updateTransparent(e,c,v,i=i||0),n||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,c,v,!0)),this._updateShadowPCFKernel(i);var m=e.clearColor;if(e.gl.clearColor(m[0],m[1],m[2],m[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,v),this._compositor.updateNormal(e,c,v,this._temporalSS.getFrame())),this._updateSSAO(e,c,v,this._temporalSS.getFrame()),this._enablePostEffect)(b=this._compositor.getSourceFrameBuffer()).bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(c,v,!0,!0),b.unbind(e),this.needsTemporalSS()&&n?(this._compositor.composite(e,c,v,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,c,v,null,0));else if(this.needsTemporalSS()&&n){var b;(b=this._temporalSS.getSourceFrameBuffer()).bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(c,v,!0,!0),e.restoreClear(),b.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(c,v,!0,!0)},to.prototype._updateTransparent=function(e,n,i,c){for(var v=new Kr,m=new ui,b=i.getWorldPosition(),D=n.getRenderList(i).transparent,P=0;P<D.length;P++){var F=D[P],le=F.geometry;ui.invert(m,F.worldTransform),Kr.transformMat4(v,b,m),le.needsSortTriangles&&le.needsSortTriangles()&&le.doSortTriangles(v,c),le.needsSortVertices&&le.needsSortVertices()&&le.doSortVertices(v,c)}},to.prototype._updateSSAO=function(e,n,i){var c=this._enableSSAO&&this._enablePostEffect;c&&this._compositor.updateSSAO(e,n,i,this._temporalSS.getFrame());for(var v=n.getRenderList(i),m=0;m<v.opaque.length;m++){var b=v.opaque[m];b.renderNormal&&b.material[c?"enableTexture":"disableTexture"]("ssaoMap"),c&&b.material.set("ssaoMap",this._compositor.getSSAOTexture())}},to.prototype._updateShadowPCFKernel=function(e){for(var n=this._pcfKernels[e%this._pcfKernels.length],c=this.scene.getRenderList(this.camera).opaque,v=0;v<c.length;v++)c[v].receiveShadow&&(c[v].material.set("pcfKernel",n),c[v].material.define("fragment","PCF_KERNEL_SIZE",n.length/2))},to.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},to.prototype.setPostEffect=function(e,n){var i=this._compositor;this._enablePostEffect=e.get("enable");var c=e.getModel("bloom"),v=e.getModel("edge"),m=e.getModel("DOF",e.getModel("depthOfField")),b=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),D=e.getModel("SSR",e.getModel("screenSpaceReflection")),P=e.getModel("FXAA"),F=e.getModel("colorCorrection");c.get("enable")?i.enableBloom():i.disableBloom(),m.get("enable")?i.enableDOF():i.disableDOF(),D.get("enable")?i.enableSSR():i.disableSSR(),F.get("enable")?i.enableColorCorrection():i.disableColorCorrection(),v.get("enable")?i.enableEdge():i.disableEdge(),P.get("enable")?i.enableFXAA():i.disableFXAA(),this._enableDOF=m.get("enable"),this._enableSSAO=b.get("enable"),this._enableSSAO?i.enableSSAO():i.disableSSAO(),i.setBloomIntensity(c.get("intensity")),i.setEdgeColor(v.get("color")),i.setColorLookupTexture(F.get("lookupTexture"),n),i.setExposure(F.get("exposure")),["radius","quality","intensity"].forEach(function(le){i.setSSAOParameter(le,b.get(le))}),["quality","maxRoughness","physical"].forEach(function(le){i.setSSRParameter(le,D.get(le))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(le){i.setDOFParameter(le,m.get(le))}),["brightness","contrast","saturation"].forEach(function(le){i.setColorCorrection(le,F.get(le))})},to.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)},to.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")},to.prototype.isLinearSpace=function(){return this._enablePostEffect},to.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var n=this.rootNode.children(),i=0;i<n.length;i++)e.add(n[i]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},to.prototype.add=function(e){this.rootNode.add(e)},to.prototype.remove=function(e){this.rootNode.remove(e)},to.prototype.removeAll=function(e){this.rootNode.removeAll(e)},Object.assign(to.prototype,n0);const F4=to;function Yp(e,n){var i=e.getBoxLayoutParams(),c=(0,Yi.ME)(i,{width:n.getWidth(),height:n.getHeight()});c.y=n.getHeight()-c.y-c.height,this.viewGL.setViewport(c.x,c.y,c.width,c.height,n.getDevicePixelRatio());var v=e.get("boxWidth"),m=e.get("boxHeight"),b=e.get("boxDepth");this.getAxis("x").setExtent(-v/2,v/2),this.getAxis("y").setExtent(b/2,-b/2),this.getAxis("z").setExtent(-m/2,m/2),this.size=[v,m,b]}function Zg(e,n){var i={};e.eachSeries(function(v){if(v.coordinateSystem===this){var m=v.getData();["x","y","z"].forEach(function(b){m.mapDimensionsAll(b,!0).forEach(function(D){!function c(v,m){i[v]=i[v]||[1/0,-1/0],i[v][0]=Math.min(m[0],i[v][0]),i[v][1]=Math.max(m[1],i[v][1])}(b,m.getDataExtent(D,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(v){e.eachComponent(v,function(m){var b=v.charAt(0),D=m.getReferringComponents("grid3D").models[0],P=D.coordinateSystem;if(P===this){var F=P.getAxis(b);if(!F){var le=gn._y.createScale(i[b]||[1/0,-1/0],m);(F=new sr(b,le)).type=m.get("type"),F.onBand="category"===F.type&&m.get("boundaryGap"),F.inverse=m.get("inverse"),m.axis=F,F.model=m,F.getLabelModel=function(){return m.getModel("axisLabel",D.getModel("axisLabel"))},F.getTickModel=function(){return m.getModel("axisTick",D.getModel("axisTick"))},P.addAxis(F)}}},this)},this),this.resize(this.model,n)}var jh={dimensions:Id.prototype.dimensions,create:function(e,n){var i=[];e.eachComponent("grid3D",function(m){m.__viewGL=m.__viewGL||new F4;var b=new Id;b.model=m,b.viewGL=m.__viewGL,m.coordinateSystem=b,i.push(b),b.resize=Yp,b.update=Zg});var c=["xAxis3D","yAxis3D","zAxis3D"];return e.eachSeries(function(m){if("cartesian3D"===m.get("coordinateSystem")){if(null==(b=m.getReferringComponents("grid3D").models[0])){var D=function v(m,b){return c.map(function(D){var P=m.getReferringComponents(D).models[0];return null==P&&(P=b.getComponent(D)),P})}(m,e),b=D[0].getCoordSysModel();D.forEach(function(le){le.getCoordSysModel()})}m.coordinateSystem=b.coordinateSystem}}),i}};const Gp=jh;var jp=gn.tF.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});gn._y.mixinAxisModelCommonMethods(jp);const Wp=jp;var Gv={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},jv=gn.D5.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},Gv),z0=gn.D5.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},Gv),Zp=gn.D5.defaults({scale:!0,min:"dataMin",max:"dataMax"},z0),Wv=gn.D5.defaults({logBase:10},z0);Wv.scale=!0;const Kp={categoryAxis3D:jv,valueAxis3D:z0,timeAxis3D:Zp,logAxis3D:Wv};var Zv=C(4532),Kg=["value","category","time","log"];function $g(e,n){return n.type||(n.data?"category":"value")}(0,gn.D$)(function Xg(e){e.registerComponentModel(bg),e.registerComponentView(Od),e.registerCoordinateSystem("grid3D",Gp),["x","y","z"].forEach(function(n){!function Fd(e,n,i,c,v){Kg.forEach(function(m){var b=i.extend({type:n+"Axis3D."+m,__ordinalMeta:null,mergeDefaultAndTheme:function(D,P){var F=P.getTheme();gn.D5.merge(D,F.get(m+"Axis3D")),gn.D5.merge(D,this.getDefaultOption()),D.type=c(n,D)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Zv.Z.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:gn.D5.merge(gn.D5.clone(Kp[m+"Axis3D"]),v||{},!0)});e.registerComponentModel(b)}),e.registerSubTypeDefaulter(n+"Axis3D",gn.D5.curry(c,n))}(e,n,Wp,$g,{name:n.toUpperCase()});const i=e.ComponentView.extend({type:n+"Axis3D"});e.registerComponentView(i)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(n,i){i.eachComponent({mainType:"grid3D",query:n},function(c){c.setView(n)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(n,i){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(n,i){})});const a8={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},Ud={getFilledRegions:function(e,n){var c,i=(e||[]).slice();if("string"==typeof n?c=(n=gn.FU(n))&&n.geoJson:n&&n.features&&(c=n),!c)return[];for(var v={},m=c.features,b=0;b<i.length;b++)v[i[b].name]=i[b];for(b=0;b<m.length;b++){var D=m[b].properties.name;v[D]||i.push({name:D})}return i},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var o8=gn.tF.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var n=gn._y.createDimensions(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),i=new gn.aV(n,this);i.initData(e.regions);var c={};i.each(function(v){var m=i.getName(v),b=i.getItemModel(v);c[m]=b}),this._regionModelMap=c,this._data=i},getData:function(){return this._data},getRegionModel:function(e){var n=this.getData().getName(e);return this._regionModelMap[n]||new gn.Hn(null,this)},getRegionPolygonCoords:function(e){var n=this.getData().getName(e),i=this.coordinateSystem.getRegion(n);return i?i.geometries:[]},getFormattedLabel:function(e,n){var i=this._data.getName(e),c=this.getRegionModel(e),v=c.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);null==v&&(v=c.get(["label","formatter"]));var m={name:i};return"function"==typeof v?(m.status=n,v(m)):"string"==typeof v?v.replace("{a}",m.seriesName??""):i},defaultOption:{regions:[]}});gn.D5.merge(o8.prototype,Ud),gn.D5.merge(o8.prototype,Td),gn.D5.merge(o8.prototype,Qu),gn.D5.merge(o8.prototype,b0),gn.D5.merge(o8.prototype,a8);const Qg=o8,Jg=Yd;function Yd(e,n,i){i=i||2;var D,P,F,le,_e,Ve,Oe,c=n&&n.length,v=c?n[0]*i:e.length,m=Kv(e,0,v,i,!0),b=[];if(!m)return b;if(c&&(m=function Jo(e,n,i,c){var m,b,F,v=[];for(m=0,b=n.length;m<b;m++)(F=Kv(e,n[m]*c,m<b-1?n[m+1]*c:e.length,c,!1))===F.next&&(F.steiner=!0),v.push(G3(F));for(v.sort(A0),m=0;m<v.length;m++)jd(v[m],i),i=Wh(i,i.next);return i}(e,n,m,i)),e.length>80*i){D=F=e[0],P=le=e[1];for(var Ue=i;Ue<v;Ue+=i)(_e=e[Ue])<D&&(D=_e),(Ve=e[Ue+1])<P&&(P=Ve),_e>F&&(F=_e),Ve>le&&(le=Ve);Oe=Math.max(F-D,le-P)}return Gd(m,b,i,D,P,Oe),b}function Kv(e,n,i,c,v){var m,b;if(v===Zd(e,n,i,c)>0)for(m=n;m<i;m+=c)b=Yc(m,e[m],e[m+1],b);else for(m=i-c;m>=n;m-=c)b=Yc(m,e[m],e[m+1],b);return b&&G1(b,b.next)&&(h8(b),b=b.next),b}function Wh(e,n){if(!e)return e;n||(n=e);var c,i=e;do{if(c=!1,i.steiner||!G1(i,i.next)&&0!==Cs(i.prev,i,i.next))i=i.next;else{if(h8(i),(i=n=i.prev)===i.next)return null;c=!0}}while(c||i!==n);return n}function Gd(e,n,i,c,v,m,b){if(e){!b&&m&&function $v(e,n,i,c){var v=e;do{null===v.z&&(v.z=P0(v.x,v.y,n,i,c)),v.prevZ=v.prev,v.nextZ=v.next,v=v.next}while(v!==e);v.prevZ.nextZ=null,v.prevZ=null,function l8(e){var n,i,c,v,m,b,D,P,F=1;do{for(i=e,e=null,m=null,b=0;i;){for(b++,c=i,D=0,n=0;n<F&&(D++,c=c.nextZ);n++);for(P=F;D>0||P>0&&c;)0!==D&&(0===P||!c||i.z<=c.z)?(v=i,i=i.nextZ,D--):(v=c,c=c.nextZ,P--),m?m.nextZ=v:e=v,v.prevZ=m,m=v;i=c}m.nextZ=null,F*=2}while(b>1)}(v)}(e,c,v,m);for(var P,F,D=e;e.prev!==e.next;)if(P=e.prev,F=e.next,m?Xp(e,c,v,m):$p(e))n.push(P.i/i),n.push(e.i/i),n.push(F.i/i),h8(e),e=F.next,D=F.next;else if((e=F)===D){b?1===b?Gd(e=U4(e,n,i),n,i,c,v,m,2):2===b&&s8(e,n,i,c,v,m):Gd(Wh(e),n,i,c,v,m,1);break}}}function $p(e){var n=e.prev,i=e,c=e.next;if(Cs(n,i,c)>=0)return!1;for(var v=e.next.next;v!==e.prev;){if(O2(n.x,n.y,i.x,i.y,c.x,c.y,v.x,v.y)&&Cs(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Xp(e,n,i,c){var v=e.prev,m=e,b=e.next;if(Cs(v,m,b)>=0)return!1;for(var F=v.x>m.x?v.x>b.x?v.x:b.x:m.x>b.x?m.x:b.x,le=v.y>m.y?v.y>b.y?v.y:b.y:m.y>b.y?m.y:b.y,_e=P0(v.x<m.x?v.x<b.x?v.x:b.x:m.x<b.x?m.x:b.x,v.y<m.y?v.y<b.y?v.y:b.y:m.y<b.y?m.y:b.y,n,i,c),Ve=P0(F,le,n,i,c),Oe=e.nextZ;Oe&&Oe.z<=Ve;){if(Oe!==e.prev&&Oe!==e.next&&O2(v.x,v.y,m.x,m.y,b.x,b.y,Oe.x,Oe.y)&&Cs(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}for(Oe=e.prevZ;Oe&&Oe.z>=_e;){if(Oe!==e.prev&&Oe!==e.next&&O2(v.x,v.y,m.x,m.y,b.x,b.y,Oe.x,Oe.y)&&Cs(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.prevZ}return!0}function U4(e,n,i){var c=e;do{var v=c.prev,m=c.next.next;!G1(v,m)&&W3(v,c,c.next,m)&&u8(v,m)&&u8(m,v)&&(n.push(v.i/i),n.push(c.i/i),n.push(m.i/i),h8(c),h8(c.next),c=e=m),c=c.next}while(c!==e);return c}function s8(e,n,i,c,v,m){var b=e;do{for(var D=b.next.next;D!==b.prev;){if(b.i!==D.i&&j3(b,D)){var P=Qv(b,D);return b=Wh(b,b.next),P=Wh(P,P.next),Gd(b,n,i,c,v,m),void Gd(P,n,i,c,v,m)}D=D.next}b=b.next}while(b!==e)}function A0(e,n){return e.x-n.x}function jd(e,n){if(n=function cc(e,n){var b,i=n,c=e.x,v=e.y,m=-1/0;do{if(v<=i.y&&v>=i.next.y&&i.next.y!==i.y){var D=i.x+(v-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(D<=c&&D>m){if(m=D,D===c){if(v===i.y)return i;if(v===i.next.y)return i.next}b=i.x<i.next.x?i:i.next}}i=i.next}while(i!==n);if(!b)return null;if(c===m)return b.prev;var Ve,P=b,F=b.x,le=b.y,_e=1/0;for(i=b.next;i!==P;)c>=i.x&&i.x>=F&&c!==i.x&&O2(v<le?c:m,v,F,le,v<le?m:c,v,i.x,i.y)&&((Ve=Math.abs(v-i.y)/(c-i.x))<_e||Ve===_e&&i.x>b.x)&&u8(i,e)&&(b=i,_e=Ve),i=i.next;return b}(e,n),n){var i=Qv(n,e);Wh(i,i.next)}}function P0(e,n,i,c,v){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/v)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-c)/v)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function G3(e){var n=e,i=e;do{n.x<i.x&&(i=n),n=n.next}while(n!==e);return i}function O2(e,n,i,c,v,m,b,D){return(v-b)*(n-D)-(e-b)*(m-D)>=0&&(e-b)*(c-D)-(i-b)*(n-D)>=0&&(i-b)*(m-D)-(v-b)*(c-D)>=0}function j3(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function c8(e,n){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==n.i&&i.next.i!==n.i&&W3(i,i.next,e,n))return!0;i=i.next}while(i!==e);return!1}(e,n)&&u8(e,n)&&u8(n,e)&&function Xv(e,n){var i=e,c=!1,v=(e.x+n.x)/2,m=(e.y+n.y)/2;do{i.y>m!=i.next.y>m&&i.next.y!==i.y&&v<(i.next.x-i.x)*(m-i.y)/(i.next.y-i.y)+i.x&&(c=!c),i=i.next}while(i!==e);return c}(e,n)}function Cs(e,n,i){return(n.y-e.y)*(i.x-n.x)-(n.x-e.x)*(i.y-n.y)}function G1(e,n){return e.x===n.x&&e.y===n.y}function W3(e,n,i,c){return!!(G1(e,n)&&G1(i,c)||G1(e,c)&&G1(i,n))||Cs(e,n,i)>0!=Cs(e,n,c)>0&&Cs(i,c,e)>0!=Cs(i,c,n)>0}function u8(e,n){return Cs(e.prev,e,e.next)<0?Cs(e,n,e.next)>=0&&Cs(e,e.prev,n)>=0:Cs(e,n,e.prev)<0||Cs(e,e.next,n)<0}function Qv(e,n){var i=new Wd(e.i,e.x,e.y),c=new Wd(n.i,n.x,n.y),v=e.next,m=n.prev;return e.next=n,n.prev=e,i.next=v,v.prev=i,c.next=i,i.prev=c,m.next=c,c.prev=m,c}function Yc(e,n,i,c){var v=new Wd(e,n,i);return c?(v.next=c.next,v.prev=c,c.next.prev=v,c.next=v):(v.prev=v,v.next=v),v}function h8(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Wd(e,n,i){this.i=e,this.x=n,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zd(e,n,i,c){for(var v=0,m=n,b=i-c;m<i;m+=c)v+=(e[b]-e[m])*(e[m+1]+e[b+1]),b=m;return v}function Kd(e,n,i){var c=e[n];e[n]=e[i],e[i]=c}function Jv(e,n,i,c,v){var m=i,b=e[n];Kd(e,n,c);for(var D=i;D<c;D++)v(e[D],b)<0&&(Kd(e,D,m),m++);return Kd(e,c,m),m}function Z3(e,n,i,c){if(i<c){var m=Jv(e,Math.floor((i+c)/2),i,c,n);Z3(e,n,i,m-1),Z3(e,n,m+1,c)}}function Y4(){this._parts=[]}Yd.deviation=function(e,n,i,c){var v=n&&n.length,b=Math.abs(Zd(e,0,v?n[0]*i:e.length,i));if(v)for(var D=0,P=n.length;D<P;D++)b-=Math.abs(Zd(e,n[D]*i,D<P-1?n[D+1]*i:e.length,i));var _e=0;for(D=0;D<c.length;D+=3){var Ve=c[D]*i,Oe=c[D+1]*i,Ue=c[D+2]*i;_e+=Math.abs((e[Ve]-e[Ue])*(e[Oe+1]-e[Ve+1])-(e[Ve]-e[Oe])*(e[Ue+1]-e[Ve+1]))}return 0===b&&0===_e?0:Math.abs((_e-b)/b)},Y4.prototype.step=function(e,n,i){var c=e.length;if(0===i){this._parts=[],this._sorted=!1;var v=Math.floor(c/2);this._parts.push({pivot:v,left:0,right:c-1}),this._currentSortPartIdx=0}if(!this._sorted){var m=this._parts;if(0===m.length)return this._sorted=!0,!0;if(m.length<512){for(var b=0;b<m.length;b++)m[b].pivot=Jv(e,m[b].pivot,m[b].left,m[b].right,n);var D=[];for(b=0;b<m.length;b++){var P,F;(F=m[b].pivot-1)>(P=m[b].left)&&D.push({pivot:Math.floor((F+P)/2),left:P,right:F}),(F=m[b].right)>(P=m[b].pivot+1)&&D.push({pivot:Math.floor((F+P)/2),left:P,right:F})}m=this._parts=D}else for(b=0;b<Math.floor(m.length/10);b++){var le=m.length-1-this._currentSortPartIdx;if(Z3(e,n,m[le].left,m[le].right),this._currentSortPartIdx++,this._currentSortPartIdx===m.length)return this._sorted=!0,!0}return!1}},Y4.sort=Z3;const $d=Y4;var d8=Do.vec3,Xd=d8.create(),L0=d8.create(),qv=d8.create();const Qd={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,n){var i=this.indices;if(0===n){var c=this.attributes.position;e=e.array,(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new i.constructor(i.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var m,v=0,b=0;b<i.length;){c.get(i[b++],Xd),c.get(i[b++],L0),c.get(i[b++],qv);var D=d8.sqrDist(Xd,e),P=d8.sqrDist(L0,e),F=d8.sqrDist(qv,e),le=Math.min(D,P);le=Math.min(le,F),3===b?(m=le,le=0):le-=m,this._triangleZList[v++]=le}}var _e=this._sortedTriangleIndices;for(b=0;b<_e.length;b++)_e[b]=b;if(this.triangleCount<2e4)0===n&&this._simpleSort(!0);else for(b=0;b<3;b++)this._progressiveQuickSort(3*n+b);var Ve=this._indicesTmp,Oe=this._triangleZListTmp,Ue=this._triangleZList;for(b=0;b<this.triangleCount;b++){var je=3*_e[b],vt=3*b;Ve[vt++]=i[je++],Ve[vt++]=i[je++],Ve[vt]=i[je],Oe[b]=Ue[_e[b]]}var wt=this._indicesTmp;this._indicesTmp=this.indices,this.indices=wt,wt=this._triangleZListTmp,this._triangleZListTmp=this._triangleZList,this._triangleZList=wt,this.dirtyIndices()},_simpleSort:function(e){var n=this._triangleZList,i=this._sortedTriangleIndices;function c(v,m){return n[m]-n[v]}e?Array.prototype.sort.call(i,c):$d.sort(i,c,0,i.length-1)},_progressiveQuickSort:function(e){var n=this._triangleZList,i=this._sortedTriangleIndices;this._quickSort=this._quickSort||new $d,this._quickSort.step(i,function(c,v){return n[v]-n[c]},e)}};function Us(e,n){const i=e.getItemVisual(n,"style");if(i)return i[e.getVisual("drawType")]}function Ts(e,n){const i=e.getItemVisual(n,"style");return i&&i.opacity}function O0(e,n,i){this._labelsMesh=new Ld,this._labelTextureSurface=new U1({width:512,height:512,devicePixelRatio:i.getDevicePixelRatio(),onupdate:function(){i.getZr().refresh()}}),this._api=i,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}O0.prototype.getLabelPosition=function(e,n,i){return[0,0,0]},O0.prototype.getLabelDistance=function(e,n,i){return 0},O0.prototype.getMesh=function(){return this._labelsMesh},O0.prototype.updateData=function(e,n,i){null==n&&(n=0),null==i&&(i=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==i-n)&&(this._labelsVisibilitiesBits=new Uint8Array(i-n));for(var c=["label","show"],v=["emphasis","label","show"],m=n;m<i;m++){var b=e.getItemModel(m),D=b.get(c),P=b.get(v);null==P&&(P=D),this._labelsVisibilitiesBits[m-n]=(D?1:0)|(P?2:0)}this._start=n,this._end=i,this._data=e},O0.prototype.updateLabels=function(e){if(this._data){for(var n=(e=e||[]).length>0,i={},c=0;c<e.length;c++)i[e[c]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var v=["label"],m=["emphasis","label"],b=this._data.hostModel,D=this._data,P=b.getModel(v),F=b.getModel(m,P),le={left:"right",right:"left",top:"center",bottom:"center"},_e={left:"middle",right:"middle",top:"bottom",bottom:"top"},Ve=this._start;Ve<this._end;Ve++){var Oe=!1;if(n&&i[Ve]&&(Oe=!0),this._labelsVisibilitiesBits[Ve-this._start]&(Oe?2:1)){var vt=D.getItemModel(Ve).getModel(Oe?m:v,Oe?F:P),wt=vt.get("distance")||0,Ot=vt.get("position"),Rt=this._api.getDevicePixelRatio(),At=b.getFormattedLabel(Ve,Oe?"emphasis":"normal");if(null==At||""===At)return;var sn=new gn.Q.Text({style:(0,ki.Lr)(vt,{text:At,fill:vt.get("color")||Us(D,Ve)||"#000",align:"left",verticalAlign:"top",opacity:Zi.firstNotNull(vt.get("opacity"),Ts(D,Ve),1)})}),nn=sn.getBoundingRect();nn.height*=1.2;var _n=this._labelTextureSurface.add(sn),Jn=le[Ot]||"center",yr=_e[Ot]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(Ve,Ot,wt),[nn.width*Rt,nn.height*Rt],_n,Jn,yr,this.getLabelDistance(Ve,Ot,wt)*Rt)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},O0.prototype.dispose=function(){this._labelTextureSurface.dispose()};const qo=O0;var S1=Do.vec3;function Qp(e){this.rootNode=new Kt.Node,this._triangulationResults={},this._shadersMap=Kt.COMMON_SHADERS.filter(function(i){return"shadow"!==i}).reduce(function(i,c){return i[c]=Kt.createShader("ecgl."+c),i},{}),this._linesShader=Kt.createShader("ecgl.meshLines3D");var n={};Kt.COMMON_SHADERS.forEach(function(i){n[i]=new Kt.Material({shader:Kt.createShader("ecgl."+i)})}),this._groundMaterials=n,this._groundMesh=new Kt.Mesh({geometry:new Kt.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new qo(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}Kt.Shader.import(N3),Qp.prototype={constructor:Qp,extrudeY:!0,update:function(e,n,i,c,v){var m=e.getData();null==c&&(c=0),null==v&&(v=m.count()),this._startIndex=c,this._endIndex=v-1,this._triangulation(e,c,v);var b=this._getShader(e.get("shading"));this._prepareMesh(e,b,i,c,v),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,i,c,v);var D=e.coordinateSystem;"geo3D"===D.type&&this._updateGroundPlane(e,D,i);var P=this;this._labelsBuilder.updateData(m,c,v),this._labelsBuilder.getLabelPosition=function(F,le,_e){var Ve=m.getName(F),Ue=_e;if("geo3D"===D.type){var je=D.getRegion(Ve);return je?(Oe=je.getCenter(),D.dataToPoint([Oe[0],Oe[1],Ue])):[NaN,NaN,NaN]}var wt=P._triangulationResults[F-P._startIndex],Oe=P.extrudeY?[(wt.max[0]+wt.min[0])/2,wt.max[1]+Ue,(wt.max[2]+wt.min[2])/2]:[(wt.max[0]+wt.min[0])/2,(wt.max[1]+wt.min[1])/2,wt.max[2]+Ue]},this._data=m,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this,i=function n(){var v=new Kt.Mesh({name:"Polygon",material:new Kt.Material({shader:e._shadersMap.lambert}),geometry:new Kt.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(v.geometry,Qd),v}(),c=new Kt.Mesh({material:new Kt.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new H4({useNativeLine:!1})});this.rootNode.add(i),this.rootNode.add(c),i.material.define("both","VERTEX_COLOR"),i.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=i,this._linesMesh=c,this.rootNode.add(this._groundMesh)},_getShader:function(e){var n=this._shadersMap[e];return n||(n=this._shadersMap.lambert),n.__shading=e,n},_prepareMesh:function(e,n,i,c,v){for(var m=0,b=0,D=0,P=0,F=c;F<v;F++){var le=this._getRegionPolygonInfo(F),_e=this._getRegionLinesInfo(F,e,this._linesMesh.geometry);m+=le.vertexCount,b+=le.triangleCount,D+=_e.vertexCount,P+=_e.triangleCount}var Ve=this._polygonMesh,Oe=Ve.geometry;["position","normal","texcoord0","color"].forEach(function(Ue){Oe.attributes[Ue].init(m)}),Oe.indices=m>65535?new Uint32Array(3*b):new Uint16Array(3*b),Ve.material.shader!==n&&Ve.material.attachShader(n,!0),Kt.setMaterialFromModel(n.__shading,Ve.material,e,i),D>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(D),this._linesMesh.geometry.setTriangleCount(P)),this._dataIndexOfVertex=new Uint32Array(m),this._vertexRangeOfDataIndex=new Uint32Array(2*(v-c))},_updateRegionMesh:function(e,n,i,c){for(var v=e.getData(),m=0,b=0,D=!1,nn=this._polygonMesh,P=this._linesMesh,F=i;F<c;F++){var le=e.getRegionModel(F),_e=le.getModel("itemStyle"),Ve=Zi.firstNotNull(Us(v,F),_e.get("color"),"#fff"),Oe=Zi.firstNotNull(Ts(v,F),_e.get("opacity"),1),Ue=Kt.parseColor(Ve),je=Kt.parseColor(_e.get("borderColor"));Ue[3]*=Oe,je[3]*=Oe;var vt=Ue[3]<.99;nn.material.set("color",[1,1,1,1]),D=D||vt;for(var wt=Zi.firstNotNull(le.get("height",!0),e.get("regionHeight")),Ot=this._updatePolygonGeometry(e,nn.geometry,F,wt,m,b,Ue),Rt=m;Rt<Ot.vertexOffset;Rt++)this._dataIndexOfVertex[Rt]=F;this._vertexRangeOfDataIndex[2*(F-i)]=m,this._vertexRangeOfDataIndex[2*(F-i)+1]=Ot.vertexOffset,m=Ot.vertexOffset,b=Ot.triangleOffset;var At=_e.get("borderWidth"),sn=At>0;sn&&(At*=n.getDevicePixelRatio(),this._updateLinesGeometry(P.geometry,e,F,wt,At,e.coordinateSystem.transform)),P.invisible=!sn,P.material.set({color:je})}(nn=this._polygonMesh).material.transparent=D,nn.material.depthMask=!D,nn.geometry.updateBoundingBox(),nn.frontFace=this.extrudeY?Kt.Mesh.CCW:Kt.Mesh.CW,nn.material.get("normalMap")&&nn.geometry.generateTangents(),nn.seriesIndex=e.seriesIndex,nn.on("mousemove",this._onmousemove,this),nn.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var n=e.getModel("debug.wireframe");if(n.get("show")){var i=Kt.parseColor(n.get("lineStyle.color")||"rgba(0,0,0,0.5)"),c=Zi.firstNotNull(n.get("lineStyle.width"),1),v=this._polygonMesh;v.geometry.generateBarycentric(),v.material.define("both","WIREFRAME_TRIANGLE"),v.material.set("wireframeLineColor",i),v.material.set("wireframeLineWidth",c)}},_onmousemove:function(e){var n=this._dataIndexOfVertex[e.triangle[0]];null==n&&(n=-1),n!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(n),this._labelsBuilder.updateLabels([n])),this._lastHoverDataIndex=n,this._polygonMesh.dataIndex=n},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,n,i){var c=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!c.get("show",!0),!this._groundMesh.invisible){var v=e.get("shading"),m=this._groundMaterials[v];m||(m=this._groundMaterials.lambert),Kt.setMaterialFromModel(v,m,c,i),m.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=m,this._groundMesh.material.set("color",Kt.parseColor(c.get("color"))),this._groundMesh.scale.set(n.size[0],n.size[2],1)}},_triangulation:function(e,n,i){this._triangulationResults=[];for(var c=[1/0,1/0,1/0],v=[-1/0,-1/0,-1/0],m=e.coordinateSystem,b=n;b<i;b++){for(var D=[],P=e.getRegionPolygonCoords(b),F=0;F<P.length;F++){var le=P[F].exterior,_e=P[F].interiors,Ve=[],Oe=[];if(!(le.length<3)){for(var Ue=0,je=0;je<le.length;je++)Ve[Ue++]=(vt=le[je])[0],Ve[Ue++]=vt[1];for(je=0;je<_e.length;je++)if(!(_e[je].length<3)){for(var wt=Ve.length/2,Ot=0;Ot<_e[je].length;Ot++){var vt;Ve.push((vt=_e[je][Ot])[0]),Ve.push(vt[1])}Oe.push(wt)}var Rt=Jg(Ve,Oe),At=new Float64Array(Ve.length/2*3),sn=[],nn=[1/0,1/0,1/0],An=[-1/0,-1/0,-1/0],_n=0;for(je=0;je<Ve.length;)S1.set(sn,Ve[je++],0,Ve[je++]),m&&m.transform&&S1.transformMat4(sn,sn,m.transform),S1.min(nn,nn,sn),S1.max(An,An,sn),At[_n++]=sn[0],At[_n++]=sn[1],At[_n++]=sn[2];S1.min(c,c,nn),S1.max(v,v,An),D.push({points:At,indices:Rt,min:nn,max:An})}}this._triangulationResults.push(D)}this._geoBoundingBox=[c,v]},_getRegionPolygonInfo:function(e){for(var n=this._triangulationResults[e-this._startIndex],i=0,c=0,v=0;v<n.length;v++)i+=n[v].points.length/3,c+=n[v].indices.length/3;return{vertexCount:2*i+4*i,triangleCount:2*c+2*i}},_updatePolygonGeometry:function(e,n,i,c,v,m,b){var D=e.get("projectUVOnGround"),P=n.attributes.position,F=n.attributes.normal,le=n.attributes.texcoord0,_e=n.attributes.color,Ve=this._triangulationResults[i-this._startIndex],Oe=_e.value&&b,Ue=n.indices,je=this.extrudeY?1:2,vt=this.extrudeY?2:1,wt=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],Ot=S1.mul([],this._geoBoundingBox[0],wt),Rt=S1.mul([],this._geoBoundingBox[1],wt),At=Math.max(Rt[0]-Ot[0],Rt[2]-Ot[2]);function nn(Ga,ja,zo){var Ao=v;!function sn(Ga,ja,zo){for(var Ao=Ga.points,u6=Ao.length,As=[],Y2=[],Xl=0;Xl<u6;Xl+=3)As[0]=Ao[Xl],As[je]=ja,As[vt]=Ao[Xl+2],Y2[0]=(Ao[Xl]*wt[0]-Ot[0])/At,Y2[1]=(Ao[Xl+2]*wt[vt]-Ot[2])/At,P.set(v,As),Oe&&_e.set(v,b),le.set(v++,Y2)}(Ga,ja);for(var u6=Ga.indices.length,As=0;As<u6;As++)Ue[3*m+As]=Ga.indices[As]+Ao;m+=Ga.indices.length/3}for(var An=this.extrudeY?[0,1,0]:[0,0,1],_n=S1.negate([],An),Jn=0;Jn<Ve.length;Jn++){var yr=v,cr=Ve[Jn];nn(cr,0),nn(cr,c);for(var Er=cr.points.length/3,zr=0;zr<Er;zr++)F.set(yr+zr,_n),F.set(yr+zr+Er,An);var Mr=[0,3,1,1,3,2],Fr=[[],[],[],[]],qn=[],gr=[],ir=[],si=[],Zr=0;for(zr=0;zr<Er;zr++){for(var ta=(zr+1)%Er,Ai=(cr.points[3*ta]-cr.points[3*zr])*wt[0],ra=(cr.points[3*ta+2]-cr.points[3*zr+2])*wt[vt],Li=Math.sqrt(Ai*Ai+ra*ra),ia=0;ia<4;ia++){var es=0===ia||3===ia,ca=3*(es?zr:ta);Fr[ia][0]=cr.points[ca],Fr[ia][je]=ia>1?c:0,Fr[ia][vt]=cr.points[ca+2],P.set(v+ia,Fr[ia]),D?(si[0]=(cr.points[ca]*wt[0]-Ot[0])/At,si[1]=(cr.points[ca+2]*wt[vt]-Ot[vt])/At):(si[0]=(es?Zr:Zr+Li)/At,si[1]=(Fr[ia][je]*wt[je]-Ot[je])/At),le.set(v+ia,si)}for(S1.sub(qn,Fr[1],Fr[0]),S1.sub(gr,Fr[3],Fr[0]),S1.cross(ir,qn,gr),S1.normalize(ir,ir),ia=0;ia<4;ia++)F.set(v+ia,ir),Oe&&_e.set(v+ia,b);for(ia=0;ia<6;ia++)Ue[3*m+ia]=Mr[ia]+v;v+=4,m+=2,Zr+=Li}}return n.dirty(),{vertexOffset:v,triangleOffset:m}},_getRegionLinesInfo:function(e,n,i){var c=0,v=0;return n.getRegionModel(e).getModel("itemStyle").get("borderWidth")>0&&n.getRegionPolygonCoords(e).forEach(function(F){var le=F.exterior,_e=F.interiors;c+=i.getPolylineVertexCount(le),v+=i.getPolylineTriangleCount(le);for(var Ve=0;Ve<_e.length;Ve++)c+=i.getPolylineVertexCount(_e[Ve]),v+=i.getPolylineTriangleCount(_e[Ve])},this),{vertexCount:c,triangleCount:v}},_updateLinesGeometry:function(e,n,i,c,v,m){function b(F){for(var le=new Float64Array(3*F.length),_e=0,Ve=[],Oe=0;Oe<F.length;Oe++)Ve[0]=F[Oe][0],Ve[1]=c+.1,Ve[2]=F[Oe][1],m&&S1.transformMat4(Ve,Ve,m),le[_e++]=Ve[0],le[_e++]=Ve[1],le[_e++]=Ve[2];return le}var D=[1,1,1,1];n.getRegionPolygonCoords(i).forEach(function(F){var _e=F.interiors;e.addPolyline(b(F.exterior),D,v);for(var Ve=0;Ve<_e.length;Ve++)e.addPolyline(b(_e[Ve]),D,v)})},highlight:function(e){var n=this._data;if(n){var c=n.getItemModel(e).getModel(["emphasis","itemStyle"]),v=c.get("color"),m=Zi.firstNotNull(c.get("opacity"),Ts(n,e),1);if(null==v){var b=Us(n,e);v=gn.$_.lift(b,-.4)}null==m&&(m=Ts(n,e));var D=Kt.parseColor(v);D[3]*=m,this._setColorOfDataIndex(n,e,D)}},downplay:function(e){var n=this._data;if(n){var i=n.getItemModel(e),c=Zi.firstNotNull(Us(n,e),i.get(["itemStyle","color"]),"#fff"),v=Zi.firstNotNull(Ts(n,e),i.get(["itemStyle","opacity"]),1),m=Kt.parseColor(c);m[3]*=v,this._setColorOfDataIndex(n,e,m)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,n,i){if(!(n<this._startIndex&&n>this._endIndex)){for(var c=this._vertexRangeOfDataIndex[2*(n-=this._startIndex)];c<this._vertexRangeOfDataIndex[2*n+1];c++)this._polygonMesh.geometry.attributes.color.set(c,i);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const K3=Qp,$3=gn.Ir.extend({type:"geo3D",__ecgl__:!0,init:function(e,n){this._geo3DBuilder=new K3(n),this.groupGL=new Kt.Node,this._lightRoot=new Kt.Node,this._sceneHelper=new H3(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new Rh({zr:n.getZr()}),this._control.init()},render:function(e,n,i){this.groupGL.add(this._geo3DBuilder.rootNode);var c=e.coordinateSystem;if(c&&c.viewGL){c.viewGL.add(this._lightRoot),e.get("show")?c.viewGL.add(this.groupGL):c.viewGL.remove(this.groupGL);var v=this._control;v.setViewGL(c.viewGL);var m=e.getModel("viewControl");v.setFromViewControlModel(m,0),this._sceneHelper.setScene(c.viewGL.scene),this._sceneHelper.updateLight(e),c.viewGL.setPostEffect(e.getModel("postEffect"),i),c.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,n,i,0,e.getData().count());var b=c.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(D){D.material&&D.material[b]("fragment","SRGB_DECODE")}),v.off("update"),v.on("update",function(){i.dispatchAction({type:"geo3DChangeCamera",alpha:v.getAlpha(),beta:v.getBeta(),distance:v.getDistance(),center:v.getCenter(),from:this.uid,geo3DId:e.id})}),v.update()}},afterRender:function(e,n,i,c){var v=c.renderer;this._sceneHelper.updateAmbientCubemap(v,e,i),this._sceneHelper.updateSkybox(v,e,i)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var t5=C(3593),Zh={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},I2=Do.vec3,uc=Do.mat4,tm=[t5.Z,function n5(e,n){if("world"===e){var i=Zh[n.name];i&&n.setCenter([i[0],i[1]])}}];function qd(e,n,i,c,v){this.name=e,this.map=n,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(i,c,v),this.transform=uc.identity(new Float64Array(16)),this.invTransform=uc.identity(new Float64Array(16)),this.extrudeY=!0}qd.prototype={constructor:qd,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,n,i){var c=gn.Nu||gn.pQ;try{this.regions=e?c(e):[]}catch(F){throw"Invalid geoJson format\n"+F}n=n||{},i=i||{};for(var v=this.regions,m={},b=0;b<v.length;b++){var D=v[b].name;v[b].name=D=i[D]||D,m[D]=v[b],this.addGeoCoord(D,v[b].getCenter());var P=n[D];P&&v[b].transformTo(P.left,P.top,P.width,P.height)}this._regionsMap=m,this._geoRect=null,tm.forEach(function(F){F(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,n=this.regions,i=0;i<n.length;i++){var c=n[i].getBoundingRect();(e=e||c.clone()).union(c)}return this._geoRect=e||new gn.Q.BoundingRect(0,0,0,0)},addGeoCoord:function(e,n){this._nameCoordMap[e]=n},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var n=this.regions,i=0;i<n.length;i++)if(n[i].contain(e))return n[i]},setSize:function(e,n,i){this.size=[e,n,i];var c=this.getGeoBoundingRect(),v=e/c.width,m=-i/c.height,b=-e/2-c.x*v,D=i/2-c.y*m,P=this.extrudeY?[b,0,D]:[b,D,0],F=this.extrudeY?[v,1,m]:[v,m,1],le=this.transform;uc.identity(le),uc.translate(le,le,P),uc.scale(le,le,F),uc.invert(this.invTransform,le)},dataToPoint:function(e,n){n=n||[];var i=this.extrudeY?1:2,c=this.extrudeY?2:1,v=e[2];return isNaN(v)&&(v=0),n[0]=e[0],n[c]=e[1],n[i]=this.altitudeAxis?this.altitudeAxis.dataToCoord(v):0,n[i]+=this.regionHeight,I2.transformMat4(n,n,this.transform),n},pointToData:function(e,n){}};const Jp=qd;function Gc(e,n){var i=e.getBoxLayoutParams(),c=(0,Yi.ME)(i,{width:n.getWidth(),height:n.getHeight()});c.y=n.getHeight()-c.y-c.height,this.viewGL.setViewport(c.x,c.y,c.width,c.height,n.getDevicePixelRatio());var v=this.getGeoBoundingRect(),m=v.width/v.height*(e.get("aspectScale")||.75),b=e.get("boxWidth"),D=e.get("boxDepth"),P=e.get("boxHeight");null==P&&(P=5),isNaN(b)&&isNaN(D)&&(b=100),isNaN(D)?D=b/m:isNaN(b)&&(b=D/m),this.setSize(b,P,D),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(P-this.regionHeight,0))}function U9(e,n){var i=[1/0,-1/0];if(e.eachSeries(function(v){if(v.coordinateSystem===this&&"series.map3D"!==v.type){var m=v.getData(),b=v.coordDimToDataDim("alt"),D=b&&b[0];if(D){var P=m.getDataExtent(D,!0);i[0]=Math.min(i[0],P[0]),i[1]=Math.max(i[1],P[1])}}},this),i&&isFinite(i[1]-i[0])){var c=gn._y.createScale(i,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new gn.RD("altitude",c),this.resize(this.model,n)}}var ef=0,Kh={dimensions:Jp.prototype.dimensions,create:function(e,n){var i=[];if(!gn.FU)throw new Error("geo3D component depends on geo component");function c(v,m){var b=Kh.createGeo3D(v);v.__viewGL=v.__viewGL||new F4,b.viewGL=v.__viewGL,v.coordinateSystem=b,b.model=v,i.push(b),b.resize=Gc,b.resize(v,n),b.update=U9}return e.eachComponent("geo3D",function(v,m){c(v)}),e.eachSeriesByType("map3D",function(v,m){var b=v.get("coordinateSystem");null==b&&(b="geo3D"),"geo3D"===b&&c(v)}),e.eachSeries(function(v){if("geo3D"===v.get("coordinateSystem")){if("series.map3D"===v.type)return;var m=v.getReferringComponents("geo3D").models[0];if(m||(m=e.getComponent("geo3D")),!m)throw new Error('geo "'+Zi.firstNotNull(v.get("geo3DIndex"),v.get("geo3DId"),0)+'" not found');v.coordinateSystem=m.coordinateSystem}}),i},createGeo3D:function(e){var i,n=e.get("map");return"string"==typeof n?(i=n,n=gn.FU(n)):n&&n.features&&(n={geoJson:n}),null==i&&(i="GEO_ANONYMOUS_"+ef++),new Jp(i+ef++,i,n&&n.geoJson,n&&n.specialAreas,e.get("nameMap"))}};const $h=Kh;function jc(e){e.registerComponentModel(Qg),e.registerComponentView($3),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(n,i){i.eachComponent({mainType:"geo3D",query:n},function(c){c.setView(n)})}),e.registerCoordinateSystem("geo3D",$h)}function qp(e,n){e.id=e.id||e.name||n+""}(0,gn.D$)(jc);var X3=gn.tF.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){X3.superApply(this,"init",arguments),gn.D5.each(this.option.layers,function(e,n){gn.D5.merge(e,this.defaultLayerOption),qp(e,n)},this)},mergeOption:function(e){var n=this.option.layers;function i(b){return gn.D5.reduce(b,function(D,P,F){return qp(P,F),D[P.id]=P,D},{})}if(this.option.layers=null,X3.superApply(this,"mergeOption",arguments),n&&n.length){var c=i(e.layers),v=i(n);for(var m in c)v[m]?gn.D5.merge(v[m],c[m],!0):n.push(e.layers[m]);this.option.layers=n}gn.D5.each(this.option.layers,function(b){gn.D5.merge(b,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,n,i){this.displacementData=e,this.displacementWidth=n,this.displacementHeight=i},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),n=this.get("displacementScale");return(!e||"none"===e)&&(n=0),n},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),n=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==n,this._displacementTexture=e,this._displacementScale=n},isDisplacementChanged:function(){return this._displacementChanged}});gn.D5.merge(X3.prototype,Td),gn.D5.merge(X3.prototype,Qu),gn.D5.merge(X3.prototype,b0),gn.D5.merge(X3.prototype,a8);const G4=X3;var Wc=Math.PI,Zo=Math.sin,j4=Math.cos,tf=Math.tan,Xh=Math.asin,W4=Math.atan2,C1=Wc/180;var rf=23.4397*C1;function rm(e,n){return W4(Zo(e)*j4(rf)-tf(n)*Zo(rf),j4(e))}function j1(e,n){return Xh(Zo(n)*j4(rf)+j4(n)*Zo(rf)*Zo(e))}function e7(e,n,i){return W4(Zo(e),j4(e)*Zo(n)-tf(i)*j4(n))}function f8(e,n,i){return Xh(Zo(n)*Zo(i)+j4(n)*j4(i)*j4(e))}var af={};af.getPosition=function(e,n,i){var c=C1*-i,v=C1*n,m=function nf(e){return function i5(e){return e.valueOf()/864e5-.5+2440588}(e)-2451545}(e),b=function am(e){var n=function t7(e){return C1*(357.5291+.98560028*e)}(e),i=function im(e){return e+C1*(1.9148*Zo(e)+.02*Zo(2*e)+3e-4*Zo(3*e))+102.9372*C1+Wc}(n);return{dec:j1(i,0),ra:rm(i,0)}}(m),D=function a5(e,n){return C1*(280.16+360.9856235*e)-n}(m,c)-b.ra;return{azimuth:e7(D,v,b.dec),altitude:f8(D,v,b.dec)}};const o5=af;Kt.Shader.import(F1),Kt.Shader.import("@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end");const om=gn.Ir.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,n){this.groupGL=new Kt.Node,this._sphereGeometry=new Kt.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new Kt.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new Kt.PlaneGeometry,this._earthMesh=new Kt.Mesh({renderNormal:!0}),this._atmosphereMesh=new Kt.Mesh,this._atmosphereGeometry=new Kt.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new Kt.Material({shader:new Kt.Shader(Kt.Shader.source("ecgl.atmosphere.vertex"),Kt.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=Kt.Mesh.CW,this._lightRoot=new Kt.Node,this._sceneHelper=new H3,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new Rh({zr:n.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,n,i){var c=e.coordinateSystem,v=e.get("shading");c.viewGL.add(this._lightRoot),e.get("show")?c.viewGL.add(this.groupGL):c.viewGL.remove(this.groupGL),this._sceneHelper.setScene(c.viewGL.scene),c.viewGL.setPostEffect(e.getModel("postEffect"),i),c.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var m=this._earthMesh;m.geometry=this._sphereGeometry;var b="ecgl."+v;(!m.material||m.material.shader.name!==b)&&(m.material=Kt.createMaterial(b)),Kt.setMaterialFromModel(v,m.material,e,i),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(_e){var Ve=m.material.get(_e);Ve&&(Ve.flipY=!1)}),m.material.set("color",Kt.parseColor(e.get("baseColor")));var D=.99*c.radius;if(m.scale.set(D,D,D),e.get("atmosphere.show")){m.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),m.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var P=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(D+P,D+P,D+P)}else m.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var F=m.material.setTextureImage("diffuseMap",e.get("baseTexture"),i,{flipY:!1,anisotropic:8});F&&F.surface&&F.surface.attachToMesh(m);var le=m.material.setTextureImage("bumpMap",e.get("heightTexture"),i,{flipY:!1,anisotropic:8});le&&le.surface&&le.surface.attachToMesh(m),m.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,i),this._displaceVertices(e,i),this._updateViewControl(e,i),this._updateLayers(e,i)},afterRender:function(e,n,i,c){var v=c.renderer;this._sceneHelper.updateAmbientCubemap(v,e,i),this._sceneHelper.updateSkybox(v,e,i)},_updateLayers:function(e,n){var i=e.coordinateSystem,c=e.get("layers"),v=i.radius,m=[],b=[],D=[],P=[];gn.D5.each(c,function(Oe){var Ue=new gn.Hn(Oe),je=Ue.get("type"),vt=Kt.loadTexture(Ue.get("texture"),n,{flipY:!1,anisotropic:8});if(vt.surface&&vt.surface.attachToMesh(this._earthMesh),"blend"===je){var wt=Ue.get("blendTo"),Ot=Zi.firstNotNull(Ue.get("intensity"),1);"emission"===wt?(D.push(vt),P.push(Ot)):(m.push(vt),b.push(Ot))}else{var Rt=Ue.get("id"),At=this._layerMeshes[Rt];At||(At=this._layerMeshes[Rt]=new Kt.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===Ue.get("shading")?(At.material=At.__lambertMaterial||new Kt.Material({autoUpdateTextureStatus:!1,shader:Kt.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),At.__lambertMaterial=At.material):(At.material=At.__colorMaterial||new Kt.Material({autoUpdateTextureStatus:!1,shader:Kt.createShader("ecgl.color"),transparent:!0,depthMask:!1}),At.__colorMaterial=At.material),At.material.enableTexture("diffuseMap");var nn=Ue.get("distance"),An=v+(nn??i.radius/100);At.scale.set(An,An,An),v=An;var _n=this._blankTexture||(this._blankTexture=Kt.createBlankTexture("rgba(255, 255, 255, 0)"));At.material.set("diffuseMap",_n),Kt.loadTexture(Ue.get("texture"),n,{flipY:!1,anisotropic:8},function(Jn){Jn.surface&&Jn.surface.attachToMesh(At),At.material.set("diffuseMap",Jn),n.getZr().refresh()}),Ue.get("show")?this.groupGL.add(At):this.groupGL.remove(At)}},this);var F=this._earthMesh.material;F.define("fragment","LAYER_DIFFUSEMAP_COUNT",m.length),F.define("fragment","LAYER_EMISSIVEMAP_COUNT",D.length),F.set("layerDiffuseMap",m),F.set("layerDiffuseIntensity",b),F.set("layerEmissiveMap",D),F.set("layerEmissionIntensity",P);var le=e.getModel("debug.wireframe");if(le.get("show")){F.define("both","WIREFRAME_TRIANGLE");var _e=Kt.parseColor(le.get("lineStyle.color")||"rgba(0,0,0,0.5)"),Ve=Zi.firstNotNull(le.get("lineStyle.width"),1);F.set("wireframeLineWidth",Ve),F.set("wireframeLineColor",_e)}else F.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,n){var i=e.coordinateSystem,c=e.getModel("viewControl"),m=this,D=this._control;D.setViewGL(i.viewGL);var F,le,P=c.get("targetCoord");null!=P&&(le=P[0]+90,F=P[1]),D.setFromViewControlModel(c,{baseDistance:i.radius,alpha:F,beta:le}),D.off("update"),D.on("update",function(){n.dispatchAction(function b(){return{type:"globeChangeCamera",alpha:D.getAlpha(),beta:D.getBeta(),distance:D.getDistance()-i.radius,center:D.getCenter(),from:m.uid,globeId:e.id}}())})},_displaceVertices:function(e,n){var i=e.get("displacementQuality"),c=e.get("debug.wireframe.show"),v=e.coordinateSystem;if(e.isDisplacementChanged()||i!==this._displacementQuality||c!==this._showDebugWireframe){this._displacementQuality=i,this._showDebugWireframe=c;var m=this._sphereGeometry,b={low:100,medium:200,high:400,ultra:800}[i]||200,D=b/2;(m.widthSegments!==b||c)&&(m.widthSegments=b,m.heightSegments=D,m.build()),this._doDisplaceVertices(m,v),c&&m.generateBarycentric()}},_doDisplaceVertices:function(e,n){var i=e.attributes.position.value,c=e.attributes.texcoord0.value,v=e.__originalPosition;(!v||v.length!==i.length)&&((v=new Float32Array(i.length)).set(i),e.__originalPosition=v);for(var m=n.displacementWidth,b=n.displacementHeight,D=n.displacementData,P=0;P<e.vertexCount;P++){var F=3*P,le=2*P,_e=v[F+1],Ve=v[F+2],Oe=v[F+3],Ue=c[le++],je=c[le++],vt=Math.round(Ue*(m-1)),wt=Math.round(je*(b-1)),Rt=D?D[wt*m+vt]:0;i[F+1]=_e+_e*Rt,i[F+2]=Ve+Ve*Rt,i[F+3]=Oe+Oe*Rt}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,n){var i=this._earthMesh;this._sceneHelper.updateLight(e);var c=this._sceneHelper.mainLight,v=e.get("light.main.time")||new Date,m=o5.getPosition(gn.Rx.parseDate(v),0,0),b=Math.cos(m.altitude);c.position.y=-b*Math.cos(m.azimuth),c.position.x=Math.sin(m.altitude),c.position.z=b*Math.sin(m.azimuth),c.lookAt(i.getWorldPosition())},dispose:function(e,n){this.groupGL.removeAll(),this._control.dispose()}});var sm=Do.vec3;function sf(e){this.radius=e,this.viewGL=null,this.displacementData=null}sf.prototype={constructor:sf,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,n,i){this.displacementData=e,this.displacementWidth=n,this.displacementHeight=i},_getDisplacementScale:function(e,n){var c=(90-n)/180*(this.displacementHeight-1),v=Math.round((e+180)/360*(this.displacementWidth-1))+Math.round(c)*this.displacementWidth;return this.displacementData[v]},dataToPoint:function(e,n){var i=e[0],c=e[1],v=e[2]||0,m=this.radius;this.displacementData&&(m*=1+this._getDisplacementScale(i,c)),this.altitudeAxis&&(m+=this.altitudeAxis.dataToCoord(v)),i=i*Math.PI/180,c=c*Math.PI/180;var b=Math.cos(c)*m;return(n=n||[])[0]=-b*Math.cos(i+Math.PI),n[1]=Math.sin(c)*m,n[2]=b*Math.sin(i+Math.PI),n},pointToData:function(e,n){var i=e[0],c=e[1],v=e[2],m=sm.len(e);i/=m,v/=m;var b=Math.asin(c/=m),D=Math.atan2(v,-i);D<0&&(D=2*Math.PI+D);var P=180*b/Math.PI,F=180*D/Math.PI-180;return(n=n||[])[0]=F,n[1]=P,n[2]=m-this.radius,this.altitudeAxis&&(n[2]=this.altitudeAxis.coordToData(n[2])),n}};const r7=sf;function Jh(e,n){var i=e.getBoxLayoutParams(),c=(0,Yi.ME)(i,{width:n.getWidth(),height:n.getHeight()});c.y=n.getHeight()-c.y-c.height,this.viewGL.setViewport(c.x,c.y,c.width,c.height,n.getDevicePixelRatio()),this.radius=e.get("globeRadius");var v=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,v-this.radius)}function i7(e,n){var i=[1/0,-1/0];if(e.eachSeries(function(v){if(v.coordinateSystem===this){var m=v.getData(),b=v.coordDimToDataDim("alt"),D=b&&b[0];if(D){var P=m.getDataExtent(D,!0);i[0]=Math.min(i[0],P[0]),i[1]=Math.max(i[1],P[1])}}},this),i&&isFinite(i[1]-i[0])){var c=gn._y.createScale(i,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new gn.RD("altitude",c),this.resize(this.model,n)}}var Y9={dimensions:r7.prototype.dimensions,create:function(e,n){var i=[];return e.eachComponent("globe",function(c){c.__viewGL=c.__viewGL||new F4;var v=new r7;v.viewGL=c.__viewGL,c.coordinateSystem=v,v.model=c,i.push(v),v.resize=Jh,v.resize(c,n),v.update=i7}),e.eachSeries(function(c){if("globe"===c.get("coordinateSystem")){var v=c.getReferringComponents("globe").models[0];if(v||(v=e.getComponent("globe")),!v)throw new Error('globe "'+Zi.firstNotNull(c.get("globe3DIndex"),c.get("globe3DId"),0)+'" not found');c.coordinateSystem=v.coordinateSystem}}),e.eachComponent("globe",function(c,v){var m=c.coordinateSystem,b=c.getDisplacementTexture(),D=c.getDisplacemenScale();if(c.isDisplacementChanged()){if(c.hasDisplacement()){var P=!0;Kt.loadTexture(b,n,function(F){var _e=function s5(e,n){var i=document.createElement("canvas"),c=i.getContext("2d"),v=e.width,m=e.height;i.width=v,i.height=m,c.drawImage(e,0,0,v,m);for(var b=c.getImageData(0,0,v,m).data,D=new Float32Array(b.length/4),P=0;P<b.length/4;P++)D[P]=b[4*P]/255*n;return{data:D,width:v,height:m}}(F.image,D);c.setDisplacementData(_e.data,_e.width,_e.height),P||n.dispatchAction({type:"globeUpdateDisplacment"})}),P=!1}else m.setDisplacementData(null,0,0);m.setDisplacementData(c.displacementData,c.displacementWidth,c.displacementHeight)}}),i}};const G9=Y9;(0,gn.D$)(function a7(e){e.registerComponentModel(G4),e.registerComponentView(om),e.registerCoordinateSystem("globe",G9),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(n,i){i.eachComponent({mainType:"globe",query:n},function(c){c.setView(n)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(n,i){})});var qh=["zoom","center","pitch","bearing"],lf=gn.tF.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return qh.reduce(function(n,i){return n[i]=e.get(i),n},{})},setMapboxCameraOption:function(e){null!=e&&qh.forEach(function(n){null!=e[n]&&(this.option[n]=e[n])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});gn.D5.merge(lf.prototype,Qu),gn.D5.merge(lf.prototype,b0);const lm=lf;function Q3(e,n){if(this.id=e,this.zr=n,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Q3.prototype.setUnpainted=function(){},Q3.prototype.resize=function(){this._mapbox.resize()},Q3.prototype.getMapbox=function(){return this._mapbox},Q3.prototype.clear=function(){},Q3.prototype.refresh=function(){this._mapbox.resize()};var o7=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Q3.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(n){return n.preventDefault(),!1}},o7.forEach(function(n){this._handlers[n]=function(i){var c={};for(var v in i)c[v]=i[v];c.bubbles=!1;var m=new i.constructor(i.type,c);e.dispatchEvent(m)},this.zr.dom.addEventListener(n,this._handlers[n])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},Q3.prototype.dispose=function(){o7.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const s7=Q3,l5="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";Kt.Shader.import(l5);const v8=gn.Ir.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,n){var i=n.getZr();this._zrLayer=new s7("mapbox3D",i),i.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new Kt.Node,this._sceneHelper=new H3(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var c=this._zrLayer.getMapbox(),v=this._dispatchInteractAction.bind(this,n,c);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(m){c.on(m,v)}),this._groundMesh=new Kt.Mesh({geometry:new Kt.PlaneGeometry,material:new Kt.Material({shader:new Kt.Shader({vertex:Kt.Shader.source("ecgl.displayShadow.vertex"),fragment:Kt.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,n,i){var c=this._zrLayer.getMapbox(),v=e.get("style"),m=JSON.stringify(v);m!==this._oldStyleStr&&v&&c.setStyle(v),this._oldStyleStr=m,c.setCenter(e.get("center")),c.setZoom(e.get("zoom")),c.setPitch(e.get("pitch")),c.setBearing(e.get("bearing")),e.setMapbox(c);var b=e.coordinateSystem;b.viewGL.scene.add(this._lightRoot),b.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(b.viewGL.scene),this._sceneHelper.updateLight(e),b.viewGL.setPostEffect(e.getModel("postEffect"),i),b.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,n,i,c){var v=c.renderer;this._sceneHelper.updateAmbientCubemap(v,e,i),this._sceneHelper.updateSkybox(v,e,i),e.coordinateSystem.viewGL.scene.traverse(function(m){m.material&&(m.material.define("fragment","NORMAL_UP_AXIS",2),m.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,n,i,c){e.coordinateSystem.setCameraOption(c),this._updateGroundMesh(),i.getZr().refresh()},_dispatchInteractAction:function(e,n,i){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:n.getPitch(),zoom:n.getZoom(),center:n.getCenter().toArray(),bearing:n.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,n=e.dataToPoint(e.center);this._groundMesh.position.set(n[0],n[1],-.001);var i=new Kt.Plane(new Kt.Vector3(0,0,1),0),c=e.viewGL.camera.castRay(new Kt.Vector2(-1,-1)),v=e.viewGL.camera.castRay(new Kt.Vector2(1,1)),m=c.intersectPlane(i),b=v.intersectPlane(i),D=m.dist(b)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(D,D,1)}},dispose:function(e,n){this._zrLayer&&this._zrLayer.dispose(),n.getZr().painter.delLayer(-1e3)}});var Z4=Do.mat4,K4=.6435011087932844,Ys=Math.PI;function c5(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.bearing=0,this.pitch=0,this.center=[0,0],this.zoom=0,this.maxPitch=60,this.zoomOffset=0}c5.prototype={constructor:c5,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,512)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(K4/2)*this.height*.1,n=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,i=K4/2,c=Math.PI/2+n,v=Math.sin(i)*e/Math.sin(Math.PI-c-i),b=1.1*(Math.cos(Math.PI/2-n)*v+e);this.pitch>50&&(b=1e3),Z4.perspective(D=[],K4,this.width/this.height,1,b),this.viewGL.camera.projectionMatrix.setArray(D),this.viewGL.camera.decomposeProjectionMatrix();var D=Z4.identity([]),P=this.dataToPoint(this.center);Z4.scale(D,D,[1,-1,1]),Z4.translate(D,D,[0,0,-e]),Z4.rotateX(D,D,n),Z4.rotateZ(D,D,-this.bearing/180*Math.PI),Z4.translate(D,D,[-P[0]*this.getScale()*.1,-P[1]*this.getScale()*.1,0]),this.viewGL.camera.viewMatrix.array=D;var F=[];Z4.invert(F,D),this.viewGL.camera.worldTransform.array=F,this.viewGL.camera.decomposeWorldTransform();var _e,le=512*this.getScale();_e=this.altitudeExtent&&!isNaN(this.boxHeight)?this.boxHeight/(this.altitudeExtent[1]-this.altitudeExtent[0])*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset):le/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*.1,this.viewGL.rootNode.scale.set(.1*this.getScale(),.1*this.getScale(),_e)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,n){return this.projectOnTileWithScale(e,512*this.getScale(),n)},projectOnTileWithScale:function(e,n,i){var D=n*(e[0]*Ys/180+Ys)/(2*Ys),P=n*(Ys-Math.log(Math.tan(Ys/4+e[1]*Ys/180*.5)))/(2*Ys);return(i=i||[])[0]=D,i[1]=P,i},unprojectFromTile:function(e,n){return this.unprojectOnTileWithScale(e,512*this.getScale(),n)},unprojectOnTileWithScale:function(e,n,i){var m=e[0]/n*(2*Ys)-Ys,b=2*(Math.atan(Math.exp(Ys-e[1]/n*(2*Ys)))-Ys/4);return(i=i||[])[0]=180*m/Ys,i[1]=180*b/Ys,i},dataToPoint:function(e,n){return(n=this.projectOnTileWithScale(e,512,n))[0]-=this._origin[0],n[1]-=this._origin[1],n[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(n[2]=e[2],this.altitudeExtent&&(n[2]-=this.altitudeExtent[0])),n}};const V2=c5;function J3(){V2.apply(this,arguments)}function e6(e,n,i){function c(m,b){var D=b.getWidth(),P=b.getHeight(),F=b.getDevicePixelRatio();this.viewGL.setViewport(0,0,D,P,F),this.width=D,this.height=P,this.altitudeScale=m.get("altitudeScale"),this.boxHeight=m.get("boxHeight")}function v(m,b){if("auto"!==this.model.get("boxHeight")){var D=[1/0,-1/0];m.eachSeries(function(P){if(P.coordinateSystem===this){var F=P.getData(),le=P.coordDimToDataDim("alt")[0];if(le){var _e=F.getDataExtent(le,!0);D[0]=Math.min(D[0],_e[0]),D[1]=Math.max(D[1],_e[1])}}},this),D&&isFinite(D[1]-D[0])&&(this.altitudeExtent=D)}}return{dimensions:n.prototype.dimensions,create:function(m,b){var D=[];return m.eachComponent(e,function(P){var F=P.__viewGL;F||(F=P.__viewGL=new F4).setRootNode(new Kt.Node);var le=new n;le.viewGL=P.__viewGL,le.resize=c,le.resize(P,b),D.push(le),P.coordinateSystem=le,le.model=P,le.update=v}),m.eachSeries(function(P){if(P.get("coordinateSystem")===e){var F=P.getReferringComponents(e).models[0];if(F||(F=m.getComponent(e)),!F)throw new Error(e+' "'+Zi.firstNotNull(P.get(e+"Index"),P.get(e+"Id"),0)+'" not found');P.coordinateSystem=F.coordinateSystem}}),i&&i(D,m,b),D}}}(J3.prototype=new V2).constructor=J3,J3.prototype.type="mapbox3D";var t6=e6("mapbox3D",J3,function(e){e.forEach(function(n){n.setCameraOption(n.model.getMapboxCameraOption())})});const u5=t6;(0,gn.D$)(function h5(e){e.registerComponentModel(lm),e.registerComponentView(v8),e.registerCoordinateSystem("mapbox3D",u5),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(n,i){i.eachComponent({mainType:"mapbox3D",query:n},function(c){c.setMapboxCameraOption(n)})})});var d5=["zoom","center","pitch","bearing"],f5=gn.tF.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return d5.reduce(function(n,i){return n[i]=e.get(i),n},{})},setMaptalksCameraOption:function(e){null!=e&&d5.forEach(function(n){null!=e[n]&&(this.option[n]=e[n])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});gn.D5.merge(f5.prototype,Qu),gn.D5.merge(f5.prototype,b0);const u7=f5;function dc(e,n,i,c){if(this.id=e,this.zr=n,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:i,zoom:c,doubleClickZoom:!1,fog:!1}),this._initEvents()}dc.prototype.setUnpainted=function(){},dc.prototype.resize=function(){this._maptalks.checkSize()},dc.prototype.getMaptalks=function(){return this._maptalks},dc.prototype.clear=function(){},dc.prototype.refresh=function(){this._maptalks.checkSize()};var p8=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];dc.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(n){return n.preventDefault(),!1}},p8.forEach(function(n){this._handlers[n]=function(i){var c={};for(var v in i)c[v]=i[v];c.bubbles=!1;var m=new i.constructor(i.type,c);"mousewheel"===n||"DOMMouseScroll"===n?e.dispatchEvent(m):e.firstElementChild.dispatchEvent(m)},this.zr.dom.addEventListener(n,this._handlers[n])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},dc.prototype.dispose=function(){p8.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};const g8=dc;Kt.Shader.import(l5);const cm=gn.Ir.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,n){this._groundMesh=new Kt.Mesh({geometry:new Kt.PlaneGeometry,material:new Kt.Material({shader:new Kt.Shader({vertex:Kt.Shader.source("ecgl.displayShadow.vertex"),fragment:Kt.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,n){var i=n.getZr();this._zrLayer=new g8("maptalks3D",i,e.get("center"),e.get("zoom")),i.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new Kt.Node,this._sceneHelper=new H3(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var c=this._zrLayer.getMaptalks(),v=this._dispatchInteractAction.bind(this,n,c);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(m){c.on(m,v)})},render:function(e,n,i){this._zrLayer||this._initMaptalksLayer(e,i);var c=this._zrLayer.getMaptalks(),v=e.get("urlTemplate"),m=c.getBaseLayer();v!==this._oldUrlTemplate&&(m?m.setOptions({urlTemplate:v,attribution:e.get("attribution")}):(m=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:v,subdomains:["a","b","c"],attribution:e.get("attribution")}),c.setBaseLayer(m))),this._oldUrlTemplate=v,c.setCenter(e.get("center")),c.setZoom(e.get("zoom"),{animation:!1}),c.setPitch(e.get("pitch")),c.setBearing(e.get("bearing")),e.setMaptalks(c);var b=e.coordinateSystem;b.viewGL.scene.add(this._lightRoot),b.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(b.viewGL.scene),this._sceneHelper.updateLight(e),b.viewGL.setPostEffect(e.getModel("postEffect"),i),b.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,n,i,c){var v=c.renderer;this._sceneHelper.updateAmbientCubemap(v,e,i),this._sceneHelper.updateSkybox(v,e,i),e.coordinateSystem.viewGL.scene.traverse(function(m){m.material&&(m.material.define("fragment","NORMAL_UP_AXIS",2),m.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,n,i,c){e.coordinateSystem.setCameraOption(c),this._updateGroundMesh(),i.getZr().refresh()},_dispatchInteractAction:function(e,n,i){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:n.getPitch(),zoom:um(n.getResolution())+1,center:n.getCenter().toArray(),bearing:n.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,n=e.dataToPoint(e.center);this._groundMesh.position.set(n[0],n[1],-.001);var i=new Kt.Plane(new Kt.Vector3(0,0,1),0),c=e.viewGL.camera.castRay(new Kt.Vector2(-1,-1)),v=e.viewGL.camera.castRay(new Kt.Vector2(1,1)),m=c.intersectPlane(i),b=v.intersectPlane(i),D=m.dist(b)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(D,D,1)}},dispose:function(e,n){this._zrLayer&&this._zrLayer.dispose(),n.getZr().painter.delLayer(-1e3)}}),h7=12756274*Math.PI/(256*Math.pow(2,20));function um(e){return 19-Math.log(e/h7)/Math.LN2}function R0(){V2.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}(R0.prototype=new V2).constructor=R0,R0.prototype.type="maptalks3D";var v5=e6("maptalks3D",R0,function(e){e.forEach(function(n){n.setCameraOption(n.model.getMaptalksCameraOption())})});const hm=v5;(0,gn.D$)(function dm(e){e.registerComponentModel(u7),e.registerComponentView(cm),e.registerCoordinateSystem("maptalks3D",hm),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(n,i){i.eachComponent({mainType:"maptalks3D",query:n},function(c){c.setMaptalksCameraOption(n)})})});var d7=Do.vec3,$l=gn._y.dataStack.isDimensionStacked;function n6(e,n,i){for(var c=e.getDataExtent(n),v=e.getDataExtent(i),m=c[1]-c[0]||c[0],b=v[1]-v[0]||v[0],P=new Uint8Array(2500),F=0;F<e.count();F++){var le=e.get(n,F),_e=e.get(i,F),Ve=Math.floor((le-c[0])/m*49),Ue=50*Math.floor((_e-v[0])/b*49)+Ve;P[Ue]=P[Ue]||1}var je=0;for(F=0;F<P.length;F++)P[F]&&je++;return je/P.length}var v7=Do.vec3,p5=gn._y.dataStack.isDimensionStacked;function q3(e,n){var i=p5(e,n[2]);return{dimension:i?e.getCalculationInfo("stackResultDimension"):n[2],isStacked:i}}function g7(e){e.registerLayout(function(n,i){n.eachSeriesByType("bar3D",function(c){var v=c.coordinateSystem,m=v&&v.type;"globe"===m?function g5(e,n){var i=e.getData(),c=e.get("minHeight")||0,v=e.get("barSize"),m=["lng","lat","alt"].map(function(F){return e.coordDimToDataDim(F)[0]});if(null==v){var b=n.radius*Math.PI,D=n6(i,m[0],m[1]);v=[b/Math.sqrt(i.count()/D),b/Math.sqrt(i.count()/D)]}else gn.D5.isArray(v)||(v=[v,v]);var P=q3(i,m);i.each(m,function(F,le,_e,Ve){var Oe=i.get(P.dimension,Ve),Ue=P.isStacked?Oe-_e:n.altitudeAxis.scale.getExtent()[0],je=Math.max(n.altitudeAxis.dataToCoord(_e),c),vt=n.dataToPoint([F,le,Ue]),wt=n.dataToPoint([F,le,Oe]),Ot=v7.sub([],wt,vt);v7.normalize(Ot,Ot),i.setItemLayout(Ve,[vt,Ot,[v[0],je,v[1]]])}),i.setLayout("orient",Kr.UP.array)}(c,v):"cartesian3D"===m?function m8(e,n){var i=e.getData(),c=e.get("barSize");if(null==c){var m,b,v=n.size,D=n.getAxis("x"),P=n.getAxis("y");m="category"===D.type?.7*D.getBandWidth():.6*Math.round(v[0]/Math.sqrt(i.count())),b="category"===P.type?.7*P.getBandWidth():.6*Math.round(v[1]/Math.sqrt(i.count())),c=[m,b]}else gn.D5.isArray(c)||(c=[c,c]);var F=n.getAxis("z").scale.getExtent(),le=function H2(e){var n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}(F),_e=["x","y","z"].map(function(Ue){return e.coordDimToDataDim(Ue)[0]}),Ve=$l(i,_e[2]),Oe=Ve?i.getCalculationInfo("stackResultDimension"):_e[2];i.each(_e,function(Ue,je,vt,wt){var Ot=i.get(Oe,wt),At=n.dataToPoint([Ue,je,Ve?Ot-vt:le?0:F[0]]),sn=n.dataToPoint([Ue,je,Ot]),nn=d7.dist(At,sn),An=[0,sn[1]<At[1]?-1:1,0];0===Math.abs(nn)&&(nn=.1),i.setItemLayout(wt,[At,An,[c[0],nn,c[1]]])}),i.setLayout("orient",[1,0,0])}(c,v):"geo3D"===m?function p7(e,n){var i=e.getData(),c=e.get("barSize"),v=e.get("minHeight")||0,m=["lng","lat","alt"].map(function(le){return e.coordDimToDataDim(le)[0]});if(null==c){var b=Math.min(n.size[0],n.size[2]),D=n6(i,m[0],m[1]);c=[b/Math.sqrt(i.count()/D),b/Math.sqrt(i.count()/D)]}else gn.D5.isArray(c)||(c=[c,c]);var P=[0,1,0],F=q3(i,m);i.each(m,function(le,_e,Ve,Oe){var Ue=i.get(F.dimension,Oe),je=F.isStacked?Ue-Ve:n.altitudeAxis.scale.getExtent()[0],vt=Math.max(n.altitudeAxis.dataToCoord(Ve),v),wt=n.dataToPoint([le,_e,je]);i.setItemLayout(Oe,[wt,P,[c[0],vt,c[1]]])}),i.setLayout("orient",[1,0,0])}(c,v):("mapbox3D"===m||"maptalks3D"===m)&&function cf(e,n){var i=e.getData(),c=e.coordDimToDataDim("lng")[0],v=e.coordDimToDataDim("lat")[0],m=e.coordDimToDataDim("alt")[0],b=e.get("barSize"),D=e.get("minHeight")||0;if(null==b){var P=i.getDataExtent(c),F=i.getDataExtent(v),le=n.dataToPoint([P[0],F[0]]),_e=n.dataToPoint([P[1],F[1]]),Ve=Math.min(Math.abs(le[0]-_e[0]),Math.abs(le[1]-_e[1]))||1,Oe=n6(i,c,v);b=[Ve/Math.sqrt(i.count()/Oe),Ve/Math.sqrt(i.count()/Oe)]}else gn.D5.isArray(b)||(b=[b,b]),b[0]/=n.getScale()/16,b[1]/=n.getScale()/16;var Ue=[0,0,1],je=[c,v,m],vt=q3(i,je);i.each(je,function(wt,Ot,Rt,At){var sn=i.get(vt.dimension,At),An=n.dataToPoint([wt,Ot,vt.isStacked?sn-Rt:0]),_n=n.dataToPoint([wt,Ot,sn]),Jn=Math.max(_n[2]-An[2],D);i.setItemLayout(At,[An,Ue,[b[0],Jn,b[1]]])}),i.setLayout("orient",[1,0,0])}(c,v)})})}var N2={getFormattedLabel:function(e,n,i,c,v){i=i||"normal";var b=e.getData(c).getItemModel(n),D=e.getDataParams(n,c);null!=v&&D.value instanceof Array&&(D.value=D.value[v]);var F,P=b.get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]);return null==P&&(P=b.get(["label","formatter"])),"function"==typeof P?(D.status=i,F=P(D)):"string"==typeof P&&(F=gn.WU.formatTpl(P,D)),F},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}};const Zc=N2;function B2(e,n,i){var v=e.getData(),m=e.getRawValue(n),b=gn.D5.isArray(m)?function c(_e){var Oe=[],Ue=function m5(e,n){var i=[];return gn.D5.each(e.dimensions,function(c){var v=e.getDimensionInfo(c),b=v.otherDims[n];null!=b&&!1!==b&&(i[b]=v.name)}),i}(v,"tooltip");function je(vt,wt){var Ot=v.getDimensionInfo(wt);if(Ot&&!1!==Ot.otherDims.tooltip){var Rt=Ot.type,At="- "+(Ot.tooltipName||Ot.name)+": "+("ordinal"===Rt?vt+"":"time"===Rt?i?"":gn.WU.formatTime("yyyy/MM/dd hh:mm:ss",vt):gn.WU.addCommas(vt));At&&Oe.push(gn.WU.encodeHTML(At))}}return Ue.length?gn.D5.each(Ue,function(vt){je(v.get(vt,n),vt)}):gn.D5.each(_e,je),"<br/>"+Oe.join("<br/>")}(m):gn.WU.encodeHTML(gn.WU.addCommas(m)),D=v.getName(n),P=Us(v,n);gn.D5.isObject(P)&&P.colorStops&&(P=(P.colorStops[0]||{}).color);var F=gn.WU.getTooltipMarker(P=P||"transparent"),le=e.name;return"\0-"===le&&(le=""),le=le?gn.WU.encodeHTML(le)+(i?": ":"<br/>"):"",i?F+le+b:le+F+(D?gn.WU.encodeHTML(D)+": "+b:b)}function uf(e,n,i){i=i||e.getSource();var c=n||gn.wL(e.get("coordinateSystem"))||["x","y","z"],v=gn._y.createDimensions(i,{dimensionsDefine:i.dimensionsDefine||e.get("dimensions"),encodeDefine:i.encodeDefine||e.get("encode"),coordDimensions:c.map(function(D){var P=e.getReferringComponents(D+"Axis3D").models[0];return{type:P&&"category"===P.get("type")?"ordinal":"float",name:D}})});"cartesian3D"===e.get("coordinateSystem")&&v.forEach(function(D){if(c.indexOf(D.coordDim)>=0){var P=e.getReferringComponents(D.coordDim+"Axis3D").models[0];P&&"category"===P.get("type")&&(D.ordinalMeta=P.getOrdinalMeta())}});var m=gn._y.dataStack.enableDataStack(e,v,{byIndex:!0,stackedCoordDimension:"z"}),b=new gn.aV(v,e);return b.setCalculationInfo(m),b.initData(i),b}var m7=gn.wJ.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,n){return uf(this)},getFormattedLabel:function(e,n,i,c){var v=Zc.getFormattedLabel(this,e,n,i,c);return null==v&&(v=this.getData().get("z",e)),v},formatTooltip:function(e){return B2(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});gn.D5.merge(m7.prototype,a8);const y7=m7;var Eo=Do.vec3,y5=Do.mat3,hf=ha.extend(function(){return{attributes:{position:new ha.Attribute("position","float",3,"POSITION"),normal:new ha.Attribute("normal","float",3,"NORMAL"),color:new ha.Attribute("color","float",4,"COLOR"),prevPosition:new ha.Attribute("prevPosition","float",3),prevNormal:new ha.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var n=this.enableNormal,i=this.getBarVertexCount()*e,c=this.getBarTriangleCount()*e;this.vertexCount!==i&&(this.attributes.position.init(i),n?this.attributes.normal.init(i):this.attributes.normal.value=null,this.attributes.color.init(i)),this.triangleCount!==c&&(this.indices=i>65535?new Uint32Array(3*c):new Uint16Array(3*c),this._dataIndices=new Uint32Array(i))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){return(4*e+3+1)*(2*e+1)*2+4},setColor:function(e,n){for(var i=this.getBarVertexCount(),v=i*(e+1),m=i*e;m<v;m++)this.attributes.color.set(m,n);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=Eo.create,n=Eo.scaleAndAdd,i=e(),c=e(),v=e(),m=e(),b=e(),D=e(),P=e(),F=[],le=[],_e=0;_e<8;_e++)F[_e]=e();var Ve=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],Oe=[0,1,2,0,2,3],Ue=[];for(_e=0;_e<Ve.length;_e++)for(var je=Ve[_e],vt=0;vt<2;vt++){for(var wt=[],Ot=0;Ot<3;Ot++)wt.push(je[Oe[3*vt+Ot]]);Ue.push(wt)}return function(Rt,At,sn,nn,An,_n){var Jn=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(Rt,At,sn,nn,this.bevelSize,this.bevelSegments,An);else{Eo.copy(v,At),Eo.normalize(v,v),Eo.cross(m,sn,v),Eo.normalize(m,m),Eo.cross(c,v,m),Eo.normalize(m,m),Eo.negate(b,c),Eo.negate(D,v),Eo.negate(P,m),n(F[0],Rt,c,nn[0]/2),n(F[0],F[0],m,nn[2]/2),n(F[1],Rt,c,nn[0]/2),n(F[1],F[1],P,nn[2]/2),n(F[2],Rt,b,nn[0]/2),n(F[2],F[2],P,nn[2]/2),n(F[3],Rt,b,nn[0]/2),n(F[3],F[3],m,nn[2]/2),n(i,Rt,v,nn[1]),n(F[4],i,c,nn[0]/2),n(F[4],F[4],m,nn[2]/2),n(F[5],i,c,nn[0]/2),n(F[5],F[5],P,nn[2]/2),n(F[6],i,b,nn[0]/2),n(F[6],F[6],P,nn[2]/2),n(F[7],i,b,nn[0]/2),n(F[7],F[7],m,nn[2]/2);var yr=this.attributes;if(this.enableNormal){le[0]=c,le[1]=b,le[2]=v,le[3]=D,le[4]=m,le[5]=P;for(var cr=this._vertexOffset,Er=0;Er<Ve.length;Er++){for(var zr=3*this._triangleOffset,Mr=0;Mr<6;Mr++)this.indices[zr++]=cr+Oe[Mr];cr+=4,this._triangleOffset+=2}for(Er=0;Er<Ve.length;Er++){var Fr=le[Er];for(Mr=0;Mr<4;Mr++)yr.position.set(this._vertexOffset,F[Ve[Er][Mr]]),yr.normal.set(this._vertexOffset,Fr),yr.color.set(this._vertexOffset++,An)}}else{for(Er=0;Er<Ue.length;Er++){for(zr=3*this._triangleOffset,Mr=0;Mr<3;Mr++)this.indices[zr+Mr]=Ue[Er][Mr]+this._vertexOffset;this._triangleOffset++}for(Er=0;Er<F.length;Er++)yr.position.set(this._vertexOffset,F[Er]),yr.color.set(this._vertexOffset++,An)}}var gr=this._vertexOffset;for(Er=Jn;Er<gr;Er++)this._dataIndices[Er]=_n}}(),_addBevelBar:function(){var e=Eo.create(),n=Eo.create(),i=Eo.create(),c=y5.create(),v=[],m=[1,-1,-1,1],b=[1,1,-1,-1],D=[2,0];return function(P,F,le,_e,Ve,Oe,Ue){Eo.copy(n,F),Eo.normalize(n,n),Eo.cross(i,le,n),Eo.normalize(i,i),Eo.cross(e,n,i),Eo.normalize(i,i),c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=n[0],c[4]=n[1],c[5]=n[2],c[6]=i[0],c[7]=i[1],c[8]=i[2],Ve=Math.min(_e[0],_e[2])/2*Ve;for(var je=0;je<3;je++)v[je]=Math.max(_e[je]-2*Ve,0);var vt=(_e[0]-v[0])/2,wt=(_e[1]-v[1])/2,Ot=(_e[2]-v[2])/2,Rt=[],At=[],sn=this._vertexOffset,nn=[];for(je=0;je<2;je++){nn[je]=nn[je]=[];for(var An=0;An<=Oe;An++)for(var _n=0;_n<4;_n++){(0===An&&0===je||1===je&&An===Oe)&&nn[je].push(sn);for(var Jn=0;Jn<=Oe;Jn++){var yr=Jn/Oe*Math.PI/2+Math.PI/2*_n,cr=An/Oe*Math.PI/2+Math.PI/2*je;At[0]=vt*Math.cos(yr)*Math.sin(cr),At[1]=wt*Math.cos(cr),At[2]=Ot*Math.sin(yr)*Math.sin(cr),Rt[0]=At[0]+m[_n]*v[0]/2,Rt[1]=At[1]+wt+D[je]*v[1]/2,Rt[2]=At[2]+b[_n]*v[2]/2,Math.abs(vt-wt)<1e-6&&Math.abs(wt-Ot)<1e-6||(At[0]/=vt*vt,At[1]/=wt*wt,At[2]/=Ot*Ot),Eo.normalize(At,At),Eo.transformMat3(Rt,Rt,c),Eo.transformMat3(At,At,c),Eo.add(Rt,Rt,P),this.attributes.position.set(sn,Rt),this.enableNormal&&this.attributes.normal.set(sn,At),this.attributes.color.set(sn,Ue),sn++}}}var Er=4*Oe+3,zr=2*Oe+1,Mr=Er+1;for(_n=0;_n<zr;_n++)for(je=0;je<=Er;je++){var Fr=_n*Mr+je+this._vertexOffset,qn=_n*Mr+(je+1)%Mr+this._vertexOffset,gr=(_n+1)*Mr+(je+1)%Mr+this._vertexOffset,ir=(_n+1)*Mr+je+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[gr,Fr,qn]),this.setTriangleIndices(this._triangleOffset++,[gr,ir,Fr])}this.setTriangleIndices(this._triangleOffset++,[nn[0][0],nn[0][2],nn[0][1]]),this.setTriangleIndices(this._triangleOffset++,[nn[0][0],nn[0][3],nn[0][2]]),this.setTriangleIndices(this._triangleOffset++,[nn[1][0],nn[1][1],nn[1][2]]),this.setTriangleIndices(this._triangleOffset++,[nn[1][0],nn[1][2],nn[1][3]]),this._vertexOffset=sn}}()});gn.D5.defaults(hf.prototype,P2),gn.D5.defaults(hf.prototype,Qd);const fm=hf;var _5=Do.vec3;const y8=gn.TA.extend({type:"bar3D",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this._api=n,this._labelsBuilder=new qo(256,256,n);var i=this;this._labelsBuilder.getLabelPosition=function(c,v,m){if(i._data){var b=i._data.getItemLayout(c);return _5.scaleAndAdd([],b[0],b[1],m+b[2][1])}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,n,i){var c=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=c,this._barMesh||(this._barMesh=new Kt.Mesh({geometry:new fm,shadowDepthMaterial:new Kt.Material({shader:new Kt.Shader(Kt.Shader.source("ecgl.sm.depth.vertex"),Kt.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var v=e.coordinateSystem;if(this._doRender(e,i),v&&v.viewGL){v.viewGL.add(this.groupGL);var m=v.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[m]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){Kt.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,n){var i=e.getData(),c=e.get("shading"),v="color"!==c,m=this,b=this._barMesh,D="ecgl."+c;(!b.material||b.material.shader.name!==D)&&(b.material=Kt.createMaterial(D,["VERTEX_COLOR"])),Kt.setMaterialFromModel(c,b.material,e,n),b.geometry.enableNormal=v,b.geometry.resetOffset();var P=e.get("bevelSize"),F=e.get("bevelSmoothness");b.geometry.bevelSegments=F,b.geometry.bevelSize=P;var le=[],_e=new Float32Array(4*i.count()),Ve=0,vt=0,Oe=!1;i.each(function(Ot){if(i.hasValue(Ot)){var Rt=Us(i,Ot),At=Ts(i,Ot);null==At&&(At=1),Kt.parseColor(Rt,le),le[3]*=At,_e[Ve++]=le[0],_e[Ve++]=le[1],_e[Ve++]=le[2],_e[Ve++]=le[3],le[3]>0&&(vt++,le[3]<.99&&(Oe=!0))}}),b.geometry.setBarCount(vt);var Ue=i.getLayout("orient"),je=this._barIndexOfData=new Int32Array(i.count());vt=0,i.each(function(Ot){if(i.hasValue(Ot)){var Rt=i.getItemLayout(Ot),At=Rt[0],sn=Rt[1],nn=Rt[2],An=4*Ot;le[0]=_e[An++],le[1]=_e[An++],le[2]=_e[An++],le[3]=_e[An++],le[3]>0&&(m._barMesh.geometry.addBar(At,sn,Ue,nn,le,Ot),je[Ot]=vt++)}else je[Ot]=-1}),b.geometry.dirty(),b.geometry.updateBoundingBox();var wt=b.material;wt.transparent=Oe,wt.depthMask=!Oe,b.geometry.sortTriangles=Oe,this._initHandler(e,n)},_initHandler:function(e,n){var i=e.getData(),c=this._barMesh,v="cartesian3D"===e.coordinateSystem.type;c.seriesIndex=e.seriesIndex;var m=-1;c.off("mousemove"),c.off("mouseout"),c.on("mousemove",function(b){var D=c.geometry.getDataIndexOfVertex(b.triangle[0]);D!==m&&(this._downplay(m),this._highlight(D),this._labelsBuilder.updateLabels([D]),v&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get("x",D),i.get("y",D),i.get("z",D,!0)]})),m=D,c.dataIndex=D},this),c.on("mouseout",function(b){this._downplay(m),this._labelsBuilder.updateLabels(),m=-1,c.dataIndex=-1,v&&n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var n=this._data;if(n){var i=this._barIndexOfData[e];if(!(i<0)){var v=n.getItemModel(e).getModel("emphasis.itemStyle"),m=v.get("color"),b=v.get("opacity");if(null==m){var D=Us(n,e);m=gn.$_.lift(D,-.4)}null==b&&(b=Ts(n,e));var P=Kt.parseColor(m);P[3]*=b,this._barMesh.geometry.setColor(i,P),this._api.getZr().refresh()}}},_downplay:function(e){var n=this._data;if(n){var i=this._barIndexOfData[e];if(!(i<0)){var c=Us(n,e),v=Ts(n,e),m=Kt.parseColor(c);m[3]*=v,this._barMesh.geometry.setColor(i,m),this._api.getZr().refresh()}}},highlight:function(e,n,i,c){this._toggleStatus("highlight",e,n,i,c)},downplay:function(e,n,i,c){this._toggleStatus("downplay",e,n,i,c)},_toggleStatus:function(e,n,i,c,v){var m=n.getData(),b=Zi.queryDataIndex(m,v),D=this;null!=b?gn.D5.each(Zc.normalizeToArray(b),function(P){"highlight"===e?this._highlight(P):this._downplay(P)},this):m.each(function(P){"highlight"===e?D._highlight(P):D._downplay(P)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});(0,gn.D$)(function _8(e){e.registerChartView(y8),e.registerSeriesModel(y7),g7(e),e.registerProcessor(function(n,i){n.eachSeriesByType("bar3d",function(c){var v=c.getData();v.filterSelf(function(m){return v.hasValue(m)})})})});var _7=gn.wJ.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,n){return uf(this)},formatTooltip:function(e){return B2(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});const vm=_7;var pm=C(9043),gm=Do.vec3;Kt.Shader.import(N3);const mm=gn.TA.extend({type:"line3D",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this._api=n},render:function(e,n,i){var c=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=c,this._line3DMesh||(this._line3DMesh=new Kt.Mesh({geometry:new H4({useNativeLine:!1,sortTriangles:!0}),material:new Kt.Material({shader:Kt.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var v=e.coordinateSystem;if(v&&v.viewGL){v.viewGL.add(this.groupGL);var m=v.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[m]("fragment","SRGB_DECODE")}this._doRender(e,i),this._data=e.getData(),this._camera=v.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,n){var i=e.getData(),c=this._line3DMesh;c.geometry.resetOffset();var v=i.getLayout("points"),m=[],b=new Float32Array(v.length/3*4),D=0,P=!1;i.each(function(_e){var Ve=Us(i,_e),Oe=Ts(i,_e);null==Oe&&(Oe=1),Kt.parseColor(Ve,m),m[3]*=Oe,b[D++]=m[0],b[D++]=m[1],b[D++]=m[2],b[D++]=m[3],m[3]<.99&&(P=!0)}),c.geometry.setVertexCount(c.geometry.getPolylineVertexCount(v)),c.geometry.setTriangleCount(c.geometry.getPolylineTriangleCount(v)),c.geometry.addPolyline(v,b,Zi.firstNotNull(e.get("lineStyle.width"),1)),c.geometry.dirty(),c.geometry.updateBoundingBox();var F=c.material;F.transparent=P,F.depthMask=!P;var le=e.getModel("debug.wireframe");le.get("show")?(c.geometry.createAttribute("barycentric","float",3),c.geometry.generateBarycentric(),c.material.set("both","WIREFRAME_TRIANGLE"),c.material.set("wireframeLineColor",Kt.parseColor(le.get("lineStyle.color")||"rgba(0,0,0,0.5)")),c.material.set("wireframeLineWidth",Zi.firstNotNull(le.get("lineStyle.width"),1))):c.material.set("both","WIREFRAME_TRIANGLE"),this._points=v,this._initHandler(e,n)},_updateAnimation:function(e){Kt.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,n){var i=e.getData(),c=e.coordinateSystem,v=this._line3DMesh,m=-1;v.seriesIndex=e.seriesIndex,v.off("mousemove"),v.off("mouseout"),v.on("mousemove",function(b){var D=c.pointToData(b.point.array),P=i.indicesOfNearest("x",D[0])[0];P!==m&&(n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get("x",P),i.get("y",P),i.get("z",P)]}),v.dataIndex=P),m=P},this),v.on("mouseout",function(b){m=-1,v.dataIndex=-1,n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new ui,n=this._camera;ui.multiply(e,n.projectionMatrix,n.viewMatrix);var i=this._positionNDC,c=this._points,v=c.length/3;(!i||i.length/2!==v)&&(i=this._positionNDC=new Float32Array(2*v));for(var m=[],b=0;b<v;b++){var D=3*b,P=2*b;m[0]=c[D],m[1]=c[D+1],m[2]=c[D+2],m[3]=1,gm.transformMat4(m,m,e.array),i[P]=m[0]/m[3],i[P+1]=m[1]/m[3]}},_pick:function(e,n,i,c,v,m){var b=this._positionNDC,P=this._data.hostModel.get("lineStyle.width"),F=-1,Ve=.5*i.viewport.width,Oe=.5*i.viewport.height;e=(e+1)*Ve,n=(n+1)*Oe;for(var Ue=1;Ue<b.length/2;Ue++){var je=(b[2*(Ue-1)]+1)*Ve,vt=(b[2*(Ue-1)+1]+1)*Oe,wt=(b[2*Ue]+1)*Ve,Ot=(b[2*Ue+1]+1)*Oe;pm.m(je,vt,wt,Ot,P,e,n)&&(F=(je-e)*(je-e)+(vt-n)*(vt-n)<(wt-e)*(wt-e)+(Ot-n)*(Ot-n)?Ue-1:Ue)}if(F>=0){var sn=3*F,nn=new Kr(this._points[sn],this._points[sn+1],this._points[sn+2]);m.push({dataIndex:F,point:nn,pointWorld:nn.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(nn)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});(0,gn.D$)(function M8(e){e.registerChartView(mm),e.registerSeriesModel(vm),e.registerLayout(function(n,i){n.eachSeriesByType("line3D",function(c){var v=c.getData(),m=c.coordinateSystem;if(m){if("cartesian3D"!==m.type)return;var b=new Float32Array(3*v.count()),D=[],P=[],le=m.dimensions.map(function(_e){return c.coordDimToDataDim(_e)[0]});m&&v.each(le,function(_e,Ve,Oe,Ue){D[0]=_e,D[1]=Ve,D[2]=Oe,m.dataToPoint(D,P),b[3*Ue]=P[0],b[3*Ue+1]=P[1],b[3*Ue+2]=P[2]}),v.setLayout("points",b)}})})});const M7=gn.wJ.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,n){return uf(this)},getFormattedLabel:function(e,n,i,c){var v=Zc.getFormattedLabel(this,e,n,i,c);if(null==v){var m=this.getData();v=m.get(m.dimensions[m.dimensions.length-1],e)}return v},formatTooltip:function(e){return B2(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function x8(e,c,i){(c=c||document.createElement("canvas")).width=e,c.height=e;var v=c.getContext("2d");return i&&i(v),c}var b8={getMarginByStyle:function(e){var n=e.minMargin||0,i=0;e.stroke&&"none"!==e.stroke&&(i=null==e.lineWidth?1:e.lineWidth);var c=e.shadowBlur||0,v=e.shadowOffsetX||0,m=e.shadowOffsetY||0,b={};return b.left=Math.max(i/2,-v+c,n),b.right=Math.max(i/2,v+c,n),b.top=Math.max(i/2,-m+c,n),b.bottom=Math.max(i/2,m+c,n),b},createSymbolSprite:function(e,n,i,c){var v=function ym(e,n,i,c){gn.D5.isArray(n)||(n=[n,n]);var v=b8.getMarginByStyle(i,c),m=n[0]+v.left+v.right,b=n[1]+v.top+v.bottom,D=gn._y.createSymbol(e,0,0,n[0],n[1]),P=Math.max(m,b);D.x=v.left,D.y=v.top,m>b?D.y+=(P-b)/2:D.x+=(P-m)/2;var F=D.getBoundingRect();return D.x-=F.x,D.y-=F.y,D.setStyle(i),D.update(),D.__size=P,D}(e,n,i),m=b8.getMarginByStyle(i);return{image:x8(v.__size,c,function(b){gn.z$(b,v)}),margin:m}},createSDFFromCanvas:function(e,n,i,c){return x8(n,c,function(v){var b=e.getContext("2d").getImageData(0,0,e.width,e.height);v.putImageData(function _m(e,n,i){var c=n.width,v=n.height,m=e.canvas.width,b=e.canvas.height,D=c/m,P=v/b;function F(wt){return wt<128?1:-1}function le(wt,Ot){var Rt=1/0;wt=Math.floor(wt*D),Ot=Math.floor(Ot*P);for(var nn=F(n.data[4*(Ot*c+wt)]),An=Math.max(Ot-i,0);An<Math.min(Ot+i,v);An++)for(var _n=Math.max(wt-i,0);_n<Math.min(wt+i,c);_n++){var cr=_n-wt,Er=An-Ot;if(nn!==F(n.data[4*(An*c+_n)])){var zr=cr*cr+Er*Er;zr<Rt&&(Rt=zr)}}return nn*Math.sqrt(Rt)}for(var _e=e.createImageData(m,b),Ve=0;Ve<b;Ve++)for(var Oe=0;Oe<m;Oe++){var je=le(Oe,Ve)/i*.5+.5,vt=4*(Ve*m+Oe);_e.data[vt++]=255*(1-je),_e.data[vt++]=255*(1-je),_e.data[vt++]=255*(1-je),_e.data[vt++]=255}return _e}(v,b,i),0,0)})},createSimpleSprite:function(e,n){return x8(e,n,function(i){var c=e/2;i.beginPath(),i.arc(c,c,60,0,2*Math.PI,!1),i.closePath();var v=i.createRadialGradient(c,c,0,c,c,c);v.addColorStop(0,"rgba(255, 255, 255, 1)"),v.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),v.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=v,i.fill()})}};const x7=b8;var b7=Do.vec3;const M5={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,n){var i=this.indices,c=b7.create();if(!i){i=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var v=0;v<i.length;v++)i[v]=v}if(0===n){var D,m=this.attributes.position,b=(e=e.array,0);for((!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount)),v=0;v<this.vertexCount;v++){m.get(v,c);var P=b7.sqrDist(c,e);isNaN(P)&&(P=1e7,b++),0===v?(D=P,P=0):P-=D,this._zList[v]=P}this._noneCount=b}if(this.vertexCount<2e4)0===n&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(v=0;v<3;v++)this._progressiveQuickSort(3*n+v);this.dirtyIndices()},_simpleSort:function(e){var n=this._zList,i=this.indices;function c(v,m){return n[m]-n[v]}e?Array.prototype.sort.call(i,c):$d.sort(i,c,0,i.length-1)},_progressiveQuickSort:function(e){var n=this._zList,i=this.indices;this._quickSort=this._quickSort||new $d,this._quickSort.step(i,function(c,v){return n[v]-n[c]},e)}};var df=Do.vec4;Kt.Shader.import("@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end");var xm=Kt.Mesh.extend(function(){var e=new Kt.Geometry({dynamic:!0,attributes:{color:new Kt.Geometry.Attribute("color","float",4,"COLOR"),position:new Kt.Geometry.Attribute("position","float",3,"POSITION"),size:new Kt.Geometry.Attribute("size","float",1),prevPosition:new Kt.Geometry.Attribute("prevPosition","float",3),prevSize:new Kt.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,M5);var n=new Kt.Material({shader:Kt.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});n.enableTexture("sprite"),n.define("both","VERTEX_COLOR"),n.define("both","VERTEX_SIZE");var i=new Kt.Texture2D({image:document.createElement("canvas"),flipY:!1});return n.set("sprite",i),e.pick=this._pick.bind(this),{geometry:e,material:n,mode:Kt.Mesh.POINTS,sizeScale:1}},{_pick:function(e,n,i,c,v,m){var b=this._positionNDC;if(b)for(var D=i.viewport,P=2/D.width,F=2/D.height,le=this.geometry.vertexCount-1;le>=0;le--){var _e,Ve=b[2*(_e=this.geometry.indices?this.geometry.indices[le]:le)],Oe=b[2*_e+1],je=this.geometry.attributes.size.get(_e)/this.sizeScale/2;if(e>Ve-je*P&&e<Ve+je*P&&n>Oe-je*F&&n<Oe+je*F){var vt=new Kt.Vector3,wt=new Kt.Vector3;this.geometry.attributes.position.get(_e,vt.array),Kt.Vector3.transformMat4(wt,vt,this.worldTransform),m.push({vertexIndex:_e,point:vt,pointWorld:wt,target:this,distance:wt.distance(c.getWorldPosition())})}}},updateNDCPosition:function(e,n,i){var c=this._positionNDC,v=this.geometry;(!c||c.length/2!==v.vertexCount)&&(c=this._positionNDC=new Float32Array(2*v.vertexCount));for(var m=df.create(),b=0;b<v.vertexCount;b++)v.attributes.position.get(b,m),m[3]=1,df.transformMat4(m,m,e.array),df.scale(m,m,1/m[3]),c[2*b]=m[0],c[2*b+1]=m[1]}});const w7=xm;function x5(e,n){this.rootNode=new Kt.Node,this.is2D=e,this._labelsBuilder=new qo(256,256,n),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=n,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}x5.prototype={constructor:x5,highlightOnMouseover:!0,update:function(e,n,i,c,v){var m=this._prevMesh;this._prevMesh=this._mesh,this._mesh=m;var b=e.getData();if(null==c&&(c=0),null==v&&(v=b.count()),this._startDataIndex=c,this._endDataIndex=v-1,!this._mesh){var D=this._prevMesh&&this._prevMesh.material;this._mesh=new w7({renderOrder:10,frustumCulling:!1}),D&&(this._mesh.material=D)}D=this._mesh.material;var P=this._mesh.geometry,F=P.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var le=this._getSymbolInfo(e,c,v),_e=i.getDevicePixelRatio(),Ve=e.getModel("itemStyle").getItemStyle(),Oe=e.get("large"),Ue=1;le.maxSize>2?(Ue=this._updateSymbolSprite(e,Ve,le,_e),D.enableTexture("sprite")):D.disableTexture("sprite"),F.position.init(v-c);var je=[];if(Oe){D.undefine("VERTEX_SIZE"),D.undefine("VERTEX_COLOR");var vt=function Jd(e){const n=e.getVisual("style");if(n)return n[e.getVisual("drawType")]}(b),wt=function qg(e){return e.getVisual("style").opacity}(b);Kt.parseColor(vt,je),je[3]*=wt,D.set({color:je,u_Size:le.maxSize*this._sizeScale})}else D.set({color:[1,1,1,1]}),D.define("VERTEX_SIZE"),D.define("VERTEX_COLOR"),F.size.init(v-c),F.color.init(v-c),this._originalOpacity=new Float32Array(v-c);for(var Ot=b.getLayout("points"),Rt=F.position.value,sn=0;sn<v-c;sn++){var nn=3*sn,An=2*sn;if(this.is2D?(Rt[nn]=Ot[An],Rt[nn+1]=Ot[An+1],Rt[nn+2]=-10):(Rt[nn]=Ot[nn],Rt[nn+1]=Ot[nn+1],Rt[nn+2]=Ot[nn+2]),!Oe){vt=Us(b,sn),wt=Ts(b,sn),Kt.parseColor(vt,je),je[3]*=wt,F.color.set(sn,je);var _n=b.getItemVisual(sn,"symbolSize");_n=_n instanceof Array?Math.max(_n[0],_n[1]):_n,isNaN(_n)&&(_n=0),F.size.value[sn]=_n*Ue*this._sizeScale,this._originalOpacity[sn]=je[3]}}this._mesh.sizeScale=Ue,P.updateBoundingBox(),P.dirty(),this._updateMaterial(e,Ve);var Jn=e.coordinateSystem;Jn&&Jn.viewGL&&D[Jn.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE"),Oe||this._updateLabelBuilder(e,c,v),this._updateHandler(e,n,i),this._updateAnimation(e),this._api=i},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,n,i,c){i.maxSize=Math.min(2*i.maxSize,200);var v=[];return i.aspect>1?(v[0]=i.maxSize,v[1]=i.maxSize/i.aspect):(v[1]=i.maxSize,v[0]=i.maxSize*i.aspect),v[0]=v[0]||1,v[1]=v[1]||1,(this._symbolType!==i.type||!function bm(e,n){return e&&n&&e[0]===n[0]&&e[1]===n[1]}(this._symbolSize,v)||this._lineWidth!==n.lineWidth)&&(x7.createSymbolSprite(i.type,v,{fill:"#fff",lineWidth:n.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(v[0]/2,10)},this._spriteImageCanvas),x7.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=i.type,this._symbolSize=v,this._lineWidth=n.lineWidth),this._spriteImageCanvas.width/i.maxSize*c},_updateMaterial:function(e,n){var i="lighter"===e.get("blendMode")?Kt.additiveBlend:null,c=this._mesh.material;c.blend=i,c.set("lineWidth",n.lineWidth/20);var v=Kt.parseColor(n.stroke);c.set("strokeColor",v),c.transparent=!0,c.depthMask=!1,c.depthTest=!this.is2D,c.sortVertices=!this.is2D},_updateLabelBuilder:function(e,b,i){var c=e.getData(),v=this._mesh.geometry,m=v.attributes.position.value,D=this._mesh.sizeScale;this._labelsBuilder.updateData(c,b=this._startDataIndex,i),this._labelsBuilder.getLabelPosition=function(P,F,le){var _e=3*(P-b);return[m[_e],m[_e+1],m[_e+2]]},this._labelsBuilder.getLabelDistance=function(P,F,le){return v.attributes.size.get(P-b)/D/2+le},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){Kt.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,n,i){var P,c=e.getData(),v=this._mesh,m=this,b=-1,D=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;D&&(P=e.coordinateSystem.model),v.seriesIndex=e.seriesIndex,v.off("mousemove"),v.off("mouseout"),v.on("mousemove",function(F){var le=F.vertexIndex+m._startDataIndex;le!==b&&(this.highlightOnMouseover&&(this.downplay(c,b),this.highlight(c,le),this._labelsBuilder.updateLabels([le])),D&&i.dispatchAction({type:"grid3DShowAxisPointer",value:[c.get(e.coordDimToDataDim("x")[0],le),c.get(e.coordDimToDataDim("y")[0],le),c.get(e.coordDimToDataDim("z")[0],le)],grid3DIndex:P.componentIndex})),v.dataIndex=le,b=le},this),v.on("mouseout",function(F){this.highlightOnMouseover&&(this.downplay(c,F.vertexIndex+m._startDataIndex),this._labelsBuilder.updateLabels()),b=-1,v.dataIndex=-1,D&&i.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:P.componentIndex})},this)},updateLayout:function(e,n,i){var c=e.getData();if(this._mesh){var v=this._mesh.geometry.attributes.position.value,m=c.getLayout("points");if(this.is2D)for(var b=0;b<m.length/2;b++){var D=3*b,P=2*b;v[D]=m[P],v[D+1]=m[P+1],v[D+2]=-10}else for(b=0;b<m.length;b++)v[b]=m[b];this._mesh.geometry.dirty(),i.getZr().refresh()}},updateView:function(e){if(this._mesh){var n=new ui;ui.mul(n,e.viewMatrix,this._mesh.worldTransform),ui.mul(n,e.projectionMatrix,n),this._mesh.updateNDCPosition(n,this.is2D,this._api)}},highlight:function(e,n){if(!(n>this._endDataIndex||n<this._startDataIndex)){var c=e.getItemModel(n).getModel("emphasis.itemStyle"),v=c.get("color"),m=c.get("opacity");if(null==v){var b=Us(e,n);v=gn.$_.lift(b,-.4)}null==m&&(m=Ts(e,n));var D=Kt.parseColor(v);D[3]*=m,this._mesh.geometry.attributes.color.set(n-this._startDataIndex,D),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,n){if(!(n>this._endDataIndex||n<this._startDataIndex)){var i=Us(e,n),c=Ts(e,n),v=Kt.parseColor(i);v[3]*=c,this._mesh.geometry.attributes.color.set(n-this._startDataIndex,v),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var n=this._mesh.geometry,i=0;i<n.vertexCount;i++)n.attributes.color.value[4*i+3]=this._originalOpacity[i]*e;n.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var n=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",n/this._sizeScale*e);var i=this._mesh.geometry.attributes;if(i.size.value)for(var c=0;c<i.size.value.length;c++)i.size.value[c]=i.size.value[c]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,n){n&&e.material.set("positionTexture",n),e.material[n?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,n,i){if(e.get("large"))return(c=Zi.firstNotNull(e.get("symbolSize"),1))instanceof Array?(F=Math.max(c[0],c[1]),m=c[0]/c[1]):(F=c,m=1),{maxSize:c,type:e.get("symbol"),aspect:m};for(var m,v=e.getData(),D=v.getItemVisual(0,"symbol")||"circle",F=0,le=n;le<i;le++){var Ve,c=v.getItemVisual(le,"symbolSize"),_e=v.getItemVisual(le,"symbol");if(c instanceof Array)Ve=c[0]/c[1],F=Math.max(Math.max(c[0],c[1]),F);else{if(isNaN(c))continue;Ve=1,F=Math.max(c,F)}D=_e,m=Ve}return{maxSize:F,type:D,aspect:m}}};const V0=x5,fs=gn.TA.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,n,i){if(this.groupGL.removeAll(),e.getData().count()){var c=e.coordinateSystem;if(c&&c.viewGL){c.viewGL.add(this.groupGL),this._camera=c.viewGL.camera;var v=this._pointsBuilderList[0];v||(v=this._pointsBuilderList[0]=new V0(!1,i)),this._pointsBuilderList.length=1,this.groupGL.add(v.rootNode),v.update(e,n,i),v.updateView(c.viewGL.camera)}}},incrementalPrepareRender:function(e,n,i){var c=e.coordinateSystem;c&&c.viewGL&&(c.viewGL.add(this.groupGL),this._camera=c.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,n,i,c){if(!(e.end<=e.start)){var v=this._pointsBuilderList[this._currentStep];v||(v=new V0(!1,c),this._pointsBuilderList[this._currentStep]=v),this.groupGL.add(v.rootNode),v.update(n,i,c,e.start,e.end),v.updateView(n.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,n,i,c){this._toggleStatus("highlight",e,n,i,c)},downplay:function(e,n,i,c){this._toggleStatus("downplay",e,n,i,c)},_toggleStatus:function(e,n,i,c,v){var m=n.getData(),b=Zi.queryDataIndex(m,v),D="highlight"===e;null!=b?gn.D5.each(Zc.normalizeToArray(b),function(P){for(var F=0;F<this._pointsBuilderList.length;F++){var le=this._pointsBuilderList[F];D?le.highlight(m,P):le.downplay(m,P)}},this):m.each(function(P){for(var F=0;F<this._pointsBuilderList.length;F++){var le=this._pointsBuilderList[F];D?le.highlight(m,P):le.downplay(m,P)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});(0,gn.D$)(function C7(e){e.registerChartView(fs),e.registerSeriesModel(M7),e.registerLayout({seriesType:"scatter3D",reset:function(n){var i=n.coordinateSystem;if(i){var c=i.dimensions;if(c.length<3)return;var v=c.map(function(D){return n.coordDimToDataDim(D)[0]}),m=[],b=[];return{progress:function(D,P){for(var F=new Float32Array(3*(D.end-D.start)),le=D.start;le<D.end;le++){var _e=3*(le-D.start);m[0]=P.get(v[0],le),m[1]=P.get(v[1],le),m[2]=P.get(v[2],le),i.dataToPoint(m,b),F[_e]=b[0],F[_e+1]=b[1],F[_e+2]=b[2]}P.setLayout("points",F)}}}}})});var Ds=Do.vec3,Vo=Do.vec2,Hl=Ds.normalize,$4=Ds.cross,r6=Ds.sub,eu=Ds.add,Kc=Ds.create,k2=Kc(),W1=Kc(),F2=Kc(),H0=Kc(),vf=[],b5=[];function i6(e,n){Vo.copy(vf,e[0]),Vo.copy(b5,e[1]);var i=[],c=i[0]=Kc(),v=i[1]=Kc(),m=i[2]=Kc(),b=i[3]=Kc();n.dataToPoint(vf,c),n.dataToPoint(b5,b),Hl(k2,c),r6(W1,b,c),Hl(W1,W1),$4(F2,W1,k2),Hl(F2,F2),$4(W1,k2,F2),eu(v,k2,W1),Hl(v,v),Hl(k2,b),r6(W1,c,b),Hl(W1,W1),$4(F2,W1,k2),Hl(F2,F2),$4(W1,k2,F2),eu(m,k2,W1),Hl(m,m),eu(H0,c,b),Hl(H0,H0);var D=Ds.dot(c,H0),P=Ds.dot(H0,v),F=(Math.max(Ds.len(c),Ds.len(b))-D)/P*2;return Ds.scaleAndAdd(v,c,v,F),Ds.scaleAndAdd(m,b,m,F),i}function T7(e,n){for(var i=new Float32Array(3*e.length),c=0,v=[],m=0;m<e.length;m++)n.dataToPoint(e[m],v),i[c++]=v[0],i[c++]=v[1],i[c++]=v[2];return i}function Z1(e){var n=[];return e.each(function(i){var c=e.getItemModel(i),v=c.option instanceof Array?c.option:c.getShallow("coords",!0);n.push(v)}),{coordsList:n}}function D7(e,n,i){var c=e.getData(),v=e.get("polyline"),m=Z1(c);c.setLayout("lineType",v?"polyline":"cubicBezier"),c.each(function(b){var D=m.coordsList[b],P=v?T7(D,n):function N0(e,n,i){var c=[],v=c[0]=Ds.create(),m=c[1]=Ds.create(),b=c[2]=Ds.create(),D=c[3]=Ds.create();n.dataToPoint(e[0],v),n.dataToPoint(e[1],D);var P=Ds.dist(v,D);return Ds.lerp(m,v,D,.3),Ds.lerp(b,v,D,.3),Ds.scaleAndAdd(m,m,i,Math.min(.1*P,10)),Ds.scaleAndAdd(b,b,i,Math.min(.1*P,10)),c}(D,n,i);c.setItemLayout(b,P)})}function w5(e,n){e.eachSeriesByType("lines3D",function(i){var c=i.coordinateSystem;"globe"===c.type?function wm(e,n){var i=e.getData(),c=e.get("polyline");i.setLayout("lineType",c?"polyline":"cubicBezier");var v=Z1(i);i.each(function(m){i.setItemLayout(m,(c?T7:i6)(v.coordsList[m],n))})}(i,c):"geo3D"===c.type?D7(i,c,[0,1,0]):("mapbox3D"===c.type||"maptalks3D"===c.type)&&D7(i,c,[0,0,1])})}const E7=gn.wJ.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,n){var i=new gn.aV(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(c,v,m,b){if(c instanceof Array)return NaN;i.hasItemOption=!0;var D=c.value;return null!=D?D instanceof Array?D[b]:D:void 0}),i},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}});var pf=Do.vec3;function W9(e){return e>0?1:-1}Kt.Shader.import("@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end");const Sm=Kt.Mesh.extend(function(){var e=new Kt.Material({shader:new Kt.Shader(Kt.Shader.source("ecgl.trail2.vertex"),Kt.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),n=new H4({dynamic:!0});return n.createAttribute("dist","float",1),n.createAttribute("distAll","float",1),n.createAttribute("start","float",1),{geometry:n,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,n,i){var c=e.hostModel,v=this.geometry,m=c.getModel("effect"),b=m.get("trailWidth")*n.getDevicePixelRatio(),D=m.get("trailLength"),P=c.get("effect.constantSpeed"),F=1e3*c.get("effect.period"),le=null!=P;le?this.material.set("speed",P/1e3):this.material.set("period",F),this.material[le?"define":"undefine"]("vertex","CONSTANT_SPEED");var _e=c.get("polyline");v.trailLength=D,this.material.set("trailLength",D),v.resetOffset(),["position","positionPrev","positionNext"].forEach(function(An){v.attributes[An].value=i.attributes[An].value}),["dist","distAll","start","offset","color"].forEach(function(An){v.attributes[An].init(v.vertexCount)}),v.indices=i.indices;var Oe=[],Ue=m.get("trailColor"),je=m.get("trailOpacity"),vt=null!=Ue,wt=null!=je;this.updateWorldTransform();var Ot=this.worldTransform.x.len(),Rt=this.worldTransform.y.len(),At=this.worldTransform.z.len(),sn=0,nn=0;e.each(function(An){var _n=e.getItemLayout(An),Jn=wt?je:Ts(e,An),yr=Us(e,An);null==Jn&&(Jn=1),(Oe=Kt.parseColor(vt?Ue:yr,Oe))[3]*=Jn;for(var cr=_e?i.getPolylineVertexCount(_n):i.getCubicCurveVertexCount(_n[0],_n[1],_n[2],_n[3]),Er=0,zr=[],Mr=[],Fr=sn;Fr<sn+cr;Fr++)v.attributes.position.get(Fr,zr),zr[0]*=Ot,zr[1]*=Rt,zr[2]*=At,Fr>sn&&(Er+=pf.dist(zr,Mr)),v.attributes.dist.set(Fr,Er),pf.copy(Mr,zr);nn=Math.max(nn,Er);var qn=Math.random()*(le?Er:F);for(Fr=sn;Fr<sn+cr;Fr++)v.attributes.distAll.set(Fr,Er),v.attributes.start.set(Fr,qn),v.attributes.offset.set(Fr,W9(i.attributes.offset.get(Fr))*b/2),v.attributes.color.set(Fr,Oe);sn+=cr}),this.material.set("spotSize",.1*nn*D),this.material.set("spotIntensity",m.get("spotIntensity")),v.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});Kt.Shader.import(N3);const S5=gn.TA.extend({type:"lines3D",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this._meshLinesMaterial=new Kt.Material({shader:Kt.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new Kt.Mesh({geometry:new H4,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new Sm},render:function(e,n,i){this.groupGL.add(this._linesMesh);var c=e.coordinateSystem,v=e.getData();if(c&&c.viewGL){c.viewGL.add(this.groupGL),this._updateLines(e,n,i);var b=c.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[b]("fragment","SRGB_DECODE"),this._trailMesh.material[b]("fragment","SRGB_DECODE")}var D=this._trailMesh;if(D.stopAnimation(),e.get("effect.show")){this.groupGL.add(D),D.updateData(v,i,this._linesMesh.geometry),D.__time=D.__time||0;var P=36e5;this._curveEffectsAnimator=D.animate("",{loop:!0}).when(P,{__time:P}).during(function(){D.setAnimationTime(D.__time)}).start()}else this.groupGL.remove(D),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?Kt.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,n,i){var c=e.getData(),v=e.coordinateSystem,m=this._linesMesh.geometry,b=e.get("polyline");m.expandLine=!0;var D=function gf(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}(v);m.segmentScale=D/20;var P="lineStyle.width".split("."),F=i.getDevicePixelRatio(),le=0;c.each(function(Ue){var vt=c.getItemModel(Ue).get(P);null==vt&&(vt=1),c.setItemVisual(Ue,"lineWidth",vt),le=Math.max(vt,le)}),m.useNativeLine=!1;var _e=0,Ve=0;c.each(function(Ue){var je=c.getItemLayout(Ue);b?(_e+=m.getPolylineVertexCount(je),Ve+=m.getPolylineTriangleCount(je)):(_e+=m.getCubicCurveVertexCount(je[0],je[1],je[2],je[3]),Ve+=m.getCubicCurveTriangleCount(je[0],je[1],je[2],je[3]))}),m.setVertexCount(_e),m.setTriangleCount(Ve),m.resetOffset();var Oe=[];c.each(function(Ue){var je=c.getItemLayout(Ue),vt=Us(c,Ue),wt=Ts(c,Ue),Ot=c.getItemVisual(Ue,"lineWidth")*F;null==wt&&(wt=1),(Oe=Kt.parseColor(vt,Oe))[3]*=wt,b?m.addPolyline(je,Oe,Ot):m.addCubicCurve(je[0],je[1],je[2],je[3],Oe,Ot)}),m.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function B0(e,n){for(var i=[],c=0;c<n.length;c++)i.push(e.dataToPoint(n[c]));return i}(0,gn.D$)(function C5(e){e.registerChartView(S5),e.registerSeriesModel(E7),e.registerLayout(w5),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})});var a6=gn.wJ.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var n=this.coordinateSystem,i=this.getData().getItemModel(e),c=i.option instanceof Array?i.option:i.getShallow("coords");i.get("multiPolygon")||(c=[c]);for(var v=[],m=0;m<c.length;m++){for(var b=[],D=1;D<c[m].length;D++)b.push(B0(n,c[m][D]));v.push({exterior:B0(n,c[m][0]),interiors:b})}return v},getInitialData:function(e){var n=new gn.aV(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,c,v,m){if(i instanceof Array)return NaN;n.hasItemOption=!0;var b=i.value;return null!=b?b instanceof Array?b[m]:b:void 0}),n},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});gn.D5.merge(a6.prototype,a8);const A7=a6,w8=gn.TA.extend({type:"polygons3D",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,n,i){this.groupGL.removeAll();var c=e.coordinateSystem;c&&c.viewGL&&c.viewGL.add(this.groupGL);var v=this._geo3DBuilderList[0];v||((v=new K3(i)).extrudeY="mapbox3D"!==c.type&&"maptalks3D"!==c.type,this._geo3DBuilderList[0]=v),this._updateShaderDefines(c,v),v.update(e,n,i),this._geo3DBuilderList.length=1,this.groupGL.add(v.rootNode)},incrementalPrepareRender:function(e,n,i){this.groupGL.removeAll();var c=e.coordinateSystem;c&&c.viewGL&&c.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,n,i,c){var v=this._geo3DBuilderList[this._currentStep],m=n.coordinateSystem;v||((v=new K3(c)).extrudeY="mapbox3D"!==m.type&&"maptalks3D"!==m.type,this._geo3DBuilderList[this._currentStep]=v),v.update(n,i,c,e.start,e.end),this.groupGL.add(v.rootNode),this._updateShaderDefines(m,v),this._currentStep++},_updateShaderDefines:function(e,n){var i=e.viewGL.isLinearSpace()?"define":"undefine";n.rootNode.traverse(function(c){c.material&&(c.material[i]("fragment","SRGB_DECODE"),("mapbox3D"===e.type||"maptalks3D"===e.type)&&(c.material.define("fragment","NORMAL_UP_AXIS",2),c.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});(0,gn.D$)(function mf(e){e.registerChartView(w8),e.registerSeriesModel(A7)});var yf=gn.wJ.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return B2(this,e)},getInitialData:function(e,n){var i=e.data;function c(gr){return!(isNaN(gr.min)||isNaN(gr.max)||isNaN(gr.step))}function v(gr){var ir=gn.Rx.getPrecisionSafe;return Math.max(ir(gr.min),ir(gr.max),ir(gr.step))+1}if(!i)if(e.parametric){var At=e.parametricEquation||{},sn=At.u||{},nn=At.v||{};["u","v"].forEach(function(ir){c(At[ir])}),["x","y","z"].forEach(function(ir){});var An=Math.floor((sn.max+sn.step-sn.min)/sn.step),_n=Math.floor((nn.max+nn.step-nn.min)/nn.step);i=new Float32Array(An*_n*5);for(var Jn=v(sn),yr=v(nn),Ve=0,Oe=0;Oe<_n;Oe++)for(var Ue=0;Ue<An;Ue++){var Er=Oe*nn.step+nn.min,zr=gn.Rx.round(Math.min(Ue*sn.step+sn.min,sn.max),Jn),Mr=gn.Rx.round(Math.min(Er,nn.max),yr),je=At.x(zr,Mr),vt=At.y(zr,Mr),Rt=At.z(zr,Mr);i[Ve++]=je,i[Ve++]=vt,i[Ve++]=Rt,i[Ve++]=zr,i[Ve++]=Mr}}else{var m=e.equation||{},b=m.x||{},D=m.y||{};if(["x","y"].forEach(function(gr){c(m[gr])}),"function"!=typeof m.z)return;var P=Math.floor((b.max+b.step-b.min)/b.step),F=Math.floor((D.max+D.step-D.min)/D.step);i=new Float32Array(P*F*3);var le=v(b),_e=v(D);for(Ve=0,Oe=0;Oe<F;Oe++)for(Ue=0;Ue<P;Ue++){je=Ue*b.step+b.min,vt=Oe*D.step+D.min;var wt=gn.Rx.round(Math.min(je,b.max),le),Ot=gn.Rx.round(Math.min(vt,D.max),_e);Rt=m.z(wt,Ot),i[Ve++]=wt,i[Ve++]=Ot,i[Ve++]=Rt}}var Fr=["x","y","z"];return e.parametric&&Fr.push("u","v"),uf(this,Fr,i)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});gn.D5.merge(yf.prototype,a8);const T5=yf;var k0=Do.vec3;function P7(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const Cm=gn.TA.extend({type:"surface",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node},render:function(e,n,i){var c=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=c,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var v=e.coordinateSystem,m=e.get("shading"),b=e.getData(),D="ecgl."+m;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==D)&&(this._surfaceMesh.material=Kt.createMaterial(D,["VERTEX_COLOR","DOUBLE_SIDED"])),Kt.setMaterialFromModel(m,this._surfaceMesh.material,e,i),v&&v.viewGL){v.viewGL.add(this.groupGL);var P=v.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[P]("fragment","SRGB_DECODE")}var F=e.get("parametric"),le=e.get("dataShape");le||(le=this._getDataShape(b,F));var _e=e.getModel("wireframe"),Ve=_e.get("lineStyle.width"),Oe=_e.get("show")&&Ve>0;this._updateSurfaceMesh(this._surfaceMesh,e,le,Oe);var Ue=this._surfaceMesh.material;Oe?(Ue.define("WIREFRAME_QUAD"),Ue.set("wireframeLineWidth",Ve),Ue.set("wireframeLineColor",Kt.parseColor(_e.get("lineStyle.color")))):Ue.undefine("WIREFRAME_QUAD"),this._initHandler(e,i),this._updateAnimation(e)},_updateAnimation:function(e){Kt.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new Kt.Mesh({geometry:new Kt.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new Kt.Material({shader:new Kt.Shader(Kt.Shader.source("ecgl.sm.depth.vertex"),Kt.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,Qd),e},_initHandler:function(e,n){var i=e.getData(),c=this._surfaceMesh,v=e.coordinateSystem;c.seriesIndex=e.seriesIndex;var b=-1;c.off("mousemove"),c.off("mouseout"),c.on("mousemove",function(D){var P=function m(D,P){for(var F=1/0,le=-1,_e=[],Ve=0;Ve<D.length;Ve++){c.geometry.attributes.position.get(D[Ve],_e);var Oe=k0.dist(P.array,_e);Oe<F&&(F=Oe,le=D[Ve])}return le}(D.triangle,D.point);if(P>=0){var F=[];c.geometry.attributes.position.get(P,F);for(var le=v.pointToData(F),_e=1/0,Ve=-1,Oe=[],Ue=0;Ue<i.count();Ue++){Oe[0]=i.get("x",Ue),Oe[1]=i.get("y",Ue),Oe[2]=i.get("z",Ue);var je=k0.squaredDistance(Oe,le);je<_e&&(Ve=Ue,_e=je)}Ve!==b&&n.dispatchAction({type:"grid3DShowAxisPointer",value:le}),b=Ve,c.dataIndex=Ve}else c.dataIndex=-1},this),c.on("mouseout",function(D){b=-1,c.dataIndex=-1,n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,n,i,c){var v=e.geometry,m=n.getData(),b=m.getLayout("points"),D=0;m.each(function(As){m.hasValue(As)||D++});var P=D||c,F=v.attributes.position,le=v.attributes.normal,_e=v.attributes.texcoord0,Ve=v.attributes.barycentric,Oe=v.attributes.color,Ue=i[0],je=i[1],wt="color"!==n.get("shading");if(P){var Ot=(Ue-1)*(je-1)*4;F.init(Ot),c&&Ve.init(Ot)}else F.value=new Float32Array(b);Oe.init(v.vertexCount),_e.init(v.vertexCount);var Rt=[0,3,1,1,3,2],At=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],sn=v.indices=new(v.vertexCount>65535?Uint32Array:Uint16Array)((Ue-1)*(je-1)*6),nn=function(As,Y2,Xl){Xl[1]=As*je+Y2,Xl[0]=As*je+Y2+1,Xl[3]=(As+1)*je+Y2+1,Xl[2]=(As+1)*je+Y2},An=!1;if(P){var _n=[],Jn=[],yr=0;wt?le.init(v.vertexCount):le.value=null;for(var cr=[[],[],[]],Er=[],zr=[],Mr=k0.create(),Fr=function(As,Y2,Xl){var Sf=3*Y2;return Xl[0]=As[Sf],Xl[1]=As[Sf+1],Xl[2]=As[Sf+2],Xl},qn=new Float32Array(b.length),gr=new Float32Array(b.length/3*4),ir=0;ir<m.count();ir++)if(m.hasValue(ir)){var zo=Kt.parseColor(Us(m,ir));null!=(si=Ts(m,ir))&&(zo[3]*=si),zo[3]<.99&&(An=!0);for(var Zr=0;Zr<4;Zr++)gr[4*ir+Zr]=zo[Zr]}var ta=[1e7,1e7,1e7];for(ir=0;ir<Ue-1;ir++)for(var Ai=0;Ai<je-1;Ai++){var Li=4*(ir*(je-1)+Ai);nn(ir,Ai,_n);var ia=!1;for(Zr=0;Zr<4;Zr++)Fr(b,_n[Zr],Jn),P7(Jn)&&(ia=!0);for(Zr=0;Zr<4;Zr++)ia?F.set(Li+Zr,ta):(Fr(b,_n[Zr],Jn),F.set(Li+Zr,Jn)),c&&Ve.set(Li+Zr,At[Zr]);for(Zr=0;Zr<6;Zr++)sn[yr++]=Rt[Zr]+Li;if(wt&&!ia)for(Zr=0;Zr<2;Zr++){for(var es=3*Zr,ca=0;ca<3;ca++)Fr(b,Ga=_n[Rt[es]+ca],cr[ca]);for(k0.sub(Er,cr[0],cr[1]),k0.sub(zr,cr[1],cr[2]),k0.cross(Mr,Er,zr),ca=0;ca<3;ca++){var ja=3*_n[Rt[es]+ca];qn[ja]=qn[ja]+Mr[0],qn[ja+1]=qn[ja+1]+Mr[1],qn[ja+2]=qn[ja+2]+Mr[2]}}}if(wt)for(ir=0;ir<qn.length/3;ir++)Fr(qn,ir,Mr),k0.normalize(Mr,Mr),qn[3*ir]=Mr[0],qn[3*ir+1]=Mr[1],qn[3*ir+2]=Mr[2];zo=[];var Ao=[];for(ir=0;ir<Ue-1;ir++)for(Ai=0;Ai<je-1;Ai++)for(Li=4*(ir*(je-1)+Ai),nn(ir,Ai,_n),Zr=0;Zr<4;Zr++){for(ca=0;ca<4;ca++)zo[ca]=gr[4*_n[Zr]+ca];var Ga;Oe.set(Li+Zr,zo),wt&&(Fr(qn,_n[Zr],Mr),le.set(Li+Zr,Mr)),Ao[0]=(Ga=_n[Zr])%je/(je-1),Ao[1]=Math.floor(Ga/je)/(Ue-1),_e.set(Li+Zr,Ao)}}else{for(Ao=[],ir=0;ir<m.count();ir++){var si;Ao[0]=ir%je/(je-1),Ao[1]=Math.floor(ir/je)/(Ue-1),zo=Kt.parseColor(Us(m,ir)),null!=(si=Ts(m,ir))&&(zo[3]*=si),zo[3]<.99&&(An=!0),Oe.set(ir,zo),_e.set(ir,Ao)}_n=[];var u6=0;for(ir=0;ir<Ue-1;ir++)for(Ai=0;Ai<je-1;Ai++)for(nn(ir,Ai,_n),Zr=0;Zr<6;Zr++)sn[u6++]=_n[Rt[Zr]];wt?v.generateVertexNormals():le.value=null}e.material.get("normalMap")&&v.generateTangents(),v.updateBoundingBox(),v.dirty(),e.material.transparent=An,e.material.depthMask=!An},_getDataShape:function(e,n){for(var i=-1/0,c=0,v=0,b=!1,D=n?"u":"x",P=e.count(),F=0;F<P;F++){var le=e.get(D,F);le<i&&(v=0,c++),i=le,v++}if((!c||1===v)&&(b=!0),!b)return[c+1,v];for(var _e=Math.floor(Math.sqrt(P));_e>0;){if(Math.floor(P/_e)===P/_e)return[_e,P/_e];_e--}return[_e=Math.floor(Math.sqrt(P)),_e]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function F0(e,n){for(var i=[],c=0;c<n.length;c++)i.push(e.dataToPoint(n[c]));return i}(0,gn.D$)(function Tm(e){e.registerChartView(Cm),e.registerSeriesModel(T5),e.registerLayout(function(n,i){n.eachSeriesByType("surface",function(c){var v=c.coordinateSystem,m=c.getData(),b=new Float32Array(3*m.count()),D=[NaN,NaN,NaN];if(v&&"cartesian3D"===v.type){var F=v.dimensions.map(function(le){return c.coordDimToDataDim(le)[0]});m.each(F,function(le,_e,Ve,Oe){var Ue;Ue=m.hasValue(Oe)?v.dataToPoint([le,_e,Ve]):D,b[3*Oe]=Ue[0],b[3*Oe+1]=Ue[1],b[3*Oe+2]=Ue[2]})}m.setLayout("points",b)})})});var tu=gn.wJ.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var n=this.get("coordinateSystem");null!=n&&"geo3D"!==n&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var n=gn._y.createDimensions(e.data,{coordDimensions:["value"]}),i=new gn.aV(n,this);i.initData(e.data);var c={};return i.each(function(v){var m=i.getName(v),b=i.getItemModel(v);c[m]=b}),this._regionModelMap=c,i},formatTooltip:function(e){return B2(this,e)},getRegionModel:function(e){var n=this.getData().getName(e);return this._regionModelMap[n]||new gn.Hn(null,this)},getRegionPolygonCoords:function(e){var n=this.coordinateSystem,i=this.getData().getName(e);if(n.transform)return(c=n.getRegion(i))?c.geometries:[];this._geo||(this._geo=$h.createGeo3D(this));for(var c=this._geo.getRegion(i),v=[],m=0;m<c.geometries.length;m++){var b=c.geometries[m],D=[],P=F0(n,b.exterior);if(D&&D.length)for(var F=0;F<b.interiors.length;F++)D.push(F0(n,D[F]));v.push({interiors:D,exterior:P})}return v},getFormattedLabel:function(e,n){var i=Zc.getFormattedLabel(this,e,n);return null==i&&(i=this.getData().getName(e)),i},defaultOption:{coordinateSystem:"geo3D",data:null}});gn.D5.merge(tu.prototype,Ud),gn.D5.merge(tu.prototype,Td),gn.D5.merge(tu.prototype,Qu),gn.D5.merge(tu.prototype,b0),gn.D5.merge(tu.prototype,a8);const Dm=tu,Em=gn.TA.extend({type:"map3D",__ecgl__:!0,init:function(e,n){this._geo3DBuilder=new K3(n),this.groupGL=new Kt.Node},render:function(e,n,i){var c=e.coordinateSystem;if(c&&c.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),c.viewGL.add(this.groupGL),"geo3D"===c.type){this._sceneHelper||(this._sceneHelper=new H3,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(c.viewGL.scene),this._sceneHelper.updateLight(e),c.viewGL.setPostEffect(e.getModel("postEffect"),i),c.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var m=this._control;m||(m=this._control=new Rh({zr:i.getZr()}),this._control.init());var b=e.getModel("viewControl");m.setViewGL(c.viewGL),m.setFromViewControlModel(b,0),m.off("update"),m.on("update",function(){i.dispatchAction({type:"map3DChangeCamera",alpha:m.getAlpha(),beta:m.getBeta(),distance:m.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,n,i,0,e.getData().count());var D=c.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(P){P.material&&P.material[D]("fragment","SRGB_DECODE")})}},afterRender:function(e,n,i,c){var v=c.renderer,m=e.coordinateSystem;m&&"geo3D"===m.type&&(this._sceneHelper.updateAmbientCubemap(v,e,i),this._sceneHelper.updateSkybox(v,e,i))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});(0,gn.D$)(function _f(e){jc(e),e.registerChartView(Em),e.registerSeriesModel(Dm),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(n,i){i.eachComponent({mainType:"series",subType:"map3D",query:n},function(c){c.setView(n)})})});const Mf=gn.wJ.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return gn._y.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});var D5=C(1751),L7=C(8060);function nu(e){this.viewGL=e}nu.prototype.reset=function(e,n){this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio()),this._viewTransform=D5.create(),this.updateTransform(e,n)},nu.prototype.updateTransform=function(e,n){var i=e.coordinateSystem;i.getRoamTransform&&(D5.invert(this._viewTransform,i.getRoamTransform()),this._setCameraTransform(this._viewTransform),n.getZr().refresh())},nu.prototype.dataToPoint=function(e,n,i){i=e.dataToPoint(n,null,i);var c=this._viewTransform;c&&L7.applyTransform(i,i,c)},nu.prototype.removeTransformInPoint=function(e){return this._viewTransform&&L7.applyTransform(e,e,this._viewTransform),e},nu.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},nu.prototype._setCameraTransform=function(e){var n=this.viewGL.camera;n.position.set(e[4],e[5],0),n.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},nu.prototype._updateCamera=function(e,n,i){this.viewGL.setViewport(0,0,e,n,i);var c=this.viewGL.camera;c.left=c.top=0,c.bottom=n,c.right=e,c.near=0,c.far=100};const O7=nu,E5=gn.TA.extend({type:"scatterGL",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this.viewGL=new F4("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new O7(this.viewGL)},render:function(e,n,i){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,i),e.getData().count()){var c=this._pointsBuilderList[0];c||(c=this._pointsBuilderList[0]=new V0(!0,i)),this._pointsBuilderList.length=1,this.groupGL.add(c.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),c.update(e,n,i),this.viewGL.setPostEffect(e.getModel("postEffect"),i)}},incrementalPrepareRender:function(e,n,i){this.groupGL.removeAll(),this._glViewHelper.reset(e,i),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),i)},incrementalRender:function(e,n,i,c){if(!(e.end<=e.start)){var v=this._pointsBuilderList[this._currentStep];v||(v=new V0(!0,c),this._pointsBuilderList[this._currentStep]=v),this.groupGL.add(v.rootNode),this._removeTransformInPoints(n.getData().getLayout("points")),v.setSizeScale(this._sizeScale),v.update(n,i,c,e.start,e.end),c.getZr().refresh(),this._currentStep++}},updateTransform:function(e,n,i){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,i);var c=this._glViewHelper.getZoom(),v=Math.max((e.get("zoomScale")||0)*(c-1)+1,0);this._sizeScale=v,this._pointsBuilderList.forEach(function(m){m.setSizeScale(v)})}},_removeTransformInPoints:function(e){if(e)for(var n=[],i=0;i<e.length;i+=2)n[0]=e[i],n[1]=e[i+1],this._glViewHelper.removeTransformInPoint(n),e[i]=n[0],e[i+1]=n[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});(0,gn.D$)(function z5(e){e.registerChartView(E5),e.registerSeriesModel(Mf),e.registerLayout({seriesType:"scatterGL",reset:function(n){var v,i=n.coordinateSystem,c=n.getData();if(i){var m=i.dimensions.map(function(D){return c.mapDimension(D)}).slice(0,2),b=[];1===m.length?v=function(D){for(var P=new Float32Array(2*(D.end-D.start)),F=D.start;F<D.end;F++){var le=2*(F-D.start),_e=c.get(m[0],F),Ve=i.dataToPoint(_e);P[le]=Ve[0],P[le+1]=Ve[1]}c.setLayout("points",P)}:2===m.length&&(v=function(D){for(var P=new Float32Array(2*(D.end-D.start)),F=D.start;F<D.end;F++){var le=2*(F-D.start),_e=c.get(m[0],F),Ve=c.get(m[1],F);b[0]=_e,b[1]=Ve,b=i.dataToPoint(b),P[le]=b[0],P[le+1]=b[1]}c.setLayout("points",P)})}return{progress:v}}})});var I7=C(1927);const Am=C(2959).Z;var o6=gn.wJ.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){o6.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){o6.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,n,i,c){var v=Zc.getFormattedLabel(this,e,n,i,c);if(null==v){var m=this.getData();v=m.get(m.dimensions[m.dimensions.length-1],e)}return v},getInitialData:function(e,n){var i=e.edges||e.links||[],c=e.data||e.nodes||[],v=this;if(c&&i)return function A5(e,n,i,c,v){for(var m=new I7.ZP(c),b=0;b<e.length;b++)m.addNode(Zi.firstNotNull(e[b].id,e[b].name,b),b);var D=[],P=[],F=0;for(b=0;b<n.length;b++){var le=n[b],_e=le.source,Ve=le.target;m.addEdge(_e,Ve,F)&&(P.push(le),D.push(Zi.firstNotNull(le.id,_e+" > "+Ve)),F++)}var Oe,Ue=gn._y.createDimensions(e,{coordDimensions:["value"]});(Oe=new gn.aV(Ue,i)).initData(e);var je=new gn.aV(["value"],i);return je.initData(P,D),v&&v(Oe,je),Am({mainData:Oe,struct:m,structAttr:"graph",datas:{node:Oe,edge:je},datasAttr:{node:"data",edge:"edgeData"}}),m.update(),m}(c,i,this,!0,function m(b,D){b.wrapMethod("getItemModel",function(_e){const Ue=v._categoriesModels[_e.getShallow("category")];return Ue&&(Ue.parentModel=_e.parentModel,_e.parentModel=Ue),_e});const P=n.getModel([]).getModel;function F(_e,Ve){const Oe=P.call(this,_e,Ve);return Oe.resolveParentPath=le,Oe}function le(_e){if(_e&&("label"===_e[0]||"label"===_e[1])){const Ve=_e.slice();return"label"===_e[0]?Ve[0]="edgeLabel":"label"===_e[1]&&(Ve[1]="edgeLabel"),Ve}return _e}D.wrapMethod("getItemModel",function(_e){return _e.resolveParentPath=le,_e.getModel=F,_e})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,n,i){if("edge"===i){var c=this.getData(),v=this.getDataParams(e,i),m=c.graph.getEdgeByIndex(e),b=c.getName(m.node1.dataIndex),D=c.getName(m.node2.dataIndex),P=[];return null!=b&&P.push(b),null!=D&&P.push(D),P=gn.WU.encodeHTML(P.join(" > ")),v.value&&(P+=" : "+gn.WU.encodeHTML(v.value)),P}return o6.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(i){return null!=i.value?i:Object.assign({value:0},i)}),n=new gn.aV(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i,!0)})},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var n=0;n<e.length/2;n++){var i=e[2*n],c=e[2*n+1],v=this.getData().getRawDataItem(n);v.x=i,v.y=c}},isAnimationEnabled:function(){return o6.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const R7=o6;var Es=Do.vec2,V7=[[0,0],[1,1]],H7=ha.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new ha.Attribute("position","float",2,"POSITION"),normal:new ha.Attribute("normal","float",2),offset:new ha.Attribute("offset","float",1),color:new ha.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var n=this.attributes;this.vertexCount!==e&&(n.position.init(e),n.color.init(e),this.useNativeLine||(n.offset.init(e),n.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,n,i,c){return 1/(Es.dist(e,n)+Es.dist(i,n)+Es.dist(c,i)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,n,i,c){var v=this._getCubicCurveApproxStep(e,n,i,c),m=Math.ceil(1/v);return this.useNativeLine?2*m:2*m+2},getCubicCurveTriangleCount:function(e,n,i,c){var v=this._getCubicCurveApproxStep(e,n,i,c),m=Math.ceil(1/v);return this.useNativeLine?0:2*m},getLineVertexCount:function(){return this.getPolylineVertexCount(V7)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(V7)},getPolylineVertexCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?2*(n-1):2*(n-1)+2},getPolylineTriangleCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?0:2*(n-1)},addCubicCurve:function(e,n,i,c,v,m){null==m&&(m=1);var b=e[0],D=e[1],P=n[0],F=n[1],le=i[0],_e=i[1],Ve=c[0],Oe=c[1],Ue=this._getCubicCurveApproxStep(e,n,i,c),je=Ue*Ue,vt=je*Ue,wt=3*Ue,Ot=3*je,Rt=6*je,At=6*vt,sn=b-2*P+le,nn=D-2*F+_e,An=3*(P-le)-b+Ve,_n=3*(F-_e)-D+Oe,Jn=b,yr=D,cr=(P-b)*wt+sn*Ot+An*vt,Er=(F-D)*wt+nn*Ot+_n*vt,zr=sn*Rt+An*At,Mr=nn*Rt+_n*At,Fr=An*At,qn=_n*At,gr=0,ir=0,si=Math.ceil(1/Ue),Zr=new Float32Array(3*(si+1)),ta=(Zr=[],0);for(ir=0;ir<si+1;ir++)Zr[ta++]=Jn,Zr[ta++]=yr,Jn+=cr,yr+=Er,cr+=zr,Er+=Mr,zr+=Fr,Mr+=qn,(gr+=Ue)>1&&(Jn=cr>0?Math.min(Jn,Ve):Math.max(Jn,Ve),yr=Er>0?Math.min(yr,Oe):Math.max(yr,Oe));this.addPolyline(Zr,v,m)},addLine:function(e,n,i,c){this.addPolyline([e,n],i,c)},addPolyline:function(){var e=Es.create(),n=Es.create(),i=Es.create(),c=Es.create(),v=[],m=[],b=[];return function(D,P,F,le,_e){if(D.length){var Ve="number"!=typeof D[0];if(null==_e&&(_e=Ve?D.length:D.length/2),!(_e<2)){null==le&&(le=0),null==F&&(F=1),this._itemVertexOffsets.push(this._vertexOffset);for(var At,Oe=Ve?"number"!=typeof P[0]:P.length/4===_e,Ue=this.attributes.position,je=this.attributes.color,vt=this.attributes.offset,wt=this.attributes.normal,Ot=this.indices,Rt=this._vertexOffset,sn=0;sn<_e;sn++){if(Ve)v=D[sn+le],At=Oe?P[sn+le]:P;else if((v=v||[])[0]=D[nn=2*sn+le],v[1]=D[nn+1],Oe){var An=4*sn+le;(At=At||[])[0]=P[An],At[1]=P[An+1],At[2]=P[An+2],At[3]=P[An+3]}else At=P;if(this.useNativeLine)sn>1&&(Ue.copy(Rt,Rt-1),je.copy(Rt,Rt-1),Rt++);else{var _n,nn;if(sn<_e-1)if(Ve?Es.copy(m,D[sn+1]):((m=m||[])[0]=D[nn=2*(sn+1)+le],m[1]=D[nn+1]),sn>0){Es.sub(e,v,b),Es.sub(n,m,v),Es.normalize(e,e),Es.normalize(n,n),Es.add(c,e,n),Es.normalize(c,c);var Jn=F/2*Math.min(1/Es.dot(e,c),2);i[0]=-c[1],i[1]=c[0],_n=Jn}else Es.sub(e,m,v),Es.normalize(e,e),i[0]=-e[1],i[1]=e[0],_n=F/2;else Es.sub(e,v,b),Es.normalize(e,e),i[0]=-e[1],i[1]=e[0],_n=F/2;wt.set(Rt,i),wt.set(Rt+1,i),vt.set(Rt,_n),vt.set(Rt+1,-_n),Es.copy(b,v),Ue.set(Rt,v),Ue.set(Rt+1,v),je.set(Rt,At),je.set(Rt+1,At),Rt+=2}if(this.useNativeLine)je.set(Rt,At),Ue.set(Rt,v),Rt++;else if(sn>0){var yr=3*this._faceOffset;(Ot=this.indices)[yr]=Rt-4,Ot[yr+1]=Rt-3,Ot[yr+2]=Rt-2,Ot[yr+3]=Rt-3,Ot[yr+4]=Rt-1,Ot[yr+5]=Rt-2,this._faceOffset+=2}}this._vertexOffset=Rt}}}}(),setItemColor:function(e,n){for(var c=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,v=this._itemVertexOffsets[e];v<c;v++)this.attributes.color.set(v,n);this.dirty("color")}});gn.D5.defaults(H7.prototype,P2);const P5=H7;Kt.Shader.import("@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end");var xf={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function ll(e){var n={type:Kt.Texture.FLOAT,minFilter:Kt.Texture.NEAREST,magFilter:Kt.Texture.NEAREST};this._positionSourceTex=new Kt.Texture2D(n),this._positionSourceTex.flipY=!1,this._positionTex=new Kt.Texture2D(n),this._positionPrevTex=new Kt.Texture2D(n),this._forceTex=new Kt.Texture2D(n),this._forcePrevTex=new Kt.Texture2D(n),this._weightedSumTex=new Kt.Texture2D(n),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new Kt.Texture2D(n),this._globalSpeedPrevTex=new Kt.Texture2D(n),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new Ro({fragment:Kt.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new Ro({fragment:Kt.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new Ro({fragment:Kt.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new Ro({fragment:Kt.Shader.source("clay.compositor.output")});var i=function(c){c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE)};this._edgeForceMesh=new Kt.Mesh({geometry:new Kt.Geometry({attributes:{node1:new Kt.Geometry.Attribute("node1","float",2),node2:new Kt.Geometry.Attribute("node2","float",2),weight:new Kt.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new Kt.Material({transparent:!0,shader:Kt.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:i,depthMask:!1,depthText:!1}),mode:Kt.Mesh.POINTS}),this._weightedSumMesh=new Kt.Mesh({geometry:new Kt.Geometry({attributes:{node:new Kt.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new Kt.Material({transparent:!0,shader:Kt.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:i,depthMask:!1,depthText:!1}),mode:Kt.Mesh.POINTS}),this._framebuffer=new hs({depthBuffer:!1}),this._dummyCamera=new Kt.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}ll.prototype.updateOption=function(e){for(var n in xf)this[n]=xf[n];var i=this._nodes.length;if(this.jitterTolerence=i>5e4?10:i>5e3?1:.1,this.scaling=i>100?2:10,e)for(var n in xf)null!=e[n]&&(this[n]=e[n]);if(this.repulsionByDegree)for(var c=this._positionSourceTex.pixels,v=0;v<this._nodes.length;v++)c[4*v+2]=(this._nodes[v].degree||0)+1},ll.prototype._updateGravityCenter=function(e){var n=this._nodes,i=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var c=[1/0,1/0],v=[-1/0,-1/0],m=0;m<n.length;m++)c[0]=Math.min(n[m].x,c[0]),c[1]=Math.min(n[m].y,c[1]),v[0]=Math.max(n[m].x,v[0]),v[1]=Math.max(n[m].y,v[1]);this._gravityCenter=[.5*(c[0]+v[0]),.5*(c[1]+v[1])]}for(m=0;m<i.length;m++){var b=i[m].node1,D=i[m].node2;n[b].degree=(n[b].degree||0)+1,n[D].degree=(n[D].degree||0)+1}},ll.prototype.initData=function(e,n){this._nodes=e,this._edges=n,this._updateGravityCenter();var i=Math.ceil(Math.sqrt(e.length)),c=i,v=new Float32Array(i*c*4);this._resize(i,c);for(var m=0,b=0;b<e.length;b++){var D=e[b];v[m++]=D.x||0,v[m++]=D.y||0,v[m++]=D.mass||1,v[m++]=D.size||1}this._positionSourceTex.pixels=v;var P=this._edgeForceMesh.geometry,F=n.length;P.attributes.node1.init(2*F),P.attributes.node2.init(2*F),P.attributes.weight.init(2*F);var le=[];for(b=0;b<n.length;b++){var _e=P.attributes,Ve=n[b].weight;null==Ve&&(Ve=1),_e.node1.set(b,this.getNodeUV(n[b].node1,le)),_e.node2.set(b,this.getNodeUV(n[b].node2,le)),_e.weight.set(b,Ve),_e.node1.set(b+F,this.getNodeUV(n[b].node2,le)),_e.node2.set(b+F,this.getNodeUV(n[b].node1,le)),_e.weight.set(b+F,Ve)}var Oe=this._weightedSumMesh.geometry;for(Oe.attributes.node.init(e.length),b=0;b<e.length;b++)Oe.attributes.node.set(b,this.getNodeUV(b,le));P.dirty(),Oe.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[i,c]),this._inited=!1,this._frame=0},ll.prototype.getNodes=function(){return this._nodes},ll.prototype.getEdges=function(){return this._edges},ll.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var n=this._nodeRepulsionPass;n.setUniform("strongGravityMode",this.strongGravityMode),n.setUniform("gravity",this.gravity),n.setUniform("gravityCenter",this._gravityCenter),n.setUniform("scaling",this.scaling),n.setUniform("preventOverlap",this.preventOverlap),n.setUniform("positionTex",this._positionPrevTex),n.render(e);var i=this._edgeForceMesh;i.material.set("linLogMode",this.linLogMode),i.material.set("edgeWeightInfluence",this.edgeWeightInfluence),i.material.set("preventOverlap",this.preventOverlap),i.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([i],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var c=this._weightedSumMesh;c.material.set("positionTex",this._positionPrevTex),c.material.set("forceTex",this._forceTex),c.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([c],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var v=this._globalSpeedPass;v.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),v.setUniform("weightedSumTex",this._weightedSumTex),v.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),v.render(e);var m=this._positionPass;this._framebuffer.attach(this._positionTex),m.setUniform("globalSpeedTex",this._globalSpeedTex),m.setUniform("positionTex",this._positionPrevTex),m.setUniform("forceTex",this._forceTex),m.setUniform("forcePrevTex",this._forcePrevTex),m.render(e),this._framebuffer.unbind(e),this._swapTexture()},ll.prototype.update=function(e,n,i){null==n&&(n=1),n=Math.max(n,1);for(var c=0;c<n;c++)this.step(e);i&&i()},ll.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},ll.prototype.getNodeUV=function(e,n){var i=this._positionTex.width,c=this._positionTex.height;return(n=n||[])[0]=e%i/(i-1),n[1]=Math.floor(e/i)/(c-1)||0,n},ll.prototype.getNodePosition=function(e,n){var i=this._positionArr,c=this._positionTex.width,v=this._positionTex.height,m=c*v;(!i||i.length!==4*m)&&(i=this._positionArr=new Float32Array(4*m)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,c,v,e.gl.RGBA,e.gl.FLOAT,i),this._framebuffer.unbind(e),n||(n=new Float32Array(2*this._nodes.length));for(var b=0;b<this._nodes.length;b++)n[2*b]=i[4*b],n[2*b+1]=i[4*b+1];return n},ll.prototype.getTextureData=function(e,n){var i=this["_"+n+"Tex"],c=i.width,v=i.height;this._framebuffer.bind(e),this._framebuffer.attach(i);var m=new Float32Array(c*v*4);return e.gl.readPixels(0,0,c,v,e.gl.RGBA,e.gl.FLOAT,m),this._framebuffer.unbind(e),m},ll.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},ll.prototype.isFinished=function(e){return this._frame>e},ll.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e,e=this._forcePrevTex,this._forcePrevTex=this._forceTex,this._forceTex=e,e=this._globalSpeedPrevTex,this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},ll.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},ll.prototype._resize=function(e,n){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(i){this[i].width=e,this[i].height=n,this[i].dirty()},this)},ll.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};const S8=ll;var ru=function Lm(){var e_create=function(){return new Float32Array(2)},e_dist=function(P,F){var le=F[0]-P[0],_e=F[1]-P[1];return Math.sqrt(le*le+_e*_e)},e_len=function(P){var F=P[0],le=P[1];return Math.sqrt(F*F+le*le)},e_scaleAndAdd=function(P,F,le,_e){return P[0]=F[0]+le[0]*_e,P[1]=F[1]+le[1]*_e,P},e_add=function(P,F,le){return P[0]=F[0]+le[0],P[1]=F[1]+le[1],P},e_sub=function(P,F,le){return P[0]=F[0]-le[0],P[1]=F[1]-le[1],P},e_copy=function(P,F){return P[0]=F[0],P[1]=F[1],P},e_set=function(P,F,le){return P[0]=F,P[1]=le,P};function n(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var i=n.prototype;function c(){this.position=new Float32Array(2),this.force=e_create(),this.forcePrev=e_create(),this.mass=1,this.inDegree=0,this.outDegree=0}function v(P,F){this.source=P,this.target=F,this.weight=1}function m(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new n,this.rootRegion.centerOfMass=e_create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}i.beforeUpdate=function(){for(var P=0;P<this.nSubRegions;P++)this.subRegions[P].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},i.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var P=0;P<this.nSubRegions;P++)this.subRegions[P].afterUpdate()},i.addNode=function(P){if(0===this.nSubRegions){if(null==this.node)return void(this.node=P);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(P),this._updateCenterOfMass(P)},i.findSubRegion=function(P,F){for(var le=0;le<this.nSubRegions;le++){var _e=this.subRegions[le];if(_e.contain(P,F))return _e}},i.contain=function(P,F){return this.bbox[0]<=P&&this.bbox[2]>=P&&this.bbox[1]<=F&&this.bbox[3]>=F},i.setBBox=function(P,F,le,_e){this.bbox[0]=P,this.bbox[1]=F,this.bbox[2]=le,this.bbox[3]=_e,this.size=(le-P+_e-F)/2},i._newSubRegion=function(){var P=this.subRegions[this.nSubRegions];return P||(P=new n,this.subRegions[this.nSubRegions]=P),this.nSubRegions++,P},i._addNodeToSubRegion=function(P){var F=this.findSubRegion(P.position[0],P.position[1]),le=this.bbox;if(!F){var Oe=(le[2]-le[0])/2,Ue=(le[3]-le[1])/2,je=P.position[0]>=(le[0]+le[2])/2?1:0,vt=P.position[1]>=(le[1]+le[3])/2?1:0;(F=this._newSubRegion()).setBBox(je*Oe+le[0],vt*Ue+le[1],(je+1)*Oe+le[0],(vt+1)*Ue+le[1])}F.addNode(P)},i._updateCenterOfMass=function(P){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var F=this.centerOfMass[0]*this.mass,le=this.centerOfMass[1]*this.mass;F+=P.position[0]*P.mass,le+=P.position[1]*P.mass,this.mass+=P.mass,this.centerOfMass[0]=F/this.mass,this.centerOfMass[1]=le/this.mass};var P,b=m.prototype;b.initNodes=function(P,F,le){var _e=F.length;this.nodes.length=0;for(var Ve=typeof le<"u",Oe=0;Oe<_e;Oe++){var Ue=new c;Ue.position[0]=P[2*Oe],Ue.position[1]=P[2*Oe+1],Ue.mass=F[Oe],Ve&&(Ue.size=le[Oe]),this.nodes.push(Ue)}this._massArr=F,this._swingingArr=new Float32Array(_e),Ve&&(this._sizeArr=le)},b.initEdges=function(P,F){var le=P.length/2;this.edges.length=0;for(var _e=0;_e<le;_e++){var Ue=this.nodes[P[2*_e]],je=this.nodes[P[2*_e+1]];if(!Ue||!je)return void console.error("Node not exists, try initNodes before initEdges");Ue.outDegree++,je.inDegree++;var vt=new v(Ue,je);F&&(vt.weight=F[_e]),this.edges.push(vt)}},b.updateSettings=function(){if(this.repulsionByDegree)for(var P=0;P<this.nodes.length;P++)(F=this.nodes[P]).mass=F.inDegree+F.outDegree+1;else for(P=0;P<this.nodes.length;P++){var F;(F=this.nodes[P]).mass=this._massArr[P]}},b.update=function(){var P=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var F=0;F<P;F++)this.rootRegion.addNode(this.nodes[F]);this.rootRegion.afterUpdate()}for(F=0;F<P;F++)e_copy((le=this.nodes[F]).forcePrev,le.force),e_set(le.force,0,0);for(F=0;F<P;F++){var _e=this.nodes[F];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,_e);else for(var Ve=F+1;Ve<P;Ve++)this.applyNodeToNodeRepulsion(_e,this.nodes[Ve],!1);this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(_e):this.applyNodeGravity(_e))}for(F=0;F<this.edges.length;F++)this.applyEdgeAttraction(this.edges[F]);var Ue=0,je=0,vt=e_create();for(F=0;F<P;F++)Ue+=(wt=e_dist((le=this.nodes[F]).force,le.forcePrev))*le.mass,e_add(vt,le.force,le.forcePrev),je+=.5*e_len(vt)*le.mass,this._swingingArr[F]=wt;var Rt=this.jitterTolerence*this.jitterTolerence*je/Ue;for(this._globalSpeed>0&&(Rt=Math.min(Rt/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=Rt,F=0;F<P;F++){var le=this.nodes[F],wt=this._swingingArr[F],At=.1*Rt/(1+Rt*Math.sqrt(wt)),sn=e_len(le.force);sn>0&&(At=Math.min(sn*At,10)/sn,e_scaleAndAdd(le.position,le.position,le.force,At))}},b.applyRegionToNodeRepulsion=(P=e_create(),function(le,_e){if(le.node)this.applyNodeToNodeRepulsion(le.node,_e,!0);else{e_sub(P,_e.position,le.centerOfMass);var Ve=P[0]*P[0]+P[1]*P[1];if(Ve>this.barnesHutTheta*le.size*le.size)e_scaleAndAdd(_e.force,_e.force,P,this.scaling*_e.mass*le.mass/Ve);else for(var Ue=0;Ue<le.nSubRegions;Ue++)this.applyRegionToNodeRepulsion(le.subRegions[Ue],_e)}}),b.applyNodeToNodeRepulsion=function(){var P=e_create();return function(le,_e,Ve){if(le!=_e){e_sub(P,le.position,_e.position);var Oe=P[0]*P[0]+P[1]*P[1];if(0!==Oe){var Ue;if(this.preventOverlap){var je=Math.sqrt(Oe);if((je=je-le.size-_e.size)>0)Ue=this.scaling*le.mass*_e.mass/(je*je);else{if(!(je<0))return;Ue=100*this.scaling*le.mass*_e.mass}}else Ue=this.scaling*le.mass*_e.mass/Oe;e_scaleAndAdd(le.force,le.force,P,Ue),e_scaleAndAdd(_e.force,_e.force,P,-Ue)}}}}(),b.applyEdgeAttraction=function(){var P=e_create();return function(le){var _e=le.source,Ve=le.target;e_sub(P,_e.position,Ve.position);var Ue,je,Oe=e_len(P);Ue=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?le.weight:Math.pow(le.weight,this.edgeWeightInfluence),this.preventOverlap&&(Oe=Oe-_e.size-Ve.size)<=0||(je=this.linLogMode?-Ue*Math.log(Oe+1)/(Oe+1):-Ue,e_scaleAndAdd(_e.force,_e.force,P,je),e_scaleAndAdd(Ve.force,Ve.force,P,-je))}}(),b.applyNodeGravity=function(){var P=e_create();return function(F){e_sub(P,this.gravityCenter,F.position);var le=e_len(P);e_scaleAndAdd(F.force,F.force,P,this.gravity*F.mass/(le+1))}}(),b.applyNodeStrongGravity=function(){var P=e_create();return function(F){e_sub(P,this.gravityCenter,F.position),e_scaleAndAdd(F.force,F.force,P,this.gravity*F.mass)}}(),b.updateBBox=function(){for(var P=1/0,F=1/0,le=-1/0,_e=-1/0,Ve=0;Ve<this.nodes.length;Ve++){var Oe=this.nodes[Ve].position;P=Math.min(P,Oe[0]),F=Math.min(F,Oe[1]),le=Math.max(le,Oe[0]),_e=Math.max(_e,Oe[1])}this.bbox[0]=P,this.bbox[1]=F,this.bbox[2]=le,this.bbox[3]=_e},b.getGlobalSpeed=function(){return this._globalSpeed};var D=null;self.onmessage=function(P){switch(P.data.cmd){case"init":(D=new m).initNodes(P.data.nodesPosition,P.data.nodesMass,P.data.nodesSize),D.initEdges(P.data.edges,P.data.edgesWeight);break;case"updateConfig":if(D)for(var F in P.data.config)D[F]=P.data.config[F];break;case"update":var le=P.data.steps;if(D){for(var _e=0;_e<le;_e++)D.update();var Ve=D.nodes.length,Oe=new Float32Array(2*Ve);for(_e=0;_e<Ve;_e++){var Ue=D.nodes[_e];Oe[2*_e]=Ue.position[0],Oe[2*_e+1]=Ue.position[1]}self.postMessage({buffer:Oe.buffer,globalSpeed:D.getGlobalSpeed()},[Oe.buffer])}else{var je=new Float32Array;self.postMessage({buffer:je.buffer,globalSpeed:D.getGlobalSpeed()},[je.buffer])}}}}.toString();ru=ru.slice(ru.indexOf("{")+1,ru.lastIndexOf("}"));var xl={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},zs=function(e){for(var n in xl)this[n]=xl[n];if(e)for(var n in e)this[n]=e[n];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Wi({type:ri.FLOAT,flipY:!1,minFilter:ri.NEAREST,magFilter:ri.NEAREST})};zs.prototype.initData=function(e,n){var i=new Blob([ru]),c=window.URL.createObjectURL(i);this._worker=new Worker(c),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=n,this._frame=0;for(var v=e.length,m=n.length,b=new Float32Array(2*v),D=new Float32Array(v),P=new Float32Array(v),F=new Float32Array(2*m),le=new Float32Array(m),_e=0;_e<e.length;_e++){var Ve=e[_e];b[2*_e]=Ve.x,b[2*_e+1]=Ve.y,D[_e]=null==Ve.mass?1:Ve.mass,P[_e]=null==Ve.size?1:Ve.size}for(_e=0;_e<n.length;_e++){var Oe=n[_e],je=Oe.node2;F[2*_e]=Oe.node1,F[2*_e+1]=je,le[_e]=null==Oe.weight?1:Oe.weight}var vt=Math.ceil(Math.sqrt(e.length)),wt=vt,Ot=new Float32Array(vt*wt*4),Rt=this._positionTex;Rt.width=vt,Rt.height=wt,Rt.pixels=Ot,this._worker.postMessage({cmd:"init",nodesPosition:b,nodesMass:D,nodesSize:P,edges:F,edgesWeight:le}),this._globalSpeed=1/0},zs.prototype.updateOption=function(e){var n={};for(var i in xl)n[i]=xl[i];var c=this._nodes,v=this._edges,m=c.length;if(n.jitterTolerence=m>5e4?10:m>5e3?1:.1,n.scaling=m>100?2:10,n.barnesHutOptimize=m>1e3,e)for(var i in xl)null!=e[i]&&(n[i]=e[i]);if(!n.gravityCenter){for(var b=[1/0,1/0],D=[-1/0,-1/0],P=0;P<c.length;P++)b[0]=Math.min(c[P].x,b[0]),b[1]=Math.min(c[P].y,b[1]),D[0]=Math.max(c[P].x,D[0]),D[1]=Math.max(c[P].y,D[1]);n.gravityCenter=[.5*(b[0]+D[0]),.5*(b[1]+D[1])]}for(P=0;P<v.length;P++){var F=v[P].node1,le=v[P].node2;c[F].degree=(c[F].degree||0)+1,c[le].degree=(c[le].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:n})},zs.prototype.update=function(e,n,i){null==n&&(n=1),n=Math.max(n,1),this._frame+=n,this._onupdate=i,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(n)})},zs.prototype._$onupdate=function(e){if(!this._disposed){var n=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=n,this._updateTexture(n),this._onupdate&&this._onupdate()}},zs.prototype.getNodePositionTexture=function(){return this._positionTex},zs.prototype.getNodeUV=function(e,n){var i=this._positionTex.width,c=this._positionTex.height;return(n=n||[])[0]=e%i/(i-1),n[1]=Math.floor(e/i)/(c-1),n},zs.prototype.getNodes=function(){return this._nodes},zs.prototype.getEdges=function(){return this._edges},zs.prototype.isFinished=function(e){return this._frame>e},zs.prototype.getNodePosition=function(e,n){if(n||(n=new Float32Array(2*this._nodes.length)),this._positionArr)for(var i=0;i<this._positionArr.length;i++)n[i]=this._positionArr[i];return n},zs.prototype._updateTexture=function(e){for(var n=this._positionTex.pixels,i=0,c=0;c<e.length;)n[i++]=e[c++],n[i++]=e[c++],n[i++]=1,n[i++]=1;this._positionTex.dirty()},zs.prototype.dispose=function(e){this._disposed=!0,this._worker=null};const s6=zs;var N7=as.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,n=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(n,n,n),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var n=e.offsetX,i=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,i)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var c=this._convertPos(n,i);this._x=c.x,this._y=c.y}}},_convertPos:function(e,n){var i=this.viewGL.camera,c=this.viewGL.viewport;return{x:(e-c.x)/c.width*(i.right-i.left)+i.left,y:(n-c.y)/c.height*(i.bottom-i.top)+i.top}},_mouseMoveHandler:function(e){var n=this._convertPos(e.offsetX,e.offsetY);this._dx+=n.x-this._x,this._dy+=n.y-this._y,this._x=n.x,this._y=n.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){var n=(e=e.event).wheelDelta||-e.detail;if(0!==n){var i=e.offsetX,c=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(i,c)){var v=n>0?1.1:.9,m=Math.max(Math.min(this._zoom*v,this.maxZoom),this.minZoom);v=m/this._zoom;var b=this._convertPos(i,c),P=(b.y-this._dy)*(v-1);this._dx-=(b.x-this._dx)*(v-1),this._dy-=P,this._zoom=m,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const l6=N7;var U0=Do.vec2;Kt.Shader.import("@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end");var O5=1;const C8=gn.TA.extend({type:"graphGL",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this.viewGL=new F4("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new V0(!0,n),this._forceEdgesMesh=new Kt.Mesh({material:new Kt.Material({shader:Kt.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new Kt.Geometry({attributes:{node:new Kt.Geometry.Attribute("node","float",2),color:new Kt.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:Kt.Mesh.LINES}),this._edgesMesh=new Kt.Mesh({material:new Kt.Material({shader:Kt.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new P5({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new l6({zr:n.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,n,i){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=i,this._initLayout(e,n,i),this._pointsBuilder.update(e,n,i),this._forceLayoutInstance instanceof S8||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,i),this._control.off("update"),this._control.on("update",function(){i.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(Zi.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var c=this._pointsBuilder.getPointsMesh();if(c.off("mousemove",this._mousemoveHandler),c.off("mouseout",this._mouseOutHandler,this),i.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var v=e.get("focusNodeAdjacencyOn");"click"===v?i.getZr().on("click",this._clickHandler):"mouseover"===v&&(c.on("mousemove",this._mousemoveHandler,this),c.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var n=this._pointsBuilder.getPointsMesh().dataIndex;this._api.dispatchAction(n>=0?{type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:n}:{type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var n=this._pointsBuilder.getPointsMesh().dataIndex;n>=0?n!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:n}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=n}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,n){var i=this._forceEdgesMesh.geometry,c=n.getEdgeData(),v=0,m=this._forceLayoutInstance,b=2*c.count();i.attributes.node.init(b),i.attributes.color.init(b),c.each(function(D){var P=e[D];i.attributes.node.set(v,m.getNodeUV(P.node1)),i.attributes.node.set(v+1,m.getNodeUV(P.node2));var F=Us(c,P.dataIndex),le=Kt.parseColor(F);le[3]*=Zi.firstNotNull(Ts(c,P.dataIndex),1),i.attributes.color.set(v,le),i.attributes.color.set(v+1,le),v+=2}),i.dirty()},_updateMeshLinesGeometry:function(){var n=this._model.getEdgeData(),e=this._edgesMesh.geometry,i=(n=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(n.count()*e.getLineVertexCount()),e.setTriangleCount(n.count()*e.getLineTriangleCount());var c=[],v=[],m=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*n.count()),this._edgeIndicesMap=new Float32Array(n.count()),n.each(function(b){var D=n.graph.getEdgeByIndex(b),P=2*D.node1.dataIndex,F=2*D.node2.dataIndex;c[0]=i[P],c[1]=i[P+1],v[0]=i[F],v[1]=i[F+1];var le=Us(n,D.dataIndex),_e=Kt.parseColor(le);_e[3]*=Zi.firstNotNull(Ts(n,D.dataIndex),1);var Ve=n.getItemModel(D.dataIndex),Oe=Zi.firstNotNull(Ve.get(m),1)*this._api.getDevicePixelRatio();e.addLine(c,v,_e,Oe);for(var Ue=0;Ue<4;Ue++)this._originalEdgeColors[4*D.dataIndex+Ue]=_e[Ue];this._edgeIndicesMap[D.dataIndex]=b},this),e.dirty()},_updateForceNodesGeometry:function(e){for(var n=this._pointsBuilder.getPointsMesh(),i=[],c=0;c<e.count();c++)this._forceLayoutInstance.getNodeUV(c,i),n.geometry.attributes.position.set(c,i);n.geometry.dirty("position")},_initLayout:function(e,n,i){var c=e.get("layout"),v=e.getGraph(),m=e.getBoxLayoutParams(),b=(0,Yi.ME)(m,{width:i.getWidth(),height:i.getHeight()});"force"===c&&(c="forceAtlas2"),this.stopLayout(e,n,i,{beforeLayout:!0});var D=e.getData(),P=e.getData();if("forceAtlas2"===c){var F=e.getModel("forceAtlas2"),le=this._forceLayoutInstance,_e=[],Ve=[],Oe=D.getDataExtent("value"),Ue=P.getDataExtent("value"),je=Zi.firstNotNull(F.get("edgeWeight"),1),vt=Zi.firstNotNull(F.get("nodeWeight"),1);"number"==typeof je&&(je=[je,je]),"number"==typeof vt&&(vt=[vt,vt]);var wt=0,Ot={},Rt=new Float32Array(2*D.count());if(v.eachNode(function(sn){var _n,Jn,nn=sn.dataIndex,An=D.get("value",nn);if(D.hasItemOption){var yr=D.getItemModel(nn);_n=yr.get("x"),Jn=yr.get("y")}null==_n&&(_n=b.x+Math.random()*b.width,Jn=b.y+Math.random()*b.height),Rt[2*wt]=_n,Rt[2*wt+1]=Jn,Ot[sn.id]=wt++;var cr=gn.Rx.linearMap(An,Oe,vt);isNaN(cr)&&(cr=isNaN(vt[0])?1:vt[0]),_e.push({x:_n,y:Jn,mass:cr,size:D.getItemVisual(nn,"symbolSize")})}),D.setLayout("points",Rt),v.eachEdge(function(sn){var nn=sn.dataIndex,An=D.get("value",nn),_n=gn.Rx.linearMap(An,Ue,je);isNaN(_n)&&(_n=isNaN(je[0])?1:je[0]),Ve.push({node1:Ot[sn.node1.id],node2:Ot[sn.node2.id],weight:_n,dataIndex:nn})}),!le){var At=F.get("GPU");this._forceLayoutInstance&&(At&&!(this._forceLayoutInstance instanceof S8)||!At&&!(this._forceLayoutInstance instanceof s6))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),le=this._forceLayoutInstance=At?new S8:new s6}le.initData(_e,Ve),le.updateOption(F.option),this._updateForceEdgesGeometry(le.getEdges(),e),this._updatePositionTexture(),i.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else Rt=new Float32Array(2*D.count()),wt=0,v.eachNode(function(An){var Jn,yr;if(D.hasItemOption){var cr=D.getItemModel(An.dataIndex);Jn=cr.get("x"),yr=cr.get("y")}Rt[wt++]=Jn,Rt[wt++]=yr}),D.setLayout("points",Rt),this._updateAfterLayout(e,n,i)},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,n,m,c){if(!c||null==c.from||c.from===this.uid){var v=this.viewGL,b=(m=this._api,this._forceLayoutInstance),D=this._model.getData(),P=this._model.getModel("forceAtlas2");if(b&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var F=this,le=this._layoutId=O5++,_e=P.getShallow("maxSteps"),Ve=P.getShallow("steps"),Oe=0,Ue=Math.max(2*Ve,20),je=function(vt){if(vt===F._layoutId){if(b.isFinished(_e))return m.dispatchAction({type:"graphGLStopLayout",from:F.uid}),void m.dispatchAction({type:"graphGLFinishLayout",points:D.getLayout("points"),from:F.uid});b.update(v.layer.renderer,Ve,function(){F._updatePositionTexture(),(Oe+=Ve)>=Ue&&(F._syncNodePosition(e),Oe=0),m.getZr().refresh(),(0,bd.Z)(function(){je(vt)})})}};(0,bd.Z)(function(){F._forceLayoutInstanceToDispose&&(F._forceLayoutInstanceToDispose.dispose(v.layer.renderer),F._forceLayoutInstanceToDispose=null),je(le)}),this._layouting=!0}}},stopLayout:function(e,n,i,c){c&&null!=c.from&&c.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(c&&c.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,n,i)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var n=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",n),e.setNodePosition(n)},_updateAfterLayout:function(e,n,i){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,n,i),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,n,i,c){var v=this._model.getData();this._downplayAll();var D=[],P=v.graph.getNodeByIndex(c.dataIndex);D.push(P),P.edges.forEach(function(le){le.dataIndex<0||(le.node1!==P&&D.push(le.node1),le.node2!==P&&D.push(le.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),D.forEach(function(le){this._pointsBuilder.highlight(v,le.dataIndex)},this),this._pointsBuilder.updateLabels(D.map(function(le){return le.dataIndex}));var F=[];P.edges.forEach(function(le){le.dataIndex>=0&&(this._highlightEdge(le.dataIndex),F.push(le))},this),this._focusNodes=D,this._focusEdges=F},unfocusNodeAdjacency:function(e,n,i,c){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var n=this._model.getEdgeData().getItemModel(e),i=Kt.parseColor(n.get("emphasis.lineStyle.color")||n.get("lineStyle.color")),c=Zi.firstNotNull(n.get("emphasis.lineStyle.opacity"),n.get("lineStyle.opacity"),1);i[3]*=c,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],i)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var n=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_setEdgeFade:function(){var e=[];return function(n,i){this._getColor(n,e),e[3]*=i,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[n],e)}}(),_getColor:function(e,n){for(var i=0;i<4;i++)n[i]=this._originalEdgeColors[4*e+i];return n},_fadeOutEdgesAll:function(e){this._model.getData().graph.eachEdge(function(i){this._setEdgeFade(i.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,n){this.viewGL.setViewport(0,0,n.getWidth(),n.getHeight(),n.getDevicePixelRatio());for(var i=this.viewGL.camera,v=e.getData().getLayout("points"),m=U0.create(1/0,1/0),b=U0.create(-1/0,-1/0),D=[],P=0;P<v.length;)D[0]=v[P++],D[1]=v[P++],U0.min(m,m,D),U0.max(b,b,D);var F=(b[1]+m[1])/2,le=(b[0]+m[0])/2;if(!(le>i.left&&le<i.right&&F<i.bottom&&F>i.top)){var _e=Math.max(b[0]-m[0],10),Ve=_e/n.getWidth()*n.getHeight();Ve*=1.4,m[0]-=.2*(_e*=1.4),i.left=m[0],i.top=F-Ve/2,i.bottom=F+Ve/2,i.right=_e+m[0],i.near=0,i.far=100}},dispose:function(){this._forceLayoutInstance&&this._forceLayoutInstance.dispose(this.viewGL.layer.renderer),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function T8(e){return e instanceof Array||(e=[e,e]),e}(0,gn.D$)(function D8(e){function n(){}e.registerChartView(C8),e.registerSeriesModel(R7),e.registerVisual(function(i){const c={};i.eachSeriesByType("graphGL",function(v){var m=v.getCategoriesData(),b=v.getData(),D={};m.each(function(P){var F=m.getName(P);D["ec-"+F]=P;var le=m.getItemModel(P),_e=le.getModel("itemStyle").getItemStyle();_e.fill||(_e.fill=v.getColorFromPalette(F,c)),m.setItemVisual(P,"style",_e);var Ve=["symbol","symbolSize","symbolKeepAspect"];for(let Ue=0;Ue<Ve.length;Ue++){var Oe=le.getShallow(Ve[Ue],!0);null!=Oe&&m.setItemVisual(P,Ve[Ue],Oe)}}),m.count()&&b.each(function(P){let le=b.getItemModel(P).getShallow("category");if(null!=le){"string"==typeof le&&(le=D["ec-"+le]);var _e=m.getItemVisual(le,"style"),Ve=b.ensureUniqueItemVisual(P,"style");gn.D5.extend(Ve,_e);var Oe=["symbol","symbolSize","symbolKeepAspect"];for(let Ue=0;Ue<Oe.length;Ue++)b.setItemVisual(P,Oe[Ue],m.getItemVisual(le,Oe[Ue]))}})})}),e.registerVisual(function(i){i.eachSeriesByType("graphGL",function(c){var v=c.getGraph(),m=c.getEdgeData(),b=T8(c.get("edgeSymbol")),D=T8(c.get("edgeSymbolSize"));m.setVisual("drawType","stroke"),m.setVisual("fromSymbol",b&&b[0]),m.setVisual("toSymbol",b&&b[1]),m.setVisual("fromSymbolSize",D&&D[0]),m.setVisual("toSymbolSize",D&&D[1]),m.setVisual("style",c.getModel("lineStyle").getLineStyle()),m.each(function(P){var F=m.getItemModel(P),le=v.getEdgeByIndex(P),_e=T8(F.getShallow("symbol",!0)),Ve=T8(F.getShallow("symbolSize",!0)),Oe=F.getModel("lineStyle").getLineStyle(),Ue=m.ensureUniqueItemVisual(P,"style");switch(gn.D5.extend(Ue,Oe),Ue.stroke){case"source":var je=le.node1.getVisual("style");Ue.stroke=je&&je.fill;break;case"target":je=le.node2.getVisual("style"),Ue.stroke=je&&je.fill}_e[0]&&le.setVisual("fromSymbol",_e[0]),_e[1]&&le.setVisual("toSymbol",_e[1]),Ve[0]&&le.setVisual("fromSymbolSize",Ve[0]),Ve[1]&&le.setVisual("toSymbolSize",Ve[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(i,c){c.eachComponent({mainType:"series",query:i},function(v){v.setView(i)})}),e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},n),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},n),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},n),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},n)});const Om=gn.wJ.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,n){var i=this.get("coordinateSystem"),c="geo"===i?["lng","lat"]:gn.wL(i)||["x","y"];c.push("vx","vy");var v=gn._y.createDimensions(this.getSource(),{coordDimensions:c,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),m=new gn.aV(v,this);return m.initData(this.getSource()),m},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var $c=ha.extend(function(){return{dynamic:!0,attributes:{position:new ha.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var i=4*e,c=2*e;this.vertexCount!==i&&this.attributes.position.init(i),this.triangleCount!==c&&(this.indices=0===c?null:this.vertexCount>65535?new Uint32Array(3*c):new Uint16Array(3*c))},addLine:function(e){var n=this._vertexOffset;this.attributes.position.set(n,[e[0],e[1],1]),this.attributes.position.set(n+1,[e[0],e[1],-1]),this.attributes.position.set(n+2,[e[0],e[1],2]),this.attributes.position.set(n+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[n,n+1,n+2]),this.setTriangleIndices(this._faceOffset++,[n+1,n+2,n+3]),this._vertexOffset+=4}});const I5=$c;ti.import("@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n");var bf=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Wi({type:ri.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};bf.prototype={constructor:bf,init:function(){var e={type:ri.FLOAT,minFilter:ri.NEAREST,magFilter:ri.NEAREST,useMipmap:!1};this._spawnTexture=new Wi(e),this._particleTexture0=new Wi(e),this._particleTexture1=new Wi(e),this._frameBuffer=new hs({depthBuffer:!1}),this._particlePass=new Ro({fragment:ti.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new Ro({fragment:ti.source("clay.compositor.downsample")});var n=new H1({renderOrder:10,material:new yl({shader:new ti(ti.source("ecgl.vfParticle.renderPoints.vertex"),ti.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:H1.POINTS,geometry:new ha({dynamic:!0,mainAttribute:"texcoord0"})}),i=new H1({renderOrder:10,material:new yl({shader:new ti(ti.source("ecgl.vfParticle.renderLines.vertex"),ti.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new I5,culling:!1}),c=new H1({material:new yl({shader:new ti(ti.source("ecgl.color.vertex"),ti.source("ecgl.color.fragment"))}),geometry:new P4});c.material.enableTexture("diffuseMap"),this._particlePointsMesh=n,this._particleLinesMesh=i,this._lastFrameFullQuadMesh=c,this._camera=new Vc,this._thisFrameTexture=new Wi,this._lastFrameTexture=new Wi},setParticleDensity:function(e,n){for(var c=new Float32Array(e*n*4),v=0,m=this.particleLife,b=0;b<e;b++)for(var D=0;D<n;D++,v++){c[4*v]=Math.random(),c[4*v+1]=Math.random(),c[4*v+2]=Math.random();var P=(m[1]-m[0])*Math.random()+m[0];c[4*v+3]=P}"line"===this._particleType?this._setLineGeometry(e,n):this._setPointsGeometry(e,n),this._spawnTexture.width=e,this._spawnTexture.height=n,this._spawnTexture.pixels=c,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=n,this._particlePass.setUniform("textureSize",[e,n])},_setPointsGeometry:function(e,n){var c=this._particlePointsMesh.geometry,v=c.attributes;v.texcoord0.init(e*n);for(var m=0,b=0;b<e;b++)for(var D=0;D<n;D++,m++)v.texcoord0.value[2*m]=b/e,v.texcoord0.value[2*m+1]=D/n;c.dirty()},_setLineGeometry:function(e,n){var i=e*n,c=this._getParticleMesh().geometry;c.setLineCount(i),c.resetOffset();for(var v=0;v<e;v++)for(var m=0;m<n;m++)c.addLine([v/e,m/n]);c.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,n,i,c){var v=this._getParticleMesh(),m=this._frameBuffer,b=this._particlePass;c&&this._updateDownsampleTextures(e,n),v.material.set("size",this._particleSize*this._supersampling),v.material.set("color",this.particleColor),b.setUniform("speedScaling",this.particleSpeedScaling),m.attach(this._particleTexture1),b.setUniform("firstFrameTime",c?(this.particleLife[1]+this.particleLife[0])/2:0),b.setUniform("particleTexture",this._particleTexture0),b.setUniform("deltaTime",i),b.setUniform("elapsedTime",this._elapsedTime),b.render(e,m),v.material.set("particleTexture",this._particleTexture1),v.material.set("prevParticleTexture",this._particleTexture0),m.attach(this._thisFrameTexture),m.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var D=this._lastFrameFullQuadMesh;D.material.set("diffuseMap",this._lastFrameTexture),D.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([D,v],this._camera),m.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=i},_downsample:function(e){var n=this._downsampleTextures;if(0!==n.length)for(var i=0,c=this._thisFrameTexture,v=n[i];v;)this._frameBuffer.attach(v),this._downsamplePass.setUniform("texture",c),this._downsamplePass.setUniform("textureSize",[c.width,c.height]),this._downsamplePass.render(e,this._frameBuffer),c=v,v=n[++i]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,n){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=n*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=n*this._supersampling,this._width=e,this._height=n},setParticleSize:function(e){var n=this._getParticleMesh();if(e<=2)return n.material.disableTexture("spriteTexture"),void(n.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new Wi),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=function k7(e){var n=document.createElement("canvas");n.width=n.height=e;var i=n.getContext("2d");return i.fillStyle="#fff",i.arc(e/2,e/2,e/2,0,2*Math.PI),i.fill(),n}(e),this._spriteTexture.dirty()),n.material.transparent=!0,n.material.enableTexture("spriteTexture"),n.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var n=this._getParticleMesh().material;n[e?"enableTexture":"disableTexture"]("gradientTexture"),n.setUniform("gradientTexture",e)},setColorTextureImage:function(e,n){this._getParticleMesh().material.setTextureImage("colorTexture",e,n,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var n=this._frameBuffer;n.attach(this._lastFrameTexture),n.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),n.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,n){for(var i=this._downsampleTextures,c=Math.max(Math.floor(Math.log(this._supersampling/n.getDevicePixelRatio())/Math.log(2)),0),v=2,m=this._width*this._supersampling,b=this._height*this._supersampling,D=0;D<c;D++)i[D]=i[D]||new Wi,i[D].width=m/v,i[D].height=b/v,v*=2;for(;D<i.length;D++)i[D].dispose(e);i.length=c},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e,e=this._thisFrameTexture,this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(n){n.dispose(e)})}};const R5=bf,Im=gn.TA.extend({type:"flowGL",__ecgl__:!0,init:function(e,n){this.viewGL=new F4("orthographic"),this.groupGL=new Kt.Node,this.viewGL.add(this.groupGL),this._particleSurface=new R5;var i=new Kt.Mesh({geometry:new Kt.PlaneGeometry,material:new Kt.Material({shader:new Kt.Shader({vertex:Kt.Shader.source("ecgl.color.vertex"),fragment:Kt.Shader.source("ecgl.color.fragment")}),transparent:!0})});i.material.enableTexture("diffuseMap"),this.groupGL.add(i),this._planeMesh=i},render:function(e,n,i){var c=this._particleSurface;c.setParticleType(e.get("particleType")),c.setSupersampling(e.get("supersampling")),this._updateData(e,i),this._updateCamera(i.getWidth(),i.getHeight(),i.getDevicePixelRatio());var v=Zi.firstNotNull(e.get("particleDensity"),128);c.setParticleDensity(v,v);var m=this._planeMesh,b=+new Date,D=this,P=!0;m.__percent=0,m.stopAnimation(),m.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var Ve=Math.min(+new Date-b,20);b+=Ve,D._renderer&&(c.update(D._renderer,i,Ve/1e3,P),m.material.set("diffuseMap",c.getSurfaceTexture())),P=!1}).start();var F=e.getModel("itemStyle"),le=Kt.parseColor(F.get("color"));le[3]*=Zi.firstNotNull(F.get("opacity"),1),m.material.set("color",le),c.setColorTextureImage(e.get("colorTexture"),i),c.setParticleSize(e.get("particleSize")),c.particleSpeedScaling=e.get("particleSpeed"),c.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,n,i){this._updateData(e,i)},afterRender:function(e,n,i,c){this._renderer=c.renderer},_updateData:function(e,n){var i=e.coordinateSystem,c=i.dimensions.map(function(Ot){return e.coordDimToDataDim(Ot)[0]}),v=e.getData(),m=v.getDataExtent(c[0]),b=v.getDataExtent(c[1]),D=e.get("gridWidth"),P=e.get("gridHeight");null!=D&&"auto"!==D||(D=Math.round(Math.sqrt((m[1]-m[0])/(b[1]-b[0])*v.count()))),(null==P||"auto"===P)&&(P=Math.ceil(v.count()/D));var le=this._particleSurface.vectorFieldTexture,_e=le.pixels;if(_e&&_e.length===P*D*4)for(var Ve=0;Ve<_e.length;Ve++)_e[Ve]=0;else _e=le.pixels=new Float32Array(D*P*4);var Oe=0,Ue=1/0,je=new Float32Array(2*v.count()),vt=0,wt=[[1/0,1/0],[-1/0,-1/0]];v.each([c[0],c[1],"vx","vy"],function(Ot,Rt,At,sn){var nn=i.dataToPoint([Ot,Rt]);je[vt++]=nn[0],je[vt++]=nn[1],wt[0][0]=Math.min(nn[0],wt[0][0]),wt[0][1]=Math.min(nn[1],wt[0][1]),wt[1][0]=Math.max(nn[0],wt[1][0]),wt[1][1]=Math.max(nn[1],wt[1][1]);var An=Math.sqrt(At*At+sn*sn);Oe=Math.max(Oe,An),Ue=Math.min(Ue,An)}),v.each(["vx","vy"],function(Ot,Rt,At){var sn=Math.round((je[2*At]-wt[0][0])/(wt[1][0]-wt[0][0])*(D-1)),An=4*((P-1-Math.round((je[2*At+1]-wt[0][1])/(wt[1][1]-wt[0][1])*(P-1)))*D+sn);_e[An]=Ot/Oe*.5+.5,_e[An+1]=Rt/Oe*.5+.5,_e[An+3]=1}),le.width=D,le.height=P,"bmap"===e.get("coordinateSystem")&&this._fillEmptyPixels(le),le.dirty(),this._updatePlanePosition(wt[0],wt[1],e,n),this._updateGradientTexture(v.getVisual("visualMeta"),[Ue,Oe])},_fillEmptyPixels:function(e){var n=e.pixels,i=e.width,c=e.height;function v(je,vt,wt){je=Math.max(Math.min(je,i-1),0);var Ot=4*((vt=Math.max(Math.min(vt,c-1),0))*(i-1)+je);return 0!==n[Ot+3]&&(wt[0]=n[Ot],wt[1]=n[Ot+1],!0)}function m(je,vt,wt){wt[0]=je[0]+vt[0],wt[1]=je[1]+vt[1]}for(var b=[],D=[],P=[],F=[],le=[],_e=0,Ve=0;Ve<c;Ve++)for(var Oe=0;Oe<i;Oe++){var Ue=4*(Ve*(i-1)+Oe);0===n[Ue+3]&&(_e=b[0]=b[1]=0,v(Oe-1,Ve,D)&&(_e++,m(D,b,b)),v(Oe+1,Ve,P)&&(_e++,m(P,b,b)),v(Oe,Ve-1,F)&&(_e++,m(F,b,b)),v(Oe,Ve+1,le)&&(_e++,m(le,b,b)),b[0]/=_e,b[1]/=_e,n[Ue]=b[0],n[Ue+1]=b[1]),n[Ue+3]=1}},_updateGradientTexture:function(e,n){if(e&&e.length){this._gradientTexture=this._gradientTexture||new Kt.Texture2D({image:document.createElement("canvas")});var i=this._gradientTexture,c=i.image;c.width=200,c.height=1;var v=c.getContext("2d"),m=v.createLinearGradient(0,.5,c.width,.5);e[0].stops.forEach(function(b){var D;n[1]===n[0]?D=0:(D=b.value/n[1],D=Math.min(Math.max(D,0),1)),m.addColorStop(D,b.color)}),v.fillStyle=m,v.fillRect(0,0,c.width,c.height),i.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,n,i,c){var v=this._limitInViewportAndFullFill(e,n,i,c);e=v.leftTop,n=v.rightBottom,this._particleSurface.setRegion(v.region),this._planeMesh.position.set((e[0]+n[0])/2,c.getHeight()-(e[1]+n[1])/2,0);var m=n[0]-e[0],b=n[1]-e[1];this._planeMesh.scale.set(m/2,b/2,1),this._particleSurface.resize(Math.max(Math.min(m,2048),1),Math.max(Math.min(b,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,n,i,c){var v=[Math.max(e[0],0),Math.max(e[1],0)],m=[Math.min(n[0],c.getWidth()),Math.min(n[1],c.getHeight())];if("bmap"===i.get("coordinateSystem")){var b=i.getData().getDataExtent(i.coordDimToDataDim("lng")[0]);Math.floor(b[1]-b[0])>=359&&(v[0]>0&&(v[0]=0),m[0]<c.getWidth()&&(m[0]=c.getWidth()))}var P=n[0]-e[0],F=n[1]-e[1],_e=m[1]-v[1];return{leftTop:v,rightBottom:m,region:[(v[0]-e[0])/P,1-_e/F-(v[1]-e[1])/F,(m[0]-v[0])/P,_e/F]}},_updateCamera:function(e,n,i){this.viewGL.setViewport(0,0,e,n,i);var c=this.viewGL.camera;c.left=c.bottom=0,c.top=n,c.right=e,c.near=0,c.far=100,c.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});(0,gn.D$)(function c6(e){e.registerChartView(Im),e.registerSeriesModel(Om)});var U2=C(4404),wf=gn.wJ.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),wf.superApply(this,"init",arguments)},mergeOption:function(e){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),wf.superApply(this,"mergeOption",arguments)},appendData:function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=(0,U2.concatArray)(this._flatCoords,n.flatCoords),this._flatCoordsOffset=(0,U2.concatArray)(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var n=this.getData().getItemModel(e);return n.option instanceof Array?n.option:n.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],c=this._flatCoordsOffset[2*e+1],v=0;v<c;v++)n[v]=n[v]||[],n[v][0]=this._flatCoords[i+2*v],n[v][1]=this._flatCoords[i+2*v+1];return c}var m=this._getCoordsFromItemModel(e);for(v=0;v<m.length;v++)n[v]=n[v]||[],n[v][0]=m[v][0],n[v][1]=m[v][1];return m.length},_processFlatCoordsArray:function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),"number"==typeof e[0]){for(var i=e.length,c=new Uint32Array(i),v=new Float64Array(i),m=0,b=0,D=0,P=0;P<i;){D++;var F=e[P++];c[b++]=m+n,c[b++]=F;for(var le=0;le<F;le++){var _e=e[P++],Ve=e[P++];v[m++]=_e,v[m++]=Ve}}return{flatCoordsOffset:new Uint32Array(c.buffer,0,b),flatCoords:v,count:D}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,n){var i=new gn.aV(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(c,v,m,b){if(c instanceof Array)return NaN;i.hasItemOption=!0;var D=c.value;return null!=D?D instanceof Array?D[b]:D:void 0}),i},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const F7=wf,Rm=gn.TA.extend({type:"linesGL",__ecgl__:!0,init:function(e,n){this.groupGL=new Kt.Node,this.viewGL=new F4("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new O7(this.viewGL),this._nativeLinesShader=Kt.createShader("ecgl.lines3D"),this._meshLinesShader=Kt.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,n,i){this.groupGL.removeAll(),this._glViewHelper.reset(e,i);var c=this._linesMeshes[0];c||(c=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(c),this._updateLinesMesh(e,c,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),i)},incrementalPrepareRender:function(e,n,i){this.groupGL.removeAll(),this._glViewHelper.reset(e,i),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),i)},incrementalRender:function(e,n,i,c){var v=this._linesMeshes[this._currentStep];v||(v=this._createLinesMesh(n),this._linesMeshes[this._currentStep]=v),this._updateLinesMesh(n,v,e.start,e.end),this.groupGL.add(v),c.getZr().refresh(),this._currentStep++},updateTransform:function(e,n,i){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,i)},_createLinesMesh:function(e){return new Kt.Mesh({$ignorePicking:!0,material:new Kt.Material({shader:Kt.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new P5({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:Kt.Mesh.LINES,culling:!1})},_updateLinesMesh:function(e,n,i,c){var v=e.getData();n.material.blend="lighter"===e.get("blendMode")?Kt.additiveBlend:null;var m=e.get("lineStyle.curveness")||0,b=e.get("polyline"),D=n.geometry,P=e.coordinateSystem,F=Zi.firstNotNull(e.get("lineStyle.width"),1);F>1?(n.material.shader!==this._meshLinesShader&&n.material.attachShader(this._meshLinesShader),n.mode=Kt.Mesh.TRIANGLES):(n.material.shader!==this._nativeLinesShader&&n.material.attachShader(this._nativeLinesShader),n.mode=Kt.Mesh.LINES),i=i||0,c=c||v.count(),D.resetOffset();var le=0,_e=0,Ve=[],Oe=[],Ue=[],je=[],vt=[];function Rt(){Oe[0]=.7*Ve[0]+.3*je[0]-(Ve[1]-je[1])*m,Oe[1]=.7*Ve[1]+.3*je[1]-(je[0]-Ve[0])*m,Ue[0]=.3*Ve[0]+.7*je[0]-(Ve[1]-je[1])*m,Ue[1]=.3*Ve[1]+.7*je[1]-(je[0]-Ve[0])*m}if(b||0!==m)for(var At=i;At<c;At++)if(b){var sn=e.getLineCoordsCount(At);le+=D.getPolylineVertexCount(sn),_e+=D.getPolylineTriangleCount(sn)}else e.getLineCoords(At,vt),this._glViewHelper.dataToPoint(P,vt[0],Ve),this._glViewHelper.dataToPoint(P,vt[1],je),Rt(),le+=D.getCubicCurveVertexCount(Ve,Oe,Ue,je),_e+=D.getCubicCurveTriangleCount(Ve,Oe,Ue,je);else{var nn=c-i;le+=nn*D.getLineVertexCount(),_e+=nn*D.getLineVertexCount()}D.setVertexCount(le),D.setTriangleCount(_e);var An=i,_n=[];for(At=i;At<c;At++){Kt.parseColor(Us(v,An),_n);var Jn=Zi.firstNotNull(Ts(v,An),1);_n[3]*=Jn,sn=e.getLineCoords(At,vt);for(var yr=0;yr<sn;yr++)this._glViewHelper.dataToPoint(P,vt[yr],vt[yr]);b?D.addPolyline(vt,_n,F,0,sn):0!==m?(Ve=vt[0],je=vt[1],Rt(),D.addCubicCurve(Ve,Oe,Ue,je,_n,F)):D.addPolyline(vt,_n,F,0,2),An++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});(0,gn.D$)(function V5(e){e.registerChartView(Rm),e.registerSeriesModel(F7)}),C(6375),(0,ie.qS)(t0);let U7=(()=>{class e{static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275mod=T.oAB({type:e,bootstrap:[L6]});static#n=this.\u0275inj=T.cJS({providers:[{provide:ie.S$,useClass:ie.Do},(0,z6.SU)()],imports:[_.b2,o3,cp,wo,Ff.y,Y.JP.forRoot(),Vs.JF,uu]})}return e})();(0,T.G48)(),_.q6().bootstrapModule(U7).catch(e=>console.error(e))},6674:($t,We,C)=>{"use strict";C.r(We),C.d(We,{Axis:()=>T.RD,ChartView:()=>T.TA,ComponentModel:()=>T.tF,ComponentView:()=>T.Ir,List:()=>T.aV,Model:()=>T.Hn,PRIORITY:()=>T.Hr,SeriesModel:()=>T.wJ,color:()=>T.$_,connect:()=>T.$j,dataTool:()=>T.Ok,dependencies:()=>T.HO,disConnect:()=>T.eU,disconnect:()=>T.zP,dispose:()=>T.B9,env:()=>T.OB,extendChartView:()=>T.Zy,extendComponentModel:()=>T.tv,extendComponentView:()=>T.Sp,extendSeriesModel:()=>T.Zr,format:()=>T.WU,getCoordinateSystemDimensions:()=>T.wL,getInstanceByDom:()=>T.JE,getInstanceById:()=>T.rp,getMap:()=>T.FU,graphic:()=>T.Q,helper:()=>T._y,init:()=>T.S1,innerDrawElementOnCanvas:()=>T.z$,matrix:()=>T.pI,number:()=>T.Rx,parseGeoJSON:()=>T.Nu,parseGeoJson:()=>T.pQ,registerAction:()=>T.zl,registerCoordinateSystem:()=>T.RS,registerLayout:()=>T.qR,registerLoading:()=>T.yn,registerLocale:()=>T.I2,registerMap:()=>T.je,registerPostInit:()=>T.sq,registerPostUpdate:()=>T.Br,registerPreprocessor:()=>T.ds,registerProcessor:()=>T.Pu,registerTheme:()=>T.aW,registerTransform:()=>T.rV,registerUpdateLifecycle:()=>T.YK,registerVisual:()=>T.Og,setCanvasCreator:()=>T.jQ,setPlatformAPI:()=>T.g2,throttle:()=>T.P2,time:()=>T.XV,use:()=>T.D$,util:()=>T.D5,vector:()=>T.xr,version:()=>T.i8,zrUtil:()=>T.gf,zrender:()=>T.x_});var _=C(7230),T=C(659),Y=C(9644),ie=C(2315),pe=C(649),me=C(1959),Me=C(4981),de=C(6094),G=Math.sin,Z=Math.cos,Q=Math.PI,W=2*Math.PI,re=180/Q;const q=function(){function o(){}return o.prototype.reset=function(r){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,r||4)},o.prototype.moveTo=function(r,t){this._add("M",r,t)},o.prototype.lineTo=function(r,t){this._add("L",r,t)},o.prototype.bezierCurveTo=function(r,t,a,l,h,d){this._add("C",r,t,a,l,h,d)},o.prototype.quadraticCurveTo=function(r,t,a,l){this._add("Q",r,t,a,l)},o.prototype.arc=function(r,t,a,l,h,d){this.ellipse(r,t,a,a,0,l,h,d)},o.prototype.ellipse=function(r,t,a,l,h,d,p,y){var J,x=p-d,w=!y,z=Math.abs(x),V=(0,ie.zT)(z-W)||(w?x>=W:-x>=W),k=x>0?x%W:x%W+W;J=!!V||!(0,ie.zT)(z)&&k>=Q==!!w;var ue=r+a*Z(d),xe=t+l*G(d);this._start&&this._add("M",ue,xe);var ze=Math.round(h*re);if(V){var Re=1/this._p,Ie=(w?1:-1)*(W-Re);this._add("A",a,l,ze,1,+w,r+a*Z(d+Ie),t+l*G(d+Ie)),Re>.01&&this._add("A",a,l,ze,0,+w,ue,xe)}else{var Ge=r+a*Z(p),Qe=t+l*G(p);this._add("A",a,l,ze,+J,+w,Ge,Qe)}},o.prototype.rect=function(r,t,a,l){this._add("M",r,t),this._add("l",a,0),this._add("l",0,l),this._add("l",-a,0),this._add("Z")},o.prototype.closePath=function(){this._d.length>0&&this._add("Z")},o.prototype._add=function(r,t,a,l,h,d,p,y,x){for(var w=[],z=this._p,V=1;V<arguments.length;V++){var k=arguments[V];if(isNaN(k))return void(this._invalid=!0);w.push(Math.round(k*z)/z)}this._d.push(r+w.join(" ")),this._start="Z"===r},o.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},o.prototype.getStr=function(){return this._str},o}();var oe=C(720),M=C(4404),se="none",ge=Math.round,$=["lineCap","miterLimit","lineJoin"],X=(0,M.map)($,function(o){return"stroke-"+o.toLowerCase()});var U=C(9626),L="http://www.w3.org/2000/svg",E="http://www.w3.org/1999/xlink",B="http://www.w3.org/2000/xmlns/",H="http://www.w3.org/XML/1998/namespace";function A(o){return document.createElementNS(L,o)}function O(o,r,t,a,l){return{tag:o,attrs:t||{},children:a,text:l,key:r}}function ee(o,r){var t=(r=r||{}).newline?"\n":"";return function a(l){var h=l.children,d=l.tag,y=l.text;return function I(o,r){var t=[];if(r)for(var a in r){var l=r[a],h=a;!1!==l&&(!0!==l&&null!=l&&(h+='="'+l+'"'),t.push(h))}return"<"+o+" "+t.join(" ")+">"}(d,l.attrs)+("style"!==d?(0,U.F1)(y):y||"")+(h?""+t+(0,M.map)(h,function(x){return a(x)}).join(t)+t:"")+function N(o){return"</"+o+">"}(d)}(o)}function ae(o){return{zrId:o,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function fe(o,r,t,a){return O("svg","root",{width:o,height:r,xmlns:L,"xmlns:xlink":E,version:"1.1",baseProfile:"full",viewBox:!!a&&"0 0 "+o+" "+r},t)}var he=C(2823),Ce=C(2353),Se=C(7062),ye=C(50),we=C(1861),Ae={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ne="transform-origin";function Le(o,r,t){var a=(0,M.extend)({},o.shape);(0,M.extend)(a,r),o.buildPath(t,a);var l=new q;return l.reset((0,ie.Gk)(o)),t.rebuildPath(l,1),l.generateStr(),l.getStr()}function Je(o,r){var t=r.originX,a=r.originY;(t||a)&&(o[Ne]=t+"px "+a+"px")}var at={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function nt(o,r){var t=r.zrId+"-ani-"+r.cssAnimIdx++;return r.cssAnims[t]=o,t}function It(o){return(0,M.isString)(o)?Ae[o]?"cubic-bezier("+Ae[o]+")":(0,we.H)(o)?o:"":""}function an(o,r,t,a){var l=o.animators,h=l.length,d=[];if(o instanceof ye.Z){var p=function dt(o,r,t){var h,d,l={};if((0,M.each)(o.shape.paths,function(y){var x=ae(t.zrId);x.animation=!0,an(y,{},x,!0);var w=x.cssAnims,z=x.cssNodes,V=(0,M.keys)(w),k=V.length;if(k){var J=w[d=V[k-1]];for(var ue in J){var xe=J[ue];l[ue]=l[ue]||{d:""},l[ue].d+=xe.d||""}for(var ze in z){var Re=z[ze].animation;Re.indexOf(d)>=0&&(h=Re)}}}),h){r.d=!1;var p=nt(l,t);return h.replace(d,p)}}(o,r,t);if(p)d.push(p);else if(!h)return}else if(!h)return;for(var y={},x=0;x<h;x++){var w=l[x],z=[w.getMaxTime()/1e3+"s"],V=It(w.getClip().easing),k=w.getDelay();z.push(V||"linear"),k&&z.push(k/1e3+"s"),w.getLoop()&&z.push("infinite");var J=z.join(" ");y[J]=y[J]||[J,[]],y[J][1].push(w)}function ue(Re){var Ie=Re[1],Ge=Ie.length,Qe={},$e={},ut={},St="animation-timing-function";function Pt(Ti,qa,Ha){for(var no=Ti.getTracks(),bl=Ti.getMaxTime(),wl=0;wl<no.length;wl++){var Ho=no[wl];if(Ho.needsAnimate()){var cl=Ho.keyframes,Ps=Ho.propName;if(Ha&&(Ps=Ha(Ps)),Ps)for(var Jl=0;Jl<cl.length;Jl++){var O8=cl[Jl],fc=Math.round(O8.time/bl*100)+"%",Rf=It(O8.easing),lu=O8.rawValue;((0,M.isString)(lu)||(0,M.isNumber)(lu))&&(qa[fc]=qa[fc]||{},qa[fc][Ps]=O8.rawValue,Rf&&(qa[fc][St]=Rf))}}}}for(var Vt=0;Vt<Ge;Vt++)(en=(kt=Ie[Vt]).targetName)?"shape"===en&&Pt(kt,$e):!a&&Pt(kt,Qe);for(var un in Qe){var vn={};(0,Ce.kY)(vn,o),(0,M.extend)(vn,Qe[un]);var wn=(0,ie.gA)(vn),Zn=Qe[un][St];ut[un]=wn?{transform:wn}:{},Je(ut[un],vn),Zn&&(ut[un][St]=Zn)}var ur,or=!0;for(var un in $e){ut[un]=ut[un]||{};var kr=!ur;Zn=$e[un][St],kr&&(ur=new Se.Z);var oi=ur.len();ur.reset(),ut[un].d=Le(o,$e[un],ur);var ii=ur.len();if(!kr&&oi!==ii){or=!1;break}Zn&&(ut[un][St]=Zn)}if(!or)for(var un in ut)delete ut[un].d;if(!a)for(Vt=0;Vt<Ge;Vt++){var kt,en;"style"===(en=(kt=Ie[Vt]).targetName)&&Pt(kt,ut,function(no){return at[no]})}var Ci,Gi=(0,M.keys)(ut),Fi=!0;for(Vt=1;Vt<Gi.length;Vt++){var wa=Gi[Vt-1];if(ut[wa][Ne]!==ut[Gi[Vt]][Ne]){Fi=!1;break}Ci=ut[wa][Ne]}if(Fi&&Ci){for(var un in ut)ut[un][Ne]&&delete ut[un][Ne];r[Ne]=Ci}if((0,M.filter)(Gi,function(Ti){return(0,M.keys)(ut[Ti]).length>0}).length)return nt(ut,t)+" "+Re[0]+" both"}for(var xe in y)(p=ue(y[xe]))&&d.push(p);if(d.length){var ze=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+ze]={animation:d.join(",")},r.class=ze}}var Yt=C(2054),mn=C(1240),Cn=Math.round;function Gn(o){return o&&(0,M.isString)(o.src)}function Wn(o){return o&&(0,M.isFunction)(o.toDataURL)}function Fn(o,r,t,a){(function ce(o,r,t,a){var l=null==r.opacity?1:r.opacity;if(t instanceof me.ZP)o("opacity",l);else{if(function K(o){var r=o.fill;return null!=r&&r!==se}(r)){var h=(0,ie.ut)(r.fill);o("fill",h.color);var d=null!=r.fillOpacity?r.fillOpacity*h.opacity*l:h.opacity*l;(a||d<1)&&o("fill-opacity",d)}else o("fill",se);if(function ve(o){var r=o.stroke;return null!=r&&r!==se}(r)){var p=(0,ie.ut)(r.stroke);o("stroke",p.color);var y=r.strokeNoScale?t.getLineScale():1,x=y?(r.lineWidth||0)/y:0,w=null!=r.strokeOpacity?r.strokeOpacity*p.opacity*l:p.opacity*l,z=r.strokeFirst;if((a||1!==x)&&o("stroke-width",x),(a||z)&&o("paint-order",z?"stroke":"fill"),(a||w<1)&&o("stroke-opacity",w),r.lineDash){var V=(0,oe.a)(t),k=V[0],J=V[1];k&&(J=ge(J||0),o("stroke-dasharray",k.join(",")),(J||a)&&o("stroke-dashoffset",J))}else a&&o("stroke-dasharray",se);for(var ue=0;ue<$.length;ue++){var xe=$[ue];if(a||r[xe]!==pe.$t[xe]){var ze=r[xe]||pe.$t[xe];ze&&o(X[ue],ze)}}}else a&&o("stroke",se)}})(function(l,h){var d="fill"===l||"stroke"===l;d&&(0,ie.H3)(h)?Un(r,o,l,a):d&&(0,ie.R)(h)?Gt(t,o,l,a):o[l]=h},r,t,!1),function Ft(o,r,t){var a=o.style;if((0,ie.i2)(a)){var l=(0,ie.n1)(o),h=t.shadowCache,d=h[l];if(!d){var p=o.getGlobalScale(),y=p[0],x=p[1];if(!y||!x)return;var w=a.shadowOffsetX||0,z=a.shadowOffsetY||0,V=a.shadowBlur,k=(0,ie.ut)(a.shadowColor),J=k.opacity,ue=k.color,Re=V/2/y+" "+V/2/x;d=t.zrId+"-s"+t.shadowIdx++,t.defs[d]=O("filter",d,{id:d,x:"-100%",y:"-100%",width:"300%",height:"300%"},[O("feDropShadow","",{dx:w/y,dy:z/x,stdDeviation:Re,"flood-color":ue,"flood-opacity":J})]),h[l]=d}r.filter=(0,ie.m1)(d)}}(t,o,a)}function Rr(o){return(0,ie.zT)(o[0]-1)&&(0,ie.zT)(o[1])&&(0,ie.zT)(o[2])&&(0,ie.zT)(o[3]-1)}function ot(o,r,t){if(r&&(!function hn(o){return(0,ie.zT)(o[4])&&(0,ie.zT)(o[5])}(r)||!Rr(r))){var a=t?10:1e4;o.transform=Rr(r)?"translate("+Cn(r[4]*a)/a+" "+Cn(r[5]*a)/a+")":(0,ie.qV)(r)}}function Et(o,r,t){for(var a=o.points,l=[],h=0;h<a.length;h++)l.push(Cn(a[h][0]*t)/t),l.push(Cn(a[h][1]*t)/t);r.points=l.join(" ")}function Tt(o){return!o.smooth}var Wt={circle:[function Xt(o){var r=(0,M.map)(o,function(t){return"string"==typeof t?[t,t]:t});return function(t,a,l){for(var h=0;h<r.length;h++){var d=r[h],p=t[d[0]];null!=p&&(a[d[1]]=Cn(p*l)/l)}}}(["cx","cy","r"])],polyline:[Et,Tt],polygon:[Et,Tt]};function Ln(o,r){var t=o.style,a=o.shape,l=Wt[o.type],h={},d=r.animation,p="path",y=o.style.strokePercent,x=r.compress&&(0,ie.Gk)(o)||4;if(!l||r.willUpdate||l[1]&&!l[1](a)||d&&function Dn(o){for(var r=o.animators,t=0;t<r.length;t++)if("shape"===r[t].targetName)return!0;return!1}(o)||y<1){var z=!o.path||o.shapeChanged();o.path||o.createPathProxy();var V=o.path;z&&(V.beginPath(),o.buildPath(V,o.shape),o.pathUpdated());var k=V.getVersion(),J=o,ue=J.__svgPathBuilder;(J.__svgPathVersion!==k||!ue||y!==J.__svgPathStrokePercent)&&(ue||(ue=J.__svgPathBuilder=new q),ue.reset(x),V.rebuildPath(ue,y),ue.generateStr(),J.__svgPathVersion=k,J.__svgPathStrokePercent=y),h.d=ue.getStr()}else{p=o.type;var w=Math.pow(10,x);l[0](a,h,w)}return ot(h,o.transform),Fn(h,t,o,r),r.animation&&an(o,h,r),O(p,o.id+"",h)}function ct(o,r){return o instanceof pe.ZP?Ln(o,r):o instanceof me.ZP?function xr(o,r){var t=o.style,a=t.image;if(a&&!(0,M.isString)(a)&&(Gn(a)?a=a.src:Wn(a)&&(a=a.toDataURL())),a){var l=t.x||0,h=t.y||0,y={href:a,width:t.width,height:t.height};return l&&(y.x=l),h&&(y.y=h),ot(y,o.transform),Fn(y,t,o,r),r.animation&&an(o,y,r),O("image",o.id+"",y)}}(o,r):o instanceof de.Z?function lr(o,r){var t=o.style,a=t.text;if(null!=a&&(a+=""),a&&!isNaN(t.x)&&!isNaN(t.y)){var l=t.font||mn.Uo,h=t.x||0,d=(0,ie.mU)(t.y||0,(0,Me.Dp)(l),t.textBaseline),y={"dominant-baseline":"central","text-anchor":ie.jY[t.textAlign]||t.textAlign};if((0,Yt.Y1)(t)){var x="",w=t.fontStyle,z=(0,Yt.VG)(t.fontSize);if(!parseFloat(z))return;var k=t.fontWeight;x+="font-size:"+z+";font-family:"+(t.fontFamily||mn.rk)+";",w&&"normal"!==w&&(x+="font-style:"+w+";"),k&&"normal"!==k&&(x+="font-weight:"+k+";"),y.style=x}else y.style="font: "+l;return a.match(/\s/)&&(y["xml:space"]="preserve"),h&&(y.x=h),d&&(y.y=d),ot(y,o.transform),Fn(y,t,o,r),r.animation&&an(o,y,r),O("text",o.id+"",y,void 0,a)}}(o,r):void 0}function Un(o,r,t,a){var h,l=o[t],d={gradientUnits:l.global?"userSpaceOnUse":"objectBoundingBox"};if((0,ie.I1)(l))h="linearGradient",d.x1=l.x,d.y1=l.y,d.x2=l.x2,d.y2=l.y2;else{if(!(0,ie.gO)(l))return;h="radialGradient",d.cx=(0,M.retrieve2)(l.x,.5),d.cy=(0,M.retrieve2)(l.y,.5),d.r=(0,M.retrieve2)(l.r,.5)}for(var p=l.colorStops,y=[],x=0,w=p.length;x<w;++x){var z=100*(0,ie.Pn)(p[x].offset)+"%",k=(0,ie.ut)(p[x].color),ue=k.opacity,xe={offset:z};xe["stop-color"]=k.color,ue<1&&(xe["stop-opacity"]=ue),y.push(O("stop",x+"",xe))}var Re=ee(O(h,"",d,y)),Ie=a.gradientCache,Ge=Ie[Re];Ge||(Ge=a.zrId+"-g"+a.gradientIdx++,Ie[Re]=Ge,d.id=Ge,a.defs[Ge]=O(h,Ge,d,y)),r[t]=(0,ie.m1)(Ge)}function Gt(o,r,t,a){var z,l=o.style[t],h=o.getBoundingRect(),d={},p=l.repeat,y="no-repeat"===p,x="repeat-x"===p,w="repeat-y"===p;if((0,ie.Cv)(l)){var V=l.imageWidth,k=l.imageHeight,J=void 0,ue=l.image;if((0,M.isString)(ue)?J=ue:Gn(ue)?J=ue.src:Wn(ue)&&(J=ue.toDataURL()),typeof Image>"u"){var xe="Image width/height must been given explictly in svg-ssr renderer.";(0,M.assert)(V,xe),(0,M.assert)(k,xe)}else if(null==V||null==k){var ze=function(Vt,kt){if(Vt){var en=Vt.elm,un=V||kt.width,vn=k||kt.height;"pattern"===Vt.tag&&(x?(vn=1,un/=h.width):w&&(un=1,vn/=h.height)),Vt.attrs.width=un,Vt.attrs.height=vn,en&&(en.setAttribute("width",un),en.setAttribute("height",vn))}},Re=(0,he.Gq)(J,null,o,function(Vt){y||ze($e,Vt),ze(z,Vt)});Re&&Re.width&&Re.height&&(V=V||Re.width,k=k||Re.height)}z=O("image","img",{href:J,width:V,height:k}),d.width=V,d.height=k}else l.svgElement&&(z=(0,M.clone)(l.svgElement),d.width=l.svgWidth,d.height=l.svgHeight);if(z){var Ie,Ge;y?Ie=Ge=1:x?(Ge=1,Ie=d.width/h.width):w?(Ie=1,Ge=d.height/h.height):d.patternUnits="userSpaceOnUse",null!=Ie&&!isNaN(Ie)&&(d.width=Ie),null!=Ge&&!isNaN(Ge)&&(d.height=Ge);var Qe=(0,ie.gA)(l);Qe&&(d.patternTransform=Qe);var $e=O("pattern","",d,[z]),ut=ee($e),St=a.patternCache,Pt=St[ut];Pt||(Pt=a.zrId+"-p"+a.patternIdx++,St[ut]=Pt,d.id=Pt,$e=a.defs[Pt]=O("pattern",Pt,d,[z])),r[t]=(0,ie.m1)(Pt)}}function _t(o,r,t){var a=t.clipPathCache,l=t.defs,h=a[o.id];if(!h){var d={id:h=t.zrId+"-c"+t.clipPathIdx++};a[o.id]=h,l[h]=O("clipPath",h,d,[Ln(o,t)])}r["clip-path"]=(0,ie.m1)(h)}function Xe(o){return document.createTextNode(o)}function ke(o,r,t){o.insertBefore(r,t)}function Ct(o,r){o.removeChild(r)}function Mt(o,r){o.appendChild(r)}function Jt(o){return o.parentNode}function bn(o){return o.nextSibling}function Ar(o,r){o.textContent=r}var tn=58,Xn=120,Lr=O("","");function Br(o){return void 0===o}function vi(o){return void 0!==o}function Hi(o,r,t){for(var a={},l=r;l<=t;++l){var h=o[l].key;void 0!==h&&(a[h]=l)}return a}function $i(o,r){return o.tag===r.tag&&o.key===r.key}function Pa(o){var r,t=o.children,a=o.tag;if(vi(a)){var l=o.elm=A(a);if(qe(Lr,o),(0,M.isArray)(t))for(r=0;r<t.length;++r){var h=t[r];null!=h&&Mt(l,Pa(h))}else vi(o.text)&&!(0,M.isObject)(o.text)&&Mt(l,Xe(o.text))}else o.elm=Xe(o.text);return o.elm}function On(o,r,t,a,l){for(;a<=l;++a){var h=t[a];null!=h&&ke(o,Pa(h),r)}}function xt(o,r,t,a){for(;t<=a;++t){var l=r[t];null!=l&&(vi(l.tag)?Ct(Jt(l.elm),l.elm):Ct(o,l.elm))}}function qe(o,r){var t,a=r.elm,l=o&&o.attrs||{},h=r.attrs||{};if(l!==h){for(t in h){var d=h[t];l[t]!==d&&(!0===d?a.setAttribute(t,""):!1===d?a.removeAttribute(t):t.charCodeAt(0)!==Xn?a.setAttribute(t,d):"xmlns:xlink"===t||"xmlns"===t?a.setAttributeNS(B,t,d):t.charCodeAt(3)===tn?a.setAttributeNS(H,t,d):t.charCodeAt(5)===tn?a.setAttributeNS(E,t,d):a.setAttribute(t,d))}for(t in l)t in h||a.removeAttribute(t)}}function pt(o,r){var t=r.elm=o.elm,a=o.children,l=r.children;o!==r&&(qe(o,r),Br(r.text)?vi(a)&&vi(l)?a!==l&&function it(o,r,t){for(var z,V,k,a=0,l=0,h=r.length-1,d=r[0],p=r[h],y=t.length-1,x=t[0],w=t[y];a<=h&&l<=y;)null==d?d=r[++a]:null==p?p=r[--h]:null==x?x=t[++l]:null==w?w=t[--y]:$i(d,x)?(pt(d,x),d=r[++a],x=t[++l]):$i(p,w)?(pt(p,w),p=r[--h],w=t[--y]):$i(d,w)?(pt(d,w),ke(o,d.elm,bn(p.elm)),d=r[++a],w=t[--y]):$i(p,x)?(pt(p,x),ke(o,p.elm,d.elm),p=r[--h],x=t[++l]):(Br(z)&&(z=Hi(r,a,h)),Br(V=z[x.key])||(k=r[V]).tag!==x.tag?ke(o,Pa(x),d.elm):(pt(k,x),r[V]=void 0,ke(o,k.elm,d.elm)),x=t[++l]);(a<=h||l<=y)&&(a>h?On(o,null==t[y+1]?null:t[y+1].elm,t,l,y):xt(o,r,a,h))}(t,a,l):vi(l)?(vi(o.text)&&Ar(t,""),On(t,null,l,0,l.length-1)):vi(a)?xt(t,a,0,a.length-1):vi(o.text)&&Ar(t,""):o.text!==r.text&&(vi(a)&&xt(t,a,0,a.length-1),Ar(t,r.text)))}var Nn=C(6695),jn=0;const ei=function(){function o(r,t,a){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=a=(0,M.extend)({},a),this.root=r,this._id="zr"+jn++,this._oldVNode=fe(a.width,a.height),r&&!a.ssr){var l=this._viewport=document.createElement("div");l.style.cssText="position:relative;overflow:hidden";var h=this._svgDom=this._oldVNode.elm=A("svg");qe(null,this._oldVNode),l.appendChild(h),r.appendChild(l)}this.resize(a.width,a.height)}return o.prototype.getType=function(){return this.type},o.prototype.getViewportRoot=function(){return this._viewport},o.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},o.prototype.getSvgDom=function(){return this._svgDom},o.prototype.refresh=function(){if(this.root){var r=this.renderToVNode({willUpdate:!0});r.attrs.style="position:absolute;left:0;top:0;user-select:none",function jt(o,r){if($i(o,r))pt(o,r);else{var t=o.elm,a=Jt(t);Pa(r),null!==a&&(ke(a,r.elm,bn(t)),xt(a,[o],0,0))}}(this._oldVNode,r),this._oldVNode=r}},o.prototype.renderOneToVNode=function(r){return ct(r,ae(this._id))},o.prototype.renderToVNode=function(r){r=r||{};var t=this.storage.getDisplayList(!0),a=this._width,l=this._height,h=ae(this._id);h.animation=r.animation,h.willUpdate=r.willUpdate,h.compress=r.compress;var d=[],p=this._bgVNode=function Nr(o,r,t,a){var l;if(t&&"none"!==t)if(l=O("rect","bg",{width:o,height:r,x:"0",y:"0",id:"0"}),(0,ie.H3)(t))Un({fill:t},l.attrs,"fill",a);else if((0,ie.R)(t))Gt({style:{fill:t},dirty:M.noop,getBoundingRect:function(){return{width:o,height:r}}},l.attrs,"fill",a);else{var h=(0,ie.ut)(t),p=h.opacity;l.attrs.fill=h.color,p<1&&(l.attrs["fill-opacity"]=p)}return l}(a,l,this._backgroundColor,h);p&&d.push(p);var y=r.compress?null:this._mainVNode=O("g","main",{},[]);this._paintList(t,h,y?y.children:d),y&&d.push(y);var x=(0,M.map)((0,M.keys)(h.defs),function(V){return h.defs[V]});if(x.length&&d.push(O("defs","defs",{},x)),r.animation){var w=function j(o,r,t){var a=(t=t||{}).newline?"\n":"",l=" {"+a,h=a+"}",d=(0,M.map)((0,M.keys)(o),function(y){return y+l+(0,M.map)((0,M.keys)(o[y]),function(x){return x+":"+o[y][x]+";"}).join(a)+h}).join(a),p=(0,M.map)((0,M.keys)(r),function(y){return"@keyframes "+y+l+(0,M.map)((0,M.keys)(r[y]),function(x){return x+l+(0,M.map)((0,M.keys)(r[y][x]),function(w){var z=r[y][x][w];return"d"===w&&(z='path("'+z+'")'),w+":"+z+";"}).join(a)+h}).join(a)+h}).join(a);return d||p?["<![CDATA[",d,p,"]]>"].join(a):""}(h.cssNodes,h.cssAnims,{newline:!0});if(w){var z=O("style","stl",{},[],w);d.push(z)}}return fe(a,l,d,r.useViewBox)},o.prototype.renderToString=function(r){return ee(this.renderToVNode({animation:(0,M.retrieve2)((r=r||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,M.retrieve2)(r.useViewBox,!0)}),{newline:!0})},o.prototype.setBackgroundColor=function(r){this._backgroundColor=r},o.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},o.prototype._paintList=function(r,t,a){for(var p,y,l=r.length,h=[],d=0,x=0,w=0;w<l;w++){var z=r[w];if(!z.invisible){var V=z.__clipPaths,k=V&&V.length||0,J=y&&y.length||0,ue=void 0;for(ue=Math.max(k-1,J-1);ue>=0&&(!V||!y||V[ue]!==y[ue]);ue--);for(var xe=J-1;xe>ue;xe--)p=h[--d-1];for(var ze=ue+1;ze<k;ze++){var Re={};_t(V[ze],Re,t);var Ie=O("g","clip-g-"+x++,Re,[]);(p?p.children:a).push(Ie),h[d++]=Ie,p=Ie}y=V;var Ge=ct(z,t);Ge&&(p?p.children:a).push(Ge)}}},o.prototype.resize=function(r,t){var a=this._opts,l=this.root,h=this._viewport;if(null!=r&&(a.width=r),null!=t&&(a.height=t),l&&h&&(h.style.display="none",r=(0,Nn.ap)(l,0,a),t=(0,Nn.ap)(l,1,a),h.style.display=""),this._width!==r||this._height!==t){if(this._width=r,this._height=t,h){var d=h.style;d.width=r+"px",d.height=t+"px"}if((0,ie.R)(this._backgroundColor))this.refresh();else{var p=this._svgDom;p&&(p.setAttribute("width",r),p.setAttribute("height",t));var y=this._bgVNode&&this._bgVNode.elm;y&&(y.setAttribute("width",r),y.setAttribute("height",t))}}},o.prototype.getWidth=function(){return this._width},o.prototype.getHeight=function(){return this._height},o.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},o.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},o.prototype.toDataURL=function(r){var t=this.renderToString(),a="data:image/svg+xml;";return r?(t=(0,ie.oF)(t))&&a+"base64,"+t:a+"charset=UTF-8,"+encodeURIComponent(t)},o}();var st=C(8299),Qt=C(5982),xn=C(8736),Pn=C(4869),yn=C(4271);const li=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.hasSymbolVisual=!0,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t){return(0,Qt.Z)(null,this,{useEncodeDefaulter:!0})},r.prototype.getLegendIcon=function(t){var a=new yn.Z,l=(0,Pn.th)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(l),l.setStyle(t.lineStyle);var h=this.getData().getVisual("symbol"),d=this.getData().getVisual("symbolRotate"),p="none"===h?"circle":h,y=.8*t.itemHeight,x=(0,Pn.th)(p,(t.itemWidth-y)/2,(t.itemHeight-y)/2,y,y,t.itemStyle.fill);return a.add(x),x.setStyle(t.itemStyle),x.rotation=("inherit"===t.iconRotate?d:t.iconRotate||0)*Math.PI/180,x.setOrigin([t.itemWidth/2,t.itemHeight/2]),p.indexOf("empty")>-1&&(x.style.stroke=x.style.fill,x.style.fill="#fff",x.style.lineWidth=2),a},r.type="series.line",r.dependencies=["grid","polar"],r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},r}(xn.Z);var Bn=C(5271),dr=C(2285),Qn=C(9133),er=C(6499),Di=C(5941);function aa(o,r){var t=o.mapDimensionsAll("defaultedLabel"),a=t.length;if(1===a){var l=(0,Di.hk)(o,r,t[0]);return null!=l?l+"":null}if(a){for(var h=[],d=0;d<t.length;d++)h.push((0,Di.hk)(o,r,t[d]));return h.join(" ")}}function Ui(o,r){var t=o.mapDimensionsAll("defaultedLabel");if(!(0,M.isArray)(r))return r+"";for(var a=[],l=0;l<t.length;l++){var h=o.getDimensionIndex(t[l]);h>=0&&a.push(r[h])}return a.join(" ")}var hr=C(4258);function Ba(o,r){this.parent.drift(o,r)}const bo=function(o){function r(t,a,l,h){var d=o.call(this)||this;return d.updateData(t,a,l,h),d}return(0,st.ZT)(r,o),r.prototype._createSymbol=function(t,a,l,h,d){this.removeAll();var p=(0,Pn.th)(t,-1,-1,2,2,null,d);p.attr({z2:100,culling:!0,scaleX:h[0]/2,scaleY:h[1]/2}),p.drift=Ba,this._symbolType=t,this.add(p)},r.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},r.prototype.getSymbolType=function(){return this._symbolType},r.prototype.getSymbolPath=function(){return this.childAt(0)},r.prototype.highlight=function(){(0,er.fD)(this.childAt(0))},r.prototype.downplay=function(){(0,er.Mh)(this.childAt(0))},r.prototype.setZ=function(t,a){var l=this.childAt(0);l.zlevel=t,l.z=a},r.prototype.setDraggable=function(t,a){var l=this.childAt(0);l.draggable=t,l.cursor=!a&&t?"move":l.cursor},r.prototype.updateData=function(t,a,l,h){this.silent=!1;var d=t.getItemVisual(a,"symbol")||"circle",p=t.hostModel,y=r.getSymbolSize(t,a),x=d!==this._symbolType,w=h&&h.disableAnimation;if(x){var z=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(d,t,a,y,z)}else{(V=this.childAt(0)).silent=!1;var k={scaleX:y[0]/2,scaleY:y[1]/2};w?V.attr(k):Bn.D(V,k,p,a),(0,Bn.Zi)(V)}if(this._updateCommon(t,a,y,l,h),x){var V=this.childAt(0);w||(k={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:V.style.opacity}},V.scaleX=V.scaleY=0,V.style.opacity=0,Bn.KZ(V,k,p,a))}w&&this.childAt(0).stopAnimation("leave")},r.prototype._updateCommon=function(t,a,l,h,d){var x,w,z,V,k,J,ue,xe,ze,p=this.childAt(0),y=t.hostModel;if(h&&(x=h.emphasisItemStyle,w=h.blurItemStyle,z=h.selectItemStyle,V=h.focus,k=h.blurScope,ue=h.labelStatesModels,xe=h.hoverScale,ze=h.cursorStyle,J=h.emphasisDisabled),!h||t.hasItemOption){var Re=h&&h.itemModel?h.itemModel:t.getItemModel(a),Ie=Re.getModel("emphasis");x=Ie.getModel("itemStyle").getItemStyle(),z=Re.getModel(["select","itemStyle"]).getItemStyle(),w=Re.getModel(["blur","itemStyle"]).getItemStyle(),V=Ie.get("focus"),k=Ie.get("blurScope"),J=Ie.get("disabled"),ue=(0,hr.k3)(Re),xe=Ie.getShallow("scale"),ze=Re.getShallow("cursor")}var Ge=t.getItemVisual(a,"symbolRotate");p.attr("rotation",(Ge||0)*Math.PI/180||0);var Qe=(0,Pn.Cq)(t.getItemVisual(a,"symbolOffset"),l);Qe&&(p.x=Qe[0],p.y=Qe[1]),ze&&p.attr("cursor",ze);var $e=t.getItemVisual(a,"style"),ut=$e.fill;if(p instanceof me.ZP){var St=p.style;p.useStyle((0,M.extend)({image:St.image,x:St.x,y:St.y,width:St.width,height:St.height},$e))}else p.useStyle(p.__isEmptyBrush?(0,M.extend)({},$e):$e),p.style.decal=null,p.setColor(ut,d&&d.symbolInnerColor),p.style.strokeNoScale=!0;var Pt=t.getItemVisual(a,"liftZ"),Vt=this._z2;null!=Pt?null==Vt&&(this._z2=p.z2,p.z2+=Pt):null!=Vt&&(p.z2=Vt,this._z2=null);var kt=d&&d.useNameLabel;(0,hr.ni)(p,ue,{labelFetcher:y,labelDataIndex:a,defaultText:function en(wn){return kt?t.getName(wn):aa(t,wn)},inheritColor:ut,defaultOpacity:$e.opacity}),this._sizeX=l[0]/2,this._sizeY=l[1]/2;var un=p.ensureState("emphasis");un.style=x,p.ensureState("select").style=z,p.ensureState("blur").style=w;var vn=null==xe||!0===xe?Math.max(1.1,3/this._sizeY):isFinite(xe)&&xe>0?+xe:1;un.scaleX=this._sizeX*vn,un.scaleY=this._sizeY*vn,this.setSymbolScale(1),(0,er.k5)(this,V,k,J)},r.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},r.prototype.fadeOut=function(t,a,l){var h=this.childAt(0),d=(0,Qn.A)(this).dataIndex,p=l&&l.animation;if(this.silent=h.silent=!0,l&&l.fadeLabel){var y=h.getTextContent();y&&Bn.bX(y,{style:{opacity:0}},a,{dataIndex:d,removeOpt:p,cb:function(){h.removeTextContent()}})}else h.removeTextContent();Bn.bX(h,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:d,cb:t,removeOpt:p})},r.getSymbolSize=function(t,a){return(0,Pn.zp)(t.getItemVisual(a,"symbolSize"))},r}(yn.Z);function ni(o,r,t,a){return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(r[0],r[1]))&&"none"!==o.getItemVisual(t,"symbol")}function wr(o){return null!=o&&!(0,M.isObject)(o)&&(o={isIgnore:o}),o||{}}function $r(o){var r=o.hostModel,t=r.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:r.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:r.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:(0,hr.k3)(r),cursorStyle:r.get("cursor")}}const yi=function(){function o(r){this.group=new yn.Z,this._SymbolCtor=r||bo}return o.prototype.updateData=function(r,t){this._progressiveEls=null,t=wr(t);var a=this.group,l=r.hostModel,h=this._data,d=this._SymbolCtor,p=t.disableAnimation,y=$r(r),x={disableAnimation:p},w=t.getSymbolPoint||function(z){return r.getItemLayout(z)};h||a.removeAll(),r.diff(h).add(function(z){var V=w(z);if(ni(r,V,z,t)){var k=new d(r,z,y,x);k.setPosition(V),r.setItemGraphicEl(z,k),a.add(k)}}).update(function(z,V){var k=h.getItemGraphicEl(V),J=w(z);if(ni(r,J,z,t)){var ue=r.getItemVisual(z,"symbol")||"circle",xe=k&&k.getSymbolType&&k.getSymbolType();if(!k||xe&&xe!==ue)a.remove(k),(k=new d(r,z,y,x)).setPosition(J);else{k.updateData(r,z,y,x);var ze={x:J[0],y:J[1]};p?k.attr(ze):Bn.D(k,ze,l)}a.add(k),r.setItemGraphicEl(z,k)}else a.remove(k)}).remove(function(z){var V=h.getItemGraphicEl(z);V&&V.fadeOut(function(){a.remove(V)},l)}).execute(),this._getSymbolPoint=w,this._data=r},o.prototype.updateLayout=function(){var r=this,t=this._data;t&&t.eachItemGraphicEl(function(a,l){var h=r._getSymbolPoint(l);a.setPosition(h),a.markRedraw()})},o.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=$r(r),this._data=null,this.group.removeAll()},o.prototype.incrementalUpdate=function(r,t,a){function l(y){y.isGroup||(y.incremental=!0,y.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],a=wr(a);for(var h=r.start;h<r.end;h++){var d=t.getItemLayout(h);if(ni(t,d,h,a)){var p=new this._SymbolCtor(t,h,this._seriesScope);p.traverse(l),p.setPosition(d),this.group.add(p),t.setItemGraphicEl(h,p),this._progressiveEls.push(p)}}},o.prototype.eachRendered=function(r){dr.traverseElements(this._progressiveEls||this.group,r)},o.prototype.remove=function(r){var t=this.group,a=this._data;a&&r?a.eachItemGraphicEl(function(l){l.fadeOut(function(){t.remove(l)},a.hostModel)}):t.removeAll()},o}();var Oa=C(6018);function vs(o,r,t){var a=o.getBaseAxis(),l=o.getOtherAxis(a),h=function ql(o,r){var t=0,a=o.scale.getExtent();return"start"===r?t=a[0]:"end"===r?t=a[1]:(0,M.isNumber)(r)&&!isNaN(r)?t=r:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}(l,t),d=a.dim,p=l.dim,y=r.mapDimension(p),x=r.mapDimension(d),w="x"===p||"radius"===p?1:0,z=(0,M.map)(o.dimensions,function(J){return r.mapDimension(J)}),V=!1,k=r.getCalculationInfo("stackResultDimension");return(0,Oa.M)(r,z[0])&&(V=!0,z[0]=k),(0,Oa.M)(r,z[1])&&(V=!0,z[1]=k),{dataDimsForPoint:z,valueStart:h,valueAxisDim:p,baseAxisDim:d,stacked:!!V,valueDim:y,baseDim:x,baseDataOffset:w,stackedOverDimension:r.getCalculationInfo("stackedOverDimension")}}function Po(o,r,t,a){var l=NaN;o.stacked&&(l=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(l)&&(l=o.valueStart);var h=o.baseDataOffset,d=[];return d[h]=t.get(o.baseDim,a),d[1-h]=l,r.dataToPoint(d)}var Sl=C(3138),Za=C(2920),Hr=C(6496),po=C(3645),No=Math.min,ps=Math.max;function Ls(o,r){return isNaN(o)||isNaN(r)}function Os(o,r,t,a,l,h,d,p,y){for(var x,w,z,V,k,J,ue=t,xe=0;xe<a;xe++){var ze=r[2*ue],Re=r[2*ue+1];if(ue>=l||ue<0)break;if(Ls(ze,Re)){if(y){ue+=h;continue}break}if(ue===t)o[h>0?"moveTo":"lineTo"](ze,Re),z=ze,V=Re;else{var Ie=ze-x,Ge=Re-w;if(Ie*Ie+Ge*Ge<.5){ue+=h;continue}if(d>0){for(var Qe=ue+h,$e=r[2*Qe],ut=r[2*Qe+1];$e===ze&&ut===Re&&xe<a;)xe++,$e=r[2*(Qe+=h)],ut=r[2*Qe+1],Ie=(ze=r[2*(ue+=h)])-x,Ge=(Re=r[2*ue+1])-w;var St=xe+1;if(y)for(;Ls($e,ut)&&St<a;)St++,$e=r[2*(Qe+=h)],ut=r[2*Qe+1];var Pt=.5,Vt=0,kt=0,en=void 0,un=void 0;if(St>=a||Ls($e,ut))k=ze,J=Re;else{Vt=$e-x,kt=ut-w;var vn=ze-x,wn=$e-ze,Zn=Re-w,ur=ut-Re,or=void 0,kr=void 0;if("x"===p){var oi=Vt>0?1:-1;k=ze-oi*(or=Math.abs(vn))*d,J=Re,en=ze+oi*(kr=Math.abs(wn))*d,un=Re}else if("y"===p){var ii=kt>0?1:-1;k=ze,J=Re-ii*(or=Math.abs(Zn))*d,en=ze,un=Re+ii*(kr=Math.abs(ur))*d}else or=Math.sqrt(vn*vn+Zn*Zn),k=ze-Vt*d*(1-(Pt=(kr=Math.sqrt(wn*wn+ur*ur))/(kr+or))),J=Re-kt*d*(1-Pt),un=Re+kt*d*Pt,en=No(en=ze+Vt*d*Pt,ps($e,ze)),un=No(un,ps(ut,Re)),en=ps(en,No($e,ze)),J=Re-(kt=(un=ps(un,No(ut,Re)))-Re)*or/kr,k=No(k=ze-(Vt=en-ze)*or/kr,ps(x,ze)),J=No(J,ps(w,Re)),en=ze+(Vt=ze-(k=ps(k,No(x,ze))))*kr/or,un=Re+(kt=Re-(J=ps(J,No(w,Re))))*kr/or}o.bezierCurveTo(z,V,k,J,ze,Re),z=en,V=un}else o.lineTo(ze,Re)}x=ze,w=Re,ue+=h}return xe}var Ka=function o(){this.smooth=0,this.smoothConstraint=!0},Gs=function(o){function r(t){var a=o.call(this,t)||this;return a.type="ec-polyline",a}return(0,st.ZT)(r,o),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new Ka},r.prototype.buildPath=function(t,a){var l=a.points,h=0,d=l.length/2;if(a.connectNulls){for(;d>0&&Ls(l[2*d-2],l[2*d-1]);d--);for(;h<d&&Ls(l[2*h],l[2*h+1]);h++);}for(;h<d;)h+=Os(t,l,h,d,d,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},r.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var p,y,h=this.path.data,d=Se.Z.CMD,x="x"===a,w=[],z=0;z<h.length;){var k=void 0,J=void 0,ue=void 0,xe=void 0,ze=void 0,Re=void 0,Ie=void 0;switch(h[z++]){case d.M:p=h[z++],y=h[z++];break;case d.L:if(k=h[z++],J=h[z++],(Ie=x?(t-p)/(k-p):(t-y)/(J-y))<=1&&Ie>=0){var Ge=x?(J-y)*Ie+y:(k-p)*Ie+p;return x?[t,Ge]:[Ge,t]}p=k,y=J;break;case d.C:k=h[z++],J=h[z++],ue=h[z++],xe=h[z++],ze=h[z++],Re=h[z++];var Qe=x?(0,po.kD)(p,k,ue,ze,t,w):(0,po.kD)(y,J,xe,Re,t,w);if(Qe>0)for(var $e=0;$e<Qe;$e++){var ut=w[$e];if(ut<=1&&ut>=0)return Ge=x?(0,po.af)(y,J,xe,Re,ut):(0,po.af)(p,k,ue,ze,ut),x?[t,Ge]:[Ge,t]}p=ze,y=Re}}},r}(pe.ZP),gs=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r}(Ka),e1=function(o){function r(t){var a=o.call(this,t)||this;return a.type="ec-polygon",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new gs},r.prototype.buildPath=function(t,a){var l=a.points,h=a.stackedOnPoints,d=0,p=l.length/2,y=a.smoothMonotone;if(a.connectNulls){for(;p>0&&Ls(l[2*p-2],l[2*p-1]);p--);for(;d<p&&Ls(l[2*d],l[2*d+1]);d++);}for(;d<p;){var x=Os(t,l,d,p,p,1,a.smooth,y,a.connectNulls);Os(t,h,d+x-1,x,p,-1,a.stackedOnSmooth,y,a.connectNulls),d+=x+1,t.closePath()}},r}(pe.ZP),Oi=C(2752),Ei=C(2501),gi=C(117),In=C(2862);function Cl(o,r,t,a,l){var h=o.getArea(),d=h.x,p=h.y,y=h.width,x=h.height,w=t.get(["lineStyle","width"])||2;d-=w/2,p-=w/2,y+=w,x+=w,d=Math.floor(d),y=Math.round(y);var z=new Ei.Z({shape:{x:d,y:p,width:y,height:x}});if(r){var V=o.getBaseAxis(),k=V.isHorizontal(),J=V.inverse;k?(J&&(z.shape.x+=y),z.shape.width=0):(J||(z.shape.y+=x),z.shape.height=0);var ue=(0,M.isFunction)(l)?function(xe){l(xe,z)}:null;Bn.KZ(z,{shape:{width:y,height:x,x:d,y:p}},t,null,a,ue)}return z}function Bo(o,r,t){var a=o.getArea(),l=(0,In.NM)(a.r0,1),h=(0,In.NM)(a.r,1),d=new gi.C({shape:{cx:(0,In.NM)(o.cx,1),cy:(0,In.NM)(o.cy,1),r0:l,r:h,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});return r&&("angle"===o.getBaseAxis().dim?d.shape.endAngle=a.startAngle:d.shape.r=l,Bn.KZ(d,{shape:{endAngle:a.endAngle,r:h}},t)),d}function js(o,r,t,a,l){return o?"polar"===o.type?Bo(o,r,t):"cartesian2d"===o.type?Cl(o,r,t,a,l):null:null}function ms(o,r){return o.type===r}var Ia=C(8597),na=C(2);function Ko(o,r){if(o.length===r.length){for(var t=0;t<o.length;t++)if(o[t]!==r[t])return;return!0}}function Ea(o){for(var r=1/0,t=1/0,a=-1/0,l=-1/0,h=0;h<o.length;){var d=o[h++],p=o[h++];isNaN(d)||(r=Math.min(d,r),a=Math.max(d,a)),isNaN(p)||(t=Math.min(p,t),l=Math.max(p,l))}return[[r,t],[a,l]]}function ga(o,r){var t=Ea(o),a=t[0],l=t[1],h=Ea(r),d=h[0],p=h[1];return Math.max(Math.abs(a[0]-d[0]),Math.abs(a[1]-d[1]),Math.abs(l[0]-p[0]),Math.abs(l[1]-p[1]))}function Ni(o){return M.isNumber(o)?o:o?.5:0}function co(o,r,t,a){var l=r.getBaseAxis(),h="x"===l.dim||"radius"===l.dim?0:1,d=[],p=0,y=[],x=[],w=[],z=[];if(a){for(p=0;p<o.length;p+=2)!isNaN(o[p])&&!isNaN(o[p+1])&&z.push(o[p],o[p+1]);o=z}for(p=0;p<o.length-2;p+=2)switch(w[0]=o[p+2],w[1]=o[p+3],x[0]=o[p],x[1]=o[p+1],d.push(x[0],x[1]),t){case"end":y[h]=w[h],y[1-h]=x[1-h],d.push(y[0],y[1]);break;case"middle":var k=[];y[h]=k[h]=(x[h]+w[h])/2,y[1-h]=x[1-h],k[1-h]=w[1-h],d.push(y[0],y[1]),d.push(k[0],k[1]);break;default:y[h]=x[h],y[1-h]=w[1-h],d.push(y[0],y[1])}return d.push(o[p++],o[p++]),d}function Ut(o,r){return isNaN(o)||isNaN(r)}function Ze(o,r){return[o[2*r],o[2*r+1]]}function Lt(o){if(o.get(["endLabel","show"]))return!0;for(var r=0;r<er.L1.length;r++)if(o.get([er.L1[r],"endLabel","show"]))return!0;return!1}function En(o,r,t,a){if(ms(r,"cartesian2d")){var l=a.getModel("endLabel"),h=l.get("valueAnimation"),d=a.getData(),p={lastFrameIndex:0},y=Lt(a)?function(k,J){o._endLabelOnDuring(k,J,d,p,h,l,r)}:null,x=r.getBaseAxis().isHorizontal(),w=Cl(r,t,a,function(){var k=o._endLabel;k&&t&&null!=p.originalX&&k.attr({x:p.originalX,y:p.originalY})},y);if(!a.get("clip",!0)){var z=w.shape,V=Math.max(z.width,z.height);x?(z.y-=V,z.height+=2*V):(z.x-=V,z.width+=2*V)}return y&&y(1,w),w}return Bo(r,t,a)}const Sa=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.init=function(){var t=new yn.Z,a=new yi;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t},r.prototype.render=function(t,a,l){var h=this,d=t.coordinateSystem,p=this.group,y=t.getData(),x=t.getModel("lineStyle"),w=t.getModel("areaStyle"),z=y.getLayout("points")||[],V="polar"===d.type,k=this._coordSys,J=this._symbolDraw,ue=this._polyline,xe=this._polygon,ze=this._lineGroup,Re=!a.ssr&&t.isAnimationEnabled(),Ie=!w.isEmpty(),Ge=w.get("origin"),Qe=vs(d,y,Ge),$e=Ie&&function t1(o,r,t){if(!t.valueDim)return[];for(var a=r.count(),l=(0,Sl.o)(2*a),h=0;h<a;h++){var d=Po(t,o,r,h);l[2*h]=d[0],l[2*h+1]=d[1]}return l}(d,y,Qe),ut=t.get("showSymbol"),St=t.get("connectNulls"),Pt=ut&&!V&&function Tl(o,r,t){var a=o.get("showAllSymbol"),l="auto"===a;if(!a||l){var h=t.getAxesByScale("ordinal")[0];if(h&&(!l||!function ul(o,r){var t=o.getExtent(),a=Math.abs(t[1]-t[0])/o.scale.count();isNaN(a)&&(a=0);for(var l=r.count(),h=Math.max(1,Math.round(l/5)),d=0;d<l;d+=h)if(1.5*bo.getSymbolSize(r,d)[o.isHorizontal()?1:0]>a)return!1;return!0}(h,r))){var d=r.mapDimension(h.dim),p={};return M.each(h.getViewLabels(),function(y){var x=h.scale.getRawOrdinalNumber(y.tickValue);p[x]=1}),function(y){return!p.hasOwnProperty(r.get(d,y))}}}}(t,y,d),Vt=this._data;Vt&&Vt.eachItemGraphicEl(function(lo,Ma){lo.__temp&&(p.remove(lo),Vt.setItemGraphicEl(Ma,null))}),ut||J.remove(),p.add(ze);var en,kt=!V&&t.get("step");d&&d.getArea&&t.get("clip",!0)&&(null!=(en=d.getArea()).width?(en.x-=.1,en.y-=.1,en.width+=.2,en.height+=.2):en.r0&&(en.r0-=.5,en.r+=.5)),this._clipShapeForSymbol=en;var un=function n1(o,r,t){var a=o.getVisual("visualMeta");if(a&&a.length&&o.count()&&"cartesian2d"===r.type){for(var l,h,d=a.length-1;d>=0;d--){var p=o.getDimensionInfo(a[d].dimension);if("x"===(l=p&&p.coordDim)||"y"===l){h=a[d];break}}if(h){var y=r.getAxis(l),x=M.map(h.stops,function(Ie){return{coord:y.toGlobalCoord(y.dataToCoord(Ie.value)),color:Ie.color}}),w=x.length,z=h.outerColors.slice();w&&x[0].coord>x[w-1].coord&&(x.reverse(),z.reverse());var V=function D1(o,r){var l,h,t=[],a=o.length;function d(w,z,V){var k=w.coord;return{coord:V,color:(0,na.lerp)((V-k)/(z.coord-k),[w.color,z.color])}}for(var p=0;p<a;p++){var y=o[p],x=y.coord;if(x<0)l=y;else{if(x>r){h?t.push(d(h,y,r)):l&&t.push(d(l,y,0),d(l,y,r));break}l&&(t.push(d(l,y,0)),l=null),t.push(y),h=y}}return t}(x,"x"===l?t.getWidth():t.getHeight()),k=V.length;if(!k&&w)return x[0].coord<0?z[1]?z[1]:x[w-1].color:z[0]?z[0]:x[0].color;var ue=V[0].coord-10,xe=V[k-1].coord+10,ze=xe-ue;if(ze<.001)return"transparent";M.each(V,function(Ie){Ie.offset=(Ie.coord-ue)/ze}),V.push({offset:k?V[k-1].offset:.5,color:z[1]||"transparent"}),V.unshift({offset:k?V[0].offset:.5,color:z[0]||"transparent"});var Re=new Za.Z(0,0,0,0,V,!0);return Re[l]=ue,Re[l+"2"]=xe,Re}}}(y,d,l)||y.getVisual("style")[y.getVisual("drawType")];if(ue&&k.type===d.type&&kt===this._step){Ie&&!xe?xe=this._newPolygon(z,$e):xe&&!Ie&&(ze.remove(xe),xe=this._polygon=null),V||this._initOrUpdateEndLabel(t,d,(0,Ia.Lz)(un));var vn=ze.getClipPath();if(vn){var wn=En(this,d,!1,t);Bn.KZ(vn,{shape:wn.shape},t)}else ze.setClipPath(En(this,d,!0,t));ut&&J.updateData(y,{isIgnore:Pt,clipShape:en,disableAnimation:!0,getSymbolPoint:function(lo){return[z[2*lo],z[2*lo+1]]}}),(!Ko(this._stackedOnPoints,$e)||!Ko(this._points,z))&&(Re?this._doUpdateAnimation(y,$e,d,l,kt,Ge,St):(kt&&(z=co(z,d,kt,St),$e&&($e=co($e,d,kt,St))),ue.setShape({points:z}),xe&&xe.setShape({points:z,stackedOnPoints:$e})))}else ut&&J.updateData(y,{isIgnore:Pt,clipShape:en,disableAnimation:!0,getSymbolPoint:function(lo){return[z[2*lo],z[2*lo+1]]}}),Re&&this._initSymbolLabelAnimation(y,d,en),kt&&(z=co(z,d,kt,St),$e&&($e=co($e,d,kt,St))),ue=this._newPolyline(z),Ie?xe=this._newPolygon(z,$e):xe&&(ze.remove(xe),xe=this._polygon=null),V||this._initOrUpdateEndLabel(t,d,(0,Ia.Lz)(un)),ze.setClipPath(En(this,d,!0,t));var Zn=t.getModel("emphasis"),ur=Zn.get("focus"),or=Zn.get("blurScope"),kr=Zn.get("disabled");ue.useStyle(M.defaults(x.getLineStyle(),{fill:"none",stroke:un,lineJoin:"bevel"})),(0,er.WO)(ue,t,"lineStyle"),ue.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(ue.getState("emphasis").style.lineWidth=+ue.style.lineWidth+1),(0,Qn.A)(ue).seriesIndex=t.seriesIndex,(0,er.k5)(ue,ur,or,kr);var ii=Ni(t.get("smooth")),Gi=t.get("smoothMonotone");if(ue.setShape({smooth:ii,smoothMonotone:Gi,connectNulls:St}),xe){var Fi=y.getCalculationInfo("stackedOnSeries"),Ci=0;xe.useStyle(M.defaults(w.getAreaStyle(),{fill:un,opacity:.7,lineJoin:"bevel",decal:y.getVisual("style").decal})),Fi&&(Ci=Ni(Fi.get("smooth"))),xe.setShape({smooth:ii,stackedOnSmooth:Ci,smoothMonotone:Gi,connectNulls:St}),(0,er.WO)(xe,t,"areaStyle"),(0,Qn.A)(xe).seriesIndex=t.seriesIndex,(0,er.k5)(xe,ur,or,kr)}var wa=function(lo){h._changePolyState(lo)};y.eachItemGraphicEl(function(lo){lo&&(lo.onHoverStateChange=wa)}),this._polyline.onHoverStateChange=wa,this._data=y,this._coordSys=d,this._stackedOnPoints=$e,this._points=z,this._step=kt,this._valueOrigin=Ge,t.get("triggerLineEvent")&&(this.packEventData(t,ue),xe&&this.packEventData(t,xe))},r.prototype.packEventData=function(t,a){(0,Qn.A)(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},r.prototype.highlight=function(t,a,l,h){var d=t.getData(),p=Hr.gO(d,h);if(this._changePolyState("emphasis"),!(p instanceof Array)&&null!=p&&p>=0){var y=d.getLayout("points"),x=d.getItemGraphicEl(p);if(!x){var w=y[2*p],z=y[2*p+1];if(isNaN(w)||isNaN(z)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(w,z))return;var V=t.get("zlevel")||0,k=t.get("z")||0;(x=new bo(d,p)).x=w,x.y=z,x.setZ(V,k);var J=x.getSymbolPath().getTextContent();J&&(J.zlevel=V,J.z=k,J.z2=this._polyline.z2+1),x.__temp=!0,d.setItemGraphicEl(p,x),x.stopSymbolAnimation(!0),this.group.add(x)}x.highlight()}else Oi.Z.prototype.highlight.call(this,t,a,l,h)},r.prototype.downplay=function(t,a,l,h){var d=t.getData(),p=Hr.gO(d,h);if(this._changePolyState("normal"),null!=p&&p>=0){var y=d.getItemGraphicEl(p);y&&(y.__temp?(d.setItemGraphicEl(p,null),this.group.remove(y)):y.downplay())}else Oi.Z.prototype.downplay.call(this,t,a,l,h)},r.prototype._changePolyState=function(t){var a=this._polygon;(0,er.Gl)(this._polyline,t),a&&(0,er.Gl)(a,t)},r.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Gs({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},r.prototype._newPolygon=function(t,a){var l=this._polygon;return l&&this._lineGroup.remove(l),l=new e1({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(l),this._polygon=l,l},r.prototype._initSymbolLabelAnimation=function(t,a,l){var h,d,p=a.getBaseAxis(),y=p.inverse;"cartesian2d"===a.type?(h=p.isHorizontal(),d=!1):"polar"===a.type&&(h="angle"===p.dim,d=!0);var x=t.hostModel,w=x.get("animationDuration");M.isFunction(w)&&(w=w(null));var z=x.get("animationDelay")||0,V=M.isFunction(z)?z(null):z;t.eachItemGraphicEl(function(k,J){var ue=k;if(ue){var ze=void 0,Re=void 0,Ie=void 0;if(l)if(d){var Ge=l,Qe=a.pointToCoord([k.x,k.y]);h?(ze=Ge.startAngle,Re=Ge.endAngle,Ie=-Qe[1]/180*Math.PI):(ze=Ge.r0,Re=Ge.r,Ie=Qe[0])}else h?(ze=l.x,Re=l.x+l.width,Ie=k.x):(ze=l.y+l.height,Re=l.y,Ie=k.y);var ut=Re===ze?0:(Ie-ze)/(Re-ze);y&&(ut=1-ut);var St=M.isFunction(z)?z(J):w*ut+V,Pt=ue.getSymbolPath(),Vt=Pt.getTextContent();ue.attr({scaleX:0,scaleY:0}),ue.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:St}),Vt&&Vt.animateFrom({style:{opacity:0}},{duration:300,delay:St}),Pt.disableLabelAnimation=!0}})},r.prototype._initOrUpdateEndLabel=function(t,a,l){var h=t.getModel("endLabel");if(Lt(t)){var d=t.getData(),p=this._polyline,y=d.getLayout("points");if(!y)return p.removeTextContent(),void(this._endLabel=null);var x=this._endLabel;x||((x=this._endLabel=new Yt.ZP({z2:200})).ignoreClip=!0,p.setTextContent(this._endLabel),p.disableLabelAnimation=!0);var w=function dn(o){for(var r=o.length/2;r>0&&Ut(o[2*r-2],o[2*r-1]);r--);return r-1}(y);w>=0&&((0,hr.ni)(p,(0,hr.k3)(t,"endLabel"),{inheritColor:l,labelFetcher:t,labelDataIndex:w,defaultText:function(z,V,k){return null!=k?Ui(d,k):aa(d,z)},enableTextSetter:!0},function Ir(o,r){var t=r.getBaseAxis(),a=t.isHorizontal(),l=t.inverse,h=a?l?"right":"left":"center",d=a?"middle":l?"top":"bottom";return{normal:{align:o.get("align")||h,verticalAlign:o.get("verticalAlign")||d}}}(h,a)),p.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},r.prototype._endLabelOnDuring=function(t,a,l,h,d,p,y){var x=this._endLabel,w=this._polyline;if(x){t<1&&null==h.originalX&&(h.originalX=x.x,h.originalY=x.y);var z=l.getLayout("points"),V=l.hostModel,k=V.get("connectNulls"),J=p.get("precision"),ue=p.get("distance")||0,xe=y.getBaseAxis(),ze=xe.isHorizontal(),Re=xe.inverse,Ie=a.shape,Ge=Re?ze?Ie.x:Ie.y+Ie.height:ze?Ie.x+Ie.width:Ie.y,Qe=(ze?ue:0)*(Re?-1:1),$e=(ze?0:-ue)*(Re?-1:1),ut=ze?"x":"y",St=function yt(o,r,t){for(var h,d,a=o.length/2,l="x"===t?0:1,p=0,y=-1,x=0;x<a;x++)if(d=o[2*x+l],!isNaN(d)&&!isNaN(o[2*x+1-l])){if(0===x){h=d;continue}if(h<=r&&d>=r||h>=r&&d<=r){y=x;break}p=x,h=d}return{range:[p,y],t:(r-h)/(d-h)}}(z,Ge,ut),Pt=St.range,Vt=Pt[1]-Pt[0],kt=void 0;if(Vt>=1){if(Vt>1&&!k){var en=Ze(z,Pt[0]);x.attr({x:en[0]+Qe,y:en[1]+$e}),d&&(kt=V.getRawValue(Pt[0]))}else{(en=w.getPointOn(Ge,ut))&&x.attr({x:en[0]+Qe,y:en[1]+$e});var un=V.getRawValue(Pt[0]),vn=V.getRawValue(Pt[1]);d&&(kt=Hr.pk(l,J,un,vn,St.t))}h.lastFrameIndex=Pt[0]}else{var wn=1===t||h.lastFrameIndex>0?Pt[0]:0;en=Ze(z,wn),d&&(kt=V.getRawValue(wn)),x.attr({x:en[0]+Qe,y:en[1]+$e})}d&&(0,hr.qA)(x).setLabelText(kt)}},r.prototype._doUpdateAnimation=function(t,a,l,h,d,p,y){var x=this._polyline,w=this._polygon,z=t.hostModel,V=function vc(o,r,t,a,l,h,d,p){for(var y=function Xc(o,r){var t=[];return r.diff(o).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,l){t.push({cmd:"=",idx:l,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}(o,r),x=[],w=[],z=[],V=[],k=[],J=[],ue=[],xe=vs(l,r,d),ze=o.getLayout("points")||[],Re=r.getLayout("points")||[],Ie=0;Ie<y.length;Ie++){var Ge=y[Ie],Qe=!0,$e=void 0,ut=void 0;switch(Ge.cmd){case"=":var St=ze[$e=2*Ge.idx],Pt=ze[$e+1],Vt=Re[ut=2*Ge.idx1],kt=Re[ut+1];(isNaN(St)||isNaN(Pt))&&(St=Vt,Pt=kt),x.push(St,Pt),w.push(Vt,kt),z.push(t[$e],t[$e+1]),V.push(a[ut],a[ut+1]),ue.push(r.getRawIndex(Ge.idx1));break;case"+":var en=Ge.idx,un=xe.dataDimsForPoint,vn=l.dataToPoint([r.get(un[0],en),r.get(un[1],en)]);ut=2*en,x.push(vn[0],vn[1]),w.push(Re[ut],Re[ut+1]);var wn=Po(xe,l,r,en);z.push(wn[0],wn[1]),V.push(a[ut],a[ut+1]),ue.push(r.getRawIndex(en));break;case"-":Qe=!1}Qe&&(k.push(Ge),J.push(J.length))}J.sort(function(wa,lo){return ue[wa]-ue[lo]});var Zn=x.length,ur=(0,Sl.o)(Zn),or=(0,Sl.o)(Zn),kr=(0,Sl.o)(Zn),oi=(0,Sl.o)(Zn),ii=[];for(Ie=0;Ie<J.length;Ie++){var Gi=J[Ie],Fi=2*Ie,Ci=2*Gi;ur[Fi]=x[Ci],ur[Fi+1]=x[Ci+1],or[Fi]=w[Ci],or[Fi+1]=w[Ci+1],kr[Fi]=z[Ci],kr[Fi+1]=z[Ci+1],oi[Fi]=V[Ci],oi[Fi+1]=V[Ci+1],ii[Ie]=k[Gi]}return{current:ur,next:or,stackedOnCurrent:kr,stackedOnNext:oi,status:ii}}(this._data,t,this._stackedOnPoints,a,this._coordSys,0,this._valueOrigin),k=V.current,J=V.stackedOnCurrent,ue=V.next,xe=V.stackedOnNext;if(d&&(k=co(V.current,l,d,y),J=co(V.stackedOnCurrent,l,d,y),ue=co(V.next,l,d,y),xe=co(V.stackedOnNext,l,d,y)),ga(k,ue)>3e3||w&&ga(J,xe)>3e3)return x.stopAnimation(),x.setShape({points:ue}),void(w&&(w.stopAnimation(),w.setShape({points:ue,stackedOnPoints:xe})));x.shape.__points=V.current,x.shape.points=k;var ze={shape:{points:ue}};V.current!==k&&(ze.shape.__points=V.next),x.stopAnimation(),Bn.D(x,ze,z),w&&(w.setShape({points:k,stackedOnPoints:J}),w.stopAnimation(),Bn.D(w,{shape:{stackedOnPoints:xe}},z),x.shape.points!==w.shape.points&&(w.shape.points=x.shape.points));for(var Re=[],Ie=V.status,Ge=0;Ge<Ie.length;Ge++)if("="===Ie[Ge].cmd){var $e=t.getItemGraphicEl(Ie[Ge].idx1);$e&&Re.push({el:$e,ptIdx:Ge})}x.animators&&x.animators.length&&x.animators[0].during(function(){w&&w.dirtyShape();for(var ut=x.shape.__points,St=0;St<Re.length;St++){var Pt=Re[St].el,Vt=2*Re[St].ptIdx;Pt.x=ut[Vt],Pt.y=ut[Vt+1],Pt.markRedraw()}})},r.prototype.remove=function(t){var a=this.group,l=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),l&&l.eachItemGraphicEl(function(h,d){h.__temp&&(a.remove(h),l.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},r.type="line",r}(Oi.Z);var ma=C(3649);function ts(o,r){return{seriesType:o,plan:(0,ma.Z)(),reset:function(t){var a=t.getData(),l=t.coordinateSystem,d=r||t.pipelineContext.large;if(l){var p=(0,M.map)(l.dimensions,function(k){return a.mapDimension(k)}).slice(0,2),y=p.length,x=a.getCalculationInfo("stackResultDimension");(0,Oa.M)(a,p[0])&&(p[0]=x),(0,Oa.M)(a,p[1])&&(p[1]=x);var w=a.getStore(),z=a.getDimensionIndex(p[0]),V=a.getDimensionIndex(p[1]);return y&&{progress:function(k,J){for(var xe=d&&(0,Sl.o)((k.end-k.start)*y),ze=[],Re=[],Ie=k.start,Ge=0;Ie<k.end;Ie++){var Qe=void 0;if(1===y){var $e=w.get(z,Ie);Qe=l.dataToPoint($e,null,Re)}else ze[0]=w.get(z,Ie),ze[1]=w.get(V,Ie),Qe=l.dataToPoint(ze,null,Re);d?(xe[Ge++]=Qe[0],xe[Ge++]=Qe[1]):J.setItemLayout(Ie,Qe.slice())}d&&J.setLayout("points",xe)}}}}}}var Lo={average:function(o){for(var r=0,t=0,a=0;a<o.length;a++)isNaN(o[a])||(r+=o[a],t++);return 0===t?NaN:r/t},sum:function(o){for(var r=0,t=0;t<o.length;t++)r+=o[t]||0;return r},max:function(o){for(var r=-1/0,t=0;t<o.length;t++)o[t]>r&&(r=o[t]);return isFinite(r)?r:NaN},min:function(o){for(var r=1/0,t=0;t<o.length;t++)o[t]<r&&(r=o[t]);return isFinite(r)?r:NaN},nearest:function(o){return o[0]}},ko=function(o){return Math.round(o.length/2)};function hl(o){return{seriesType:o,reset:function(r,t,a){var l=r.getData(),h=r.get("sampling"),d=r.coordinateSystem,p=l.count();if(p>10&&"cartesian2d"===d.type&&h){var y=d.getBaseAxis(),x=d.getOtherAxis(y),w=y.getExtent(),z=a.getDevicePixelRatio(),V=Math.abs(w[1]-w[0])*(z||1),k=Math.round(p/V);if(isFinite(k)&&k>1){"lttb"===h&&r.setData(l.lttbDownSample(l.mapDimension(x.dim),1/k));var J=void 0;(0,M.isString)(h)?J=Lo[h]:(0,M.isFunction)(h)&&(J=h),J&&r.setData(l.downSample(l.mapDimension(x.dim),1/k,J,ko))}}}}}var Ws=C(4611),Is=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){return(0,Qt.Z)(null,this,{useEncodeDefaulter:!0})},r.prototype.getMarkerPosition=function(t,a,l){var h=this.coordinateSystem;if(h&&h.clampData){var d=h.clampData(t),p=h.dataToPoint(d);if(l)(0,M.each)(h.getAxes(),function(V,k){if("category"===V.type&&null!=a){var J=V.getTicksCoords(),ue=d[k],xe="x1"===a[k]||"y1"===a[k];if(xe&&(ue+=1),J.length<2)return;if(2===J.length)return void(p[k]=V.toGlobalCoord(V.getExtent()[xe?1:0]));for(var ze=void 0,Re=void 0,Ie=1,Ge=0;Ge<J.length;Ge++){var Qe=J[Ge].coord,$e=Ge===J.length-1?J[Ge-1].tickValue+Ie:J[Ge].tickValue;if($e===ue){Re=Qe;break}if($e<ue)ze=Qe;else if(null!=ze&&$e>ue){Re=(Qe+ze)/2;break}1===Ge&&(Ie=$e-J[0].tickValue)}null==Re&&(ze?ze&&(Re=J[J.length-1].coord):Re=J[0].coord),p[k]=V.toGlobalCoord(Re)}});else{var y=this.getData(),x=y.getLayout("offset"),w=y.getLayout("size"),z=h.getBaseAxis().isHorizontal()?0:1;p[z]+=x+w/2}return p}return[NaN,NaN]},r.type="series.__base_bar__",r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},r}(xn.Z);xn.Z.registerClass(Is);const $a=Is;var uo=C(7692);const ns=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(){return(0,Qt.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},r.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},r.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>t&&(t=a),t},r.prototype.brushSelector=function(t,a,l){return l.rect(a.getItemLayout(t))},r.type="series.bar",r.dependencies=["grid","polar"],r.defaultOption=(0,uo.ZL)($a.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),r}($a);var ho=C(9724),r1=function o(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};const La=function(o){function r(t){var a=o.call(this,t)||this;return a.type="sausage",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new r1},r.prototype.buildPath=function(t,a){var l=a.cx,h=a.cy,d=Math.max(a.r0||0,0),p=Math.max(a.r,0),y=.5*(p-d),x=d+y,w=a.startAngle,z=a.endAngle,V=a.clockwise,k=2*Math.PI,J=V?z-w<k:w-z<k;J||(w=z-(V?k:-k));var ue=Math.cos(w),xe=Math.sin(w),ze=Math.cos(z),Re=Math.sin(z);J?(t.moveTo(ue*d+l,xe*d+h),t.arc(ue*x+l,xe*x+h,y,-Math.PI+w,w,!V)):t.moveTo(ue*p+l,xe*p+h),t.arc(l,h,p,w,z,!V),t.arc(ze*x+l,Re*x+h,y,z-2*Math.PI,z-Math.PI,!V),0!==d&&t.arc(l,h,d,z,w,V)},r}(pe.ZP);function Xa(o,r,t){return r*Math.sin(o)*(t?-1:1)}function Ks(o,r,t){return r*Math.cos(o)*(t?1:-1)}function rs(o,r,t){var a=o.get("borderRadius");if(null==a)return t?{cornerRadius:0}:null;(0,M.isArray)(a)||(a=[a,a,a,a]);var l=Math.abs(r.r||0-r.r0||0);return{cornerRadius:(0,M.map)(a,function(h){return(0,Me.GM)(h,l)})}}var El=Math.max,pc=Math.min,za=function(o){function r(){var t=o.call(this)||this;return t.type=r.type,t._isFirstFrame=!0,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){this._model=t,this._removeOnRenderedListener(l),this._updateDrawMode(t);var d=t.get("coordinateSystem");("cartesian2d"===d||"polar"===d)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,a,l):this._renderNormal(t,a,l,h))},r.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},r.prototype.incrementalRender=function(t,a){this._progressiveEls=[],this._incrementalRenderLarge(t,a)},r.prototype.eachRendered=function(t){(0,dr.traverseElements)(this._progressiveEls||this.group,t)},r.prototype._updateDrawMode=function(t){var a=t.pipelineContext.large;(null==this._isLargeDraw||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},r.prototype._renderNormal=function(t,a,l,h){var z,d=this.group,p=t.getData(),y=this._data,x=t.coordinateSystem,w=x.getBaseAxis();"cartesian2d"===x.type?z=w.isHorizontal():"polar"===x.type&&(z="angle"===w.dim);var V=t.isAnimationEnabled()?t:null,k=function Ii(o,r){var t=o.get("realtimeSort",!0),a=r.getBaseAxis();if(t&&"category"===a.type&&"cartesian2d"===r.type)return{baseAxis:a,otherAxis:r.getOtherAxis(a)}}(t,x);k&&this._enableRealtimeSort(k,p,l);var J=t.get("clip",!0)||k,ue=function gc(o,r){var t=o.getArea&&o.getArea();if(ms(o,"cartesian2d")){var a=o.getBaseAxis();if("category"!==a.type||!a.onBand){var l=r.getLayout("bandWidth");a.isHorizontal()?(t.x-=l,t.width+=2*l):(t.y-=l,t.height+=2*l)}}return t}(x,p);d.removeClipPath();var xe=t.get("roundCap",!0),ze=t.get("showBackground",!0),Re=t.getModel("backgroundStyle"),Ie=Re.get("borderRadius")||0,Ge=[],Qe=this._backgroundEls,$e=h&&h.isInitSort,ut=h&&"changeAxisOrder"===h.type;function St(kt){var en=Oo[x.type](p,kt),un=function mc(o,r,t){return new("polar"===o.type?gi.C:Ei.Z)({shape:_s(r,t,o),silent:!0,z2:0})}(x,z,en);return un.useStyle(Re.getItemStyle()),un.setShape("cartesian2d"===x.type?"r":"cornerRadius",Ie),Ge[kt]=un,un}p.diff(y).add(function(kt){var en=p.getItemModel(kt),un=Oo[x.type](p,kt,en);if(ze&&St(kt),p.hasValue(kt)&&Mi[x.type](un)){var vn=!1;J&&(vn=Or[x.type](ue,un));var wn=_i[x.type](t,p,kt,un,z,V,w.model,!1,xe);k&&(wn.forceLabelAnimation=!0),Nl(wn,p,kt,en,un,t,z,"polar"===x.type),$e?wn.attr({shape:un}):k?ys(k,V,wn,un,kt,z,!1,!1):(0,Bn.KZ)(wn,{shape:un},t,kt),p.setItemGraphicEl(kt,wn),d.add(wn),wn.ignore=vn}}).update(function(kt,en){var un=p.getItemModel(kt),vn=Oo[x.type](p,kt,un);if(ze){var wn=void 0;0===Qe.length?wn=St(en):((wn=Qe[en]).useStyle(Re.getItemStyle()),wn.setShape("cartesian2d"===x.type?"r":"cornerRadius",Ie),Ge[kt]=wn);var Zn=Oo[x.type](p,kt),ur=_s(z,Zn,x);(0,Bn.D)(wn,{shape:ur},V,kt)}var or=y.getItemGraphicEl(en);if(p.hasValue(kt)&&Mi[x.type](vn)){var kr=!1;if(J&&(kr=Or[x.type](ue,vn))&&d.remove(or),or?(0,Bn.Zi)(or):or=_i[x.type](t,p,kt,vn,z,V,w.model,!!or,xe),k&&(or.forceLabelAnimation=!0),ut){var oi=or.getTextContent();if(oi){var ii=(0,hr.qA)(oi);null!=ii.prevValue&&(ii.prevValue=ii.value)}}else Nl(or,p,kt,un,vn,t,z,"polar"===x.type);$e?or.attr({shape:vn}):k?ys(k,V,or,vn,kt,z,!0,ut):(0,Bn.D)(or,{shape:vn},t,kt,null),p.setItemGraphicEl(kt,or),or.ignore=kr,d.add(or)}else d.remove(or)}).remove(function(kt){var en=y.getItemGraphicEl(kt);en&&(0,Bn.XD)(en,t,kt)}).execute();var Pt=this._backgroundGroup||(this._backgroundGroup=new yn.Z);Pt.removeAll();for(var Vt=0;Vt<Ge.length;++Vt)Pt.add(Ge[Vt]);d.add(Pt),this._backgroundEls=Ge,this._data=p},r.prototype._renderLarge=function(t,a,l){this._clear(),o1(t,this.group),this._updateLargeClip(t)},r.prototype._incrementalRenderLarge=function(t,a){this._removeBackground(),o1(a,this.group,this._progressiveEls,!0)},r.prototype._updateLargeClip=function(t){var a=t.get("clip",!0)&&js(t.coordinateSystem,!1,t),l=this.group;a?l.setClipPath(a):l.removeClipPath()},r.prototype._enableRealtimeSort=function(t,a,l){var h=this;if(a.count()){var d=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,t,l),this._isFirstFrame=!1;else{var p=function(y){var x=a.getItemGraphicEl(y),w=x&&x.shape;return w&&Math.abs(d.isHorizontal()?w.height:w.width)||0};this._onRendered=function(){h._updateSortWithinSameData(a,p,d,l)},l.getZr().on("rendered",this._onRendered)}}},r.prototype._dataSort=function(t,a,l){var h=[];return t.each(t.mapDimension(a.dim),function(d,p){var y=l(p);h.push({dataIndex:p,mappedValue:y=y??NaN,ordinalNumber:d})}),h.sort(function(d,p){return p.mappedValue-d.mappedValue}),{ordinalNumbers:(0,M.map)(h,function(d){return d.ordinalNumber})}},r.prototype._isOrderChangedWithinSameData=function(t,a,l){for(var h=l.scale,d=t.mapDimension(l.dim),p=Number.MAX_VALUE,y=0,x=h.getOrdinalMeta().categories.length;y<x;++y){var w=t.rawIndexOf(d,h.getRawOrdinalNumber(y)),z=w<0?Number.MIN_VALUE:a(t.indexOfRawIndex(w));if(z>p)return!0;p=z}return!1},r.prototype._isOrderDifferentInView=function(t,a){for(var l=a.scale,h=l.getExtent(),d=Math.max(0,h[0]),p=Math.min(h[1],l.getOrdinalMeta().categories.length-1);d<=p;++d)if(t.ordinalNumbers[d]!==l.getRawOrdinalNumber(d))return!0},r.prototype._updateSortWithinSameData=function(t,a,l,h){if(this._isOrderChangedWithinSameData(t,a,l)){var d=this._dataSort(t,l,a);this._isOrderDifferentInView(d,l)&&(this._removeOnRenderedListener(h),h.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",axisId:l.index,sortInfo:d}))}},r.prototype._dispatchInitSort=function(t,a,l){var h=a.baseAxis,d=this._dataSort(t,h,function(p){return t.get(t.mapDimension(a.otherAxis.dim),p)});l.dispatchAction({type:"changeAxisOrder",componentType:h.dim+"Axis",isInitSort:!0,axisId:h.index,sortInfo:d})},r.prototype.remove=function(t,a){this._clear(this._model),this._removeOnRenderedListener(a)},r.prototype.dispose=function(t,a){this._removeOnRenderedListener(a)},r.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},r.prototype._clear=function(t){var a=this.group,l=this._data;t&&t.isAnimationEnabled()&&l&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],l.eachItemGraphicEl(function(h){(0,Bn.XD)(h,t,(0,Qn.A)(h).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},r.type="bar",r}(Oi.Z),Or={cartesian2d:function(o,r){var t=r.width<0?-1:1,a=r.height<0?-1:1;t<0&&(r.x+=r.width,r.width=-r.width),a<0&&(r.y+=r.height,r.height=-r.height);var l=o.x+o.width,h=o.y+o.height,d=El(r.x,o.x),p=pc(r.x+r.width,l),y=El(r.y,o.y),x=pc(r.y+r.height,h),w=p<d,z=x<y;return r.x=w&&d>l?p:d,r.y=z&&y>h?x:y,r.width=w?0:p-d,r.height=z?0:x-y,t<0&&(r.x+=r.width,r.width=-r.width),a<0&&(r.y+=r.height,r.height=-r.height),w||z},polar:function(o,r){var t=r.r0<=r.r?1:-1;if(t<0){var a=r.r;r.r=r.r0,r.r0=a}var l=pc(r.r,o.r),h=El(r.r0,o.r0);r.r=l,r.r0=h;var d=l-h<0;return t<0&&(a=r.r,r.r=r.r0,r.r0=a),d}},_i={cartesian2d:function(o,r,t,a,l,h,d,p,y){var x=new Ei.Z({shape:(0,M.extend)({},a),z2:1});return x.__dataIndex=t,x.name="item",h&&(x.shape[l?"height":"width"]=0),x},polar:function(o,r,t,a,l,h,d,p,y){var x=!l&&y?La:gi.C,w=new x({shape:a,z2:1});w.name="item";var z=bi(l);if(w.calculateTextPosition=function ro(o,r){var t=(r=r||{}).isRoundCap;return function(a,l,h){var d=l.position;if(!d||d instanceof Array)return(0,Me.wI)(a,l,h);var p=o(d),y=null!=l.distance?l.distance:5,x=this.shape,w=x.cx,z=x.cy,V=x.r,k=x.r0,J=(V+k)/2,ue=x.startAngle,xe=x.endAngle,ze=(ue+xe)/2,Re=t?Math.abs(V-k)/2:0,Ie=Math.cos,Ge=Math.sin,Qe=w+V*Ie(ue),$e=z+V*Ge(ue),ut="left",St="top";switch(p){case"startArc":Qe=w+(k-y)*Ie(ze),$e=z+(k-y)*Ge(ze),ut="center",St="top";break;case"insideStartArc":Qe=w+(k+y)*Ie(ze),$e=z+(k+y)*Ge(ze),ut="center",St="bottom";break;case"startAngle":Qe=w+J*Ie(ue)+Xa(ue,y+Re,!1),$e=z+J*Ge(ue)+Ks(ue,y+Re,!1),ut="right",St="middle";break;case"insideStartAngle":Qe=w+J*Ie(ue)+Xa(ue,-y+Re,!1),$e=z+J*Ge(ue)+Ks(ue,-y+Re,!1),ut="left",St="middle";break;case"middle":Qe=w+J*Ie(ze),$e=z+J*Ge(ze),ut="center",St="middle";break;case"endArc":Qe=w+(V+y)*Ie(ze),$e=z+(V+y)*Ge(ze),ut="center",St="bottom";break;case"insideEndArc":Qe=w+(V-y)*Ie(ze),$e=z+(V-y)*Ge(ze),ut="center",St="top";break;case"endAngle":Qe=w+J*Ie(xe)+Xa(xe,y+Re,!0),$e=z+J*Ge(xe)+Ks(xe,y+Re,!0),ut="left",St="middle";break;case"insideEndAngle":Qe=w+J*Ie(xe)+Xa(xe,-y+Re,!0),$e=z+J*Ge(xe)+Ks(xe,-y+Re,!0),ut="right",St="middle";break;default:return(0,Me.wI)(a,l,h)}return(a=a||{}).x=Qe,a.y=$e,a.align=ut,a.verticalAlign=St,a}}(z,{isRoundCap:x===La}),h){var k=l?"r":"endAngle",J={};w.shape[k]=l?a.r0:a.startAngle,J[k]=a[k],(p?Bn.D:Bn.KZ)(w,{shape:J},h)}return w}};function ys(o,r,t,a,l,h,d,p){var y,x;h?(x={x:a.x,width:a.width},y={y:a.y,height:a.height}):(x={y:a.y,height:a.height},y={x:a.x,width:a.width}),p||(d?Bn.D:Bn.KZ)(t,{shape:y},r,l,null),(d?Bn.D:Bn.KZ)(t,{shape:x},r?o.baseAxis.model:null,l)}function wo(o,r){for(var t=0;t<r.length;t++)if(!isFinite(o[r[t]]))return!0;return!1}var Rs=["x","y","width","height"],Vs=["cx","cy","r","startAngle","endAngle"],Mi={cartesian2d:function(o){return!wo(o,Rs)},polar:function(o){return!wo(o,Vs)}},Oo={cartesian2d:function(o,r,t){var a=o.getItemLayout(r),l=t?function Qc(o,r){var t=o.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var a=o.get(["itemStyle","borderWidth"])||0,l=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),h=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height);return Math.min(a,l,h)}(t,a):0,h=a.width>0?1:-1,d=a.height>0?1:-1;return{x:a.x+h*l/2,y:a.y+d*l/2,width:a.width-h*l,height:a.height-d*l}},polar:function(o,r,t){var a=o.getItemLayout(r);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function bi(o){return t=o?"Arc":"Angle",function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+t;default:return a}};var t}function Nl(o,r,t,a,l,h,d,p){var y=r.getItemVisual(t,"style");if(p){if(!h.get("roundCap")){var w=o.shape,z=rs(a.getModel("itemStyle"),w,!0);(0,M.extend)(w,z),o.setShape(w)}}else{var x=a.get(["itemStyle","borderRadius"])||0;o.setShape("r",x)}o.useStyle(y);var V=a.getShallow("cursor");V&&o.attr("cursor",V);var k=p?d?l.r>=l.r0?"endArc":"startArc":l.endAngle>=l.startAngle?"endAngle":"startAngle":d?l.height>=0?"bottom":"top":l.width>=0?"right":"left",J=(0,hr.k3)(a);(0,hr.ni)(o,J,{labelFetcher:h,labelDataIndex:t,defaultText:aa(h.getData(),t),inheritColor:y.fill,defaultOpacity:y.opacity,defaultOutsidePosition:k});var ue=o.getTextContent();if(p&&ue){var xe=a.get(["label","position"]);o.textConfig.inside="middle"===xe||null,function Zs(o,r,t,a){if((0,M.isNumber)(a))o.setTextConfig({rotation:a});else if((0,M.isArray)(r))o.setTextConfig({rotation:0});else{var y,l=o.shape,h=l.clockwise?l.startAngle:l.endAngle,d=l.clockwise?l.endAngle:l.startAngle,p=(h+d)/2,x=t(r);switch(x){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":y=p;break;case"startAngle":case"insideStartAngle":y=h;break;case"endAngle":case"insideEndAngle":y=d;break;default:return void o.setTextConfig({rotation:0})}var w=1.5*Math.PI-y;"middle"===x&&w>Math.PI/2&&w<1.5*Math.PI&&(w-=Math.PI),o.setTextConfig({rotation:w})}}(o,"outside"===xe?k:xe,bi(d),a.get(["label","rotate"]))}(0,hr.pe)(ue,J,h.getRawValue(t),function(Re){return Ui(r,Re)});var ze=a.getModel(["emphasis"]);(0,er.k5)(o,ze.get("focus"),ze.get("blurScope"),ze.get("disabled")),(0,er.WO)(o,a),function zl(o){return null!=o.startAngle&&null!=o.endAngle&&o.startAngle===o.endAngle}(l)&&(o.style.fill="none",o.style.stroke="none",(0,M.each)(o.states,function(Re){Re.style&&(Re.style.fill=Re.style.stroke="none")}))}var a1=function o(){},Ra=function(o){function r(t){var a=o.call(this,t)||this;return a.type="largeBar",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new a1},r.prototype.buildPath=function(t,a){for(var l=a.points,h=this.baseDimIdx,d=1-this.baseDimIdx,p=[],y=[],x=this.barWidth,w=0;w<l.length;w+=3)y[h]=x,y[d]=l[w+2],p[h]=l[w+h],p[d]=l[w+d],t.rect(p[0],p[1],y[0],y[1])},r}(pe.ZP);function o1(o,r,t,a){var l=o.getData(),h=l.getLayout("valueAxisHorizontal")?1:0,d=l.getLayout("largeDataIndices"),p=l.getLayout("size"),y=o.getModel("backgroundStyle"),x=l.getLayout("largeBackgroundPoints");if(x){var w=new Ra({shape:{points:x},incremental:!!a,silent:!0,z2:0});w.baseDimIdx=h,w.largeDataIndices=d,w.barWidth=p,w.useStyle(y.getItemStyle()),r.add(w),t&&t.push(w)}var z=new Ra({shape:{points:l.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});z.baseDimIdx=h,z.largeDataIndices=d,z.barWidth=p,r.add(z),z.useStyle(l.getVisual("style")),(0,Qn.A)(z).seriesIndex=o.seriesIndex,o.get("silent")||(z.on("mousedown",$s),z.on("mousemove",$s)),t&&t.push(z)}var $s=(0,ho.P2)(function(o){var t=function mo(o,r,t){for(var a=o.baseDimIdx,l=1-a,h=o.shape.points,d=o.largeDataIndices,p=[],y=[],x=o.barWidth,w=0,z=h.length/3;w<z;w++){var V=3*w;if(y[a]=x,y[l]=h[V+2],p[a]=h[V+a],p[l]=h[V+l],y[l]<0&&(p[l]+=y[l],y[l]=-y[l]),r>=p[0]&&r<=p[0]+y[0]&&t>=p[1]&&t<=p[1]+y[1])return d[w]}return-1}(this,o.offsetX,o.offsetY);(0,Qn.A)(this).dataIndex=t>=0?t:null},30,!1);function _s(o,r,t){if(ms(t,"cartesian2d")){var a=r,l=t.getArea();return{x:o?a.x:l.x,y:o?l.y:a.y,width:o?a.width:l.width,height:o?l.height:a.height}}return{cx:(l=t.getArea()).cx,cy:l.cy,r0:o?l.r0:r.r0,r:o?l.r:r.r,startAngle:o?r.startAngle:0,endAngle:o?r.endAngle:2*Math.PI}}const Hs=za;var Qs=C(1101),Vr=C(7436),s1=2*Math.PI,E1=Math.PI/180;function yc(o,r){return Vr.ME(o.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function Ms(o,r){var t=yc(o,r),a=o.get("center"),l=o.get("radius");M.isArray(l)||(l=[0,l]);var w,z,h=(0,In.GM)(t.width,r.getWidth()),d=(0,In.GM)(t.height,r.getHeight()),p=Math.min(h,d),y=(0,In.GM)(l[0],p/2),x=(0,In.GM)(l[1],p/2),V=o.coordinateSystem;if(V){var k=V.dataToPoint(a);w=k[0]||0,z=k[1]||0}else M.isArray(a)||(a=[a,a]),w=(0,In.GM)(a[0],h)+t.x,z=(0,In.GM)(a[1],d)+t.y;return{cx:w,cy:z,r0:y,r:x}}function z1(o,r,t){r.eachSeriesByType(o,function(a){var l=a.getData(),h=l.mapDimension("value"),d=yc(a,t),p=Ms(a,t),y=p.cx,x=p.cy,w=p.r,z=p.r0,V=-a.get("startAngle")*E1,k=a.get("minAngle")*E1,J=0;l.each(h,function(Vt){!isNaN(Vt)&&J++});var ue=l.getSum(h),xe=Math.PI/(ue||J)*2,ze=a.get("clockwise"),Re=a.get("roseType"),Ie=a.get("stillShowZeroSum"),Ge=l.getDataExtent(h);Ge[0]=0;var Qe=s1,$e=0,ut=V,St=ze?1:-1;if(l.setLayout({viewRect:d,r:w}),l.each(h,function(Vt,kt){var en;if(isNaN(Vt))l.setItemLayout(kt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:ze,cx:y,cy:x,r0:z,r:Re?NaN:w});else{(en="area"!==Re?0===ue&&Ie?xe:Vt*xe:s1/J)<k?(en=k,Qe-=k):$e+=Vt;var un=ut+St*en;l.setItemLayout(kt,{angle:en,startAngle:ut,endAngle:un,clockwise:ze,cx:y,cy:x,r0:z,r:Re?(0,In.NU)(Vt,Ge,[z,w]):w}),ut=un}}),Qe<s1&&J)if(Qe<=.001){var Pt=s1/J;l.each(h,function(Vt,kt){if(!isNaN(Vt)){var en=l.getItemLayout(kt);en.angle=Pt,en.startAngle=V+St*kt*Pt,en.endAngle=V+St*(kt+1)*Pt}})}else xe=Qe/$e,ut=V,l.each(h,function(Vt,kt){if(!isNaN(Vt)){var en=l.getItemLayout(kt),un=en.angle===k?k:Vt*xe;en.startAngle=ut,en.endAngle=ut+St*un,ut+=St*un}})})}function dl(o){return{seriesType:o,reset:function(r,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var l=r.getData();l.filterSelf(function(h){for(var d=l.getName(h),p=0;p<a.length;p++)if(!a[p].isSelected(d))return!1;return!0})}}}}var ft=C(2459),gt=C(7881),rt=C(8673),mt=C(1508),Dt=Math.PI/180;function Bt(o,r,t,a,l,h,d,p,y,x){if(!(o.length<2)){for(var V=o.length,k=0;k<V;k++)"outer"===o[k].position&&"labelLine"===o[k].labelAlignTo&&(o[k].linePoints[1][0]+=o[k].label.x-x,o[k].label.x=x);(0,mt.GI)(o,y,y+d)&&function z(ue){for(var xe={list:[],maxY:0},ze={list:[],maxY:0},Re=0;Re<ue.length;Re++)if("none"===ue[Re].labelAlignTo){var Ie=ue[Re],Ge=Ie.label.y>t?ze:xe,Qe=Math.abs(Ie.label.y-t);if(Qe>=Ge.maxY){var $e=Ie.label.x-r-Ie.len2*l,ut=a+Ie.len,St=Math.abs($e)<ut?Math.sqrt(Qe*Qe/(1-$e*$e/ut/ut)):ut;Ge.rB=St,Ge.maxY=Qe}Ge.list.push(Ie)}w(xe),w(ze)}(o)}function w(ue){for(var xe=ue.rB,ze=xe*xe,Re=0;Re<ue.list.length;Re++){var Ie=ue.list[Re],Ge=Math.abs(Ie.label.y-t),Qe=a+Ie.len,$e=Qe*Qe,ut=Math.sqrt((1-Math.abs(Ge*Ge/ze))*$e),St=r+(ut+Ie.len2)*l;Kn(Ie,Ie.targetTextWidth-(St-Ie.label.x)*l,!0),Ie.label.x=St}}}function Kn(o,r,t){if(void 0===t&&(t=!1),null==o.labelStyleWidth){var a=o.label,l=a.style,h=o.rect,d=l.backgroundColor,p=l.padding,y=p?p[1]+p[3]:0,x=l.overflow,w=h.width+(d?0:y);if(r<w||t){var z=h.height;if(x&&x.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",r-y);var V=a.getBoundingRect();a.setStyle("width",Math.ceil(V.width)),a.setStyle("backgroundColor",d)}else{var k=r-y;a.setStyle("width",r<w?k:t?k>o.unconstrainedWidth?null:k:null)}var ue=a.getBoundingRect();h.width=ue.width,h.height=ue.height+((a.style.margin||0)+2.1),h.y-=(h.height-z)/2}}}function Yn(o){return"center"===o.position}var Yr=function(o){function r(t,a,l){var h=o.call(this)||this;h.z2=2;var d=new Yt.ZP;return h.setTextContent(d),h.updateData(t,a,l,!0),h}return(0,st.ZT)(r,o),r.prototype.updateData=function(t,a,l,h){var d=this,p=t.hostModel,y=t.getItemModel(a),x=y.getModel("emphasis"),w=t.getItemLayout(a),z=(0,M.extend)(rs(y.getModel("itemStyle"),w,!0),w);if(isNaN(z.startAngle))d.setShape(z);else{if(h){d.setShape(z);var V=p.getShallow("animationType");p.ecModel.ssr?(Bn.KZ(d,{scaleX:0,scaleY:0},p,{dataIndex:a,isFrom:!0}),d.originX=z.cx,d.originY=z.cy):"scale"===V?(d.shape.r=w.r0,Bn.KZ(d,{shape:{r:w.r}},p,a)):null!=l?(d.setShape({startAngle:l,endAngle:l}),Bn.KZ(d,{shape:{startAngle:w.startAngle,endAngle:w.endAngle}},p,a)):(d.shape.endAngle=w.startAngle,Bn.D(d,{shape:{endAngle:w.endAngle}},p,a))}else(0,Bn.Zi)(d),Bn.D(d,{shape:z},p,a);d.useStyle(t.getItemVisual(a,"style")),(0,er.WO)(d,y);var k=(w.startAngle+w.endAngle)/2,J=p.get("selectedOffset"),ue=Math.cos(k)*J,xe=Math.sin(k)*J,ze=y.getShallow("cursor");ze&&d.attr("cursor",ze),this._updateLabel(p,t,a),d.ensureState("emphasis").shape=(0,M.extend)({r:w.r+(x.get("scale")&&x.get("scaleSize")||0)},rs(x.getModel("itemStyle"),w)),(0,M.extend)(d.ensureState("select"),{x:ue,y:xe,shape:rs(y.getModel(["select","itemStyle"]),w)}),(0,M.extend)(d.ensureState("blur"),{shape:rs(y.getModel(["blur","itemStyle"]),w)});var Re=d.getTextGuideLine(),Ie=d.getTextContent();Re&&(0,M.extend)(Re.ensureState("select"),{x:ue,y:xe}),(0,M.extend)(Ie.ensureState("select"),{x:ue,y:xe}),(0,er.k5)(this,x.get("focus"),x.get("blurScope"),x.get("disabled"))}},r.prototype._updateLabel=function(t,a,l){var h=this,d=a.getItemModel(l),p=d.getModel("labelLine"),y=a.getItemVisual(l,"style"),x=y&&y.fill,w=y&&y.opacity;(0,hr.ni)(h,(0,hr.k3)(d),{labelFetcher:a.hostModel,labelDataIndex:l,inheritColor:x,defaultOpacity:w,defaultText:t.getFormattedLabel(l,"normal")||a.getName(l)});var z=h.getTextContent();h.setTextConfig({position:null,rotation:null}),z.attr({z2:10});var V=t.get(["label","position"]);if("outside"!==V&&"outer"!==V)h.removeTextGuideLine();else{var k=this.getTextGuideLine();k||(k=new ft.Z,this.setTextGuideLine(k)),(0,rt.Iu)(this,(0,rt.$x)(d),{stroke:x,opacity:(0,M.retrieve3)(p.get(["lineStyle","opacity"]),w,1)})}},r}(gi.C);const Sn=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){var x,d=t.getData(),p=this._data,y=this.group;if(!p&&d.count()>0){for(var w=d.getItemLayout(0),z=1;isNaN(w&&w.startAngle)&&z<d.count();++z)w=d.getItemLayout(z);w&&(x=w.startAngle)}if(this._emptyCircleSector&&y.remove(this._emptyCircleSector),0===d.count()&&t.get("showEmptyCircle")){var V=new gi.C({shape:Ms(t,l)});V.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=V,y.add(V)}d.diff(p).add(function(k){var J=new Yr(d,k,x);d.setItemGraphicEl(k,J),y.add(J)}).update(function(k,J){var ue=p.getItemGraphicEl(J);ue.updateData(d,k,x),ue.off("click"),y.add(ue),d.setItemGraphicEl(k,ue)}).remove(function(k){var J=p.getItemGraphicEl(k);Bn.XD(J,t,k)}).execute(),function Sr(o){var a,l,r=o.getData(),t=[],h=!1,d=(o.get("minShowLabelAngle")||0)*Dt,p=r.getLayout("viewRect"),y=r.getLayout("r"),x=p.width,w=p.x,z=p.y,V=p.height;function k($e){$e.ignore=!0}r.each(function($e){var ut=r.getItemGraphicEl($e),St=ut.shape,Pt=ut.getTextContent(),Vt=ut.getTextGuideLine(),kt=r.getItemModel($e),en=kt.getModel("label"),un=en.get("position")||kt.get(["emphasis","label","position"]),vn=en.get("distanceToLabelLine"),wn=en.get("alignTo"),Zn=(0,In.GM)(en.get("edgeDistance"),x),ur=en.get("bleedMargin"),or=kt.getModel("labelLine"),kr=or.get("length");kr=(0,In.GM)(kr,x);var oi=or.get("length2");if(oi=(0,In.GM)(oi,x),Math.abs(St.endAngle-St.startAngle)<d)return(0,M.each)(Pt.states,k),Pt.ignore=!0,void(Vt&&((0,M.each)(Vt.states,k),Vt.ignore=!0));if(function J($e){if(!$e.ignore)return!0;for(var ut in $e.states)if(!1===$e.states[ut].ignore)return!0;return!1}(Pt)){var Ci,wa,lo,Ma,ii=(St.startAngle+St.endAngle)/2,Gi=Math.cos(ii),Fi=Math.sin(ii);a=St.cx,l=St.cy;var Ti="inside"===un||"inner"===un;if("center"===un)Ci=St.cx,wa=St.cy,Ma="center";else{var qa=(Ti?(St.r+St.r0)/2*Gi:St.r*Gi)+a,Ha=(Ti?(St.r+St.r0)/2*Fi:St.r*Fi)+l;if(Ci=qa+3*Gi,wa=Ha+3*Fi,!Ti){var no=qa+Gi*(kr+y-St.r),bl=Ha+Fi*(kr+y-St.r),wl=no+(Gi<0?-1:1)*oi;Ci="edge"===wn?Gi<0?w+Zn:w+x-Zn:wl+(Gi<0?-vn:vn),wa=bl,lo=[[qa,Ha],[no,bl],[wl,bl]]}Ma=Ti?"center":"edge"===wn?Gi>0?"right":"left":Gi>0?"left":"right"}var cl=Math.PI,Ps=0,Jl=en.get("rotate");if((0,M.isNumber)(Jl))Ps=Jl*(cl/180);else if("center"===un)Ps=0;else if("radial"===Jl||!0===Jl)Ps=Gi<0?-ii+cl:-ii;else if("tangential"===Jl&&"outside"!==un&&"outer"!==un){var fc=Math.atan2(Gi,Fi);fc<0&&(fc=2*cl+fc),Fi>0&&(fc=cl+fc),Ps=fc-cl}if(h=!!Ps,Pt.x=Ci,Pt.y=wa,Pt.rotation=Ps,Pt.setStyle({verticalAlign:"middle"}),Ti){Pt.setStyle({align:Ma});var k9=Pt.states.select;k9&&(k9.x+=Pt.x,k9.y+=Pt.y)}else{var lu=Pt.getBoundingRect().clone();lu.applyTransform(Pt.getComputedTransform());var B9=(Pt.style.margin||0)+2.1;lu.y-=B9/2,lu.height+=B9,t.push({label:Pt,labelLine:Vt,position:un,len:kr,len2:oi,minTurnAngle:or.get("minTurnAngle"),maxSurfaceAngle:or.get("maxSurfaceAngle"),surfaceNormal:new gt.Z(Gi,Fi),linePoints:lo,textAlign:Ma,labelDistance:vn,labelAlignTo:wn,edgeDistance:Zn,bleedMargin:ur,rect:lu,unconstrainedWidth:lu.width,labelStyleWidth:Pt.style.width})}ut.setTextConfig({inside:Ti})}}),!h&&o.get("avoidLabelOverlap")&&function ln(o,r,t,a,l,h,d,p){for(var y=[],x=[],w=Number.MAX_VALUE,z=-Number.MAX_VALUE,V=0;V<o.length;V++){var k=o[V].label;Yn(o[V])||(k.x<r?(w=Math.min(w,k.x),y.push(o[V])):(z=Math.max(z,k.x),x.push(o[V])))}for(V=0;V<o.length;V++)if(!Yn(J=o[V])&&J.linePoints){if(null!=J.labelStyleWidth)continue;k=J.label;var xe,ue=J.linePoints;J.targetTextWidth=xe="edge"===J.labelAlignTo?k.x<r?ue[2][0]-J.labelDistance-d-J.edgeDistance:d+l-J.edgeDistance-ue[2][0]-J.labelDistance:"labelLine"===J.labelAlignTo?k.x<r?w-d-J.bleedMargin:d+l-z-J.bleedMargin:k.x<r?k.x-d-J.bleedMargin:d+l-k.x-J.bleedMargin,Kn(J,xe)}for(Bt(x,r,t,a,1,0,h,0,p,z),Bt(y,r,t,a,-1,0,h,0,p,w),V=0;V<o.length;V++){var J;if(!Yn(J=o[V])&&J.linePoints){var Re=(k=J.label).style.padding,Qe=J.rect.width+(k.style.backgroundColor?0:Re?Re[1]+Re[3]:0),$e=(ue=J.linePoints)[1][0]-ue[2][0];"edge"===J.labelAlignTo?ue[2][0]=k.x<r?d+J.edgeDistance+Qe+J.labelDistance:d+l-J.edgeDistance-Qe-J.labelDistance:(ue[2][0]=k.x<r?k.x+J.labelDistance:k.x-J.labelDistance,ue[1][0]=ue[2][0]+$e),ue[1][1]=ue[2][1]=k.y}}}(t,a,l,y,x,V,w,z);for(var ue=0;ue<t.length;ue++){var xe=t[ue],ze=xe.label,Re=xe.labelLine,Ie=isNaN(ze.x)||isNaN(ze.y);if(ze){ze.setStyle({align:xe.textAlign}),Ie&&((0,M.each)(ze.states,k),ze.ignore=!0);var Ge=ze.states.select;Ge&&(Ge.x+=ze.x,Ge.y+=ze.y)}if(Re){var Qe=xe.linePoints;Ie||!Qe?((0,M.each)(Re.states,k),Re.ignore=!0):((0,rt.qK)(Qe,xe.minTurnAngle),(0,rt._A)(Qe,xe.surfaceNormal,xe.maxSurfaceAngle),Re.setShape({points:Qe}),ze.__hostTarget.textGuideLineConfig={anchor:new gt.Z(Qe[0][0],Qe[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=d)},r.prototype.dispose=function(){},r.prototype.containPoint=function(t,a){var h=a.getData().getItemLayout(0);if(h){var d=t[0]-h.cx,p=t[1]-h.cy,y=Math.sqrt(d*d+p*p);return y<=h.r&&y>=h.r0}},r.type="pie",r}(Oi.Z);var fn=C(2596),Hn=C(3040);function nr(o,r,t){r=(0,M.isArray)(r)&&{coordDimensions:r}||(0,M.extend)({encodeDefine:o.getEncode()},r);var a=o.getSource(),l=(0,fn.Z)(a,r).dimensions,h=new Hn.Z(l,o);return h.initData(a,t),h}var pr=C(9475);const jr=function(){function o(r,t){this._getDataWithEncodedVisual=r,this._getRawData=t}return o.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)},o.prototype.containName=function(r){return this._getRawData().indexOfName(r)>=0},o.prototype.indexOfName=function(r){return this._getDataWithEncodedVisual().indexOfName(r)},o.prototype.getItemVisual=function(r,t){return this._getDataWithEncodedVisual().getItemVisual(r,t)},o}();var De=Hr.Yf();const Fe=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.init=function(t){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new jr(M.bind(this.getData,this),M.bind(this.getRawData,this)),this._defaultLabelLine(t)},r.prototype.mergeOption=function(){o.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){return nr(this,{coordDimensions:["value"],encodeDefaulter:M.curry(pr.Ss,this)})},r.prototype.getDataParams=function(t){var a=this.getData(),l=De(a),h=l.seats;if(!h){var d=[];a.each(a.mapDimension("value"),function(y){d.push(y)}),h=l.seats=(0,In.HD)(d,a.hostModel.get("percentPrecision"))}var p=o.prototype.getDataParams.call(this,t);return p.percent=h[t]||0,p.$vars.push("percent"),p},r.prototype._defaultLabelLine=function(t){Hr.Cc(t,"labelLine",["show"]);var a=t.labelLine,l=t.emphasis.labelLine;a.show=a.show&&t.label.show,l.show=l.show&&t.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(xn.Z),$n=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.hasSymbolVisual=!0,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){return(0,Qt.Z)(null,this,{useEncodeDefaulter:!0})},r.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},r.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},r.prototype.brushSelector=function(t,a,l){return l.point(a.getItemLayout(t))},r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},r.type="series.scatter",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},r}(xn.Z);var _r=C(3066),da=function o(){},fa=function(o){function r(t){var a=o.call(this,t)||this;return a._off=0,a.hoverDataIdx=-1,a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new da},r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.buildPath=function(t,a){var z,l=a.points,h=a.size,d=this.symbolProxy,p=d.shape,y=t.getContext?t.getContext():t,w=this.softClipShape;if(y&&h[0]<4)this._ctx=y;else{for(this._ctx=null,z=this._off;z<l.length;){var V=l[z++],k=l[z++];isNaN(V)||isNaN(k)||w&&!w.contain(V,k)||(p.x=V-h[0]/2,p.y=k-h[1]/2,p.width=h[0],p.height=h[1],d.buildPath(t,p,!0))}this.incremental&&(this._off=z,this.notClear=!0)}},r.prototype.afterBrush=function(){var p,t=this.shape,a=t.points,l=t.size,h=this._ctx,d=this.softClipShape;if(h){for(p=this._off;p<a.length;){var y=a[p++],x=a[p++];isNaN(y)||isNaN(x)||d&&!d.contain(y,x)||h.fillRect(y-l[0]/2,x-l[1]/2,l[0],l[1])}this.incremental&&(this._off=p,this.notClear=!0)}},r.prototype.findDataIndex=function(t,a){for(var l=this.shape,h=l.points,d=l.size,p=Math.max(d[0],4),y=Math.max(d[1],4),x=h.length/2-1;x>=0;x--){var w=2*x,z=h[w]-p/2,V=h[w+1]-y/2;if(t>=z&&a>=V&&t<=z+p&&a<=V+y)return x}return-1},r.prototype.contain=function(t,a){var l=this.transformCoordToLocal(t,a);return this.getBoundingRect().contain(t=l[0],a=l[1])?(this.hoverDataIdx=this.findDataIndex(t,a))>=0:(this.hoverDataIdx=-1,!1)},r.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var a=this.shape,l=a.points,h=a.size,d=h[0],p=h[1],y=1/0,x=1/0,w=-1/0,z=-1/0,V=0;V<l.length;){var k=l[V++],J=l[V++];y=Math.min(k,y),w=Math.max(k,w),x=Math.min(J,x),z=Math.max(J,z)}t=this._rect=new _r.Z(y-d/2,x-p/2,w-y+d,z-x+p)}return t},r}(pe.ZP);const ka=function(){function o(){this.group=new yn.Z}return o.prototype.updateData=function(r,t){this._clear();var a=this._create();a.setShape({points:r.getLayout("points")}),this._setCommon(a,r,t)},o.prototype.updateLayout=function(r){var t=r.getLayout("points");this.group.eachChild(function(a){null!=a.startIndex&&(t=new Float32Array(t.buffer,4*a.startIndex*2,2*(a.endIndex-a.startIndex))),a.setShape("points",t),a.reset()})},o.prototype.incrementalPrepareUpdate=function(r){this._clear()},o.prototype.incrementalUpdate=function(r,t,a){var l=this._newAdded[0],h=t.getLayout("points"),d=l&&l.shape.points;if(d&&d.length<2e4){var p=d.length,y=new Float32Array(p+h.length);y.set(d),y.set(h,p),l.endIndex=r.end,l.setShape({points:y})}else{this._newAdded=[];var x=this._create();x.startIndex=r.start,x.endIndex=r.end,x.incremental=!0,x.setShape({points:h}),this._setCommon(x,t,a)}},o.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},o.prototype._create=function(){var r=new fa({cursor:"default"});return r.ignoreCoarsePointer=!0,this.group.add(r),this._newAdded.push(r),r},o.prototype._setCommon=function(r,t,a){var l=t.hostModel;a=a||{};var h=t.getVisual("symbolSize");r.setShape("size",h instanceof Array?h:[h,h]),r.softClipShape=a.clipShape||null,r.symbolProxy=(0,Pn.th)(t.getVisual("symbol"),0,0,0,0),r.setColor=r.symbolProxy.setColor;var d=r.shape.size[0]<4;r.useStyle(l.getModel("itemStyle").getItemStyle(d?["color","shadowBlur","shadowColor"]:["color"]));var p=t.getVisual("style"),y=p&&p.fill;y&&r.setColor(y);var x=(0,Qn.A)(r);x.seriesIndex=l.seriesIndex,r.on("mousemove",function(w){x.dataIndex=null;var z=r.hoverDataIdx;z>=0&&(x.dataIndex=z+(r.startIndex||0))})},o.prototype.remove=function(){this._clear()},o.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},o}(),Fa=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=t.getData();this._updateSymbolDraw(h,t).updateData(h,{clipShape:this._getClipShape(t)}),this._finished=!0},r.prototype.incrementalPrepareRender=function(t,a,l){var h=t.getData();this._updateSymbolDraw(h,t).incrementalPrepareUpdate(h),this._finished=!1},r.prototype.incrementalRender=function(t,a,l){this._symbolDraw.incrementalUpdate(t,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=t.end===a.getData().count()},r.prototype.updateTransform=function(t,a,l){var h=t.getData();if(this.group.dirty(),!this._finished||h.count()>1e4)return{update:!0};var d=ts("").reset(t,a,l);d.progress&&d.progress({start:0,end:h.count(),count:h.count()},h),this._symbolDraw.updateLayout(h)},r.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},r.prototype._getClipShape=function(t){var a=t.coordinateSystem,l=a&&a.getArea&&a.getArea();return t.get("clip",!0)?l:null},r.prototype._updateSymbolDraw=function(t,a){var l=this._symbolDraw,d=a.pipelineContext.large;return(!l||d!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=d?new ka:new yi,this._isLargeDraw=d,this.group.removeAll()),this.group.add(l.group),l},r.prototype.remove=function(t,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},r.prototype.dispose=function(){},r.type="scatter",r}(Oi.Z);var xa=C(907),va=C(562);const fl=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.type="grid",r.dependencies=["xAxis","yAxis"],r.layoutMode="box",r.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},r}(va.Z);var xs=C(6129),vl=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Hr.C6).models[0]},r.type="cartesian2dAxis",r}(va.Z);M.mixin(vl,xs.W);var X4={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Jc=M.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},X4),_c=M.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},X4);const qc={category:Jc,value:_c,time:M.merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},_c),log:M.defaults({logBase:10},_c)};var ba=C(4532),Q4={value:1,category:1,time:1,log:1};function gl(o,r,t,a){(0,M.each)(Q4,function(l,h){var d=(0,M.merge)((0,M.merge)({},qc[h],!0),a,!0),p=function(y){function x(){var w=null!==y&&y.apply(this,arguments)||this;return w.type=r+"Axis."+h,w}return(0,st.ZT)(x,y),x.prototype.mergeDefaultAndTheme=function(w,z){var V=(0,Vr.YD)(this),k=V?(0,Vr.tE)(w):{},J=z.getTheme();(0,M.merge)(w,J.get(h+"Axis")),(0,M.merge)(w,this.getDefaultOption()),w.type=Ua(w),V&&(0,Vr.dt)(w,k,V)},x.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=ba.Z.createByAxisModel(this))},x.prototype.getCategories=function(w){var z=this.option;if("category"===z.type)return w?z.data:this.__ordinalMeta.categories},x.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},x.type=r+"Axis."+h,x.defaultOption=d,x}(t);o.registerComponentModel(p)}),o.registerSubTypeDefaulter(r+"Axis",Ua)}function Ua(o){return o.type||(o.data?"category":"value")}var io=C(5353),e4=C(7070),Ji=C(1751),Jr=C(8060),l1=["x","y"];function Js(o){return"interval"===o.type||"time"===o.type}const ml=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=l1,t}return(0,st.ZT)(r,o),r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(Js(t)&&Js(a)){var l=t.getExtent(),h=a.getExtent(),d=this.dataToPoint([l[0],h[0]]),p=this.dataToPoint([l[1],h[1]]),y=l[1]-l[0],x=h[1]-h[0];if(y&&x){var w=(p[0]-d[0])/y,z=(p[1]-d[1])/x,J=this._transform=[w,0,0,z,d[0]-l[0]*w,d[1]-h[0]*z];this._invTransform=(0,Ji.invert)([],J)}}},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},r.prototype.containPoint=function(t){var a=this.getAxis("x"),l=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&l.contain(l.toLocalCoord(t[1]))},r.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},r.prototype.containZone=function(t,a){var l=this.dataToPoint(t),h=this.dataToPoint(a),d=this.getArea(),p=new _r.Z(l[0],l[1],h[0]-l[0],h[1]-l[1]);return d.intersect(p)},r.prototype.dataToPoint=function(t,a,l){l=l||[];var h=t[0],d=t[1];if(this._transform&&null!=h&&isFinite(h)&&null!=d&&isFinite(d))return(0,Jr.applyTransform)(l,t,this._transform);var p=this.getAxis("x"),y=this.getAxis("y");return l[0]=p.toGlobalCoord(p.dataToCoord(h,a)),l[1]=y.toGlobalCoord(y.dataToCoord(d,a)),l},r.prototype.clampData=function(t,a){var l=this.getAxis("x").scale,h=this.getAxis("y").scale,d=l.getExtent(),p=h.getExtent(),y=l.parse(t[0]),x=h.parse(t[1]);return(a=a||[])[0]=Math.min(Math.max(Math.min(d[0],d[1]),y),Math.max(d[0],d[1])),a[1]=Math.min(Math.max(Math.min(p[0],p[1]),x),Math.max(p[0],p[1])),a},r.prototype.pointToData=function(t,a){var l=[];if(this._invTransform)return(0,Jr.applyTransform)(l,t,this._invTransform);var h=this.getAxis("x"),d=this.getAxis("y");return l[0]=h.coordToData(h.toLocalCoord(t[0]),a),l[1]=d.coordToData(d.toLocalCoord(t[1]),a),l},r.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},r.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),l=Math.min(t[0],t[1]),h=Math.min(a[0],a[1]),d=Math.max(t[0],t[1])-l,p=Math.max(a[0],a[1])-h;return new _r.Z(l,h,d,p)},r}(e4.Z);var Al=C(838);const j2=function(o){function r(t,a,l,h,d){var p=o.call(this,t,a,l)||this;return p.index=0,p.type=h||"value",p.position=d||"bottom",p}return(0,st.ZT)(r,o),r.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},r.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},r.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),a)},r.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},r}(Al.Z);function Q1(o,r,t){t=t||{};var a=o.coordinateSystem,l=r.axis,h={},d=l.getAxesOnZeroOf()[0],p=l.position,y=d?"onZero":p,x=l.dim,w=a.getRect(),z=[w.x,w.x+w.width,w.y,w.y+w.height],V={left:0,right:1,top:0,bottom:1,onZero:2},k=r.get("offset")||0,J="x"===x?[z[2]-k,z[3]+k]:[z[0]-k,z[1]+k];if(d){var ue=d.toGlobalCoord(d.dataToCoord(0));J[V.onZero]=Math.max(Math.min(ue,J[1]),J[0])}h.position=["y"===x?J[V[y]]:z[0],"x"===x?J[V[y]]:z[3]],h.rotation=Math.PI/2*("x"===x?0:1),h.labelDirection=h.tickDirection=h.nameDirection={top:-1,bottom:1,left:-1,right:1}[p],h.labelOffset=d?J[V[p]]-J[V.onZero]:0,r.get(["axisTick","inside"])&&(h.tickDirection=-h.tickDirection),M.retrieve(t.labelInside,r.get(["axisLabel","inside"]))&&(h.labelDirection=-h.labelDirection);var ze=r.get(["axisLabel","rotate"]);return h.labelRotate="top"===y?-ze:ze,h.z2=1,h}function c1(o){return"cartesian2d"===o.get("coordinateSystem")}function qs(o){var r={xAxisModel:null,yAxisModel:null};return M.each(r,function(t,a){var l=a.replace(/Model$/,""),h=o.getReferringComponents(l,Hr.C6).models[0];r[a]=h}),r}var u1=C(9367),zi=C(9099),j0=Math.log;function I8(o,r,t){var a=zi.Z.prototype,l=a.getTicks.call(t),h=a.getTicks.call(t,!0),d=l.length-1,p=a.getInterval.call(t),y=(0,io.Xv)(o,r),x=y.extent,w=y.fixMin,z=y.fixMax;if("log"===o.type){var V=j0(o.base);x=[j0(x[0])/V,j0(x[1])/V]}o.setExtent(x[0],x[1]),o.calcNiceExtent({splitNumber:d,fixMin:w,fixMax:z});var k=a.getExtent.call(o);w&&(x[0]=k[0]),z&&(x[1]=k[1]);var J=a.getInterval.call(o),ue=x[0],xe=x[1];if(w&&z)J=(xe-ue)/d;else if(w)for(xe=x[0]+J*d;xe<x[1]&&isFinite(xe)&&isFinite(x[1]);)J=(0,u1.r1)(J),xe=x[0]+J*d;else if(z)for(ue=x[1]-J*d;ue>x[0]&&isFinite(ue)&&isFinite(x[0]);)J=(0,u1.r1)(J),ue=x[1]-J*d;else{o.getTicks().length-1>d&&(J=(0,u1.r1)(J));var Re=J*d;xe=Math.ceil(x[1]/J)*J,(ue=(0,In.NM)(xe-Re))<0&&x[0]>=0?(ue=0,xe=(0,In.NM)(Re)):xe>0&&x[1]<=0&&(xe=0,ue=-(0,In.NM)(Re))}var Ie=(l[0].value-h[0].value)/p,Ge=(l[d].value-h[d].value)/p;a.setExtent.call(o,ue+J*Ie,xe+J*Ge),a.setInterval.call(o,J),(Ie||Ge)&&a.setNiceExtent.call(o,ue+J,xe-J)}function q4(o,r){return o.getCoordSysModel()===r}function W2(o,r,t,a){t.getAxesOnZeroOf=function(){return h?[h]:[]};var h,l=o[r],d=t.model,p=d.get(["axisLine","onZero"]),y=d.get(["axisLine","onZeroAxisIndex"]);if(p){if(null!=y)Z2(l[y])&&(h=l[y]);else for(var x in l)if(l.hasOwnProperty(x)&&Z2(l[x])&&!a[w(l[x])]){h=l[x];break}h&&(a[w(h)]=!0)}function w(z){return z.dim+"_"+z.index}}function Z2(o){return o&&"category"!==o.type&&"time"!==o.type&&(0,io.Yb)(o)}const Vf=function(){function o(r,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=l1,this._initCartesian(r,t,a),this.model=r}return o.prototype.getRect=function(){return this._rect},o.prototype.update=function(r,t){var a=this._axesMap;function l(d){var p,y=(0,M.keys)(d),x=y.length;if(x){for(var w=[],z=x-1;z>=0;z--){var k=d[+y[z]],J=k.model,ue=k.scale;(0,u1.lM)(ue)&&J.get("alignTicks")&&null==J.get("interval")?w.push(k):((0,io.Jk)(ue,J),(0,u1.lM)(ue)&&(p=k))}w.length&&(p||(p=w.pop(),(0,io.Jk)(p.scale,p.model)),(0,M.each)(w,function(xe){I8(xe.scale,xe.model,p.scale)}))}}this._updateScale(r,this.model),l(a.x),l(a.y);var h={};(0,M.each)(a.x,function(d){W2(a,"y",d,h)}),(0,M.each)(a.y,function(d){W2(a,"x",d,h)}),this.resize(this.model,t)},o.prototype.resize=function(r,t,a){var l=r.getBoxLayoutParams(),h=!a&&r.get("containLabel"),d=(0,Vr.ME)(l,{width:t.getWidth(),height:t.getHeight()});this._rect=d;var p=this._axesList;function y(){(0,M.each)(p,function(x){var w=x.isHorizontal(),z=w?[0,d.width]:[0,d.height],V=x.inverse?1:0;x.setExtent(z[V],z[1-V]),function e2(o,r){var t=o.getExtent(),a=t[0]+t[1];o.toGlobalCoord="x"===o.dim?function(l){return l+r}:function(l){return a-l+r},o.toLocalCoord="x"===o.dim?function(l){return l-r}:function(l){return a-l+r}}(x,w?d.x:d.y)})}y(),h&&((0,M.each)(p,function(x){if(!x.model.get(["axisLabel","inside"])){var w=(0,io.Do)(x);if(w){var z=x.isHorizontal()?"height":"width",V=x.model.get(["axisLabel","margin"]);d[z]-=w[z]+V,"top"===x.position?d.y+=w.height+V:"left"===x.position&&(d.x+=w.width+V)}}}),y()),(0,M.each)(this._coordsList,function(x){x.calcAffineTransform()})},o.prototype.getAxis=function(r,t){var a=this._axesMap[r];if(null!=a)return a[t||0]},o.prototype.getAxes=function(){return this._axesList.slice()},o.prototype.getCartesian=function(r,t){if(null!=r&&null!=t)return this._coordsMap["x"+r+"y"+t];(0,M.isObject)(r)&&(t=r.yAxisIndex,r=r.xAxisIndex);for(var l=0,h=this._coordsList;l<h.length;l++)if(h[l].getAxis("x").index===r||h[l].getAxis("y").index===t)return h[l]},o.prototype.getCartesians=function(){return this._coordsList.slice()},o.prototype.convertToPixel=function(r,t,a){var l=this._findConvertTarget(t);return l.cartesian?l.cartesian.dataToPoint(a):l.axis?l.axis.toGlobalCoord(l.axis.dataToCoord(a)):null},o.prototype.convertFromPixel=function(r,t,a){var l=this._findConvertTarget(t);return l.cartesian?l.cartesian.pointToData(a):l.axis?l.axis.coordToData(l.axis.toLocalCoord(a)):null},o.prototype._findConvertTarget=function(r){var p,y,t=r.seriesModel,a=r.xAxisModel||t&&t.getReferringComponents("xAxis",Hr.C6).models[0],l=r.yAxisModel||t&&t.getReferringComponents("yAxis",Hr.C6).models[0],h=r.gridModel;return t?(0,M.indexOf)(this._coordsList,p=t.coordinateSystem)<0&&(p=null):a&&l?p=this.getCartesian(a.componentIndex,l.componentIndex):a?y=this.getAxis("x",a.componentIndex):l?y=this.getAxis("y",l.componentIndex):h&&h.coordinateSystem===this&&(p=this._coordsList[0]),{cartesian:p,axis:y}},o.prototype.containPoint=function(r){var t=this._coordsList[0];if(t)return t.containPoint(r)},o.prototype._initCartesian=function(r,t,a){var l=this,h=this,d={left:!1,right:!1,top:!1,bottom:!1},p={x:{},y:{}},y={x:0,y:0};if(t.eachComponent("xAxis",x("x"),this),t.eachComponent("yAxis",x("y"),this),!y.x||!y.y)return this._axesMap={},void(this._axesList=[]);function x(w){return function(z,V){if(q4(z,r)){var k=z.get("position");"x"===w?"top"!==k&&"bottom"!==k&&(k=d.bottom?"top":"bottom"):"left"!==k&&"right"!==k&&(k=d.left?"right":"left"),d[k]=!0;var J=new j2(w,(0,io.aG)(z),[0,0],z.get("type"),k);J.onBand="category"===J.type&&z.get("boundaryGap"),J.inverse=z.get("inverse"),z.axis=J,J.model=z,J.grid=h,J.index=V,h._axesList.push(J),p[w][V]=J,y[w]++}}}this._axesMap=p,(0,M.each)(p.x,function(w,z){(0,M.each)(p.y,function(V,k){var J="x"+z+"y"+k,ue=new ml(J);ue.master=l,ue.model=r,l._coordsMap[J]=ue,l._coordsList.push(ue),ue.addAxis(w),ue.addAxis(V)})})},o.prototype._updateScale=function(r,t){function a(l,h){(0,M.each)((0,io.PY)(l,h.dim),function(d){h.scale.unionExtentFromData(l,d)})}(0,M.each)(this._axesList,function(l){if(l.scale.setExtent(1/0,-1/0),"category"===l.type){var h=l.model.get("categorySortInfo");l.scale.setSortInfo(h)}}),r.eachSeries(function(l){if(c1(l)){var h=qs(l),d=h.xAxisModel,p=h.yAxisModel;if(!q4(d,t)||!q4(p,t))return;var y=this.getCartesian(d.componentIndex,p.componentIndex),x=l.getData(),w=y.getAxis("x"),z=y.getAxis("y");a(x,w),a(x,z)}},this)},o.prototype.getTooltipAxes=function(r){var t=[],a=[];return(0,M.each)(this.getCartesians(),function(l){var h=null!=r&&"auto"!==r?l.getAxis(r):l.getBaseAxis(),d=l.getOtherAxis(h);(0,M.indexOf)(t,h)<0&&t.push(h),(0,M.indexOf)(a,d)<0&&a.push(d)}),{baseAxes:t,otherAxes:a}},o.create=function(r,t){var a=[];return r.eachComponent("grid",function(l,h){var d=new o(l,r,t);d.name="grid_"+h,d.resize(l,t,!0),l.coordinateSystem=d,a.push(d)}),r.eachSeries(function(l){if(c1(l)){var h=qs(l),d=h.xAxisModel,p=h.yAxisModel,y=d.getCoordSysModel();l.coordinateSystem=y.coordinateSystem.getCartesian(d.componentIndex,p.componentIndex)}}),a},o.dimensions=l1,o}();var Ns=C(2139),Fo=C(2590),xc=Math.PI,t2=function(){function o(r,t){this.group=new yn.Z,this.opt=t,this.axisModel=r,(0,M.defaults)(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new yn.Z({x:t.position[0],y:t.position[1],rotation:t.rotation});a.updateTransform(),this._transformGroup=a}return o.prototype.hasBuilder=function(r){return!!rr[r]},o.prototype.add=function(r){rr[r](this.opt,this.axisModel,this.group,this._transformGroup)},o.prototype.getGroup=function(){return this.group},o.innerTextLayout=function(r,t,a){var h,d,l=(0,In.wW)(t-r);return(0,In.mW)(l)?(d=a>0?"top":"bottom",h="center"):(0,In.mW)(l-xc)?(d=a>0?"bottom":"top",h="center"):(d="middle",h=l>0&&l<xc?a>0?"right":"left":a>0?"left":"right"),{rotation:l,textAlign:h,textVerticalAlign:d}},o.makeAxisEventDataBase=function(r){var t={componentType:r.mainType,componentIndex:r.componentIndex};return t[r.mainType+"Index"]=r.componentIndex,t},o.isLabelSilent=function(r){var t=r.get("tooltip");return r.get("silent")||!(r.get("triggerEvent")||t&&t.show)},o}(),rr={axisLine:function(o,r,t,a){var l=r.get(["axisLine","show"]);if("auto"===l&&o.handleAutoShown&&(l=o.handleAutoShown("axisLine")),l){var h=r.axis.getExtent(),d=a.transform,p=[h[0],0],y=[h[1],0],x=p[0]>y[0];d&&((0,Jr.applyTransform)(p,p,d),(0,Jr.applyTransform)(y,y,d));var w=(0,M.extend)({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),z=new Ns.Z({shape:{x1:p[0],y1:p[1],x2:y[0],y2:y[1]},style:w,strokeContainThreshold:o.strokeContainThreshold||5,silent:!0,z2:1});dr.subPixelOptimizeLine(z.shape,z.style.lineWidth),z.anid="line",t.add(z);var V=r.get(["axisLine","symbol"]);if(null!=V){var k=r.get(["axisLine","symbolSize"]);(0,M.isString)(V)&&(V=[V,V]),((0,M.isString)(k)||(0,M.isNumber)(k))&&(k=[k,k]);var J=(0,Pn.Cq)(r.get(["axisLine","symbolOffset"])||0,k),ue=k[0],xe=k[1];(0,M.each)([{rotate:o.rotation+Math.PI/2,offset:J[0],r:0},{rotate:o.rotation-Math.PI/2,offset:J[1],r:Math.sqrt((p[0]-y[0])*(p[0]-y[0])+(p[1]-y[1])*(p[1]-y[1]))}],function(ze,Re){if("none"!==V[Re]&&null!=V[Re]){var Ie=(0,Pn.th)(V[Re],-ue/2,-xe/2,ue,xe,w.stroke,!0),Ge=ze.r+ze.offset,Qe=x?y:p;Ie.attr({rotation:ze.rotate,x:Qe[0]+Ge*Math.cos(o.rotation),y:Qe[1]-Ge*Math.sin(o.rotation),silent:!0,z2:11}),t.add(Ie)}})}}},axisTickLabel:function(o,r,t,a){var l=function kl(o,r,t,a){var l=t.axis,h=t.getModel("axisTick"),d=h.get("show");if("auto"===d&&a.handleAutoShown&&(d=a.handleAutoShown("axisTick")),d&&!l.scale.isBlank()){for(var p=h.getModel("lineStyle"),y=a.tickDirection*h.get("length"),w=bc(l.getTicksCoords(),r.transform,y,(0,M.defaults)(p.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),z=0;z<w.length;z++)o.add(w[z]);return w}}(t,a,r,o),h=function n2(o,r,t,a){var l=t.axis;if((0,M.retrieve)(a.axisLabelShow,t.get(["axisLabel","show"]))&&!l.scale.isBlank()){var d=t.getModel("axisLabel"),p=d.get("margin"),y=l.getViewLabels(),x=((0,M.retrieve)(a.labelRotate,d.get("rotate"))||0)*xc/180,w=t2.innerTextLayout(a.rotation,x,a.labelDirection),z=t.getCategories&&t.getCategories(!0),V=[],k=t2.isLabelSilent(t),J=t.get("triggerEvent");return(0,M.each)(y,function(ue,xe){var ze="ordinal"===l.scale.type?l.scale.getRawOrdinalNumber(ue.tickValue):ue.tickValue,Re=ue.formattedLabel,Ie=ue.rawLabel,Ge=d;if(z&&z[ze]){var Qe=z[ze];(0,M.isObject)(Qe)&&Qe.textStyle&&(Ge=new Fo.Z(Qe.textStyle,d,t.ecModel))}var $e=Ge.getTextColor()||t.get(["axisLine","lineStyle","color"]),ut=l.dataToCoord(ze),St=new Yt.ZP({x:ut,y:a.labelOffset+a.labelDirection*p,rotation:w.rotation,silent:k,z2:10+(ue.level||0),style:(0,hr.Lr)(Ge,{text:Re,align:Ge.getShallow("align",!0)||w.textAlign,verticalAlign:Ge.getShallow("verticalAlign",!0)||Ge.getShallow("baseline",!0)||w.textVerticalAlign,fill:(0,M.isFunction)($e)?$e("category"===l.type?Ie:"value"===l.type?ze+"":ze,xe):$e})});if(St.anid="label_"+ze,J){var Pt=t2.makeAxisEventDataBase(t);Pt.targetType="axisLabel",Pt.value=Ie,Pt.tickIndex=xe,"category"===l.type&&(Pt.dataIndex=ze),(0,Qn.A)(St).eventData=Pt}r.add(St),St.updateTransform(),V.push(St),o.add(St),St.decomposeTransform()}),V}}(t,a,r,o);if(function W0(o,r,t){if(!(0,io.WY)(o.axis)){var a=o.get(["axisLabel","showMinLabel"]),l=o.get(["axisLabel","showMaxLabel"]),h=(r=r||[])[0],d=r[1],p=r[r.length-1],y=r[r.length-2],x=(t=t||[])[0],w=t[1],z=t[t.length-1],V=t[t.length-2];!1===a?(Pl(h),Pl(x)):Ca(h,d)&&(a?(Pl(d),Pl(w)):(Pl(h),Pl(x))),!1===l?(Pl(p),Pl(z)):Ca(y,p)&&(l?(Pl(y),Pl(V)):(Pl(p),Pl(z)))}}(r,h,l),function Z0(o,r,t,a){var l=t.axis,h=t.getModel("minorTick");if(h.get("show")&&!l.scale.isBlank()){var d=l.getMinorTicksCoords();if(d.length)for(var p=h.getModel("lineStyle"),y=a*h.get("length"),x=(0,M.defaults)(p.getLineStyle(),(0,M.defaults)(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),w=0;w<d.length;w++)for(var z=bc(d[w],r.transform,y,x,"minorticks_"+w),V=0;V<z.length;V++)o.add(z[V])}}(t,a,r,o.tickDirection),r.get(["axisLabel","hideOverlap"])){var d=(0,mt.VT)((0,M.map)(h,function(p){return{label:p,priority:p.z2,defaultAttr:{ignore:p.ignore}}}));(0,mt.yl)(d)}},axisName:function(o,r,t,a){var l=(0,M.retrieve)(o.axisName,r.get("name"));if(l){var V,J,h=r.get("nameLocation"),d=o.nameDirection,p=r.getModel("nameTextStyle"),y=r.get("nameGap")||0,x=r.axis.getExtent(),w=x[0]>x[1]?-1:1,z=["start"===h?x[0]-w*y:"end"===h?x[1]+w*y:(x[0]+x[1])/2,n4(h)?o.labelOffset+d*y:0],k=r.get("nameRotate");null!=k&&(k=k*xc/180),n4(h)?V=t2.innerTextLayout(o.rotation,k??o.rotation,d):(V=function ya(o,r,t,a){var h,d,l=(0,In.wW)(t-o),p=a[0]>a[1],y="start"===r&&!p||"start"!==r&&p;return(0,In.mW)(l-xc/2)?(d=y?"bottom":"top",h="center"):(0,In.mW)(l-1.5*xc)?(d=y?"top":"bottom",h="center"):(d="middle",h=l<1.5*xc&&l>xc/2?y?"left":"right":y?"right":"left"),{rotation:l,textAlign:h,textVerticalAlign:d}}(o.rotation,h,k||0,x),null!=(J=o.axisNameAvailableWidth)&&(J=Math.abs(J/Math.sin(V.rotation)),!isFinite(J)&&(J=null)));var ue=p.getFont(),xe=r.get("nameTruncate",!0)||{},ze=xe.ellipsis,Re=(0,M.retrieve)(o.nameTruncateMaxWidth,xe.maxWidth,J),Ie=new Yt.ZP({x:z[0],y:z[1],rotation:V.rotation,silent:t2.isLabelSilent(r),style:(0,hr.Lr)(p,{text:l,font:ue,overflow:"truncate",width:Re,ellipsis:ze,fill:p.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:p.get("align")||V.textAlign,verticalAlign:p.get("verticalAlign")||V.textVerticalAlign}),z2:1});if(dr.setTooltipConfig({el:Ie,componentModel:r,itemName:l}),Ie.__fullText=l,Ie.anid="name",r.get("triggerEvent")){var Ge=t2.makeAxisEventDataBase(r);Ge.targetType="axisName",Ge.name=l,(0,Qn.A)(Ie).eventData=Ge}a.add(Ie),Ie.updateTransform(),t.add(Ie),Ie.decomposeTransform()}}};function Pl(o){o&&(o.ignore=!0)}function Ca(o,r){var t=o&&o.getBoundingRect().clone(),a=r&&r.getBoundingRect().clone();if(t&&a){var l=Ji.identity([]);return Ji.rotate(l,l,-o.rotation),t.applyTransform(Ji.mul([],l,o.getLocalTransform())),a.applyTransform(Ji.mul([],l,r.getLocalTransform())),t.intersect(a)}}function n4(o){return"middle"===o||"center"===o}function bc(o,r,t,a,l){for(var h=[],d=[],p=[],y=0;y<o.length;y++){var x=o[y].coord;d[0]=x,d[1]=0,p[0]=x,p[1]=t,r&&((0,Jr.applyTransform)(d,d,r),(0,Jr.applyTransform)(p,p,r));var w=new Ns.Z({shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:a,z2:2,autoBatch:!0,silent:!0});dr.subPixelOptimizeLine(w.shape,w.style.lineWidth),w.anid=l+"_"+o[y].tickValue,h.push(w)}return h}const h1=t2;function Ll(o,r){return"all"===o||(0,M.isArray)(o)&&(0,M.indexOf)(o,r)>=0||o===r}function K2(o){var r=(o.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[He(o)]}function Te(o){return!!o.get(["handle","show"])}function He(o){return o.type+"||"+o.id}var Ee={};const tt=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){this.axisPointerClass&&function tl(o){var r=K2(o);if(r){var t=r.axisPointerModel,a=r.axis.scale,l=t.option,h=t.get("status"),d=t.get("value");null!=d&&(d=a.parse(d));var p=Te(t);null==h&&(l.status=p?"show":"hide");var y=a.getExtent().slice();y[0]>y[1]&&y.reverse(),(null==d||d>y[1])&&(d=y[1]),d<y[0]&&(d=y[0]),l.value=d,p&&(l.status=r.axis.scale.isBlank()?"hide":"show")}}(t),o.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,l,!0)},r.prototype.updateAxisPointer=function(t,a,l,h){this._doUpdateAxisPointerClass(t,l,!1)},r.prototype.remove=function(t,a){var l=this._axisPointer;l&&l.remove(a)},r.prototype.dispose=function(t,a){this._disposeAxisPointer(a),o.prototype.dispose.apply(this,arguments)},r.prototype._doUpdateAxisPointerClass=function(t,a,l){var h=r.getAxisPointerClass(this.axisPointerClass);if(h){var d=function $2(o){var r=K2(o);return r&&r.axisPointerModel}(t);d?(this._axisPointer||(this._axisPointer=new h)).render(t,d,a,l):this._disposeAxisPointer(a)}},r.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},r.registerAxisPointerClass=function(t,a){Ee[t]=a},r.getAxisPointerClass=function(t){return t&&Ee[t]},r.type="axis",r}(xa.Z);var bt=(0,Hr.Yf)();function Zt(o,r,t,a){var l=t.axis;if(!l.scale.isBlank()){var h=t.getModel("splitArea"),d=h.getModel("areaStyle"),p=d.get("color"),y=a.coordinateSystem.getRect(),x=l.getTicksCoords({tickModel:h,clamp:!0});if(x.length){var w=p.length,z=bt(o).splitAreaColors,V=M.createHashMap(),k=0;if(z)for(var J=0;J<x.length;J++){var ue=z.get(x[J].tickValue);if(null!=ue){k=(ue+(w-1)*J)%w;break}}var xe=l.toGlobalCoord(x[0].coord),ze=d.getAreaStyle();for(p=M.isArray(p)?p:[p],J=1;J<x.length;J++){var Re=l.toGlobalCoord(x[J].coord),Ie=void 0,Ge=void 0,Qe=void 0,$e=void 0;l.isHorizontal()?(Ge=y.y,$e=y.height,xe=(Ie=xe)+(Qe=Re-Ie)):(Ie=y.x,Qe=y.width,xe=(Ge=xe)+($e=Re-Ge));var ut=x[J-1].tickValue;null!=ut&&V.set(ut,k),r.add(new Ei.Z({anid:null!=ut?"area_"+ut:null,shape:{x:Ie,y:Ge,width:Qe,height:$e},style:M.defaults({fill:p[k]},ze),autoBatch:!0,silent:!0})),k=(k+1)%w}bt(o).splitAreaColors=V}}}function kn(o){bt(o).splitAreaColors=null}var Vn=["axisLine","axisTickLabel","axisName"],Ur=["splitArea","splitLine","minorSplitLine"],Pi=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.axisPointerClass="CartesianAxisPointer",t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){this.group.removeAll();var d=this._axisGroup;if(this._axisGroup=new yn.Z,this.group.add(this._axisGroup),t.get("show")){var p=t.getCoordSysModel(),y=Q1(p,t),x=new h1(t,M.extend({handleAutoShown:function(z){for(var V=p.coordinateSystem.getCartesians(),k=0;k<V.length;k++)if((0,u1.lM)(V[k].getOtherAxis(t.axis).scale))return!0;return!1}},y));M.each(Vn,x.add,x),this._axisGroup.add(x.getGroup()),M.each(Ur,function(z){t.get([z,"show"])&&qi[z](this,this._axisGroup,t,p)},this),h&&"changeAxisOrder"===h.type&&h.isInitSort||dr.groupTransition(d,this._axisGroup,t),o.prototype.render.call(this,t,a,l,h)}},r.prototype.remove=function(){kn(this)},r.type="cartesianAxis",r}(tt),qi={splitLine:function(o,r,t,a){var l=t.axis;if(!l.scale.isBlank()){var h=t.getModel("splitLine"),d=h.getModel("lineStyle"),p=d.get("color");p=M.isArray(p)?p:[p];for(var y=a.coordinateSystem.getRect(),x=l.isHorizontal(),w=0,z=l.getTicksCoords({tickModel:h}),V=[],k=[],J=d.getLineStyle(),ue=0;ue<z.length;ue++){var xe=l.toGlobalCoord(z[ue].coord);x?(V[0]=xe,V[1]=y.y,k[0]=xe,k[1]=y.y+y.height):(V[0]=y.x,V[1]=xe,k[0]=y.x+y.width,k[1]=xe);var ze=w++%p.length,Ie=new Ns.Z({anid:null!=z[ue].tickValue?"line_"+z[ue].tickValue:null,autoBatch:!0,shape:{x1:V[0],y1:V[1],x2:k[0],y2:k[1]},style:M.defaults({stroke:p[ze]},J),silent:!0});dr.subPixelOptimizeLine(Ie.shape,J.lineWidth),r.add(Ie)}}},minorSplitLine:function(o,r,t,a){var l=t.axis,d=t.getModel("minorSplitLine").getModel("lineStyle"),p=a.coordinateSystem.getRect(),y=l.isHorizontal(),x=l.getMinorTicksCoords();if(x.length)for(var w=[],z=[],V=d.getLineStyle(),k=0;k<x.length;k++)for(var J=0;J<x[k].length;J++){var ue=l.toGlobalCoord(x[k][J].coord);y?(w[0]=ue,w[1]=p.y,z[0]=ue,z[1]=p.y+p.height):(w[0]=p.x,w[1]=ue,z[0]=p.x+p.width,z[1]=ue);var xe=new Ns.Z({anid:"minor_line_"+x[k][J].tickValue,autoBatch:!0,shape:{x1:w[0],y1:w[1],x2:z[0],y2:z[1]},style:V,silent:!0});dr.subPixelOptimizeLine(xe.shape,V.lineWidth),r.add(xe)}},splitArea:function(o,r,t,a){Zt(o,r,t,a)}},ao=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="xAxis",r}(Pi),wc=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=ao.type,t}return(0,st.ZT)(r,o),r.type="yAxis",r}(Pi),So=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="grid",t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new Ei.Z({shape:t.coordinateSystem.getRect(),style:(0,M.defaults)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},r.type="grid",r}(xa.Z),Fl={offset:0};function Aa(o){o.registerComponentView(So),o.registerComponentModel(fl),o.registerCoordinateSystem("cartesian2d",Vf),gl(o,"x",vl,Fl),gl(o,"y",vl,Fl),o.registerComponentView(ao),o.registerComponentView(wc),o.registerPreprocessor(function(r){r.xAxis&&r.yAxis&&!r.grid&&(r.grid={})})}function y6(o){o.eachSeriesByType("radar",function(r){var t=r.getData(),a=[],l=r.coordinateSystem;if(l){var h=l.getIndicatorAxes();M.each(h,function(d,p){t.each(t.mapDimension(h[p].dim),function(y,x){a[x]=a[x]||[];var w=l.dataToPoint(y,p);a[x][p]=_6(w)?w:M6(l)})}),t.each(function(d){var p=M.find(a[d],function(y){return _6(y)})||M6(l);a[d].push(p.slice()),t.setItemLayout(d,a[d])})}})}function _6(o){return!isNaN(o[0])&&!isNaN(o[1])}function M6(o){return[o.cx,o.cy]}function x6(o){var r=o.polar;if(r){M.isArray(r)||(r=[r]);var t=[];M.each(r,function(a,l){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),o.radar=o.radar||[],M.isArray(o.radar)||(o.radar=[o.radar]),o.radar.push(a)):t.push(a)}),o.polar=t}M.each(o.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var Ul=C(9213);const r4=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=t.coordinateSystem,d=this.group,p=t.getData(),y=this._data;function x(V,k){var J=V.getItemVisual(k,"symbol")||"circle";if("none"!==J){var ue=Pn.zp(V.getItemVisual(k,"symbolSize")),xe=Pn.th(J,-1,-1,2,2),ze=V.getItemVisual(k,"symbolRotate")||0;return xe.attr({style:{strokeNoScale:!0},z2:100,scaleX:ue[0]/2,scaleY:ue[1]/2,rotation:ze*Math.PI/180||0}),xe}}function w(V,k,J,ue,xe,ze){J.removeAll();for(var Re=0;Re<k.length-1;Re++){var Ie=x(ue,xe);Ie&&(Ie.__dimIdx=Re,V[Re]?(Ie.setPosition(V[Re]),dr[ze?"initProps":"updateProps"](Ie,{x:k[Re][0],y:k[Re][1]},t,xe)):Ie.setPosition(k[Re]),J.add(Ie))}}function z(V){return M.map(V,function(k){return[h.cx,h.cy]})}p.diff(y).add(function(V){var k=p.getItemLayout(V);if(k){var J=new Ul.Z,ue=new ft.Z,xe={shape:{points:k}};J.shape.points=z(k),ue.shape.points=z(k),Bn.KZ(J,xe,t,V),Bn.KZ(ue,xe,t,V);var ze=new yn.Z,Re=new yn.Z;ze.add(ue),ze.add(J),ze.add(Re),w(ue.shape.points,k,Re,p,V,!0),p.setItemGraphicEl(V,ze)}}).update(function(V,k){var J=y.getItemGraphicEl(k),ue=J.childAt(0),xe=J.childAt(1),ze=J.childAt(2),Re={shape:{points:p.getItemLayout(V)}};Re.shape.points&&(w(ue.shape.points,Re.shape.points,ze,p,V,!1),(0,Bn.Zi)(xe),(0,Bn.Zi)(ue),Bn.D(ue,Re,t),Bn.D(xe,Re,t),p.setItemGraphicEl(V,J))}).remove(function(V){d.remove(y.getItemGraphicEl(V))}).execute(),p.eachItemGraphicEl(function(V,k){var J=p.getItemModel(k),ue=V.childAt(0),xe=V.childAt(1),ze=V.childAt(2),Re=p.getItemVisual(k,"style"),Ie=Re.fill;d.add(V),ue.useStyle(M.defaults(J.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Ie})),(0,er.WO)(ue,J,"lineStyle"),(0,er.WO)(xe,J,"areaStyle");var Ge=J.getModel("areaStyle"),Qe=Ge.isEmpty()&&Ge.parentModel.isEmpty();xe.ignore=Qe,M.each(["emphasis","select","blur"],function(St){var Pt=J.getModel([St,"areaStyle"]),Vt=Pt.isEmpty()&&Pt.parentModel.isEmpty();xe.ensureState(St).ignore=Vt&&Qe}),xe.useStyle(M.defaults(Ge.getAreaStyle(),{fill:Ie,opacity:.7,decal:Re.decal}));var $e=J.getModel("emphasis"),ut=$e.getModel("itemStyle").getItemStyle();ze.eachChild(function(St){if(St instanceof me.ZP){var Pt=St.style;St.useStyle(M.extend({image:Pt.image,x:Pt.x,y:Pt.y,width:Pt.width,height:Pt.height},Re))}else St.useStyle(Re),St.setColor(Ie),St.style.strokeNoScale=!0;St.ensureState("emphasis").style=M.clone(ut);var kt=p.getStore().get(p.getDimensionIndex(St.__dimIdx),k);(null==kt||isNaN(kt))&&(kt=""),(0,hr.ni)(St,(0,hr.k3)(J),{labelFetcher:p.hostModel,labelDataIndex:k,labelDimIndex:St.__dimIdx,defaultText:kt,inheritColor:Ie,defaultOpacity:Re.opacity})}),(0,er.k5)(V,$e.get("focus"),$e.get("blurScope"),$e.get("disabled"))}),this._data=p},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.type="radar",r}(Oi.Z);var yo=C(5735);const cu=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.hasSymbolVisual=!0,t}return(0,st.ZT)(r,o),r.prototype.init=function(t){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new jr(M.bind(this.getData,this),M.bind(this.getRawData,this))},r.prototype.getInitialData=function(t,a){return nr(this,{generateCoord:"indicator_",generateCoordCount:1/0})},r.prototype.formatTooltip=function(t,a,l){var h=this.getData(),p=this.coordinateSystem.getIndicatorAxes(),y=this.getData().getName(t),x=""===y?this.name:y,w=(0,yo.jT)(this,t);return(0,yo.TX)("section",{header:x,sortBlocks:!0,blocks:M.map(p,function(z){var V=h.get(h.mapDimension(z.dim),t);return(0,yo.TX)("nameValue",{markerType:"subItem",markerColor:w,name:z.name,value:V,sortParam:V})})})},r.prototype.getTooltipPosition=function(t){if(null!=t)for(var a=this.getData(),l=this.coordinateSystem,h=a.getValues(M.map(l.dimensions,function(x){return a.mapDimension(x)}),t),d=0,p=h.length;d<p;d++)if(!isNaN(h[d])){var y=l.getIndicatorAxes();return l.coordToPoint(y[d].dataToCoord(h[d]),d)}},r.type="series.radar",r.dependencies=["radar"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},r}(xn.Z);var q1=qc.value;function X2(o,r){return M.defaults({show:r},o)}const w6=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),a=this.get("splitNumber"),l=this.get("scale"),h=this.get("axisLine"),d=this.get("axisTick"),p=this.get("axisLabel"),y=this.get("axisName"),x=this.get(["axisName","show"]),w=this.get(["axisName","formatter"]),z=this.get("axisNameGap"),V=this.get("triggerEvent"),k=M.map(this.get("indicator")||[],function(J){null!=J.max&&J.max>0&&!J.min?J.min=0:null!=J.min&&J.min<0&&!J.max&&(J.max=0);var ue=y;null!=J.color&&(ue=M.defaults({color:J.color},y));var xe=M.merge(M.clone(J),{boundaryGap:t,splitNumber:a,scale:l,axisLine:h,axisTick:d,axisLabel:p,name:J.text,showName:x,nameLocation:"end",nameGap:z,nameTextStyle:ue,triggerEvent:V},!1);M.isString(w)?xe.name=w.replace("{value}",xe.name??""):M.isFunction(w)&&(xe.name=w(xe.name,xe));var Re=new Fo.Z(xe,null,this.ecModel);return M.mixin(Re,xs.W.prototype),Re.mainType="radar",Re.componentIndex=this.componentIndex,Re},this);this._indicatorModels=k},r.prototype.getIndicatorModels=function(){return this._indicatorModels},r.type="radar",r.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:M.merge({lineStyle:{color:"#bbb"}},q1.axisLine),axisLabel:X2(q1.axisLabel,!1),axisTick:X2(q1.axisTick,!1),splitLine:X2(q1.splitLine,!0),splitArea:X2(q1.splitArea,!0),indicator:[]},r}(va.Z);var a2=C(1283),a4=C(1576),Q2=["axisLine","axisTickLabel","axisName"];const Q0=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},r.prototype._buildAxes=function(t){var a=t.coordinateSystem,l=a.getIndicatorAxes(),h=M.map(l,function(d){var p=d.model.get("showName")?d.name:"";return new h1(d.model,{axisName:p,position:[a.cx,a.cy],rotation:d.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});M.each(h,function(d){M.each(Q2,d.add,d),this.group.add(d.getGroup())},this)},r.prototype._buildSplitLineAndArea=function(t){var a=t.coordinateSystem,l=a.getIndicatorAxes();if(l.length){var h=t.get("shape"),d=t.getModel("splitLine"),p=t.getModel("splitArea"),y=d.getModel("lineStyle"),x=p.getModel("areaStyle"),w=d.get("show"),z=p.get("show"),V=y.get("color"),k=x.get("color"),J=M.isArray(V)?V:[V],ue=M.isArray(k)?k:[k],xe=[],ze=[];if("circle"===h)for(var Ie=l[0].getTicksCoords(),Ge=a.cx,Qe=a.cy,$e=0;$e<Ie.length;$e++)w&&xe[Re(xe,J,$e)].push(new a2.Z({shape:{cx:Ge,cy:Qe,r:Ie[$e].coord}})),z&&$e<Ie.length-1&&ze[Re(ze,ue,$e)].push(new a4.Z({shape:{cx:Ge,cy:Qe,r0:Ie[$e].coord,r:Ie[$e+1].coord}}));else{var St,Pt=M.map(l,function(wn,Zn){var ur=wn.getTicksCoords();return St=null==St?ur.length-1:Math.min(ur.length-1,St),M.map(ur,function(or){return a.coordToPoint(or.coord,Zn)})}),Vt=[];for($e=0;$e<=St;$e++){for(var kt=[],en=0;en<l.length;en++)kt.push(Pt[en][$e]);kt[0]&&kt.push(kt[0].slice()),w&&xe[Re(xe,J,$e)].push(new ft.Z({shape:{points:kt}})),z&&Vt&&ze[Re(ze,ue,$e-1)].push(new Ul.Z({shape:{points:kt.concat(Vt)}})),Vt=kt.slice().reverse()}}var un=y.getLineStyle(),vn=x.getAreaStyle();M.each(ze,function(wn,Zn){this.group.add(dr.mergePath(wn,{style:M.defaults({stroke:"none",fill:ue[Zn%ue.length]},vn),silent:!0}))},this),M.each(xe,function(wn,Zn){this.group.add(dr.mergePath(wn,{style:M.defaults({fill:"none",stroke:J[Zn%J.length]},un),silent:!0}))},this)}function Re(wn,Zn,ur){var or=ur%Zn.length;return wn[or]=wn[or]||[],or}},r.type="radar",r}(xa.Z),V8=function(o){function r(t,a,l){var h=o.call(this,t,a,l)||this;return h.type="value",h.angle=0,h.name="",h}return(0,st.ZT)(r,o),r}(Al.Z),lp=function(){function o(r,t,a){this.dimensions=[],this._model=r,this._indicatorAxes=(0,M.map)(r.getIndicatorModels(),function(l,h){var d="indicator_"+h,p=new V8(d,new zi.Z);return p.name=l.get("name"),p.model=l,l.axis=p,this.dimensions.push(d),p},this),this.resize(r,a)}return o.prototype.getIndicatorAxes=function(){return this._indicatorAxes},o.prototype.dataToPoint=function(r,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(r),t)},o.prototype.coordToPoint=function(r,t){var l=this._indicatorAxes[t].angle;return[this.cx+r*Math.cos(l),this.cy-r*Math.sin(l)]},o.prototype.pointToData=function(r){var t=r[0]-this.cx,a=r[1]-this.cy,l=Math.sqrt(t*t+a*a);t/=l,a/=l;for(var p,h=Math.atan2(-a,t),d=1/0,y=-1,x=0;x<this._indicatorAxes.length;x++){var w=this._indicatorAxes[x],z=Math.abs(h-w.angle);z<d&&(p=w,y=x,d=z)}return[y,+(p&&p.coordToData(l))]},o.prototype.resize=function(r,t){var a=r.get("center"),l=t.getWidth(),h=t.getHeight(),d=Math.min(l,h)/2;this.cx=In.GM(a[0],l),this.cy=In.GM(a[1],h),this.startAngle=r.get("startAngle")*Math.PI/180;var p=r.get("radius");((0,M.isString)(p)||(0,M.isNumber)(p))&&(p=[0,p]),this.r0=In.GM(p[0],d),this.r=In.GM(p[1],d),(0,M.each)(this._indicatorAxes,function(y,x){y.setExtent(this.r0,this.r);var w=this.startAngle+x*Math.PI*2/this._indicatorAxes.length;w=Math.atan2(Math.sin(w),Math.cos(w)),y.angle=w},this)},o.prototype.update=function(r,t){var a=this._indicatorAxes,l=this._model;(0,M.each)(a,function(p){p.scale.setExtent(1/0,-1/0)}),r.eachSeriesByType("radar",function(p,y){if("radar"===p.get("coordinateSystem")&&r.getComponent("radar",p.get("radarIndex"))===l){var x=p.getData();(0,M.each)(a,function(w){w.scale.unionExtentFromData(x,x.mapDimension(w.dim))})}},this);var h=l.get("splitNumber"),d=new zi.Z;d.setExtent(0,h),d.setInterval(1),(0,M.each)(a,function(p,y){I8(p.scale,p.model,d)})},o.prototype.convertToPixel=function(r,t,a){return console.warn("Not implemented."),null},o.prototype.convertFromPixel=function(r,t,a){return console.warn("Not implemented."),null},o.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},o.create=function(r,t){var a=[];return r.eachComponent("radar",function(l){var h=new o(l,r,t);a.push(h),l.coordinateSystem=h}),r.eachSeriesByType("radar",function(l){"radar"===l.get("coordinateSystem")&&(l.coordinateSystem=a[l.get("radarIndex")||0])}),a},o.dimensions=[],o}();function S6(o){o.registerCoordinateSystem("radar",lp),o.registerComponentModel(w6),o.registerComponentView(Q0),o.registerVisual({seriesType:"radar",reset:function(r){var t=r.getData();t.each(function(a){t.setItemVisual(a,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var o2=C(7481),nl=C(9520),o4=C(2235),q0="\0_ec_interaction_mutex";function Ol(o,r){return!!Sc(o)[r]}function Sc(o){return o[q0]||(o[q0]={})}function d1(o,r,t,a,l){o.pointerChecker&&o.pointerChecker(a,l.originX,l.originY)&&(nl.sT(a.event),N8(o,r,t,a,l))}function N8(o,r,t,a,l){l.isAvailableBehavior=(0,M.bind)(s2,null,t,a),o.trigger(r,l)}function s2(o,r,t){var a=t[o];return!o||a&&(!(0,M.isString)(a)||r.event[a+"Key"])}o4.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},M.noop);const s4=function(o){function r(t){var a=o.call(this)||this;a._zr=t;var l=(0,M.bind)(a._mousedownHandler,a),h=(0,M.bind)(a._mousemoveHandler,a),d=(0,M.bind)(a._mouseupHandler,a),p=(0,M.bind)(a._mousewheelHandler,a),y=(0,M.bind)(a._pinchHandler,a);return a.enable=function(x,w){this.disable(),this._opt=(0,M.defaults)((0,M.clone)(w)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==x&&(x=!0),(!0===x||"move"===x||"pan"===x)&&(t.on("mousedown",l),t.on("mousemove",h),t.on("mouseup",d)),(!0===x||"scale"===x||"zoom"===x)&&(t.on("mousewheel",p),t.on("pinch",y))},a.disable=function(){t.off("mousedown",l),t.off("mousemove",h),t.off("mouseup",d),t.off("mousewheel",p),t.off("pinch",y)},a}return(0,st.ZT)(r,o),r.prototype.isDragging=function(){return this._dragging},r.prototype.isPinching=function(){return this._pinching},r.prototype.setPointerChecker=function(t){this.pointerChecker=t},r.prototype.dispose=function(){this.disable()},r.prototype._mousedownHandler=function(t){if(!nl.x1(t)){for(var a=t.target;a;){if(a.draggable)return;a=a.__hostTarget||a.parent}var l=t.offsetX,h=t.offsetY;this.pointerChecker&&this.pointerChecker(t,l,h)&&(this._x=l,this._y=h,this._dragging=!0)}},r.prototype._mousemoveHandler=function(t){if(this._dragging&&s2("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Ol(this._zr,"globalPan")){var a=t.offsetX,l=t.offsetY,h=this._x,d=this._y,p=a-h,y=l-d;this._x=a,this._y=l,this._opt.preventDefaultMouseMove&&nl.sT(t.event),N8(this,"pan","moveOnMouseMove",t,{dx:p,dy:y,oldX:h,oldY:d,newX:a,newY:l,isAvailableBehavior:null})}},r.prototype._mouseupHandler=function(t){nl.x1(t)||(this._dragging=!1)},r.prototype._mousewheelHandler=function(t){var a=s2("zoomOnMouseWheel",t,this._opt),l=s2("moveOnMouseWheel",t,this._opt),h=t.wheelDelta,d=Math.abs(h),p=t.offsetX,y=t.offsetY;if(0!==h&&(a||l)){if(a){var x=d>3?1.4:d>1?1.2:1.1;d1(this,"zoom","zoomOnMouseWheel",t,{scale:h>0?x:1/x,originX:p,originY:y,isAvailableBehavior:null})}if(l){var z=Math.abs(h);d1(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(h>0?1:-1)*(z>3?.4:z>1?.15:.05),originX:p,originY:y,isAvailableBehavior:null})}}},r.prototype._pinchHandler=function(t){Ol(this._zr,"globalPan")||d1(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},r}(o2.Z);function l4(o,r,t){var a=o.target;a.x+=r,a.y+=t,a.dirty()}function J2(o,r,t,a){var l=o.target,h=o.zoomLimit,d=o.zoom=o.zoom||1;if(d*=r,h){var p=h.min||0;d=Math.max(Math.min(h.max||1/0,d),p)}var x=d/o.zoom;o.zoom=d,l.x-=(t-l.x)*(x-1),l.y-=(a-l.y)*(x-1),l.scaleX*=x,l.scaleY*=x,l.dirty()}var B8={axisPointer:1,tooltip:1,brush:1};function q2(o,r,t){var a=r.getComponentByElement(o.topTarget),l=a&&a.coordinateSystem;return a&&a!==t&&!B8.hasOwnProperty(a.mainType)&&l&&l.model!==t}var C6=C(1462),e0=C(8209),k8=C(1592);function T6(o){(0,M.isString)(o)&&(o=(new DOMParser).parseFromString(o,"text/xml"));var t=o;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var D6,ec={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},tc=(0,M.keys)(ec),t3={"alignment-baseline":"textBaseline","stop-color":"stopColor"},F8=(0,M.keys)(t3),E6=function(){function o(){this._defs={},this._root=null}return o.prototype.parse=function(r,t){t=t||{};var a=T6(r);this._defsUsePending=[];var l=new yn.Z;this._root=l;var w,z,h=[],d=a.getAttribute("viewBox")||"",p=parseFloat(a.getAttribute("width")||t.width),y=parseFloat(a.getAttribute("height")||t.height);isNaN(p)&&(p=null),isNaN(y)&&(y=null),rl(a,l,null,!0,!1);for(var x=a.firstChild;x;)this._parseNode(x,l,h,null,!1,!1),x=x.nextSibling;if(function n3(o,r){for(var t=0;t<r.length;t++){var a=r[t];a[0].style[a[1]]=o[a[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],d){var V=c4(d);V.length>=4&&(w={x:parseFloat(V[0]||0),y:parseFloat(V[1]||0),width:parseFloat(V[2]),height:parseFloat(V[3])})}if(w&&null!=p&&null!=y&&(z=Uf(w,{x:0,y:0,width:p,height:y}),!t.ignoreViewBox)){var k=l;(l=new yn.Z).add(k),k.scaleX=k.scaleY=z.scale,k.x=z.x,k.y=z.y}return!t.ignoreRootClip&&null!=p&&null!=y&&l.setClipPath(new Ei.Z({shape:{x:0,y:0,width:p,height:y}})),{root:l,width:p,height:y,viewBoxRect:w,viewBoxTransform:z,named:h}},o.prototype._parseNode=function(r,t,a,l,h,d){var y,p=r.nodeName.toLowerCase(),x=l;if("defs"===p&&(h=!0),"text"===p&&(d=!0),"defs"===p||"switch"===p)y=t;else{if(!h){var w=D6[p];if(w&&(0,M.hasOwn)(D6,p)){y=w.call(this,r,t);var z=r.getAttribute("name");if(z){var V={name:z,namedFrom:null,svgNodeTagLower:p,el:y};a.push(V),"g"===p&&(x=V)}else l&&a.push({name:l.name,namedFrom:l,svgNodeTagLower:p,el:y});t.add(y)}}var k=l2[p];if(k&&(0,M.hasOwn)(l2,p)){var J=k.call(this,r),ue=r.getAttribute("id");ue&&(this._defs[ue]=J)}}if(y&&y.isGroup)for(var xe=r.firstChild;xe;)1===xe.nodeType?this._parseNode(xe,y,a,x,h,d):3===xe.nodeType&&d&&this._parseText(xe,y),xe=xe.nextSibling},o.prototype._parseText=function(r,t){var a=new de.Z({style:{text:r.textContent},silent:!0,x:this._textX||0,y:this._textY||0});f1(t,a),rl(r,a,this._defsUsePending,!1,!1),function Y8(o,r){var t=r.__selfStyle;if(t){var a=t.textBaseline,l=a;a&&"auto"!==a&&"baseline"!==a?"before-edge"===a||"text-before-edge"===a?l="top":"after-edge"===a||"text-after-edge"===a?l="bottom":("central"===a||"mathematical"===a)&&(l="middle"):l="alphabetic",o.style.textBaseline=l}var h=r.__inheritedStyle;if(h){var d=h.textAlign,p=d;d&&("middle"===d&&(p="center"),o.style.textAlign=p)}}(a,t);var l=a.style,h=l.fontSize;h&&h<9&&(l.fontSize=9,a.scaleX*=h/9,a.scaleY*=h/9);var d=(l.fontSize||l.fontFamily)&&[l.fontStyle,l.fontWeight,(l.fontSize||12)+"px",l.fontFamily||"sans-serif"].join(" ");l.font=d;var p=a.getBoundingRect();return this._textX+=p.width,t.add(a),a},o.internalField=void(D6={g:function(r,t){var a=new yn.Z;return f1(t,a),rl(r,a,this._defsUsePending,!1,!1),a},rect:function(r,t){var a=new Ei.Z;return f1(t,a),rl(r,a,this._defsUsePending,!1,!1),a.setShape({x:parseFloat(r.getAttribute("x")||"0"),y:parseFloat(r.getAttribute("y")||"0"),width:parseFloat(r.getAttribute("width")||"0"),height:parseFloat(r.getAttribute("height")||"0")}),a.silent=!0,a},circle:function(r,t){var a=new a2.Z;return f1(t,a),rl(r,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),r:parseFloat(r.getAttribute("r")||"0")}),a.silent=!0,a},line:function(r,t){var a=new Ns.Z;return f1(t,a),rl(r,a,this._defsUsePending,!1,!1),a.setShape({x1:parseFloat(r.getAttribute("x1")||"0"),y1:parseFloat(r.getAttribute("y1")||"0"),x2:parseFloat(r.getAttribute("x2")||"0"),y2:parseFloat(r.getAttribute("y2")||"0")}),a.silent=!0,a},ellipse:function(r,t){var a=new C6.Z;return f1(t,a),rl(r,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),rx:parseFloat(r.getAttribute("rx")||"0"),ry:parseFloat(r.getAttribute("ry")||"0")}),a.silent=!0,a},polygon:function(r,t){var l,a=r.getAttribute("points");a&&(l=U8(a));var h=new Ul.Z({shape:{points:l||[]},silent:!0});return f1(t,h),rl(r,h,this._defsUsePending,!1,!1),h},polyline:function(r,t){var l,a=r.getAttribute("points");a&&(l=U8(a));var h=new ft.Z({shape:{points:l||[]},silent:!0});return f1(t,h),rl(r,h,this._defsUsePending,!1,!1),h},image:function(r,t){var a=new me.ZP;return f1(t,a),rl(r,a,this._defsUsePending,!1,!1),a.setStyle({image:r.getAttribute("xlink:href")||r.getAttribute("href"),x:+r.getAttribute("x"),y:+r.getAttribute("y"),width:+r.getAttribute("width"),height:+r.getAttribute("height")}),a.silent=!0,a},text:function(r,t){var a=r.getAttribute("x")||"0",l=r.getAttribute("y")||"0",h=r.getAttribute("dx")||"0",d=r.getAttribute("dy")||"0";this._textX=parseFloat(a)+parseFloat(h),this._textY=parseFloat(l)+parseFloat(d);var p=new yn.Z;return f1(t,p),rl(r,p,this._defsUsePending,!1,!0),p},tspan:function(r,t){var a=r.getAttribute("x"),l=r.getAttribute("y");null!=a&&(this._textX=parseFloat(a)),null!=l&&(this._textY=parseFloat(l));var h=r.getAttribute("dx")||"0",d=r.getAttribute("dy")||"0",p=new yn.Z;return f1(t,p),rl(r,p,this._defsUsePending,!1,!0),this._textX+=parseFloat(h),this._textY+=parseFloat(d),p},path:function(r,t){var a=r.getAttribute("d")||"",l=(0,e0.iR)(a);return f1(t,l),rl(r,l,this._defsUsePending,!1,!1),l.silent=!0,l}}),o}(),l2={lineargradient:function(o){var r=parseInt(o.getAttribute("x1")||"0",10),t=parseInt(o.getAttribute("y1")||"0",10),a=parseInt(o.getAttribute("x2")||"10",10),l=parseInt(o.getAttribute("y2")||"0",10),h=new Za.Z(r,t,a,l);return c2(o,h),$o(o,h),h},radialgradient:function(o){var r=parseInt(o.getAttribute("cx")||"0",10),t=parseInt(o.getAttribute("cy")||"0",10),a=parseInt(o.getAttribute("r")||"0",10),l=new k8.Z(r,t,a);return c2(o,l),$o(o,l),l}};function c2(o,r){"userSpaceOnUse"===o.getAttribute("gradientUnits")&&(r.global=!0)}function $o(o,r){for(var t=o.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var l,a=t.getAttribute("offset");l=a&&a.indexOf("%")>0?parseInt(a,10)/100:a?parseFloat(a):0;var h={};z6(t,h,h);var d=h.stopColor||t.getAttribute("stop-color")||"#000000";r.colorStops.push({offset:l,color:d})}t=t.nextSibling}}function f1(o,r){o&&o.__inheritedStyle&&(r.__inheritedStyle||(r.__inheritedStyle={}),(0,M.defaults)(r.__inheritedStyle,o.__inheritedStyle))}function U8(o){for(var r=c4(o),t=[],a=0;a<r.length;a+=2){var l=parseFloat(r[a]),h=parseFloat(r[a+1]);t.push([l,h])}return t}function rl(o,r,t,a,l){var h=r,d=h.__inheritedStyle=h.__inheritedStyle||{},p={};1===o.nodeType&&(function t0(o,r){var t=o.getAttribute("transform");if(t){t=t.replace(/,/g," ");var a=[],l=null;t.replace(u4,function(z,V,k){return a.push(V,k),""});for(var h=a.length-1;h>0;h-=2){var p=a[h-1],y=c4(a[h]);switch(l=l||Ji.create(),p){case"translate":Ji.translate(l,l,[parseFloat(y[0]),parseFloat(y[1]||"0")]);break;case"scale":Ji.scale(l,l,[parseFloat(y[0]),parseFloat(y[1]||y[0])]);break;case"rotate":Ji.rotate(l,l,-parseFloat(y[0])*a3);break;case"skewX":var x=Math.tan(parseFloat(y[0])*a3);Ji.mul(l,[1,0,x,1,0,0],l);break;case"skewY":var w=Math.tan(parseFloat(y[0])*a3);Ji.mul(l,[1,w,0,1,0,0],l);break;case"matrix":l[0]=parseFloat(y[0]),l[1]=parseFloat(y[1]),l[2]=parseFloat(y[2]),l[3]=parseFloat(y[3]),l[4]=parseFloat(y[4]),l[5]=parseFloat(y[5])}}r.setLocalTransform(l)}}(o,r),z6(o,d,p),a||function u2(o,r,t){for(var a=0;a<tc.length;a++)null!=(h=o.getAttribute(l=tc[a]))&&(r[ec[l]]=h);for(a=0;a<F8.length;a++){var l,h;null!=(h=o.getAttribute(l=F8[a]))&&(t[t3[l]]=h)}}(o,d,p)),h.style=h.style||{},null!=d.fill&&(h.style.fill=uu(h,"fill",d.fill,t)),null!=d.stroke&&(h.style.stroke=uu(h,"stroke",d.stroke,t)),(0,M.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(y){null!=d[y]&&(h.style[y]=parseFloat(d[y]))}),(0,M.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(y){null!=d[y]&&(h.style[y]=d[y])}),l&&(h.__selfStyle=p),d.lineDash&&(h.style.lineDash=(0,M.map)(c4(d.lineDash),function(y){return parseFloat(y)})),("hidden"===d.visibility||"collapse"===d.visibility)&&(h.invisible=!0),"none"===d.display&&(h.ignore=!0)}var G8=/^url\(\s*#(.*?)\)/;function uu(o,r,t,a){var l=t&&t.match(G8);if(!l)return"none"===t&&(t=null),t;var h=(0,M.trim)(l[1]);a.push([o,r,h])}var r3=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function c4(o){return o.match(r3)||[]}var u4=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,a3=Math.PI/180,Ff=/([^\s:;]+)\s*:\s*([^:;]+)/g;function z6(o,r,t){var a=o.getAttribute("style");if(a){Ff.lastIndex=0;for(var l;null!=(l=Ff.exec(a));){var h=l[1],d=(0,M.hasOwn)(ec,h)?ec[h]:null;d&&(r[d]=l[2]);var p=(0,M.hasOwn)(t3,h)?t3[h]:null;p&&(t[p]=l[2])}}}function Uf(o,r){var l=Math.min(r.width/o.width,r.height/o.height);return{scale:l,x:-(o.x+o.width/2)*l+(r.x+r.width/2),y:-(o.y+o.height/2)*l+(r.y+r.height/2)}}for(var Yf=C(5199),up=(0,M.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Gf=function(){function o(r,t){this.type="geoSVG",this._usedGraphicMap=(0,M.createHashMap)(),this._freedGraphics=[],this._mapName=r,this._parsedXML=T6(t)}return o.prototype.load=function(){var r=this._firstGraphic;if(!r){r=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(r),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function A6(o){var r=[],t=(0,M.createHashMap)();return(0,M.each)(o,function(a){if(null==a.namedFrom){var l=new Yf.Im(a.name,a.el);r.push(l),t.set(a.name,l)}}),{regions:r,regionsMap:t}}(r.named),l=t.regionsMap;this._regions=t.regions,this._regionsMap=l}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},o.prototype._buildGraphic=function(r){var t,a;try{t=r&&function cp(o,r){return(new E6).parse(o,r)}(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},(0,M.assert)(null!=(a=t.root))}catch(xe){throw new Error("Invalid svg format\n"+xe.message)}var l=new yn.Z;l.add(a),l.isGeoSVGGraphicRoot=!0;var h=t.width,d=t.height,p=t.viewBoxRect,y=this._boundingRect;if(!y){var x=void 0,w=void 0,z=void 0,V=void 0;if(null!=h?(x=0,z=h):p&&(x=p.x,z=p.width),null!=d?(w=0,V=d):p&&(w=p.y,V=p.height),null==x||null==w){var k=a.getBoundingRect();null==x&&(x=k.x,z=k.width),null==w&&(w=k.y,V=k.height)}y=this._boundingRect=new _r.Z(x,w,z,V)}if(p){var J=Uf(p,y);a.scaleX=a.scaleY=J.scale,a.x=J.x,a.y=J.y}l.setClipPath(new Ei.Z({shape:y.plain()}));var ue=[];return(0,M.each)(t.named,function(xe){null!=up.get(xe.svgNodeTagLower)&&(ue.push(xe),function h4(o){o.silent=!1,o.isGroup&&o.traverse(function(r){r.silent=!1})}(xe.el))}),{root:l,boundingRect:y,named:ue}},o.prototype.useGraphic=function(r){var t=this._usedGraphicMap,a=t.get(r);return a||(a=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(r,a),a)},o.prototype.freeGraphic=function(r){var t=this._usedGraphicMap,a=t.get(r);a&&(t.removeKey(r),this._freedGraphics.push(a))},o}(),jf=C(5529),Uo=[126,25],P1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],h2=0;h2<P1.length;h2++)for(var is=0;is<P1[h2].length;is++)P1[h2][is][0]/=10.5,P1[h2][is][1]/=-14,P1[h2][is][0]+=Uo[0],P1[h2][is][1]+=Uo[1];var L6=C(3593),hu=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Wf=function(){function o(r,t,a){this.type="geoJSON",this._parsedMap=(0,M.createHashMap)(),this._mapName=r,this._specialAreas=a,this._geoJSON=function hp(o){return(0,M.isString)(o)?typeof JSON<"u"&&JSON.parse?JSON.parse(o):new Function("return ("+o+");")():o}(t)}return o.prototype.load=function(r,t){var a=this._parsedMap.get(t=t||"name");if(!a){var l=this._parseToRegions(t);a=this._parsedMap.set(t,{regions:l,boundingRect:O6(l)})}var h=(0,M.createHashMap)(),d=[];return(0,M.each)(a.regions,function(p){var y=p.name;r&&(0,M.hasOwn)(r,y)&&(p=p.cloneShallow(y=r[y])),d.push(p),h.set(y,p)}),{regions:d,boundingRect:a.boundingRect||new _r.Z(0,0,0,0),regionsMap:h}},o.prototype._parseToRegions=function(r){var l,t=this._mapName,a=this._geoJSON;try{l=a?(0,jf.Z)(a,r):[]}catch(h){throw new Error("Invalid geoJson format\n"+h.message)}return function Cc(o,r){if("china"===o){for(var t=0;t<r.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===r[t].name)return;r.push(new Yf.Ni("\u5357\u6d77\u8bf8\u5c9b",M.map(P1,function(a){return{type:"polygon",exterior:a}}),Uo))}}(t,l),(0,M.each)(l,function(h){var d=h.name;(0,L6.Z)(t,h),function o3(o,r){"china"===o&&"\u53f0\u6e7e"===r.name&&r.geometries.push({type:"polygon",exterior:hu[0]})}(t,h);var p=this._specialAreas&&this._specialAreas[d];p&&h.transformTo(p.left,p.top,p.width,p.height)},this),l},o.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},o}();function O6(o){for(var r,t=0;t<o.length;t++){var a=o[t].getBoundingRect();(r=r||a.clone()).union(a)}return r}var ks=(0,M.createHashMap)();const L1={registerMap:function(o,r,t){if(r.svg){var a=new Gf(o,r.svg);ks.set(o,a)}else{var l=r.geoJson||r.geoJSON;l&&!r.features?t=r.specialAreas:l=r,a=new Wf(o,l,t),ks.set(o,a)}},getGeoResource:function(o){return ks.get(o)},getMapForUser:function(o){var r=ks.get(o);return r&&"geoJSON"===r.type&&r.getMapForUser()},load:function(o,r,t){var a=ks.get(o);if(a)return a.load(r,t)}};var d4=C(9128),d2=C(9746),s3=["rect","circle","line","ellipse","polygon","polyline","path"],Zf=M.createHashMap(s3),Kf=M.createHashMap(s3.concat(["g"])),$f=M.createHashMap(s3.concat(["g"])),I6=(0,Hr.Yf)();function n0(o){var r=o.getItemStyle(),t=o.get("areaColor");return null!=t&&(r.fill=t),r}function R6(o){var r=o.style;r&&(r.stroke=r.stroke||r.fill,r.fill=null)}function l3(o,r,t,a){var l=a.getModel("itemStyle"),h=a.getModel(["emphasis","itemStyle"]),d=a.getModel(["blur","itemStyle"]),p=a.getModel(["select","itemStyle"]),y=n0(l),x=n0(h),w=n0(p),z=n0(d),V=o.data;if(V){var k=V.getItemVisual(t,"style"),J=V.getItemVisual(t,"decal");o.isVisualEncodedByVisualMap&&k.fill&&(y.fill=k.fill),J&&(y.decal=(0,d4.I)(J,o.api))}r.setStyle(y),r.style.strokeNoScale=!0,r.ensureState("emphasis").style=x,r.ensureState("select").style=w,r.ensureState("blur").style=z,(0,er.MA)(r)}function r0(o,r,t,a,l,h,d){var p=o.data,y=o.isGeo,x=p&&isNaN(p.get(p.mapDimension("value"),h)),w=p&&p.getItemLayout(h);if(y||x||w&&w.showLabel){var z=y?t:h,V=void 0;(!p||h>=0)&&(V=l);var k=d?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,hr.ni)(r,(0,hr.k3)(a),{labelFetcher:V,labelDataIndex:z,defaultText:t},k);var J=r.getTextContent();if(J&&(I6(J).ignore=J.ignore,r.textConfig&&d)){var ue=r.getBoundingRect().clone();r.textConfig.layoutRect=ue,r.textConfig.position=[(d[0]-ue.x)/ue.width*100+"%",(d[1]-ue.y)/ue.height*100+"%"]}r.disableLabelAnimation=!0}else r.removeTextContent(),r.removeTextConfig(),r.disableLabelAnimation=null}function Io(o,r,t,a,l,h){o.data?o.data.setItemGraphicEl(h,r):(0,Qn.A)(r).eventData={componentType:"geo",componentIndex:l.componentIndex,geoIndex:l.componentIndex,name:t,region:a&&a.option||{}}}function c3(o,r,t,a,l){o.data||dr.setTooltipConfig({el:r,componentModel:l,itemName:t,itemTooltipOption:a.get("tooltip")})}function as(o,r,t,a,l){r.highDownSilentOnTouch=!!l.get("selectedMode");var h=a.getModel("emphasis"),d=h.get("focus");return(0,er.k5)(r,d,h.get("blurScope"),h.get("disabled")),o.isGeo&&(0,er.th)(r,l,t),d}function W8(o,r,t){var l,a=[];function h(){l=[]}function d(){l.length&&(a.push(l),l=[])}var p=r({polygonStart:h,polygonEnd:d,lineStart:h,lineEnd:d,point:function(y,x){isFinite(y)&&isFinite(x)&&l.push([y,x])},sphere:function(){}});return!t&&p.polygonStart(),M.each(o,function(y){p.lineStart();for(var x=0;x<y.length;x++)p.point(y[x][0],y[x][1]);p.lineEnd()}),!t&&p.polygonEnd(),a}const du=function(){function o(r){var t=new yn.Z;this.uid=(0,uo.Kr)("ec_map_draw"),this._controller=new s4(r.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new yn.Z),t.add(this._svgGroup=new yn.Z)}return o.prototype.draw=function(r,t,a,l,h){var d="geo"===r.mainType,p=r.getData&&r.getData();d&&t.eachComponent({mainType:"series",subType:"map"},function(ze){!p&&ze.getHostGeoModel()===r&&(p=ze.getData())});var y=r.coordinateSystem,x=this._regionsGroup,w=this.group,z=y.getTransformInfo(),V=z.raw,k=z.roam;!x.childAt(0)||h?(w.x=k.x,w.y=k.y,w.scaleX=k.scaleX,w.scaleY=k.scaleY,w.dirty()):Bn.D(w,k,r);var ue=p&&p.getVisual("visualMeta")&&p.getVisual("visualMeta").length>0,xe={api:a,geo:y,mapOrGeoModel:r,data:p,isVisualEncodedByVisualMap:ue,isGeo:d,transformInfoRaw:V};"geoJSON"===y.resourceType?this._buildGeoJSON(xe):"geoSVG"===y.resourceType&&this._buildSVG(xe),this._updateController(r,t,a),this._updateMapSelectHandler(r,x,a,l)},o.prototype._buildGeoJSON=function(r){var t=this._regionsGroupByName=M.createHashMap(),a=M.createHashMap(),l=this._regionsGroup,h=r.transformInfoRaw,d=r.mapOrGeoModel,p=r.data,y=r.geo.projection,x=y&&y.stream;function w(k,J){return J&&(k=J(k)),k&&[k[0]*h.scaleX+h.x,k[1]*h.scaleY+h.y]}function z(k){for(var J=[],ue=!x&&y&&y.project,xe=0;xe<k.length;++xe){var ze=w(k[xe],ue);ze&&J.push(ze)}return J}function V(k){return{shape:{points:z(k)}}}l.removeAll(),M.each(r.geo.regions,function(k){var J=k.name,ue=t.get(J),xe=a.get(J)||{},ze=xe.dataIdx,Re=xe.regionModel;ue||(ue=t.set(J,new yn.Z),l.add(ue),ze=p?p.indexOfName(J):null,Re=r.isGeo?d.getRegionModel(J):p?p.getItemModel(ze):null,a.set(J,{dataIdx:ze,regionModel:Re}));var Ie=[],Ge=[];M.each(k.geometries,function(ut){if("polygon"===ut.type){var St=[ut.exterior].concat(ut.interiors||[]);x&&(St=W8(St,x)),M.each(St,function(Vt){Ie.push(new Ul.Z(V(Vt)))})}else{var Pt=ut.points;x&&(Pt=W8(Pt,x,!0)),M.each(Pt,function(Vt){Ge.push(new ft.Z(V(Vt)))})}});var Qe=w(k.getCenter(),y&&y.project);function $e(ut,St){if(ut.length){var Pt=new ye.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:ut}});ue.add(Pt),l3(r,Pt,ze,Re),r0(r,Pt,J,Re,d,ze,Qe),St&&(R6(Pt),M.each(Pt.states,R6))}}$e(Ie),$e(Ge,!0)}),t.each(function(k,J){var ue=a.get(J),ze=ue.regionModel;Io(r,k,J,ze,d,ue.dataIdx),c3(r,k,J,ze,d),as(r,k,J,ze,d)},this)},o.prototype._buildSVG=function(r){var t=r.geo.map,a=r.transformInfoRaw;this._svgGroup.x=a.x,this._svgGroup.y=a.y,this._svgGroup.scaleX=a.scaleX,this._svgGroup.scaleY=a.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var l=this._svgDispatcherMap=M.createHashMap(),h=!1;M.each(this._svgGraphicRecord.named,function(d){var p=d.name,y=r.mapOrGeoModel,x=r.data,w=d.svgNodeTagLower,z=d.el,V=x?x.indexOfName(p):null,k=y.getRegionModel(p);null!=Zf.get(w)&&z instanceof d2.ZP&&l3(r,z,V,k),z instanceof d2.ZP&&(z.culling=!0),z.z2EmphasisLift=0,d.namedFrom||(null!=$f.get(w)&&r0(r,z,p,k,y,V,null),Io(r,z,p,k,y,V),c3(r,z,p,k,y),null==Kf.get(w))||("self"===as(r,z,p,k,y)&&(h=!0),(l.get(p)||l.set(p,[])).push(z))},this),this._enableBlurEntireSVG(h,r)},o.prototype._enableBlurEntireSVG=function(r,t){if(r&&t.isGeo){var l=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(h){if(!h.isGroup){(0,er.MA)(h);var d=h.ensureState("blur").style||{};null==d.opacity&&null!=l&&(d.opacity=l),h.ensureState("emphasis")}})}},o.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},o.prototype.findHighDownDispatchers=function(r,t){if(null==r)return[];var a=t.coordinateSystem;if("geoJSON"===a.resourceType){var l=this._regionsGroupByName;if(l){var h=l.get(r);return h?[h]:[]}}else if("geoSVG"===a.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(r)||[]},o.prototype._svgResourceChanged=function(r){return this._svgMapName!==r},o.prototype._useSVG=function(r){var t=L1.getGeoResource(r);if(t&&"geoSVG"===t.type){var a=t.useGraphic(this.uid);this._svgGroup.add(a.root),this._svgGraphicRecord=a,this._svgMapName=r}},o.prototype._freeSVG=function(){var r=this._svgMapName;if(null!=r){var t=L1.getGeoResource(r);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},o.prototype._updateController=function(r,t,a){var l=r.coordinateSystem,h=this._controller,d=this._controllerHost;d.zoomLimit=r.get("scaleLimit"),d.zoom=l.getZoom(),h.enable(r.get("roam")||!1);var p=r.mainType;function y(){var x={type:"geoRoam",componentType:p};return x[p+"Id"]=r.id,x}h.off("pan").on("pan",function(x){this._mouseDownFlag=!1,l4(d,x.dx,x.dy),a.dispatchAction(M.extend(y(),{dx:x.dx,dy:x.dy,animation:{duration:0}}))},this),h.off("zoom").on("zoom",function(x){this._mouseDownFlag=!1,J2(d,x.scale,x.originX,x.originY),a.dispatchAction(M.extend(y(),{zoom:x.scale,originX:x.originX,originY:x.originY,animation:{duration:0}}))},this),h.setPointerChecker(function(x,w,z){return l.containPoint([w,z])&&!q2(x,a,r)})},o.prototype.resetForLabelLayout=function(){this.group.traverse(function(r){var t=r.getTextContent();t&&(t.ignore=I6(t).ignore)})},o.prototype._updateMapSelectHandler=function(r,t,a,l){var h=this;t.off("mousedown"),t.off("click"),r.get("selectedMode")&&(t.on("mousedown",function(){h._mouseDownFlag=!0}),t.on("click",function(d){h._mouseDownFlag&&(h._mouseDownFlag=!1)}))},o}(),fu=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){if(!h||"mapToggleSelect"!==h.type||h.from!==this.uid){var d=this.group;if(d.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&h&&"geoRoam"===h.type&&this._mapDraw.resetForLabelLayout(),h&&"geoRoam"===h.type&&"series"===h.componentType&&h.seriesId===t.id)(p=this._mapDraw)&&d.add(p.group);else if(t.needsDrawMap){var p=this._mapDraw||new du(l);d.add(p.group),p.draw(t,a,l,this,h),this._mapDraw=p}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&a.getComponent("legend")&&this._renderSymbols(t,a,l)}}},r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},r.prototype._renderSymbols=function(t,a,l){var h=t.originalData,d=this.group;h.each(h.mapDimension("value"),function(p,y){if(!isNaN(p)){var x=h.getItemLayout(y);if(x&&x.point){var w=x.point,z=x.offset,V=new a2.Z({style:{fill:t.getData().getVisual("style").fill},shape:{cx:w[0]+9*z,cy:w[1],r:3},silent:!0,z2:8+(z?0:er.zr+1)});if(!z){var k=t.mainSeries.getData(),J=h.getName(y),ue=k.indexOfName(J),xe=h.getItemModel(y),ze=xe.getModel("label"),Re=k.getItemGraphicEl(ue);(0,hr.ni)(V,(0,hr.k3)(xe),{labelFetcher:{getFormattedLabel:function(Ie,Ge){return t.getFormattedLabel(ue,Ge)}},defaultText:J}),V.disableLabelAnimation=!0,ze.get("position")||V.setTextConfig({position:"bottom"}),Re.onHoverStateChange=function(Ie){(0,er.Gl)(V,Ie)}}d.add(V)}}})},r.type="map",r}(Oi.Z),Xf=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(a){if(null!=a){var l=this.getData().getName(a),h=this.coordinateSystem,d=h.getRegion(l);return d&&h.dataToPoint(d.getCenter())}},t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t){for(var a=nr(this,{coordDimensions:["value"],encodeDefaulter:M.curry(pr.Ss,this)}),l=M.createHashMap(),h=[],d=0,p=a.count();d<p;d++){var y=a.getName(d);l.set(y,!0)}var x=L1.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return M.each(x.regions,function(w){var z=w.name;l.get(z)||h.push(z)}),a.appendValues([],h),a},r.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},r.prototype.getRawValue=function(t){var a=this.getData();return a.get(a.mapDimension("value"),t)},r.prototype.getRegionModel=function(t){var a=this.getData();return a.getItemModel(a.indexOfName(t))},r.prototype.formatTooltip=function(t,a,l){for(var h=this.getData(),d=this.getRawValue(t),p=h.getName(t),y=this.seriesGroup,x=[],w=0;w<y.length;w++){var z=y[w].originalData.indexOfName(p),V=h.mapDimension("value");isNaN(y[w].originalData.get(V,z))||x.push(y[w].name)}return(0,yo.TX)("section",{header:x.join(", "),noHeader:!x.length,blocks:[(0,yo.TX)("nameValue",{name:p,value:d})]})},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.getLegendIcon=function(t){var a=t.icon||"roundRect",l=(0,Pn.th)(a,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return l.setStyle(t.itemStyle),l.style.stroke="none",a.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),l},r.type="series.map",r.dependencies=["geo"],r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},r}(xn.Z);function f4(o){var r={};o.eachSeriesByType("map",function(t){var a=t.getHostGeoModel(),l=a?"o"+a.id:"i"+t.getMapType();(r[l]=r[l]||[]).push(t)}),M.each(r,function(t,a){for(var l=function Qf(o,r){var t={};return M.each(o,function(a){a.each(a.mapDimension("value"),function(l,h){var d="ec-"+a.getName(h);t[d]=t[d]||[],isNaN(l)||t[d].push(l)})}),o[0].map(o[0].mapDimension("value"),function(a,l){for(var h="ec-"+o[0].getName(l),d=0,p=1/0,y=-1/0,x=t[h].length,w=0;w<x;w++)p=Math.min(p,t[h][w]),y=Math.max(y,t[h][w]),d+=t[h][w];return 0===x?NaN:"min"===r?p:"max"===r?y:"average"===r?d/x:d})}(M.map(t,function(d){return d.getData()}),t[0].get("mapValueCalculation")),h=0;h<t.length;h++)t[h].originalData=t[h].getData();for(h=0;h<t.length;h++)t[h].seriesGroup=t,t[h].needsDrawMap=0===h&&!t[h].getHostGeoModel(),t[h].setData(l.cloneShallow()),t[h].mainSeries=t[0]})}function os(o){var r={};o.eachSeriesByType("map",function(t){var a=t.getMapType();if(!t.getHostGeoModel()&&!r[a]){var l={};M.each(t.seriesGroup,function(d){var p=d.coordinateSystem,y=d.originalData;d.get("showLegendSymbol")&&o.getComponent("legend")&&y.each(y.mapDimension("value"),function(x,w){var z=y.getName(w),V=p.getRegion(z);if(V&&!isNaN(x)){var k=l[z]||0,J=p.dataToPoint(V.getCenter());l[z]=k+1,y.setItemLayout(w,{point:J,offset:k})}})});var h=t.getData();h.each(function(d){var p=h.getName(d),y=h.getItemLayout(d)||{};y.showLabel=!l[p],h.setItemLayout(d,y)}),r[a]=!0}})}var v4=Jr.applyTransform;function Yo(o){var r=o.seriesModel;return r?r.coordinateSystem:null}const u3=function(o){function r(t){var a=o.call(this)||this;return a.type="view",a.dimensions=["x","y"],a._roamTransformable=new Ce.ZP,a._rawTransformable=new Ce.ZP,a.name=t,a}return(0,st.ZT)(r,o),r.prototype.setBoundingRect=function(t,a,l,h){return this._rect=new _r.Z(t,a,l,h),this._rect},r.prototype.getBoundingRect=function(){return this._rect},r.prototype.setViewRect=function(t,a,l,h){this._transformTo(t,a,l,h),this._viewRect=new _r.Z(t,a,l,h)},r.prototype._transformTo=function(t,a,l,h){var d=this.getBoundingRect(),p=this._rawTransformable;p.transform=d.calculateTransform(new _r.Z(t,a,l,h));var y=p.parent;p.parent=null,p.decomposeTransform(),p.parent=y,this._updateTransform()},r.prototype.setCenter=function(t,a){t&&(this._center=[(0,In.GM)(t[0],a.getWidth()),(0,In.GM)(t[1],a.getHeight())],this._updateCenterAndZoom())},r.prototype.setZoom=function(t){t=t||1;var a=this.zoomLimit;a&&(null!=a.max&&(t=Math.min(a.max,t)),null!=a.min&&(t=Math.max(a.min,t))),this._zoom=t,this._updateCenterAndZoom()},r.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},r.prototype.getZoom=function(){return this._zoom||1},r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},r.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,l=this.getDefaultCenter(),h=this.getCenter(),d=this.getZoom();h=Jr.applyTransform([],h,t),l=Jr.applyTransform([],l,t),a.originX=h[0],a.originY=h[1],a.x=l[0]-h[0],a.y=l[1]-h[1],a.scaleX=a.scaleY=d,this._updateTransform()},r.prototype._updateTransform=function(){var t=this._roamTransformable,a=this._rawTransformable;a.parent=t,t.updateTransform(),a.updateTransform(),Ji.copy(this.transform||(this.transform=[]),a.transform||Ji.create()),this._rawTransform=a.getLocalTransform(),this.invTransform=this.invTransform||[],Ji.invert(this.invTransform,this.transform),this.decomposeTransform()},r.prototype.getTransformInfo=function(){var t=this._rawTransformable,a=this._roamTransformable,l=new Ce.ZP;return l.transform=a.transform,l.decomposeTransform(),{roam:{x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},r.prototype.getViewRect=function(){return this._viewRect},r.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},r.prototype.dataToPoint=function(t,a,l){var h=a?this._rawTransform:this.transform;return l=l||[],h?v4(l,t,h):Jr.copy(l,t)},r.prototype.pointToData=function(t){var a=this.invTransform;return a?v4([],t,a):[t[0],t[1]]},r.prototype.convertToPixel=function(t,a,l){var h=Yo(a);return h===this?h.dataToPoint(l):null},r.prototype.convertFromPixel=function(t,a,l){var h=Yo(a);return h===this?h.pointToData(l):null},r.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},r.dimensions=["x","y"],r}(Ce.ZP);var h3={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},K8=["lng","lat"],oo=function(o){function r(t,a,l){var h=o.call(this,t)||this;h.dimensions=K8,h.type="geo",h._nameCoordMap=M.createHashMap(),h.map=a;var V,d=l.projection,p=L1.load(a,l.nameMap,l.nameProperty),y=L1.getGeoResource(a),w=(h.resourceType=y?y.type:null,h.regions=p.regions),z=h3[y.type];if(h._regionsMap=p.regionsMap,h.regions=p.regions,h.projection=d,d)for(var k=0;k<w.length;k++){var J=w[k].getBoundingRect(d);(V=V||J.clone()).union(J)}else V=p.boundingRect;return h.setBoundingRect(V.x,V.y,V.width,V.height),h.aspectScale=d?1:M.retrieve2(l.aspectScale,z.aspectScale),h._invertLongitute=!d&&z.invertLongitute,h}return(0,st.ZT)(r,o),r.prototype._transformTo=function(t,a,l,h){var d=this.getBoundingRect(),p=this._invertLongitute;d=d.clone(),p&&(d.y=-d.y-d.height);var y=this._rawTransformable;y.transform=d.calculateTransform(new _r.Z(t,a,l,h));var x=y.parent;y.parent=null,y.decomposeTransform(),y.parent=x,p&&(y.scaleY=-y.scaleY),this._updateTransform()},r.prototype.getRegion=function(t){return this._regionsMap.get(t)},r.prototype.getRegionByCoord=function(t){for(var a=this.regions,l=0;l<a.length;l++){var h=a[l];if("geoJSON"===h.type&&h.contain(t))return a[l]}},r.prototype.addGeoCoord=function(t,a){this._nameCoordMap.set(t,a)},r.prototype.getGeoCoord=function(t){var a=this._regionsMap.get(t);return this._nameCoordMap.get(t)||a&&a.getCenter()},r.prototype.dataToPoint=function(t,a,l){if(M.isString(t)&&(t=this.getGeoCoord(t)),t){var h=this.projection;return h&&(t=h.project(t)),t&&this.projectedToPoint(t,a,l)}},r.prototype.pointToData=function(t){var a=this.projection;return a&&(t=a.unproject(t)),t&&this.pointToProjected(t)},r.prototype.pointToProjected=function(t){return o.prototype.pointToData.call(this,t)},r.prototype.projectedToPoint=function(t,a,l){return o.prototype.dataToPoint.call(this,t,a,l)},r.prototype.convertToPixel=function(t,a,l){var h=$8(a);return h===this?h.dataToPoint(l):null},r.prototype.convertFromPixel=function(t,a,l){var h=$8(a);return h===this?h.pointToData(l):null},r}(u3);function $8(o){var r=o.geoModel,t=o.seriesModel;return r?r.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Hr.C6).models[0]||{}).coordinateSystem:null}M.mixin(oo,u3);const bs=oo;function vu(o,r){var t=o.get("boundingCoords");if(null!=t){var a=t[0],l=t[1];if(isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])){var h=this.projection;if(h){var d=a[0],p=a[1],y=l[0],x=l[1];a=[1/0,1/0],l=[-1/0,-1/0];var w=function($e,ut,St,Pt){for(var Vt=St-$e,kt=Pt-ut,en=0;en<=100;en++){var un=en/100,vn=h.project([$e+Vt*un,ut+kt*un]);Jr.min(a,a,vn),Jr.max(l,l,vn)}};w(d,p,y,p),w(y,p,y,x),w(y,x,d,x),w(d,x,y,p)}this.setBoundingRect(a[0],a[1],l[0]-a[0],l[1]-a[1])}}var Re,Ie,Ge,z=this.getBoundingRect(),V=o.get("layoutCenter"),k=o.get("layoutSize"),J=r.getWidth(),ue=r.getHeight(),xe=z.width/z.height*this.aspectScale,ze=!1;if(V&&k&&(Re=[In.GM(V[0],J),In.GM(V[1],ue)],Ie=In.GM(k,Math.min(J,ue)),!isNaN(Re[0])&&!isNaN(Re[1])&&!isNaN(Ie)&&(ze=!0)),ze)Ge={},xe>1?(Ge.width=Ie,Ge.height=Ie/xe):(Ge.height=Ie,Ge.width=Ie*xe),Ge.y=Re[1]-Ge.height/2,Ge.x=Re[0]-Ge.width/2;else{var Qe=o.getBoxLayoutParams();Qe.aspect=xe,Ge=Vr.ME(Qe,{width:J,height:ue})}this.setViewRect(Ge.x,Ge.y,Ge.width,Ge.height),this.setCenter(o.get("center"),r),this.setZoom(o.get("zoom"))}const pu=new(function(){function o(){this.dimensions=K8}return o.prototype.create=function(r,t){var a=[];function l(d){return{nameProperty:d.get("nameProperty"),aspectScale:d.get("aspectScale"),projection:d.get("projection")}}r.eachComponent("geo",function(d,p){var y=d.get("map"),x=new bs(y+p,y,M.extend({nameMap:d.get("nameMap")},l(d)));x.zoomLimit=d.get("scaleLimit"),a.push(x),d.coordinateSystem=x,x.model=d,x.resize=vu,x.resize(d,t)}),r.eachSeries(function(d){if("geo"===d.get("coordinateSystem")){var y=d.get("geoIndex")||0;d.coordinateSystem=a[y]}});var h={};return r.eachSeriesByType("map",function(d){if(!d.getHostGeoModel()){var p=d.getMapType();h[p]=h[p]||[],h[p].push(d)}}),M.each(h,function(d,p){var y=M.map(d,function(w){return w.get("nameMap")}),x=new bs(p,p,M.extend({nameMap:M.mergeAll(y)},l(d[0])));x.zoomLimit=M.retrieve.apply(null,M.map(d,function(w){return w.get("scaleLimit")})),a.push(x),x.resize=vu,x.resize(d[0],t),M.each(d,function(w){w.coordinateSystem=x,function f2(o,r){M.each(r.get("geoCoord"),function(t,a){o.addGeoCoord(a,t)})}(x,w)})}),a},o.prototype.getFilledRegions=function(r,t,a,l){for(var h=(r||[]).slice(),d=M.createHashMap(),p=0;p<h.length;p++)d.set(h[p].name,h[p]);var y=L1.load(t,a,l);return M.each(y.regions,function(x){var w=x.name;!d.get(w)&&h.push({name:w})}),h},o}()),v1=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){var h=L1.getGeoResource(t.map);if(h&&"geoJSON"===h.type){var d=t.itemStyle=t.itemStyle||{};"color"in d||(d.color="#eee")}this.mergeDefaultAndTheme(t,l),Hr.Cc(t,"label",["show"])},r.prototype.optionUpdated=function(){var t=this,a=this.option;a.regions=pu.getFilledRegions(a.regions,a.map,a.nameMap,a.nameProperty);var l={};this._optionModelMap=M.reduce(a.regions||[],function(h,d){var p=d.name;return p&&(h.set(p,new Fo.Z(d,t,t.ecModel)),d.selected&&(l[p]=!0)),h},M.createHashMap()),a.selectedMap||(a.selectedMap=l)},r.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Fo.Z(null,this,this.ecModel)},r.prototype.getFormattedLabel=function(t,a){var h=this.getRegionModel(t).get("normal"===a?["label","formatter"]:["emphasis","label","formatter"]),d={name:t};return M.isFunction(h)?(d.status=a,h(d)):M.isString(h)?h.replace("{a}",t??""):void 0},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.select=function(t){var a=this.option,l=a.selectedMode;l&&("multiple"!==l&&(a.selectedMap=null),(a.selectedMap||(a.selectedMap={}))[t]=!0)},r.prototype.unSelect=function(t){var a=this.option.selectedMap;a&&(a[t]=!1)},r.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},r.prototype.isSelected=function(t){var a=this.option.selectedMap;return!(!a||!a[t])},r.type="geo",r.layoutMode="box",r.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},r}(va.Z);function v2(o,r){return o.pointToProjected?o.pointToProjected(r):o.pointToData(r)}function X8(o,r,t,a){var l=o.getZoom(),h=o.getCenter(),d=r.zoom,p=o.projectedToPoint?o.projectedToPoint(h):o.dataToPoint(h);if(null!=r.dx&&null!=r.dy&&(p[0]-=r.dx,p[1]-=r.dy,o.setCenter(v2(o,p),a)),null!=d){if(t){var y=t.min||0;d=Math.max(Math.min(l*d,t.max||1/0),y)/l}o.scaleX*=d,o.scaleY*=d;var z=(r.originY-o.y)*(d-1);o.x-=(r.originX-o.x)*(d-1),o.y-=z,o.updateTransform(),o.setCenter(v2(o,p),a),o.setZoom(d*l)}return{center:o.getCenter(),zoom:o.getZoom()}}var g4=C(3437);const d3=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.focusBlurEnabled=!0,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){this._api=a},r.prototype.render=function(t,a,l,h){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new du(l));var d=this._mapDraw;d.draw(t,a,l,this,h),d.group.on("click",this._handleRegionClick,this),d.group.silent=t.get("silent"),this.group.add(d.group),this.updateSelectStatus(t,a,l)},r.prototype._handleRegionClick=function(t){var a;(0,g4.o)(t.target,function(l){return null!=(a=(0,Qn.A)(l).eventData)},!0),a&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:a.name})},r.prototype.updateSelectStatus=function(t,a,l){var h=this;this._mapDraw.group.traverse(function(d){var p=(0,Qn.A)(d).eventData;if(p)return h._model.isSelected(p.name)?l.enterSelect(d):l.leaveSelect(d),!0})},r.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},r.type="geo",r}(xa.Z);function Q8(o,r,t){L1.registerMap(o,r,t)}function V6(o){function r(t,a){a.update="geo:updateSelectStatus",o.registerAction(a,function(l,h){var d={},p=[];return h.eachComponent({mainType:"geo",query:l},function(y){y[t](l.name),(0,M.each)(y.coordinateSystem.regions,function(z){d[z.name]=y.isSelected(z.name)||!1});var w=[];(0,M.each)(d,function(z,V){d[V]&&w.push(V)}),p.push({geoIndex:y.componentIndex,name:w})}),{selected:d,allSelected:p,name:l.name}})}o.registerCoordinateSystem("geo",pu),o.registerComponentModel(v1),o.registerComponentView(d3),o.registerImpl("registerMap",Q8),o.registerImpl("getMap",function(t){return L1.getMapForUser(t)}),r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,a,l){var h=t.componentType||"series";a.eachComponent({mainType:h,query:t},function(d){var p=d.coordinateSystem;if("geo"===p.type){var y=X8(p,t,d.get("scaleLimit"),l);d.setCenter&&d.setCenter(y.center),d.setZoom&&d.setZoom(y.zoom),"series"===h&&(0,M.each)(d.seriesGroup,function(x){x.setCenter(y.center),x.setZoom(y.zoom)})}})})}var gu=C(6830);function mu(o,r){var t=o.isExpand?o.children:[],a=o.parentNode.children,l=o.hierNode.i?a[o.hierNode.i-1]:null;if(t.length){!function p1(o){for(var r=o.children,t=r.length,a=0,l=0;--t>=0;){var h=r[t];h.hierNode.prelim+=a,h.hierNode.modifier+=a,a+=h.hierNode.shift+(l+=h.hierNode.change)}}(o);var h=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;l?(o.hierNode.prelim=l.hierNode.prelim+r(o,l),o.hierNode.modifier=o.hierNode.prelim-h):o.hierNode.prelim=h}else l&&(o.hierNode.prelim=l.hierNode.prelim+r(o,l));o.parentNode.hierNode.defaultAncestor=function Bi(o,r,t,a){if(r){for(var l=o,h=o,d=h.parentNode.children[0],p=r,y=l.hierNode.modifier,x=h.hierNode.modifier,w=d.hierNode.modifier,z=p.hierNode.modifier;p=pi(p),h=Xi(h),p&&h;){l=pi(l),d=Xi(d),l.hierNode.ancestor=o;var V=p.hierNode.prelim+z-h.hierNode.prelim-x+a(p,h);V>0&&(ws(J8(p,o,t),o,V),x+=V,y+=V),z+=p.hierNode.modifier,x+=h.hierNode.modifier,y+=l.hierNode.modifier,w+=d.hierNode.modifier}p&&!pi(l)&&(l.hierNode.thread=p,l.hierNode.modifier+=z-y),h&&!Xi(d)&&(d.hierNode.thread=h,d.hierNode.modifier+=x-w,t=o)}return t}(o,l,o.parentNode.hierNode.defaultAncestor||a[0],r)}function Jf(o){o.setLayout({x:o.hierNode.prelim+o.parentNode.hierNode.modifier},!0),o.hierNode.modifier+=o.parentNode.hierNode.modifier}function yl(o){return arguments.length?o:H6}function O1(o,r){return o-=Math.PI/2,{x:r*Math.cos(o),y:r*Math.sin(o)}}function pi(o){var r=o.children;return r.length&&o.isExpand?r[r.length-1]:o.hierNode.thread}function Xi(o){var r=o.children;return r.length&&o.isExpand?r[0]:o.hierNode.thread}function J8(o,r,t){return o.hierNode.ancestor.parentNode===r.parentNode?o.hierNode.ancestor:t}function ws(o,r,t){var a=t/(r.hierNode.i-o.hierNode.i);r.hierNode.change-=a,r.hierNode.shift+=t,r.hierNode.modifier+=t,r.hierNode.prelim+=t,o.hierNode.change+=a}function H6(o,r){return o.parentNode===r.parentNode?1:2}var v3=C(9653),q8=function o(){this.parentPoint=[],this.childPoints=[]},yu=function(o){function r(t){return o.call(this,t)||this}return(0,st.ZT)(r,o),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new q8},r.prototype.buildPath=function(t,a){var l=a.childPoints,h=l.length,d=a.parentPoint,p=l[0],y=l[h-1];if(1===h)return t.moveTo(d[0],d[1]),void t.lineTo(p[0],p[1]);var x=a.orient,w="TB"===x||"BT"===x?0:1,z=1-w,V=(0,In.GM)(a.forkPosition,1),k=[];k[w]=d[w],k[z]=d[z]+(y[z]-d[z])*V,t.moveTo(d[0],d[1]),t.lineTo(k[0],k[1]),t.moveTo(p[0],p[1]),k[w]=p[w],t.lineTo(k[0],k[1]),k[w]=y[w],t.lineTo(k[0],k[1]),t.lineTo(y[0],y[1]);for(var J=1;J<h-1;J++){var ue=l[J];t.moveTo(ue[0],ue[1]),k[w]=ue[w],t.lineTo(k[0],k[1])}},r}(pe.ZP);function p3(o,r){var t=o.getItemLayout(r);return t&&!isNaN(t.x)&&!isNaN(t.y)}function _u(o,r,t,a,l){var h=!t,d=o.tree.getNodeByDataIndex(r),p=d.getModel(),y=d.getVisual("style").fill,x=!1===d.isExpand&&0!==d.children.length?y:"#fff",w=o.tree.root,z=d.parentNode===w?d:d.parentNode||d,V=o.getItemGraphicEl(z.dataIndex),k=z.getLayout(),J=V?{x:V.__oldX,y:V.__oldY,rawX:V.__radialOldRawX,rawY:V.__radialOldRawY}:k,ue=d.getLayout();h?((t=new bo(o,r,null,{symbolInnerColor:x,useNameLabel:!0})).x=J.x,t.y=J.y):t.updateData(o,r,null,{symbolInnerColor:x,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=ue.rawX,t.__radialRawY=ue.rawY,a.add(t),o.setItemGraphicEl(r,t),t.__oldX=t.x,t.__oldY=t.y,Bn.D(t,{x:ue.x,y:ue.y},l);var xe=t.getSymbolPath();if("radial"===l.get("layout")){var ze=w.children[0],Re=ze.getLayout(),Ie=ze.children.length,Ge=void 0,Qe=void 0;if(ue.x===Re.x&&!0===d.isExpand&&ze.children.length){var $e={x:(ze.children[0].getLayout().x+ze.children[Ie-1].getLayout().x)/2,y:(ze.children[0].getLayout().y+ze.children[Ie-1].getLayout().y)/2};(Ge=Math.atan2($e.y-Re.y,$e.x-Re.x))<0&&(Ge=2*Math.PI+Ge),(Qe=$e.x<Re.x)&&(Ge-=Math.PI)}else(Ge=Math.atan2(ue.y-Re.y,ue.x-Re.x))<0&&(Ge=2*Math.PI+Ge),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(Qe=ue.x<Re.x)&&(Ge-=Math.PI):(Qe=ue.x>Re.x)||(Ge-=Math.PI);var ut=Qe?"left":"right",St=p.getModel("label"),Pt=St.get("rotate"),Vt=Pt*(Math.PI/180),kt=xe.getTextContent();kt&&(xe.setTextConfig({position:St.get("position")||ut,rotation:null==Pt?-Ge:Vt,origin:"center"}),kt.setStyle("verticalAlign","middle"))}var en=p.get(["emphasis","focus"]),un="relative"===en?M.concatArray(d.getAncestorsIndices(),d.getDescendantIndices()):"ancestor"===en?d.getAncestorsIndices():"descendant"===en?d.getDescendantIndices():null;un&&((0,Qn.A)(t).focus=un),function ev(o,r,t,a,l,h,d,p){var y=r.getModel(),x=o.get("edgeShape"),w=o.get("layout"),z=o.getOrient(),V=o.get(["lineStyle","curveness"]),k=o.get("edgeForkPosition"),J=y.getModel("lineStyle").getLineStyle(),ue=a.__edge;if("curve"===x)r.parentNode&&r.parentNode!==t&&(ue||(ue=a.__edge=new gu.Z({shape:s0(w,z,V,l,l)})),Bn.D(ue,{shape:s0(w,z,V,h,d)},o));else if("polyline"===x&&"orthogonal"===w&&r!==t&&r.children&&0!==r.children.length&&!0===r.isExpand){for(var xe=r.children,ze=[],Re=0;Re<xe.length;Re++){var Ie=xe[Re].getLayout();ze.push([Ie.x,Ie.y])}ue||(ue=a.__edge=new yu({shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]],orient:z,forkPosition:k}})),Bn.D(ue,{shape:{parentPoint:[d.x,d.y],childPoints:ze}},o)}ue&&("polyline"!==x||r.isExpand)&&(ue.useStyle(M.defaults({strokeNoScale:!0,fill:null},J)),(0,er.WO)(ue,y,"lineStyle"),(0,er.MA)(ue),p.add(ue))}(l,d,w,t,J,k,ue,a),t.__edge&&(t.onHoverStateChange=function(vn){if("blur"!==vn){var wn=d.parentNode&&o.getItemGraphicEl(d.parentNode.dataIndex);wn&&wn.hoverState===er.CX||(0,er.Gl)(t.__edge,vn)}})}function eh(o,r,t,a,l){var d=th(r.tree.root,o),p=d.source,y=d.sourceLayout,x=r.getItemGraphicEl(o.dataIndex);if(x){var w=r.getItemGraphicEl(p.dataIndex),V=x.__edge||(!1===p.isExpand||1===p.children.length?w.__edge:void 0),k=a.get("edgeShape"),J=a.get("layout"),ue=a.get("orient"),xe=a.get(["lineStyle","curveness"]);V&&("curve"===k?Bn.bX(V,{shape:s0(J,ue,xe,y,y),style:{opacity:0}},a,{cb:function(){t.remove(V)},removeOpt:l}):"polyline"===k&&"orthogonal"===a.get("layout")&&Bn.bX(V,{shape:{parentPoint:[y.x,y.y],childPoints:[[y.x,y.y]]},style:{opacity:0}},a,{cb:function(){t.remove(V)},removeOpt:l}))}}function th(o,r){for(var a,t=r.parentNode===o?r:r.parentNode||r;null==(a=t.getLayout());)t=t.parentNode===o?t:t.parentNode||t;return{source:t,sourceLayout:a}}function nh(o,r,t,a,l){var h=o.tree.getNodeByDataIndex(r),p=th(o.tree.root,h).sourceLayout,y={duration:l.get("animationDurationUpdate"),easing:l.get("animationEasingUpdate")};Bn.bX(t,{x:p.x+1,y:p.y+1},l,{cb:function(){a.remove(t),o.setItemGraphicEl(r,null)},removeOpt:y}),t.fadeOut(null,o.hostModel,{fadeLabel:!0,animation:y}),h.children.forEach(function(x){eh(x,o,a,l,y)}),eh(h,o,a,l,y)}function s0(o,r,t,a,l){var h,d,p,y,x,w,z,V;if("radial"===o){w=l.rawX,V=l.rawY;var k=O1(x=a.rawX,z=a.rawY),J=O1(x,z+(V-z)*t),ue=O1(w,V+(z-V)*t),xe=O1(w,V);return{x1:k.x||0,y1:k.y||0,x2:xe.x||0,y2:xe.y||0,cpx1:J.x||0,cpy1:J.y||0,cpx2:ue.x||0,cpy2:ue.y||0}}return x=a.x,z=a.y,w=l.x,V=l.y,("LR"===r||"RL"===r)&&(h=x+(w-x)*t,d=z,p=w+(x-w)*t,y=V),("TB"===r||"BT"===r)&&(h=x,d=z+(V-z)*t,p=w,y=V+(z-V)*t),{x1:x,y1:z,x2:w,y2:V,cpx1:h,cpy1:d,cpx2:p,cpy2:y}}const tv=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._mainGroup=new yn.Z,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){this._controller=new s4(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},r.prototype.render=function(t,a,l){var h=t.getData(),d=t.layoutInfo,p=this._mainGroup;"radial"===t.get("layout")?(p.x=d.x+d.width/2,p.y=d.y+d.height/2):(p.x=d.x,p.y=d.y),this._updateViewCoordSys(t,l),this._updateController(t,a,l);var x=this._data;h.diff(x).add(function(w){p3(h,w)&&_u(h,w,null,p,t)}).update(function(w,z){var V=x.getItemGraphicEl(z);p3(h,w)?_u(h,w,V,p,t):V&&nh(x,z,V,p,t)}).remove(function(w){var z=x.getItemGraphicEl(w);z&&nh(x,w,z,p,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&h.eachItemGraphicEl(function(w,z){w.off("click").on("click",function(){l.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:z})})}),this._data=h},r.prototype._updateViewCoordSys=function(t,a){var l=t.getData(),h=[];l.each(function(z){var V=l.getItemLayout(z);V&&!isNaN(V.x)&&!isNaN(V.y)&&h.push([+V.x,+V.y])});var d=[],p=[];v3.zk(h,d,p);var y=this._min,x=this._max;p[0]-d[0]==0&&(d[0]=y?y[0]:d[0]-1,p[0]=x?x[0]:p[0]+1),p[1]-d[1]==0&&(d[1]=y?y[1]:d[1]-1,p[1]=x?x[1]:p[1]+1);var w=t.coordinateSystem=new u3;w.zoomLimit=t.get("scaleLimit"),w.setBoundingRect(d[0],d[1],p[0]-d[0],p[1]-d[1]),w.setCenter(t.get("center"),a),w.setZoom(t.get("zoom")),this.group.attr({x:w.x,y:w.y,scaleX:w.scaleX,scaleY:w.scaleY}),this._min=d,this._max=p},r.prototype._updateController=function(t,a,l){var h=this,d=this._controller,p=this._controllerHost,y=this.group;d.setPointerChecker(function(x,w,z){var V=y.getBoundingRect();return V.applyTransform(y.transform),V.contain(w,z)&&!q2(x,l,t)}),d.enable(t.get("roam")),p.zoomLimit=t.get("scaleLimit"),p.zoom=t.coordinateSystem.getZoom(),d.off("pan").off("zoom").on("pan",function(x){l4(p,x.dx,x.dy),l.dispatchAction({seriesId:t.id,type:"treeRoam",dx:x.dx,dy:x.dy})}).on("zoom",function(x){J2(p,x.scale,x.originX,x.originY),l.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:x.scale,originX:x.originX,originY:x.originY}),h._updateNodeAndLinkScale(t),l.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(t){var a=t.getData(),l=this._getNodeGlobalScale(t);a.eachItemGraphicEl(function(h,d){h.setSymbolScale(l)})},r.prototype._getNodeGlobalScale=function(t){var a=t.coordinateSystem;if("view"!==a.type)return 1;var l=this._nodeScaleRatio,h=a.scaleX||1;return((a.getZoom()-1)*l+1)/h},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},r.type="tree",r}(Oi.Z);var N6=C(2959),nv=function(){function o(r,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=r||"",this.hostTree=t}return o.prototype.isRemoved=function(){return this.dataIndex<0},o.prototype.eachNode=function(r,t,a){M.isFunction(r)&&(a=t,t=r,r=null),M.isString(r=r||{})&&(r={order:r});var d,l=r.order||"preorder",h=this[r.attr||"children"];"preorder"===l&&(d=t.call(a,this));for(var p=0;!d&&p<h.length;p++)h[p].eachNode(r,t,a);"postorder"===l&&t.call(a,this)},o.prototype.updateDepthAndHeight=function(r){var t=0;this.depth=r;for(var a=0;a<this.children.length;a++){var l=this.children[a];l.updateDepthAndHeight(r+1),l.height>t&&(t=l.height)}this.height=t+1},o.prototype.getNodeById=function(r){if(this.getId()===r)return this;for(var t=0,a=this.children,l=a.length;t<l;t++){var h=a[t].getNodeById(r);if(h)return h}},o.prototype.contains=function(r){if(r===this)return!0;for(var t=0,a=this.children,l=a.length;t<l;t++){var h=a[t].contains(r);if(h)return h}},o.prototype.getAncestors=function(r){for(var t=[],a=r?this:this.parentNode;a;)t.push(a),a=a.parentNode;return t.reverse(),t},o.prototype.getAncestorsIndices=function(){for(var r=[],t=this;t;)r.push(t.dataIndex),t=t.parentNode;return r.reverse(),r},o.prototype.getDescendantIndices=function(){var r=[];return this.eachNode(function(t){r.push(t.dataIndex)}),r},o.prototype.getValue=function(r){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(r||"value"),this.dataIndex)},o.prototype.setLayout=function(r,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,r,t)},o.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},o.prototype.getModel=function(r){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(r)},o.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},o.prototype.setVisual=function(r,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,r,t)},o.prototype.getVisual=function(r){return this.hostTree.data.getItemVisual(this.dataIndex,r)},o.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},o.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},o.prototype.getChildIndex=function(){if(this.parentNode){for(var r=this.parentNode.children,t=0;t<r.length;++t)if(r[t]===this)return t;return-1}return-1},o.prototype.isAncestorOf=function(r){for(var t=r.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},o.prototype.isDescendantOf=function(r){return r!==this&&r.isAncestorOf(this)},o}();const Il=function(){function o(r){this.type="tree",this._nodes=[],this.hostModel=r}return o.prototype.eachNode=function(r,t,a){this.root.eachNode(r,t,a)},o.prototype.getNodeByDataIndex=function(r){var t=this.data.getRawIndex(r);return this._nodes[t]},o.prototype.getNodeById=function(r){return this.root.getNodeById(r)},o.prototype.update=function(){for(var r=this.data,t=this._nodes,a=0,l=t.length;a<l;a++)t[a].dataIndex=-1;for(a=0,l=r.count();a<l;a++)t[r.getRawIndex(a)].dataIndex=a},o.prototype.clearLayouts=function(){this.data.clearItemLayouts()},o.createTree=function(r,t,a){var l=new o(t),h=[],d=1;!function p(w,z){var V=w.value;d=Math.max(d,M.isArray(V)?V.length:1),h.push(w);var k=new nv((0,Hr.U5)(w.name,""),l);z?function rh(o,r){o.parentNode!==r&&(r.children.push(o),o.parentNode=r)}(k,z):l.root=k,l._nodes.push(k);var J=w.children;if(J)for(var ue=0;ue<J.length;ue++)p(J[ue],k)}(r),l.root.updateDepthAndHeight(0);var y=(0,fn.Z)(h,{coordDimensions:["value"],dimensionsCount:d}).dimensions,x=new Hn.Z(y,t);return x.initData(h),a&&a(x),(0,N6.Z)({mainData:x,struct:l,structAttr:"tree"}),l.update(),l},o}();function m4(o,r,t){if(o&&M.indexOf(r,o.type)>=0){var a=t.getData().tree.root,l=o.targetNode;if(M.isString(l)&&(l=a.getNodeById(l)),l&&a.contains(l))return{node:l};var h=o.targetNodeId;if(null!=h&&(l=a.getNodeById(h)))return{node:l}}}function nc(o){for(var r=[];o;)(o=o.parentNode)&&r.push(o);return r.reverse()}function Rl(o,r){var t=nc(o);return M.indexOf(t,r)>=0}function l0(o,r){for(var t=[];o;){var a=o.dataIndex;t.push({name:o.name,dataIndex:a,value:r.getRawValue(a)}),o=o.parentNode}return t.reverse(),t}const k6=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t){var a={name:t.name,children:t.data},h=new Fo.Z(t.leaves||{},this,this.ecModel),d=Il.createTree(a,this,function p(z){z.wrapMethod("getItemModel",function(V,k){var J=d.getNodeByDataIndex(k);return J&&J.children.length&&J.isExpand||(V.parentModel=h),V})}),y=0;d.eachNode("preorder",function(z){z.depth>y&&(y=z.depth)});var w=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:y;return d.root.eachNode("preorder",function(z){var V=z.hostTree.data.getRawDataItem(z.dataIndex);z.isExpand=V&&null!=V.collapsed?!V.collapsed:z.depth<=w}),d.data},r.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.formatTooltip=function(t,a,l){for(var h=this.getData().tree,d=h.root.children[0],p=h.getNodeByDataIndex(t),y=p.getValue(),x=p.name;p&&p!==d;)x=p.parentNode.name+"."+x,p=p.parentNode;return(0,yo.TX)("nameValue",{name:x,value:y,noValue:isNaN(y)||null==y})},r.prototype.getDataParams=function(t){var a=o.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=l0(l,this),a.collapsed=!l.isExpand,a},r.type="series.tree",r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},r}(xn.Z);function m2(o,r){for(var a,t=[o];a=t.pop();)if(r(a),a.isExpand){var l=a.children;if(l.length)for(var h=l.length-1;h>=0;h--)t.push(l[h])}}function ih(o,r){o.eachSeriesByType("tree",function(t){!function Dc(o,r){var t=function eo(o,r){return Vr.ME(o.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}(o,r);o.layoutInfo=t;var a=o.get("layout"),l=0,h=0,d=null;"radial"===a?(l=2*Math.PI,h=Math.min(t.height,t.width)/2,d=yl(function(Ie,Ge){return(Ie.parentNode===Ge.parentNode?1:2)/Ie.depth})):(l=t.width,h=t.height,d=yl());var p=o.getData().tree.root,y=p.children[0];if(y){(function f3(o){var r=o;r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var a,l,t=[r];a=t.pop();)if(l=a.children,a.isExpand&&l.length)for(var d=l.length-1;d>=0;d--){var p=l[d];p.hierNode={defaultAncestor:null,ancestor:p,prelim:0,modifier:0,change:0,shift:0,i:d,thread:null},t.push(p)}})(p),function F6(o,r,t){for(var h,a=[o],l=[];h=a.pop();)if(l.push(h),h.isExpand){var d=h.children;if(d.length)for(var p=0;p<d.length;p++)a.push(d[p])}for(;h=l.pop();)r(h,t)}(y,mu,d),p.hierNode.modifier=-y.hierNode.prelim,m2(y,Jf);var x=y,w=y,z=y;m2(y,function(Ie){var Ge=Ie.getLayout().x;Ge<x.getLayout().x&&(x=Ie),Ge>w.getLayout().x&&(w=Ie),Ie.depth>z.depth&&(z=Ie)});var V=x===w?1:d(x,w)/2,k=V-x.getLayout().x,J=0,ue=0,xe=0,ze=0;if("radial"===a)J=l/(w.getLayout().x+V+k),ue=h/(z.depth-1||1),m2(y,function(Ie){var Ge=O1(xe=(Ie.getLayout().x+k)*J,ze=(Ie.depth-1)*ue);Ie.setLayout({x:Ge.x,y:Ge.y,rawX:xe,rawY:ze},!0)});else{var Re=o.getOrient();"RL"===Re||"LR"===Re?(ue=h/(w.getLayout().x+V+k),J=l/(z.depth-1||1),m2(y,function(Ie){ze=(Ie.getLayout().x+k)*ue,Ie.setLayout({x:xe="LR"===Re?(Ie.depth-1)*J:l-(Ie.depth-1)*J,y:ze},!0)})):("TB"===Re||"BT"===Re)&&(J=l/(w.getLayout().x+V+k),ue=h/(z.depth-1||1),m2(y,function(Ie){xe=(Ie.getLayout().x+k)*J,Ie.setLayout({x:xe,y:ze="TB"===Re?(Ie.depth-1)*ue:h-(Ie.depth-1)*ue},!0)}))}}}(t,r)})}function U6(o){o.eachSeriesByType("tree",function(r){var t=r.getData();t.tree.eachNode(function(l){var d=l.getModel().getModel("itemStyle").getItemStyle(),p=t.ensureUniqueItemVisual(l.dataIndex,"style");(0,M.extend)(p,d)})})}var g3=["treemapZoomToNode","treemapRender","treemapMove"],ah=C(7595);function G6(o){var r=o.getData(),a={};r.tree.eachNode(function(l){for(var h=l;h&&h.depth>1;)h=h.parentNode;var d=(0,ah.i)(o.ecModel,h.name||h.dataIndex+"",a);l.setVisual("decal",d)})}function oh(o){var r=0;M.each(o.children,function(a){oh(a);var l=a.value;M.isArray(l)&&(l=l[0]),r+=l});var t=o.value;M.isArray(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=r),t<0&&(t=0),M.isArray(o.value)?o.value[0]=t:o.value=t}const Wr=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.preventUsingHoverLayer=!0,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){var l={name:t.name,children:t.data};oh(l);var h=t.levels||[],d=this.designatedVisualItemStyle={},p=new Fo.Z({itemStyle:d},this,a);h=t.levels=function Ya(o,r){var t=(0,Hr.kF)(r.get("color")),a=(0,Hr.kF)(r.get(["aria","decal","decals"]));if(t){var l,h;M.each(o=o||[],function(p){var y=new Fo.Z(p),x=y.get("color"),w=y.get("decal");(y.get(["itemStyle","color"])||x&&"none"!==x)&&(l=!0),(y.get(["itemStyle","decal"])||w&&"none"!==w)&&(h=!0)});var d=o[0]||(o[0]={});return l||(d.color=t.slice()),!h&&a&&(d.decal=a.slice()),o}}(h,a);var y=M.map(h||[],function(z){return new Fo.Z(z,p,a)},this),x=Il.createTree(l,this,function w(z){z.wrapMethod("getItemModel",function(V,k){var J=x.getNodeByDataIndex(k);return V.parentModel=(J?y[J.depth]:null)||p,V})});return x.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.formatTooltip=function(t,a,l){var h=this.getData(),d=this.getRawValue(t),p=h.getName(t);return(0,yo.TX)("nameValue",{name:p,value:d})},r.prototype.getDataParams=function(t){var a=o.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=l0(l,this),a.treePathInfo=a.treeAncestors,a},r.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},M.extend(this.layoutInfo,t)},r.prototype.mapIdToIndex=function(t){var a=this._idIndexMap;a||(a=this._idIndexMap=M.createHashMap(),this._idIndexMapCount=0);var l=a.get(t);return null==l&&a.set(t,l=this._idIndexMapCount++),l},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var a=this.getRawData().tree.root;(!t||t!==a&&!a.contains(t))&&(this._viewRoot=a)},r.prototype.enableAriaDecal=function(){G6(this)},r.type="series.treemap",r.layoutMode="box",r.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},r}(xn.Z);var di=C(8173);function j6(o,r,t,a,l,h){var d=[[l?o:o-5,r],[o+t,r],[o+t,r+a],[l?o:o-5,r+a]];return!h&&d.splice(2,0,[o+t+5,r+a/2]),!l&&d.push([o,r+a/2]),d}function y4(o,r,t){(0,Qn.A)(o).eventData={componentType:"series",componentSubType:"treemap",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&l0(t,r)}}const m3=function(){function o(r){this.group=new yn.Z,r.add(this.group)}return o.prototype.render=function(r,t,a,l){var h=r.getModel("breadcrumb"),d=this.group;if(d.removeAll(),h.get("show")&&a){var p=h.getModel("itemStyle"),y=h.getModel("emphasis"),x=p.getModel("textStyle"),w=y.getModel(["itemStyle","textStyle"]),z={pos:{left:h.get("left"),right:h.get("right"),top:h.get("top"),bottom:h.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:h.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,z,x),this._renderContent(r,z,p,y,x,w,l),Vr.p$(d,z.pos,z.box)}},o.prototype._prepare=function(r,t,a){for(var l=r;l;l=l.parentNode){var h=(0,Hr.U5)(l.getModel().get("name"),""),d=a.getTextRect(h),p=Math.max(d.width+16,t.emptyItemWidth);t.totalWidth+=p+8,t.renderList.push({node:l,text:h,width:p})}},o.prototype._renderContent=function(r,t,a,l,h,d,p){for(var y=0,x=t.emptyItemWidth,w=r.get(["breadcrumb","height"]),z=Vr.lq(t.pos,t.box),V=t.totalWidth,k=t.renderList,J=l.getModel("itemStyle").getItemStyle(),ue=k.length-1;ue>=0;ue--){var xe=k[ue],ze=xe.node,Re=xe.width,Ie=xe.text;V>z.width&&(V-=Re-x,Re=x,Ie=null);var Ge=new Ul.Z({shape:{points:j6(y,0,Re,w,ue===k.length-1,0===ue)},style:(0,M.defaults)(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new Yt.ZP({style:(0,hr.Lr)(h,{text:Ie})}),textConfig:{position:"inside"},z2:1e4*er.zr,onclick:(0,M.curry)(p,ze)});Ge.disableLabelAnimation=!0,Ge.getTextContent().ensureState("emphasis").style=(0,hr.Lr)(d,{text:Ie}),Ge.ensureState("emphasis").style=J,(0,er.k5)(Ge,l.get("focus"),l.get("blurScope"),l.get("disabled")),this.group.add(Ge),y4(Ge,r,ze),y+=Re+8}},o.prototype.remove=function(){this.group.removeAll()},o}();var rv=function(){function o(){this._storage=[],this._elExistsMap={}}return o.prototype.add=function(r,t,a,l,h){return!this._elExistsMap[r.id]&&(this._elExistsMap[r.id]=!0,this._storage.push({el:r,target:t,duration:a,delay:l,easing:h}),!0)},o.prototype.finished=function(r){return this._finishedCallback=r,this},o.prototype.start=function(){for(var r=this,t=this._storage.length,a=function(){--t<=0&&(r._storage.length=0,r._elExistsMap={},r._finishedCallback&&r._finishedCallback())},l=0,h=this._storage.length;l<h;l++){var d=this._storage[l];d.el.animateTo(d.target,{duration:d.duration,delay:d.delay,easing:d.easing,setToFinal:!0,done:a,aborted:a})}return this},o}(),sh=C(8202),lh=yn.Z,rc=Ei.Z,xi="upperLabel",xu=10*er.zr,ch=2*er.zr,Vl=3*er.zr,Ta=(0,sh.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),g1=function(o){var r=Ta(o);return r.stroke=r.fill=r.lineWidth=null,r},R1=(0,Hr.Yf)();const Qi=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){var d=a.findComponents({mainType:"series",subType:"treemap",query:h});if(!((0,M.indexOf)(d,t)<0)){this.seriesModel=t,this.api=l,this.ecModel=a;var y=m4(h,["treemapZoomToNode","treemapRootToNode"],t),x=h&&h.type,w=t.layoutInfo,z=!this._oldTree,V=this._storage,k="treemapRootToNode"===x&&y&&V?{rootNodeGroup:V.nodeGroup[y.node.getRawIndex()],direction:h.direction}:null,J=this._giveContainerGroup(w),ue=t.get("animation"),xe=this._doRender(J,t,k);!ue||z||x&&"treemapZoomToNode"!==x&&"treemapRootToNode"!==x?xe.renderFinally():this._doAnimation(J,xe,t,k),this._resetController(l),this._renderBreadcrumb(t,l,y)}},r.prototype._giveContainerGroup=function(t){var a=this._containerGroup;return a||(a=this._containerGroup=new lh,this._initEvents(a),this.group.add(a)),a.x=t.x,a.y=t.y,a},r.prototype._doRender=function(t,a,l){var h=a.getData().tree,d=this._oldTree,p={nodeGroup:[],background:[],content:[]},y={nodeGroup:[],background:[],content:[]},x=this._storage,w=[];function z(xe,ze,Re,Ie){return function uh(o,r,t,a,l,h,d,p,y,x){if(d){var w=d.getLayout(),z=o.getData(),V=d.getModel();if(z.setItemGraphicEl(d.dataIndex,null),w&&w.isInView){var k=w.width,J=w.height,ue=w.borderWidth,xe=w.invisible,ze=d.getRawIndex(),Re=p&&p.getRawIndex(),Ie=d.viewChildren,Ge=w.upperHeight,Qe=Ie&&Ie.length,$e=V.getModel("itemStyle"),ut=V.getModel(["emphasis","itemStyle"]),St=V.getModel(["blur","itemStyle"]),Pt=V.getModel(["select","itemStyle"]),Vt=$e.get("borderRadius")||0,kt=Ci("nodeGroup",lh);if(kt){if(y.add(kt),kt.x=w.x||0,kt.y=w.y||0,kt.markRedraw(),R1(kt).nodeWidth=k,R1(kt).nodeHeight=J,w.isAboveViewRoot)return kt;var en=Ci("background",rc,x,ch);en&&function kr(Ma,Ti,qa){var Ha=(0,Qn.A)(Ti);if(Ha.dataIndex=d.dataIndex,Ha.seriesIndex=o.seriesIndex,Ti.setShape({x:0,y:0,width:k,height:J,r:Vt}),xe)ii(Ti);else{Ti.invisible=!1;var no=d.getVisual("style"),bl=no.stroke,wl=g1($e);wl.fill=bl;var Ho=Ta(ut);Ho.fill=ut.get("borderColor");var cl=Ta(St);cl.fill=St.get("borderColor");var Ps=Ta(Pt);Ps.fill=Pt.get("borderColor"),qa?Gi(Ti,bl,no.opacity,{x:ue,y:0,width:k-2*ue,height:Ge}):Ti.removeTextContent(),Ti.setStyle(wl),Ti.ensureState("emphasis").style=Ho,Ti.ensureState("blur").style=cl,Ti.ensureState("select").style=Ps,(0,er.MA)(Ti)}Ma.add(Ti)}(kt,en,Qe&&w.upperLabelHeight);var un=V.getModel("emphasis"),vn=un.get("focus"),wn=un.get("blurScope"),Zn=un.get("disabled"),ur="ancestor"===vn?d.getAncestorsIndices():"descendant"===vn?d.getDescendantIndices():vn;if(Qe)(0,er.Av)(kt)&&(0,er.Nj)(kt,!1),en&&((0,er.Nj)(en,!Zn),z.setItemGraphicEl(d.dataIndex,en),(0,er.Ib)(en,ur,wn));else{var or=Ci("content",rc,x,Vl);or&&function oi(Ma,Ti){var qa=(0,Qn.A)(Ti);qa.dataIndex=d.dataIndex,qa.seriesIndex=o.seriesIndex;var Ha=Math.max(k-2*ue,0),no=Math.max(J-2*ue,0);if(Ti.culling=!0,Ti.setShape({x:ue,y:ue,width:Ha,height:no,r:Vt}),xe)ii(Ti);else{Ti.invisible=!1;var bl=d.getVisual("style"),wl=bl.fill,Ho=g1($e);Ho.fill=wl,Ho.decal=bl.decal;var cl=Ta(ut),Ps=Ta(St),Jl=Ta(Pt);Gi(Ti,wl,bl.opacity,null),Ti.setStyle(Ho),Ti.ensureState("emphasis").style=cl,Ti.ensureState("blur").style=Ps,Ti.ensureState("select").style=Jl,(0,er.MA)(Ti)}Ma.add(Ti)}(kt,or),en.disableMorphing=!0,en&&(0,er.Av)(en)&&(0,er.Nj)(en,!1),(0,er.Nj)(kt,!Zn),z.setItemGraphicEl(d.dataIndex,kt),(0,er.Ib)(kt,ur,wn)}return kt}}}function ii(Ma){!Ma.invisible&&h.push(Ma)}function Gi(Ma,Ti,qa,Ha){var no=V.getModel(Ha?xi:"label"),bl=(0,Hr.U5)(V.get("name"),null),wl=no.getShallow("show");(0,hr.ni)(Ma,(0,hr.k3)(V,Ha?xi:"label"),{defaultText:wl?bl:null,inheritColor:Ti,defaultOpacity:qa,labelFetcher:o,labelDataIndex:d.dataIndex});var Ho=Ma.getTextContent();if(Ho){var cl=Ho.style,Ps=(0,M.normalizeCssArray)(cl.padding||0);Ha&&(Ma.setTextConfig({layoutRect:Ha}),Ho.disableLabelLayout=!0),Ho.beforeUpdate=function(){var O8=Math.max((Ha?Ha.width:Ma.shape.width)-Ps[1]-Ps[3],0),fc=Math.max((Ha?Ha.height:Ma.shape.height)-Ps[0]-Ps[2],0);(cl.width!==O8||cl.height!==fc)&&Ho.setStyle({width:O8,height:fc})},cl.truncateMinChar=2,cl.lineOverflow="truncate",Fi(cl,Ha,w);var Jl=Ho.getState("emphasis");Fi(Jl?Jl.style:null,Ha,w)}}function Fi(Ma,Ti,qa){var Ha=Ma?Ma.text:null;if(!Ti&&qa.isLeafRoot&&null!=Ha){var no=o.get("drillDownIcon",!0);Ma.text=no?no+" "+Ha:Ha}}function Ci(Ma,Ti,qa,Ha){var no=null!=Re&&t[Ma][Re],bl=l[Ma];return no?(t[Ma][Re]=null,function wa(Ma,Ti){var qa=Ma[ze]={};Ti instanceof lh?(qa.oldX=Ti.x,qa.oldY=Ti.y):qa.oldShape=(0,M.extend)({},Ti.shape)}(bl,no)):xe||((no=new Ti)instanceof d2.ZP&&(no.z2=function hh(o,r){return o*xu+r}(qa,Ha)),function lo(Ma,Ti){var qa=Ma[ze]={},Ha=d.parentNode,no=Ti instanceof yn.Z;if(Ha&&(!a||"drillDown"===a.direction)){var bl=0,wl=0,Ho=l.background[Ha.getRawIndex()];!a&&Ho&&Ho.oldShape&&(bl=Ho.oldShape.width,wl=Ho.oldShape.height),no?(qa.oldX=0,qa.oldY=wl):qa.oldShape={x:bl,y:wl,width:0,height:0}}qa.fadein=!no}(bl,no)),r[Ma][ze]=no}}(a,y,x,l,p,w,xe,ze,Re,Ie)}!function k(xe,ze,Re,Ie,Ge){function Qe(ut){return ut.getId()}function $e(ut,St){var Pt=null!=ut?xe[ut]:null,Vt=null!=St?ze[St]:null,kt=z(Pt,Vt,Re,Ge);kt&&k(Pt&&Pt.viewChildren||[],Vt&&Vt.viewChildren||[],kt,Ie,Ge+1)}Ie?(ze=xe,(0,M.each)(xe,function(ut,St){!ut.isRemoved()&&$e(St,St)})):new di.Z(ze,xe,Qe,Qe).add($e).update($e).remove((0,M.curry)($e,null)).execute()}(h.root?[h.root]:[],d&&d.root?[d.root]:[],t,h===d||!d,0);var V=function J(xe){var ze={nodeGroup:[],background:[],content:[]};return xe&&(0,M.each)(xe,function(Re,Ie){var Ge=ze[Ie];(0,M.each)(Re,function(Qe){Qe&&(Ge.push(Qe),R1(Qe).willDelete=!0)})}),ze}(x);return this._oldTree=h,this._storage=y,{lastsForAnimation:p,willDeleteEls:V,renderFinally:function ue(){(0,M.each)(V,function(xe){(0,M.each)(xe,function(ze){ze.parent&&ze.parent.remove(ze)})}),(0,M.each)(w,function(xe){xe.invisible=!0,xe.dirty()})}}},r.prototype._doAnimation=function(t,a,l,h){var d=l.get("animationDurationUpdate"),p=l.get("animationEasing"),y=((0,M.isFunction)(d)?0:d)||0,x=((0,M.isFunction)(p)?null:p)||"cubicOut",w=function y3(){return new rv}();(0,M.each)(a.willDeleteEls,function(z,V){(0,M.each)(z,function(k,J){if(!k.invisible){var xe,ue=k.parent,ze=R1(ue);if(h&&"drillDown"===h.direction)xe=ue===h.rootNodeGroup?{shape:{x:0,y:0,width:ze.nodeWidth,height:ze.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Re=0,Ie=0;ze.willDelete||(Re=ze.nodeWidth/2,Ie=ze.nodeHeight/2),xe="nodeGroup"===V?{x:Re,y:Ie,style:{opacity:0}}:{shape:{x:Re,y:Ie,width:0,height:0},style:{opacity:0}}}xe&&w.add(k,xe,y,0,x)}})}),(0,M.each)(this._storage,function(z,V){(0,M.each)(z,function(k,J){var ue=a.lastsForAnimation[V][J],xe={};ue&&(k instanceof yn.Z?null!=ue.oldX&&(xe.x=k.x,xe.y=k.y,k.x=ue.oldX,k.y=ue.oldY):(ue.oldShape&&(xe.shape=(0,M.extend)({},k.shape),k.setShape(ue.oldShape)),ue.fadein?(k.setStyle("opacity",0),xe.style={opacity:1}):1!==k.style.opacity&&(xe.style={opacity:1})),w.add(k,xe,y,0,x))})},this),this._state="animating",w.finished((0,M.bind)(function(){this._state="ready",a.renderFinally()},this)).start()},r.prototype._resetController=function(t){var a=this._controller;a||((a=this._controller=new s4(t.getZr())).enable(this.seriesModel.get("roam")),a.on("pan",(0,M.bind)(this._onPan,this)),a.on("zoom",(0,M.bind)(this._onZoom,this)));var l=new _r.Z(0,0,t.getWidth(),t.getHeight());a.setPointerChecker(function(h,d,p){return l.contain(d,p)})},r.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},r.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var a=this.seriesModel.getData().tree.root;if(!a)return;var l=a.getLayout();if(!l)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x+t.dx,y:l.y+t.dy,width:l.width,height:l.height}})}},r.prototype._onZoom=function(t){var a=t.originX,l=t.originY;if("animating"!==this._state){var h=this.seriesModel.getData().tree.root;if(!h)return;var d=h.getLayout();if(!d)return;var p=new _r.Z(d.x,d.y,d.width,d.height),y=this.seriesModel.layoutInfo;a-=y.x,l-=y.y;var x=Ji.create();Ji.translate(x,x,[-a,-l]),Ji.scale(x,x,[t.scale,t.scale]),Ji.translate(x,x,[a,l]),p.applyTransform(x),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:p.x,y:p.y,width:p.width,height:p.height}})}},r.prototype._initEvents=function(t){var a=this;t.on("click",function(l){if("ready"===a._state){var h=a.seriesModel.get("nodeClick",!0);if(h){var d=a.findTarget(l.offsetX,l.offsetY);if(d){var p=d.node;if(p.getLayout().isLeafRoot)a._rootToNode(d);else if("zoomToNode"===h)a._zoomToNode(d);else if("link"===h){var y=p.hostTree.data.getItemModel(p.dataIndex),x=y.get("link",!0),w=y.get("target",!0)||"blank";x&&(0,Ia.MI)(x,w)}}}}},this)},r.prototype._renderBreadcrumb=function(t,a,l){var h=this;l||(l=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(a.getWidth()/2,a.getHeight()/2))||(l={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new m3(this.group))).render(t,a,l.node,function(d){"animating"!==h._state&&(Rl(t.getViewRoot(),d)?h._rootToNode({node:d}):h._zoomToNode({node:d}))})},r.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},r.prototype.dispose=function(){this._clearController()},r.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},r.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},r.prototype.findTarget=function(t,a){var l;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var p=this._storage.background[d.getRawIndex()];if(p){var y=p.transformCoordToLocal(t,a),x=p.shape;if(!(x.x<=y[0]&&y[0]<=x.x+x.width&&x.y<=y[1]&&y[1]<=x.y+x.height))return!1;l={node:d,offsetX:y[0],offsetY:y[1]}}},this),l},r.type="treemap",r}(Oi.Z);var qr=M.each,Co=M.isObject,ji=-1,oa=function(){function o(r){var t=r.mappingMethod,a=r.type,l=this.option=M.clone(r);this.type=a,this.mappingMethod=t,this._normalizeData=bu[t];var h=o.visualHandlers[a];this.applyVisual=h.applyVisual,this.getColorMapper=h.getColorMapper,this._normalizedToVisual=h._normalizedToVisual[t],"piecewise"===t?(ic(l),function wi(o){var r=o.pieceList;o.hasSpecialVisual=!1,M.each(r,function(t,a){t.originIndex=a,null!=t.visual&&(o.hasSpecialVisual=!0)})}(l)):"category"===t?l.categories?function Qa(o){var r=o.categories,t=o.categoryMap={},a=o.visual;if(qr(r,function(d,p){t[d]=p}),!M.isArray(a)){var l=[];M.isObject(a)?qr(a,function(d,p){l[t[p]??ji]=d}):l[ji]=a,a=_3(o,l)}for(var h=r.length-1;h>=0;h--)null==a[h]&&(delete t[r[h]],r.pop())}(l):ic(l,!0):(M.assert("linear"!==t||l.dataExtent),ic(l))}return o.prototype.mapValueToVisual=function(r){var t=this._normalizeData(r);return this._normalizedToVisual(t,r)},o.prototype.getNormalizer=function(){return M.bind(this._normalizeData,this)},o.listVisualTypes=function(){return M.keys(o.visualHandlers)},o.isValidType=function(r){return o.visualHandlers.hasOwnProperty(r)},o.eachVisual=function(r,t,a){M.isObject(r)?M.each(r,t,a):t.call(a,r)},o.mapVisual=function(r,t,a){var l,h=M.isArray(r)?[]:M.isObject(r)?{}:(l=!0,null);return o.eachVisual(r,function(d,p){var y=t.call(a,d,p);l?h=y:h[p]=y}),h},o.retrieveVisuals=function(r){var a,t={};return r&&qr(o.visualHandlers,function(l,h){r.hasOwnProperty(h)&&(t[h]=r[h],a=!0)}),a?t:null},o.prepareVisualTypes=function(r){if(M.isArray(r))r=r.slice();else{if(!Co(r))return[];var t=[];qr(r,function(a,l){t.push(l)}),r=t}return r.sort(function(a,l){return"color"===l&&"color"!==a&&0===a.indexOf("color")?1:-1}),r},o.dependsOn=function(r,t){return"color"===t?!(!r||0!==r.indexOf(t)):r===t},o.findPieceIndex=function(r,t,a){for(var l,h=1/0,d=0,p=t.length;d<p;d++){var y=t[d].value;if(null!=y){if(y===r||M.isString(y)&&y===r+"")return d;a&&V(y,d)}}for(d=0,p=t.length;d<p;d++){var x=t[d],w=x.interval,z=x.close;if(w){if(w[0]===-1/0){if(ls(z[1],r,w[1]))return d}else if(w[1]===1/0){if(ls(z[0],w[0],r))return d}else if(ls(z[0],w[0],r)&&ls(z[1],r,w[1]))return d;a&&V(w[0],d),a&&V(w[1],d)}}if(a)return r===1/0?t.length-1:r===-1/0?0:l;function V(k,J){var ue=Math.abs(k-r);ue<h&&(h=ue,l=J)}},o.visualHandlers={color:{applyVisual:_a("color"),getColorMapper:function(){var r=this.option;return M.bind("category"===r.mappingMethod?function(t,a){return!a&&(t=this._normalizeData(t)),m1.call(this,t)}:function(t,a,l){var h=!!l;return!a&&(t=this._normalizeData(t)),l=na.fastLerp(t,r.parsedVisual,l),h?l:na.stringify(l,"rgba")},this)},_normalizedToVisual:{linear:function(r){return na.stringify(na.fastLerp(r,this.option.parsedVisual),"rgba")},category:m1,piecewise:function(r,t){var a=ac.call(this,t);return null==a&&(a=na.stringify(na.fastLerp(r,this.option.parsedVisual),"rgba")),a},fixed:Yl}},colorHue:u0(function(r,t){return na.modifyHSL(r,t)}),colorSaturation:u0(function(r,t){return na.modifyHSL(r,null,t)}),colorLightness:u0(function(r,t){return na.modifyHSL(r,null,null,t)}),colorAlpha:u0(function(r,t){return na.modifyAlpha(r,t)}),decal:{applyVisual:_a("decal"),_normalizedToVisual:{linear:null,category:m1,piecewise:null,fixed:null}},opacity:{applyVisual:_a("opacity"),_normalizedToVisual:_4([0,1])},liftZ:{applyVisual:_a("liftZ"),_normalizedToVisual:{linear:Yl,category:Yl,piecewise:Yl,fixed:Yl}},symbol:{applyVisual:function(r,t,a){a("symbol",this.mapValueToVisual(r))},_normalizedToVisual:{linear:ui,category:m1,piecewise:function(r,t){var a=ac.call(this,t);return null==a&&(a=ui.call(this,r)),a},fixed:Yl}},symbolSize:{applyVisual:_a("symbolSize"),_normalizedToVisual:_4([0,1])}},o}();function ic(o,r){var t=o.visual,a=[];M.isObject(t)?qr(t,function(h){a.push(h)}):null!=t&&a.push(t),!r&&1===a.length&&!{color:1,symbol:1}.hasOwnProperty(o.type)&&(a[1]=a[0]),_3(o,a)}function u0(o){return{applyVisual:function(r,t,a){var l=this.mapValueToVisual(r);a("color",o(t("color"),l))},_normalizedToVisual:_4([0,1])}}function ui(o){var r=this.option.visual;return r[Math.round((0,In.NU)(o,[0,1],[0,r.length-1],!0))]||{}}function _a(o){return function(r,t,a){a(o,this.mapValueToVisual(r))}}function m1(o){var r=this.option.visual;return r[this.option.loop&&o!==ji?o%r.length:o]}function Yl(){return this.option.visual[0]}function _4(o){return{linear:function(r){return(0,In.NU)(r,o,this.option.visual,!0)},category:m1,piecewise:function(r,t){var a=ac.call(this,t);return null==a&&(a=(0,In.NU)(r,o,this.option.visual,!0)),a},fixed:Yl}}function ac(o){var r=this.option,t=r.pieceList;if(r.hasSpecialVisual){var l=t[oa.findPieceIndex(o,t)];if(l&&l.visual)return l.visual[this.type]}}function _3(o,r){return o.visual=r,"color"===o.type&&(o.parsedVisual=M.map(r,function(t){return na.parse(t)||[0,0,0,1]})),r}var bu={linear:function(o){return(0,In.NU)(o,this.option.dataExtent,[0,1],!0)},piecewise:function(o){var r=this.option.pieceList,t=oa.findPieceIndex(o,r,!0);if(null!=t)return(0,In.NU)(t,[0,r.length-1],[0,1],!0)},category:function(o){return(this.option.categories?this.option.categoryMap[o]:o)??ji},fixed:M.noop};function ls(o,r,t){return o?r<=t:r<t}const cs=oa;var V1=(0,Hr.Yf)();const Gl={seriesType:"treemap",reset:function(o){var t=o.getData().tree.root;t.isRemoved()||M3(t,{},o.getViewRoot().getAncestors(),o)}};function M3(o,r,t,a){var l=o.getModel(),h=o.getLayout(),d=o.hostTree.data;if(h&&!h.invisible&&h.isInView){var V,p=l.getModel("itemStyle"),y=function dh(o,r,t){var a=(0,M.extend)({},r),l=t.designatedVisualItemStyle;return(0,M.each)(["color","colorAlpha","colorSaturation"],function(h){l[h]=r[h];var d=o.get(h);l[h]=null,null!=d&&(a[h]=d)}),a}(p,r,a),x=d.ensureUniqueItemVisual(o.dataIndex,"style"),w=p.get("borderColor"),z=p.get("borderColorSaturation");null!=z&&(w=function Ss(o,r){return null!=r?(0,na.modifyHSL)(r,null,null,o):null}(z,V=W6(y))),x.stroke=w;var k=o.viewChildren;if(k&&k.length){var J=function wu(o,r,t,a,l,h){if(h&&h.length){var d=ea(r,"color")||null!=l.color&&"none"!==l.color&&(ea(r,"colorAlpha")||ea(r,"colorSaturation"));if(d){var p=r.get("visualMin"),y=r.get("visualMax"),x=t.dataExtent.slice();null!=p&&p<x[0]&&(x[0]=p),null!=y&&y>x[1]&&(x[1]=y);var w=r.get("colorMappingBy"),z={type:d.name,dataExtent:x,visual:d.range};"color"!==z.type||"index"!==w&&"id"!==w?z.mappingMethod="linear":(z.mappingMethod="category",z.loop=!0);var V=new cs(z);return V1(V).drColorMappingBy=w,V}}}(0,l,h,0,y,k);(0,M.each)(k,function(ue,xe){if(ue.depth>=t.length||ue===t[ue.depth]){var ze=function ri(o,r,t,a,l,h){var d=(0,M.extend)({},r);if(l){var p=l.type,y="color"===p&&V1(l).drColorMappingBy,x="index"===y?a:"id"===y?h.mapIdToIndex(t.getId()):t.getValue(o.get("visualDimension"));d[p]=l.mapValueToVisual(x)}return d}(l,y,ue,xe,J,a);M3(ue,ze,t,a)}})}else V=W6(y),x.fill=V}}function W6(o){var r=M4(o,"color");if(r){var t=M4(o,"colorAlpha"),a=M4(o,"colorSaturation");return a&&(r=(0,na.modifyHSL)(r,null,null,a)),t&&(r=(0,na.modifyAlpha)(r,t)),r}}function M4(o,r){var t=o[r];if(null!=t&&"none"!==t)return t}function ea(o,r){var t=o.get(r);return(0,M.isArray)(t)&&t.length?{name:r,range:t}:null}var Go=Math.max,H1=Math.min,h0=M.retrieve,Su=M.each,Cu=["itemStyle","borderWidth"],Z6=["itemStyle","gapWidth"],K6=["upperLabel","show"],fh=["upperLabel","height"];const Wi={seriesType:"treemap",reset:function(o,r,t,a){var l=t.getWidth(),h=t.getHeight(),d=o.option,p=Vr.ME(o.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),y=d.size||[],x=(0,In.GM)(h0(p.width,y[0]),l),w=(0,In.GM)(h0(p.height,y[1]),h),z=a&&a.type,k=m4(a,["treemapZoomToNode","treemapRootToNode"],o),J="treemapRender"===z||"treemapMove"===z?a.rootRect:null,ue=o.getViewRoot(),xe=nc(ue);if("treemapMove"!==z){var ze="treemapZoomToNode"===z?function _l(o,r,t,a,l){var h=(r||{}).node,d=[a,l];if(!h||h===t)return d;for(var p,y=a*l,x=y*o.option.zoomToNodeRatio;p=h.parentNode;){for(var w=0,z=p.children,V=0,k=z.length;V<k;V++)w+=z[V].getValue();var J=h.getValue();if(0===J)return d;x*=w/J;var ue=p.getModel(),xe=ue.get(Cu);(x+=4*xe*xe+(3*xe+Math.max(xe,y1(ue)))*Math.pow(x,.5))>In.YM&&(x=In.YM),h=p}x<y&&(x=y);var Re=Math.pow(x/y,.5);return[a*Re,l*Re]}(o,k,ue,x,w):J?[J.width,J.height]:[x,w],Re=d.sort;Re&&"asc"!==Re&&"desc"!==Re&&(Re="desc");var Ie={squareRatio:d.squareRatio,sort:Re,leafDepth:d.leafDepth};ue.hostTree.clearLayouts();var Ge={x:0,y:0,width:ze[0],height:ze[1],area:ze[0]*ze[1]};ue.setLayout(Ge),vh(ue,Ie,!1,0),Ge=ue.getLayout(),Su(xe,function($e,ut){var St=(xe[ut+1]||ue).getValue();$e.setLayout(M.extend({dataExtent:[St,St],borderWidth:0,upperHeight:0},Ge))})}var Qe=o.getData().tree.root;Qe.setLayout(function M2(o,r,t){if(r)return{x:r.x,y:r.y};var a={x:0,y:0};if(!t)return a;var l=t.node,h=l.getLayout();if(!h)return a;for(var d=[h.width/2,h.height/2],p=l;p;){var y=p.getLayout();d[0]+=y.x,d[1]+=y.y,p=p.parentNode}return{x:o.width/2-d[0],y:o.height/2-d[1]}}(p,J,k),!0),o.setLayoutInfo(p),Ec(Qe,new _r.Z(-p.x,-p.y,l,h),xe,ue,0)}};function vh(o,r,t,a){var l,h;if(!o.isRemoved()){var d=o.getLayout();l=d.width,h=d.height;var p=o.getModel(),y=p.get(Cu),x=p.get(Z6)/2,w=y1(p),z=Math.max(y,w),V=y-x,k=z-x;o.setLayout({borderWidth:y,upperHeight:z,upperLabelHeight:w},!0);var J=(l=Go(l-2*V,0))*(h=Go(h-V-k,0)),ue=function ph(o,r,t,a,l,h){var d=o.children||[],p=a.sort;"asc"!==p&&"desc"!==p&&(p=null);var y=null!=a.leafDepth&&a.leafDepth<=h;if(l&&!y)return o.viewChildren=[];d=M.filter(d,function(k){return!k.isRemoved()}),function Tu(o,r){r&&o.sort(function(t,a){var l="asc"===r?t.getValue()-a.getValue():a.getValue()-t.getValue();return 0===l?"asc"===r?t.dataIndex-a.dataIndex:a.dataIndex-t.dataIndex:l})}(d,p);var x=function $6(o,r,t){for(var a=0,l=0,h=r.length;l<h;l++)a+=r[l].getValue();var p,d=o.get("visualDimension");return r&&r.length?"value"===d&&t?(p=[r[r.length-1].getValue(),r[0].getValue()],"asc"===t&&p.reverse()):(p=[1/0,-1/0],Su(r,function(y){var x=y.getValue(d);x<p[0]&&(p[0]=x),x>p[1]&&(p[1]=x)})):p=[NaN,NaN],{sum:a,dataExtent:p}}(r,d,p);if(0===x.sum)return o.viewChildren=[];if(x.sum=function x4(o,r,t,a,l){if(!a)return t;for(var h=o.get("visibleMin"),d=l.length,p=d,y=d-1;y>=0;y--){var x=l["asc"===a?d-y-1:y].getValue();x/t*r<h&&(p=y,t-=x)}return l.splice("asc"===a?0:p,d-p),t}(r,t,x.sum,p,d),0===x.sum)return o.viewChildren=[];for(var w=0,z=d.length;w<z;w++){var V=d[w].getValue()/x.sum*t;d[w].setLayout({area:V})}return y&&(d.length&&o.setLayout({isLeafRoot:!0},!0),d.length=0),o.viewChildren=d,o.setLayout({dataExtent:x.dataExtent},!0),d}(o,p,J,r,t,a);if(ue.length){var xe={x:V,y:k,width:l,height:h},ze=H1(l,h),Re=1/0,Ie=[];Ie.area=0;for(var Ge=0,Qe=ue.length;Ge<Qe;){var $e=ue[Ge];Ie.push($e),Ie.area+=$e.getLayout().area;var ut=jl(Ie,ze,r.squareRatio);ut<=Re?(Ge++,Re=ut):(Ie.area-=Ie.pop().getLayout().area,b4(Ie,ze,xe,x,!1),ze=H1(xe.width,xe.height),Ie.length=Ie.area=0,Re=1/0)}if(Ie.length&&b4(Ie,ze,xe,x,!0),!t){var St=p.get("childrenVisibleMin");null!=St&&J<St&&(t=!0)}for(Ge=0,Qe=ue.length;Ge<Qe;Ge++)vh(ue[Ge],r,t,a+1)}}}function jl(o,r,t){for(var a=0,l=1/0,h=0,d=void 0,p=o.length;h<p;h++)(d=o[h].getLayout().area)&&(d<l&&(l=d),d>a&&(a=d));var y=o.area*o.area,x=r*r*t;return y?Go(x*a/y,y/(x*l)):1/0}function b4(o,r,t,a,l){var h=r===t.width?0:1,d=1-h,p=["x","y"],y=["width","height"],x=t[p[h]],w=r?o.area/r:0;(l||w>t[y[d]])&&(w=t[y[d]]);for(var z=0,V=o.length;z<V;z++){var k=o[z],J={},ue=w?k.getLayout().area/w:0,xe=J[y[d]]=Go(w-2*a,0),ze=t[p[h]]+t[y[h]]-x,Re=z===V-1||ze<ue?ze:ue,Ie=J[y[h]]=Go(Re-2*a,0);J[p[d]]=t[p[d]]+H1(a,xe/2),J[p[h]]=x+H1(a,Ie/2),x+=Re,k.setLayout(J,!0)}t[p[d]]+=w,t[y[d]]-=w}function Ec(o,r,t,a,l){var h=o.getLayout(),d=t[l],p=d&&d===o;if(!(d&&!p||l===t.length&&o!==a)){o.setLayout({isInView:!0,invisible:!p&&!r.intersect(h),isAboveViewRoot:p},!0);var y=new _r.Z(r.x-h.x,r.y-h.y,r.width,r.height);Su(o.viewChildren||[],function(x){Ec(x,y,t,a,l+1)})}}function y1(o){return o.get(K6)?o.get(fh):0}function ha(o){var r=o.findComponents({mainType:"legend"});!r||!r.length||o.eachSeriesByType("graph",function(t){var a=t.getCategoriesData(),h=t.getGraph().data,d=a.mapArray(a.getName);h.filterSelf(function(p){var x=h.getItemModel(p).getShallow("category");if(null!=x){(0,M.isNumber)(x)&&(x=d[x]);for(var w=0;w<r.length;w++)if(!r[w].isSelected(x))return!1}return!0})})}function X6(o){var r={};o.eachSeriesByType("graph",function(t){var a=t.getCategoriesData(),l=t.getData(),h={};a.each(function(d){var p=a.getName(d);h["ec-"+p]=d;var y=a.getItemModel(d),x=y.getModel("itemStyle").getItemStyle();x.fill||(x.fill=t.getColorFromPalette(p,r)),a.setItemVisual(d,"style",x);for(var w=["symbol","symbolSize","symbolKeepAspect"],z=0;z<w.length;z++){var V=y.getShallow(w[z],!0);null!=V&&a.setItemVisual(d,w[z],V)}}),a.count()&&l.each(function(d){var y=l.getItemModel(d).getShallow("category");if(null!=y){(0,M.isString)(y)&&(y=h["ec-"+y]);var x=a.getItemVisual(y,"style"),w=l.ensureUniqueItemVisual(d,"style");(0,M.extend)(w,x);for(var z=["symbol","symbolSize","symbolKeepAspect"],V=0;V<z.length;V++)l.setItemVisual(d,z[V],a.getItemVisual(y,z[V]))}})})}function il(o){return o instanceof Array||(o=[o,o]),o}function w4(o){o.eachSeriesByType("graph",function(r){var t=r.getGraph(),a=r.getEdgeData(),l=il(r.get("edgeSymbol")),h=il(r.get("edgeSymbolSize"));a.setVisual("fromSymbol",l&&l[0]),a.setVisual("toSymbol",l&&l[1]),a.setVisual("fromSymbolSize",h&&h[0]),a.setVisual("toSymbolSize",h&&h[1]),a.setVisual("style",r.getModel("lineStyle").getLineStyle()),a.each(function(d){var p=a.getItemModel(d),y=t.getEdgeByIndex(d),x=il(p.getShallow("symbol",!0)),w=il(p.getShallow("symbolSize",!0)),z=p.getModel("lineStyle").getLineStyle(),V=a.ensureUniqueItemVisual(d,"style");switch((0,M.extend)(V,z),V.stroke){case"source":var k=y.node1.getVisual("style");V.stroke=k&&k.fill;break;case"target":k=y.node2.getVisual("style"),V.stroke=k&&k.fill}x[0]&&y.setVisual("fromSymbol",x[0]),x[1]&&y.setVisual("toSymbol",x[1]),w[0]&&y.setVisual("fromSymbolSize",w[0]),w[1]&&y.setVisual("toSymbolSize",w[1])})})}var zc=function(o){return o.get("autoCurveness")||null},us=function(o,r){var t=zc(o),a=20,l=[];if(M.isNumber(t))a=t;else if(M.isArray(t))return void(o.__curvenessList=t);r>a&&(a=r);var h=a%2?a+2:a+3;l=[];for(var d=0;d<h;d++)l.push((d%2?d+1:d)/10*(d%2?-1:1));o.__curvenessList=l},x3=function(o,r,t){var a=[o.id,o.dataIndex].join("."),l=[r.id,r.dataIndex].join(".");return[t.uid,a,l].join("--\x3e")},Q6=function(o){var r=o.split("--\x3e");return[r[0],r[2],r[1]].join("--\x3e")},N1=function(o,r){var t=x3(o.node1,o.node2,r);return r.__edgeMap[t]},b3=function(o,r){return C4(x3(o.node1,o.node2,r),r)+C4(x3(o.node2,o.node1,r),r)},C4=function(o,r){var t=r.__edgeMap;return t[o]?t[o].length:0};function Eu(o,r,t,a){var l=zc(r),h=M.isArray(l);if(!l)return null;var d=N1(o,r);if(!d)return null;for(var p=-1,y=0;y<d.length;y++)if(d[y]===t){p=y;break}var x=b3(o,r);us(r,x),o.lineStyle=o.lineStyle||{};var w=x3(o.node1,o.node2,r),z=r.__curvenessList,V=h||x%2?0:1;if(d.isForward)return z[V+p];var k=Q6(w),J=C4(k,r),ue=z[p+J+V];return a?h?l&&0===l[0]?(J+V)%2?ue:-ue:((J%2?0:1)+V)%2?ue:-ue:(J+V)%2?ue:-ue:z[p+J+V]}function zu(o){var r=o.coordinateSystem;if(!r||"view"===r.type){var t=o.getGraph();t.eachNode(function(a){var l=a.getModel();a.setLayout([+l.get("x"),+l.get("y")])}),x2(t,o)}}function x2(o,r){o.eachEdge(function(t,a){var l=M.retrieve3(t.getModel().get(["lineStyle","curveness"]),-Eu(t,r,a,!0),0),h=Jr.clone(t.node1.getLayout()),d=Jr.clone(t.node2.getLayout()),p=[h,d];+l&&p.push([(h[0]+d[0])/2-(h[1]-d[1])*l,(h[1]+d[1])/2-(d[0]-h[0])*l]),t.setLayout(p)})}function Au(o,r){o.eachSeriesByType("graph",function(t){var a=t.get("layout"),l=t.coordinateSystem;if(l&&"view"!==l.type){var h=t.getData(),d=[];(0,M.each)(l.dimensions,function(V){d=d.concat(h.mapDimensionsAll(V))});for(var p=0;p<h.count();p++){for(var y=[],x=!1,w=0;w<d.length;w++){var z=h.get(d[w],p);isNaN(z)||(x=!0),y.push(z)}h.setItemLayout(p,x?l.dataToPoint(y):[NaN,NaN])}x2(h.graph,t)}else(!a||"none"===a)&&zu(t)})}function Wl(o){var r=o.coordinateSystem;if("view"!==r.type)return 1;var t=o.option.nodeScaleRatio,a=r.scaleX;return((r.getZoom()-1)*t+1)/a}function d0(o){var r=o.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}var T4=Math.PI,gh=[];function mh(o,r,t,a){var l=o.coordinateSystem;if(!l||"view"===l.type){var h=l.getBoundingRect(),d=o.getData(),p=d.graph,y=h.width/2+h.x,x=h.height/2+h.y,w=Math.min(h.width,h.height)/2,z=d.count();if(d.setLayout({cx:y,cy:x}),z){if(t){var V=l.pointToData(a),ue=[V[0]-y,V[1]-x];Jr.normalize(ue,ue),Jr.scale(ue,ue,w),t.setLayout([y+ue[0],x+ue[1]],!0),J6(t,o.get(["circular","rotateLabel"]),y,x)}f0[r](o,p,d,w,y,x,z),p.eachEdge(function(ze,Re){var $e,Ie=M.retrieve3(ze.getModel().get(["lineStyle","curveness"]),Eu(ze,o,Re),0),Ge=Jr.clone(ze.node1.getLayout()),Qe=Jr.clone(ze.node2.getLayout());+Ie&&($e=[y*(Ie*=3)+(Ge[0]+Qe[0])/2*(1-Ie),x*Ie+(Ge[1]+Qe[1])/2*(1-Ie)]),ze.setLayout([Ge,Qe,$e])})}}}var f0={value:function(o,r,t,a,l,h,d){var p=0,y=t.getSum("value"),x=2*Math.PI/(y||d);r.eachNode(function(w){var z=w.getValue("value"),V=x*(y?z:1)/2;p+=V,w.setLayout([a*Math.cos(p)+l,a*Math.sin(p)+h]),p+=V})},symbolSize:function(o,r,t,a,l,h,d){var p=0;gh.length=d;var y=Wl(o);r.eachNode(function(z){var V=d0(z);isNaN(V)&&(V=2),V<0&&(V=0),V*=y;var k=Math.asin(V/2/a);isNaN(k)&&(k=T4/2),gh[z.dataIndex]=k,p+=2*k});var x=(2*T4-p)/d/2,w=0;r.eachNode(function(z){var V=x+gh[z.dataIndex];w+=V,(!z.getLayout()||!z.getLayout().fixed)&&z.setLayout([a*Math.cos(w)+l,a*Math.sin(w)+h]),w+=V})}};function J6(o,r,t,a){var l=o.getGraphicEl();if(l){var d=o.getModel().get(["label","rotate"])||0,p=l.getSymbolPath();if(r){var y=o.getLayout(),x=Math.atan2(y[1]-a,y[0]-t);x<0&&(x=2*Math.PI+x);var w=y[0]<t;w&&(x-=Math.PI);var z=w?"left":"right";p.setTextConfig({rotation:-x,position:z,origin:"center"});var V=p.ensureState("emphasis");M.extend(V.textConfig||(V.textConfig={}),{position:z})}else p.setTextConfig({rotation:d*=Math.PI/180})}}function w3(o){o.eachSeriesByType("graph",function(r){"circular"===r.get("layout")&&mh(r,"symbolSize")})}var b2=Jr.scaleAndAdd;function oc(o){o.eachSeriesByType("graph",function(r){var t=r.coordinateSystem;if(!t||"view"===t.type)if("force"===r.get("layout")){var a=r.preservedPoints||{},l=r.getGraph(),h=l.data,d=l.edgeData,p=r.getModel("force"),y=p.get("initLayout");r.preservedPoints?h.each(function(Ie){var Ge=h.getId(Ie);h.setItemLayout(Ie,a[Ge]||[NaN,NaN])}):y&&"none"!==y?"circular"===y&&mh(r,"value"):zu(r);var x=h.getDataExtent("value"),w=d.getDataExtent("value"),z=p.get("repulsion"),V=p.get("edgeLength"),k=M.isArray(z)?z:[z,z],J=M.isArray(V)?V:[V,V];J=[J[1],J[0]];var ue=h.mapArray("value",function(Ie,Ge){var Qe=h.getItemLayout(Ge),$e=(0,In.NU)(Ie,x,k);return isNaN($e)&&($e=(k[0]+k[1])/2),{w:$e,rep:$e,fixed:h.getItemModel(Ge).get("fixed"),p:!Qe||isNaN(Qe[0])||isNaN(Qe[1])?null:Qe}}),xe=d.mapArray("value",function(Ie,Ge){var Qe=l.getEdgeByIndex(Ge),$e=(0,In.NU)(Ie,w,J);isNaN($e)&&($e=(J[0]+J[1])/2);var ut=Qe.getModel(),St=M.retrieve3(Qe.getModel().get(["lineStyle","curveness"]),-Eu(Qe,r,Ge,!0),0);return{n1:ue[Qe.node1.dataIndex],n2:ue[Qe.node2.dataIndex],d:$e,curveness:St,ignoreForceLayout:ut.get("ignoreForceLayout")}}),ze=t.getBoundingRect(),Re=function q6(o,r,t){for(var a=o,l=r,h=t.rect,d=h.width,p=h.height,y=[h.x+d/2,h.y+p/2],x=null==t.gravity?.1:t.gravity,w=0;w<a.length;w++){var z=a[w];z.p||(z.p=Jr.create(d*(Math.random()-.5)+y[0],p*(Math.random()-.5)+y[1])),z.pp=Jr.clone(z.p),z.edges=null}var J,ue,V=null==t.friction?.6:t.friction,k=V;return{warmUp:function(){k=.8*V},setFixed:function(xe){a[xe].fixed=!0},setUnfixed:function(xe){a[xe].fixed=!1},beforeStep:function(xe){J=xe},afterStep:function(xe){ue=xe},step:function(xe){J&&J(a,l);for(var ze=[],Re=a.length,Ie=0;Ie<l.length;Ie++){var Ge=l[Ie];if(!Ge.ignoreForceLayout){Jr.sub(ze,($e=Ge.n2).p,(Qe=Ge.n1).p);var ut=Jr.len(ze)-Ge.d,St=$e.w/(Qe.w+$e.w);isNaN(St)&&(St=0),Jr.normalize(ze,ze),!Qe.fixed&&b2(Qe.p,Qe.p,ze,St*ut*k),!$e.fixed&&b2($e.p,$e.p,ze,-(1-St)*ut*k)}}for(Ie=0;Ie<Re;Ie++)(Pt=a[Ie]).fixed||(Jr.sub(ze,y,Pt.p),b2(Pt.p,Pt.p,ze,x*k));for(Ie=0;Ie<Re;Ie++)for(var Qe=a[Ie],Vt=Ie+1;Vt<Re;Vt++){var $e;Jr.sub(ze,($e=a[Vt]).p,Qe.p),0===(ut=Jr.len(ze))&&(Jr.set(ze,Math.random()-.5,Math.random()-.5),ut=1);var kt=(Qe.rep+$e.rep)/ut/ut;!Qe.fixed&&b2(Qe.pp,Qe.pp,ze,kt),!$e.fixed&&b2($e.pp,$e.pp,ze,-kt)}var en=[];for(Ie=0;Ie<Re;Ie++){var Pt;(Pt=a[Ie]).fixed||(Jr.sub(en,Pt.p,Pt.pp),b2(Pt.p,Pt.p,en,k),Jr.copy(Pt.pp,Pt.p))}var un=(k*=.992)<.01;ue&&ue(a,l,un),xe&&xe(un)}}}(ue,xe,{rect:ze,gravity:p.get("gravity"),friction:p.get("friction")});Re.beforeStep(function(Ie,Ge){for(var Qe=0,$e=Ie.length;Qe<$e;Qe++)Ie[Qe].fixed&&Jr.copy(Ie[Qe].p,l.getNodeByIndex(Qe).getLayout())}),Re.afterStep(function(Ie,Ge,Qe){for(var $e=0,ut=Ie.length;$e<ut;$e++)Ie[$e].fixed||l.getNodeByIndex($e).setLayout(Ie[$e].p),a[h.getId($e)]=Ie[$e].p;for($e=0,ut=Ge.length;$e<ut;$e++){var St=Ge[$e],Pt=l.getEdgeByIndex($e),Vt=St.n1.p,kt=St.n2.p,en=Pt.getLayout();(en=en?en.slice():[])[0]=en[0]||[],en[1]=en[1]||[],Jr.copy(en[0],Vt),Jr.copy(en[1],kt),+St.curveness&&(en[2]=[(Vt[0]+kt[0])/2-(Vt[1]-kt[1])*St.curveness,(Vt[1]+kt[1])/2-(kt[0]-Vt[0])*St.curveness]),Pt.setLayout(en)}}),r.forceLayout=Re,r.preservedPoints=a,Re.step()}else r.forceLayout=null})}function w2(o,r){var t=[];return o.eachSeriesByType("graph",function(a){var l=a.get("coordinateSystem");if(!l||"view"===l){var h=a.getData(),d=h.mapArray(function(xe){var ze=h.getItemModel(xe);return[+ze.get("x"),+ze.get("y")]}),p=[],y=[];v3.zk(d,p,y),y[0]-p[0]==0&&(y[0]+=1,p[0]-=1),y[1]-p[1]==0&&(y[1]+=1,p[1]-=1);var x=(y[0]-p[0])/(y[1]-p[1]),w=function ed(o,r,t){var a=(0,M.extend)(o.getBoxLayoutParams(),{aspect:t});return(0,Vr.ME)(a,{width:r.getWidth(),height:r.getHeight()})}(a,r,x);isNaN(x)&&(p=[w.x,w.y],y=[w.x+w.width,w.y+w.height]);var z=y[0]-p[0],V=y[1]-p[1],k=w.width,J=w.height,ue=a.coordinateSystem=new u3;ue.zoomLimit=a.get("scaleLimit"),ue.setBoundingRect(p[0],p[1],z,V),ue.setViewRect(w.x,w.y,k,J),ue.setCenter(a.get("center"),r),ue.setZoom(a.get("zoom")),t.push(ue)}}),t}var v0=Ns.Z.prototype,p0=gu.Z.prototype,Ac=function o(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Pu(o){return isNaN(+o.cpx1)||isNaN(+o.cpy1)}!function(o){(0,st.ZT)(function r(){return null!==o&&o.apply(this,arguments)||this},o)}(Ac);const D4=function(o){function r(t){var a=o.call(this,t)||this;return a.type="ec-line",a}return(0,st.ZT)(r,o),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new Ac},r.prototype.buildPath=function(t,a){Pu(a)?v0.buildPath.call(this,t,a):p0.buildPath.call(this,t,a)},r.prototype.pointAt=function(t){return Pu(this.shape)?v0.pointAt.call(this,t):p0.pointAt.call(this,t)},r.prototype.tangentAt=function(t){var a=this.shape,l=Pu(a)?[a.x2-a.x1,a.y2-a.y1]:p0.tangentAt.call(this,t);return Jr.normalize(l,l)},r}(pe.ZP);var B1=["fromSymbol","toSymbol"];function Lu(o){return"_"+o+"Type"}function yh(o,r,t){var a=r.getItemVisual(t,o);if(a&&"none"!==a){var l=r.getItemVisual(t,o+"Size"),h=r.getItemVisual(t,o+"Rotate"),d=r.getItemVisual(t,o+"Offset"),p=r.getItemVisual(t,o+"KeepAspect"),y=Pn.zp(l),x=Pn.Cq(d||0,y),w=Pn.th(a,-y[0]/2+x[0],-y[1]/2+x[1],y[0],y[1],null,p);return w.__specifiedRotation=null==h||isNaN(h)?void 0:+h*Math.PI/180||0,w.name=o,w}}function S3(o,r){o.x1=r[0][0],o.y1=r[0][1],o.x2=r[1][0],o.y2=r[1][1],o.percent=1;var t=r[2];t?(o.cpx1=t[0],o.cpy1=t[1]):(o.cpx1=NaN,o.cpy1=NaN)}const z4=function(o){function r(t,a,l){var h=o.call(this)||this;return h._createLine(t,a,l),h}return(0,st.ZT)(r,o),r.prototype._createLine=function(t,a,l){var h=t.hostModel,p=function _h(o){var r=new D4({name:"line",subPixelOptimize:!0});return S3(r.shape,o),r}(t.getItemLayout(a));p.shape.percent=0,Bn.KZ(p,{shape:{percent:1}},h,a),this.add(p),(0,M.each)(B1,function(y){var x=yh(y,t,a);this.add(x),this[Lu(y)]=t.getItemVisual(a,y)},this),this._updateCommonStl(t,a,l)},r.prototype.updateData=function(t,a,l){var h=t.hostModel,d=this.childOfName("line"),p=t.getItemLayout(a),y={shape:{}};S3(y.shape,p),Bn.D(d,y,h,a),(0,M.each)(B1,function(x){var w=t.getItemVisual(a,x),z=Lu(x);if(this[z]!==w){this.remove(this.childOfName(x));var V=yh(x,t,a);this.add(V)}this[z]=w},this),this._updateCommonStl(t,a,l)},r.prototype.getLinePath=function(){return this.childAt(0)},r.prototype._updateCommonStl=function(t,a,l){var h=t.hostModel,d=this.childOfName("line"),p=l&&l.emphasisLineStyle,y=l&&l.blurLineStyle,x=l&&l.selectLineStyle,w=l&&l.labelStatesModels,z=l&&l.emphasisDisabled,V=l&&l.focus,k=l&&l.blurScope;if(!l||t.hasItemOption){var J=t.getItemModel(a),ue=J.getModel("emphasis");p=ue.getModel("lineStyle").getLineStyle(),y=J.getModel(["blur","lineStyle"]).getLineStyle(),x=J.getModel(["select","lineStyle"]).getLineStyle(),z=ue.get("disabled"),V=ue.get("focus"),k=ue.get("blurScope"),w=(0,hr.k3)(J)}var xe=t.getItemVisual(a,"style"),ze=xe.stroke;d.useStyle(xe),d.style.fill=null,d.style.strokeNoScale=!0,d.ensureState("emphasis").style=p,d.ensureState("blur").style=y,d.ensureState("select").style=x,(0,M.each)(B1,function($e){var ut=this.childOfName($e);if(ut){ut.setColor(ze),ut.style.opacity=xe.opacity;for(var St=0;St<er.L1.length;St++){var Pt=er.L1[St],Vt=d.getState(Pt);if(Vt){var kt=Vt.style||{},en=ut.ensureState(Pt),un=en.style||(en.style={});null!=kt.stroke&&(un[ut.__isEmptyBrush?"stroke":"fill"]=kt.stroke),null!=kt.opacity&&(un.opacity=kt.opacity)}}ut.markRedraw()}},this);var Re=h.getRawValue(a);(0,hr.ni)(this,w,{labelDataIndex:a,labelFetcher:{getFormattedLabel:function($e,ut){return h.getFormattedLabel($e,ut,t.dataType)}},inheritColor:ze||"#000",defaultOpacity:xe.opacity,defaultText:(null==Re?t.getName(a):isFinite(Re)?(0,In.NM)(Re):Re)+""});var Ie=this.getTextContent();if(Ie){var Ge=w.normal;Ie.__align=Ie.style.align,Ie.__verticalAlign=Ie.style.verticalAlign,Ie.__position=Ge.get("position")||"middle";var Qe=Ge.get("distance");(0,M.isArray)(Qe)||(Qe=[Qe,Qe]),Ie.__labelDistance=Qe}this.setTextConfig({position:null,local:!0,inside:!1}),(0,er.k5)(this,V,k,z)},r.prototype.highlight=function(){(0,er.fD)(this)},r.prototype.downplay=function(){(0,er.Mh)(this)},r.prototype.updateLayout=function(t,a){this.setLinePoints(t.getItemLayout(a))},r.prototype.setLinePoints=function(t){var a=this.childOfName("line");S3(a.shape,t),a.dirty()},r.prototype.beforeUpdate=function(){var t=this,a=t.childOfName("fromSymbol"),l=t.childOfName("toSymbol"),h=t.getTextContent();if(a||l||h&&!h.ignore){for(var d=1,p=this.parent;p;)p.scaleX&&(d/=p.scaleX),p=p.parent;var y=t.childOfName("line");if(this.__dirty||y.__dirty){var x=y.shape.percent,w=y.pointAt(0),z=y.pointAt(x),V=Jr.sub([],z,w);if(Jr.normalize(V,V),a&&(a.setPosition(w),k(a,0),a.scaleX=a.scaleY=d*x,a.markRedraw()),l&&(l.setPosition(z),k(l,1),l.scaleX=l.scaleY=d*x,l.markRedraw()),h&&!h.ignore){h.x=h.y=0,h.originX=h.originY=0;var J=void 0,ue=void 0,xe=h.__labelDistance,ze=xe[0]*d,Re=xe[1]*d,Ie=x/2,Ge=y.tangentAt(Ie),Qe=[Ge[1],-Ge[0]],$e=y.pointAt(Ie);Qe[1]>0&&(Qe[0]=-Qe[0],Qe[1]=-Qe[1]);var ut=Ge[0]<0?-1:1;if("start"!==h.__position&&"end"!==h.__position){var St=-Math.atan2(Ge[1],Ge[0]);z[0]<w[0]&&(St=Math.PI+St),h.rotation=St}var Pt=void 0;switch(h.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Pt=-Re,ue="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Pt=Re,ue="top";break;default:Pt=0,ue="middle"}switch(h.__position){case"end":h.x=V[0]*ze+z[0],h.y=V[1]*Re+z[1],J=V[0]>.8?"left":V[0]<-.8?"right":"center",ue=V[1]>.8?"top":V[1]<-.8?"bottom":"middle";break;case"start":h.x=-V[0]*ze+w[0],h.y=-V[1]*Re+w[1],J=V[0]>.8?"right":V[0]<-.8?"left":"center",ue=V[1]>.8?"bottom":V[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":h.x=ze*ut+w[0],h.y=w[1]+Pt,J=Ge[0]<0?"right":"left",h.originX=-ze*ut,h.originY=-Pt;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":h.x=$e[0],h.y=$e[1]+Pt,J="center",h.originY=-Pt;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":h.x=-ze*ut+z[0],h.y=z[1]+Pt,J=Ge[0]>=0?"right":"left",h.originX=ze*ut,h.originY=-Pt}h.scaleX=h.scaleY=d,h.setStyle({verticalAlign:h.__verticalAlign||ue,align:h.__align||J})}}}function k(Vt,kt){var en=Vt.__specifiedRotation;if(null==en){var un=y.tangentAt(kt);Vt.attr("rotation",(1===kt?-1:1)*Math.PI/2-Math.atan2(un[1],un[0]))}else Vt.attr("rotation",en)}},r}(yn.Z);function k1(o){var r=o.hostModel,t=r.getModel("emphasis");return{lineStyle:r.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:r.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:r.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:(0,hr.k3)(r)}}function hs(o){return isNaN(o[0])||isNaN(o[1])}function Mh(o){return o&&!hs(o[0])&&!hs(o[1])}const td=function(){function o(r){this.group=new yn.Z,this._LineCtor=r||z4}return o.prototype.updateData=function(r){var t=this;this._progressiveEls=null;var a=this,l=a.group,h=a._lineData;a._lineData=r,h||l.removeAll();var d=k1(r);r.diff(h).add(function(p){t._doAdd(r,p,d)}).update(function(p,y){t._doUpdate(h,r,y,p,d)}).remove(function(p){l.remove(h.getItemGraphicEl(p))}).execute()},o.prototype.updateLayout=function(){var r=this._lineData;r&&r.eachItemGraphicEl(function(t,a){t.updateLayout(r,a)},this)},o.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=k1(r),this._lineData=null,this.group.removeAll()},o.prototype.incrementalUpdate=function(r,t){function a(p){!p.isGroup&&!function Ou(o){return o.animators&&o.animators.length>0}(p)&&(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var l=r.start;l<r.end;l++)if(Mh(t.getItemLayout(l))){var d=new this._LineCtor(t,l,this._seriesScope);d.traverse(a),this.group.add(d),t.setItemGraphicEl(l,d),this._progressiveEls.push(d)}},o.prototype.remove=function(){this.group.removeAll()},o.prototype.eachRendered=function(r){dr.traverseElements(this._progressiveEls||this.group,r)},o.prototype._doAdd=function(r,t,a){if(Mh(r.getItemLayout(t))){var h=new this._LineCtor(r,t,a);r.setItemGraphicEl(t,h),this.group.add(h)}},o.prototype._doUpdate=function(r,t,a,l,h){var d=r.getItemGraphicEl(a);Mh(t.getItemLayout(l))?(d?d.updateData(t,l,h):d=new this._LineCtor(t,l,h),t.setItemGraphicEl(l,d),this.group.add(d)):this.group.remove(d)},o}();var C3=[],g0=[],P4=[],Na=po.Zm,Iu=Jr.distSquare,Pc=Math.abs;function Lc(o,r,t){for(var p,a=o[0],l=o[1],h=o[2],d=1/0,y=t*t,x=.1,w=.1;w<=.9;w+=.1)C3[0]=Na(a[0],l[0],h[0],w),C3[1]=Na(a[1],l[1],h[1],w),(z=Pc(Iu(C3,r)-y))<d&&(d=z,p=w);for(var V=0;V<32;V++){var k=p+x;g0[0]=Na(a[0],l[0],h[0],p),g0[1]=Na(a[1],l[1],h[1],p),P4[0]=Na(a[0],l[0],h[0],k),P4[1]=Na(a[1],l[1],h[1],k);var z=Iu(g0,r)-y;if(Pc(z)<.01)break;var J=Iu(P4,r)-y;x/=2,z<0?J>=0?p+=x:p-=x:J>=0?p-=x:p+=x}return p}function xh(o,r){var t=[],a=po.Lx,l=[[],[],[]],h=[[],[]],d=[];r/=2,o.eachEdge(function(p,y){var x=p.getLayout(),w=p.getVisual("fromSymbol"),z=p.getVisual("toSymbol");x.__original||(x.__original=[Jr.clone(x[0]),Jr.clone(x[1])],x[2]&&x.__original.push(Jr.clone(x[2])));var V=x.__original;if(null!=x[2]){if(Jr.copy(l[0],V[0]),Jr.copy(l[1],V[2]),Jr.copy(l[2],V[1]),w&&"none"!==w){var k=d0(p.node1),J=Lc(l,V[0],k*r);a(l[0][0],l[1][0],l[2][0],J,t),l[0][0]=t[3],l[1][0]=t[4],a(l[0][1],l[1][1],l[2][1],J,t),l[0][1]=t[3],l[1][1]=t[4]}z&&"none"!==z&&(k=d0(p.node2),J=Lc(l,V[1],k*r),a(l[0][0],l[1][0],l[2][0],J,t),l[1][0]=t[1],l[2][0]=t[2],a(l[0][1],l[1][1],l[2][1],J,t),l[1][1]=t[1],l[2][1]=t[2]),Jr.copy(x[0],l[0]),Jr.copy(x[1],l[2]),Jr.copy(x[2],l[1])}else Jr.copy(h[0],V[0]),Jr.copy(h[1],V[1]),Jr.sub(d,h[1],h[0]),Jr.normalize(d,d),w&&"none"!==w&&(k=d0(p.node1),Jr.scaleAndAdd(h[0],h[0],d,k*r)),z&&"none"!==z&&(k=d0(p.node2),Jr.scaleAndAdd(h[1],h[1],d,-k*r)),Jr.copy(x[0],h[0]),Jr.copy(x[1],h[1])})}function nd(o){return"view"===o.type}const bh=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){var l=new yi,h=new td,d=this.group;this._controller=new s4(a.getZr()),this._controllerHost={target:d},d.add(l.group),d.add(h.group),this._symbolDraw=l,this._lineDraw=h,this._firstRender=!0},r.prototype.render=function(t,a,l){var h=this,d=t.coordinateSystem;this._model=t;var p=this._symbolDraw,y=this._lineDraw,x=this.group;if(nd(d)){var w={x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY};this._firstRender?x.attr(w):Bn.D(x,w,t)}xh(t.getGraph(),Wl(t));var z=t.getData();p.updateData(z);var V=t.getEdgeData();y.updateData(V),this._updateNodeAndLinkScale(),this._updateController(t,a,l),clearTimeout(this._layoutTimeout);var k=t.forceLayout,J=t.get(["force","layoutAnimation"]);k&&this._startForceLayoutIteration(k,J);var ue=t.get("layout");z.graph.eachNode(function(Ie){var Ge=Ie.dataIndex,Qe=Ie.getGraphicEl(),$e=Ie.getModel();if(Qe){Qe.off("drag").off("dragend");var ut=$e.get("draggable");ut&&Qe.on("drag",function(Pt){switch(ue){case"force":k.warmUp(),!h._layouting&&h._startForceLayoutIteration(k,J),k.setFixed(Ge),z.setItemLayout(Ge,[Qe.x,Qe.y]);break;case"circular":z.setItemLayout(Ge,[Qe.x,Qe.y]),Ie.setLayout({fixed:!0},!0),mh(t,"symbolSize",Ie,[Pt.offsetX,Pt.offsetY]),h.updateLayout(t);break;default:z.setItemLayout(Ge,[Qe.x,Qe.y]),x2(t.getGraph(),t),h.updateLayout(t)}}).on("dragend",function(){k&&k.setUnfixed(Ge)}),Qe.setDraggable(ut,!!$e.get("cursor")),"adjacency"===$e.get(["emphasis","focus"])&&((0,Qn.A)(Qe).focus=Ie.getAdjacentDataIndices())}}),z.graph.eachEdge(function(Ie){var Ge=Ie.getGraphicEl(),Qe=Ie.getModel().get(["emphasis","focus"]);Ge&&"adjacency"===Qe&&((0,Qn.A)(Ge).focus={edge:[Ie.dataIndex],node:[Ie.node1.dataIndex,Ie.node2.dataIndex]})});var xe="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),ze=z.getLayout("cx"),Re=z.getLayout("cy");z.graph.eachNode(function(Ie){J6(Ie,xe,ze,Re)}),this._firstRender=!1},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype._startForceLayoutIteration=function(t,a){var l=this;!function h(){t.step(function(d){l.updateLayout(l._model),(l._layouting=!d)&&(a?l._layoutTimeout=setTimeout(h,16):h())})}()},r.prototype._updateController=function(t,a,l){var h=this,d=this._controller,p=this._controllerHost,y=this.group;d.setPointerChecker(function(x,w,z){var V=y.getBoundingRect();return V.applyTransform(y.transform),V.contain(w,z)&&!q2(x,l,t)}),nd(t.coordinateSystem)?(d.enable(t.get("roam")),p.zoomLimit=t.get("scaleLimit"),p.zoom=t.coordinateSystem.getZoom(),d.off("pan").off("zoom").on("pan",function(x){l4(p,x.dx,x.dy),l.dispatchAction({seriesId:t.id,type:"graphRoam",dx:x.dx,dy:x.dy})}).on("zoom",function(x){J2(p,x.scale,x.originX,x.originY),l.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:x.scale,originX:x.originX,originY:x.originY}),h._updateNodeAndLinkScale(),xh(t.getGraph(),Wl(t)),h._lineDraw.updateLayout(),l.updateLabelLayout()})):d.disable()},r.prototype._updateNodeAndLinkScale=function(){var t=this._model,a=t.getData(),l=Wl(t);a.eachItemGraphicEl(function(h,d){h&&h.setSymbolScale(l)})},r.prototype.updateLayout=function(t){xh(t.getGraph(),Wl(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},r.prototype.remove=function(t,a){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},r.type="graph",r}(Oi.Z);var av=C(1927),Oc=C(1255);function m0(o,r,t,a,l){for(var h=new av.ZP(a),d=0;d<o.length;d++)h.addNode(M.retrieve(o[d].id,o[d].name,d),d);var p=[],y=[],x=0;for(d=0;d<r.length;d++){var w=r[d],z=w.source,V=w.target;h.addEdge(z,V,x)&&(y.push(w),p.push(M.retrieve((0,Hr.U5)(w.id,null),z+" > "+V)),x++)}var J,k=t.get("coordinateSystem");if("cartesian2d"===k||"polar"===k)J=(0,Qt.Z)(o,t);else{var ue=Oc.Z.get(k),xe=ue&&ue.dimensions||[];M.indexOf(xe,"value")<0&&xe.concat(["value"]);var ze=(0,fn.Z)(o,{coordDimensions:xe,encodeDefine:t.getEncode()}).dimensions;(J=new Hn.Z(ze,t)).initData(o)}var Re=new Hn.Z(["value"],t);return Re.initData(y,p),l&&l(J,Re),(0,N6.Z)({mainData:J,struct:h,structAttr:"graph",datas:{node:J,edge:Re},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}var dp=C(4655);const vp=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.hasSymbolVisual=!0,t}return(0,st.ZT)(r,o),r.prototype.init=function(t){o.prototype.init.apply(this,arguments);var a=this;function l(){return a._categoriesData}this.legendVisualProvider=new jr(l,l),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},r.prototype.mergeOption=function(t){o.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},r.prototype.mergeDefaultAndTheme=function(t){o.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,Hr.Cc)(t,"edgeLabel",["show"])},r.prototype.getInitialData=function(t,a){var l=t.edges||t.links||[],h=t.data||t.nodes||[],d=this;if(h&&l){!function fo(o){zc(o)&&(o.__curvenessList=[],o.__edgeMap={},us(o))}(this);var p=m0(h,l,this,!0,function y(x,w){x.wrapMethod("getItemModel",function(J){var ze=d._categoriesModels[J.getShallow("category")];return ze&&(ze.parentModel=J.parentModel,J.parentModel=ze),J});var z=Fo.Z.prototype.getModel;function V(J,ue){var xe=z.call(this,J,ue);return xe.resolveParentPath=k,xe}function k(J){if(J&&("label"===J[0]||"label"===J[1])){var ue=J.slice();return"label"===J[0]?ue[0]="edgeLabel":"label"===J[1]&&(ue[1]="edgeLabel"),ue}return J}w.wrapMethod("getItemModel",function(J){return J.resolveParentPath=k,J.getModel=V,J})});return M.each(p.edges,function(x){!function Du(o,r,t,a){if(zc(t)){var l=x3(o,r,t),h=t.__edgeMap,d=h[Q6(l)];h[l]&&!d?h[l].isForward=!0:d&&h[l]&&(d.isForward=!0,h[l].isForward=!1),h[l]=h[l]||[],h[l].push(a)}}(x.node1,x.node2,this,x.dataIndex)},this),p.data}},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.getCategoriesData=function(){return this._categoriesData},r.prototype.formatTooltip=function(t,a,l){if("edge"===l){var h=this.getData(),d=this.getDataParams(t,l),p=h.graph.getEdgeByIndex(t),y=h.getName(p.node1.dataIndex),x=h.getName(p.node2.dataIndex),w=[];return null!=y&&w.push(y),null!=x&&w.push(x),(0,yo.TX)("nameValue",{name:w.join(" > "),value:d.value,noValue:null==d.value})}return(0,dp.w)({series:this,dataIndex:t,multipleSeries:a})},r.prototype._updateCategoriesData=function(){var t=M.map(this.option.categories||[],function(l){return null!=l.value?l:M.extend({value:0},l)}),a=new Hn.Z(["value"],this);a.initData(t),this._categoriesData=a,this._categoriesModels=a.mapArray(function(l){return a.getItemModel(l)})},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.isAnimationEnabled=function(){return o.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},r.type="series.graph",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(xn.Z);var ov={type:"graphRoam",event:"graphRoam",update:"none"},gp=function o(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0};const mp=function(o){function r(t){var a=o.call(this,t)||this;return a.type="pointer",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new gp},r.prototype.buildPath=function(t,a){var l=Math.cos,h=Math.sin,d=a.r,p=a.width,y=a.angle,x=a.x-l(y)*p*(p>=d/3?1:2),w=a.y-h(y)*p*(p>=d/3?1:2);y=a.angle-Math.PI/2,t.moveTo(x,w),t.lineTo(a.x+l(y)*p,a.y+h(y)*p),t.lineTo(a.x+l(a.angle)*d,a.y+h(a.angle)*d),t.lineTo(a.x-l(y)*p,a.y-h(y)*p),t.lineTo(x,w)},r}(pe.ZP);function Vu(o,r){var t=null==o?"":o+"";return r&&((0,M.isString)(r)?t=r.replace("{value}",t):(0,M.isFunction)(r)&&(t=r(o))),t}const wh=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){this.group.removeAll();var h=t.get(["axisLine","lineStyle","color"]),d=function yp(o,r){var t=o.get("center"),a=r.getWidth(),l=r.getHeight(),h=Math.min(a,l);return{cx:(0,In.GM)(t[0],r.getWidth()),cy:(0,In.GM)(t[1],r.getHeight()),r:(0,In.GM)(o.get("radius"),h/2)}}(t,l);this._renderMain(t,a,l,h,d),this._data=t.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(t,a,l,h,d){var p=this.group,y=t.get("clockwise"),x=-t.get("startAngle")/180*Math.PI,w=-t.get("endAngle")/180*Math.PI,z=t.getModel("axisLine"),k=z.get("roundCap")?La:gi.C,J=z.get("show"),ue=z.getModel("lineStyle"),xe=ue.get("width"),ze=[x,w];(0,Se.L)(ze,!y);for(var Re=(w=ze[1])-(x=ze[0]),Ie=x,Ge=[],Qe=0;J&&Qe<h.length;Qe++){var ut=new k({shape:{startAngle:Ie,endAngle:w=x+Re*Math.min(Math.max(h[Qe][0],0),1),cx:d.cx,cy:d.cy,clockwise:y,r0:d.r-xe,r:d.r},silent:!0});ut.setStyle({fill:h[Qe][1]}),ut.setStyle(ue.getLineStyle(["color","width"])),Ge.push(ut),Ie=w}Ge.reverse(),(0,M.each)(Ge,function(Pt){return p.add(Pt)});var St=function(Pt){if(Pt<=0)return h[0][1];var Vt;for(Vt=0;Vt<h.length;Vt++)if(h[Vt][0]>=Pt&&(0===Vt?0:h[Vt-1][0])<Pt)return h[Vt][1];return h[Vt-1][1]};this._renderTicks(t,a,l,St,d,x,w,y,xe),this._renderTitleAndDetail(t,a,l,St,d),this._renderAnchor(t,d),this._renderPointer(t,a,l,St,d,x,w,y,xe)},r.prototype._renderTicks=function(t,a,l,h,d,p,y,x,w){for(var vn,wn,z=this.group,V=d.cx,k=d.cy,J=d.r,ue=+t.get("min"),xe=+t.get("max"),ze=t.getModel("splitLine"),Re=t.getModel("axisTick"),Ie=t.getModel("axisLabel"),Ge=t.get("splitNumber"),Qe=Re.get("splitNumber"),$e=(0,In.GM)(ze.get("length"),J),ut=(0,In.GM)(Re.get("length"),J),St=p,Pt=(y-p)/Ge,Vt=Pt/Qe,kt=ze.getModel("lineStyle").getLineStyle(),en=Re.getModel("lineStyle").getLineStyle(),un=ze.get("distance"),Zn=0;Zn<=Ge;Zn++){if(vn=Math.cos(St),wn=Math.sin(St),ze.get("show")){var or=new Ns.Z({shape:{x1:vn*(J-(ur=un?un+w:w))+V,y1:wn*(J-ur)+k,x2:vn*(J-$e-ur)+V,y2:wn*(J-$e-ur)+k},style:kt,silent:!0});"auto"===kt.stroke&&or.setStyle({stroke:h(Zn/Ge)}),z.add(or)}if(Ie.get("show")){var ur=Ie.get("distance")+un,kr=Vu((0,In.NM)(Zn/Ge*(xe-ue)+ue),Ie.get("formatter")),oi=h(Zn/Ge),ii=vn*(J-$e-ur)+V,Gi=wn*(J-$e-ur)+k,Fi=Ie.get("rotate"),Ci=0;"radial"===Fi?(Ci=-St+2*Math.PI)>Math.PI/2&&(Ci+=Math.PI):"tangential"===Fi?Ci=-St-Math.PI/2:(0,M.isNumber)(Fi)&&(Ci=Fi*Math.PI/180),z.add(new Yt.ZP(0===Ci?{style:(0,hr.Lr)(Ie,{text:kr,x:ii,y:Gi,verticalAlign:wn<-.8?"top":wn>.8?"bottom":"middle",align:vn<-.4?"left":vn>.4?"right":"center"},{inheritColor:oi}),silent:!0}:{style:(0,hr.Lr)(Ie,{text:kr,x:ii,y:Gi,verticalAlign:"middle",align:"center"},{inheritColor:oi}),silent:!0,originX:ii,originY:Gi,rotation:Ci}))}if(Re.get("show")&&Zn!==Ge){ur=(ur=Re.get("distance"))?ur+w:w;for(var wa=0;wa<=Qe;wa++){vn=Math.cos(St),wn=Math.sin(St);var lo=new Ns.Z({shape:{x1:vn*(J-ur)+V,y1:wn*(J-ur)+k,x2:vn*(J-ut-ur)+V,y2:wn*(J-ut-ur)+k},silent:!0,style:en});"auto"===en.stroke&&lo.setStyle({stroke:h((Zn+wa/Qe)/Ge)}),z.add(lo),St+=Vt}St-=Vt}else St+=Pt}},r.prototype._renderPointer=function(t,a,l,h,d,p,y,x,w){var z=this.group,V=this._data,k=this._progressEls,J=[],ue=t.get(["pointer","show"]),xe=t.getModel("progress"),ze=xe.get("show"),Re=t.getData(),Ie=Re.mapDimension("value"),Ge=+t.get("min"),Qe=+t.get("max"),$e=[Ge,Qe],ut=[p,y];function St(Vt,kt){var ii,un=Re.getItemModel(Vt).getModel("pointer"),vn=(0,In.GM)(un.get("width"),d.r),wn=(0,In.GM)(un.get("length"),d.r),Zn=t.get(["pointer","icon"]),ur=un.get("offsetCenter"),or=(0,In.GM)(ur[0],d.r),kr=(0,In.GM)(ur[1],d.r),oi=un.get("keepAspect");return(ii=Zn?(0,Pn.th)(Zn,or-vn/2,kr-wn,vn,wn,null,oi):new mp({shape:{angle:-Math.PI/2,width:vn,r:wn,x:or,y:kr}})).rotation=-(kt+Math.PI/2),ii.x=d.cx,ii.y=d.cy,ii}function Pt(Vt,kt){var un=xe.get("roundCap")?La:gi.C,vn=xe.get("overlap"),wn=vn?xe.get("width"):w/Re.count(),or=new un({shape:{startAngle:p,endAngle:kt,cx:d.cx,cy:d.cy,clockwise:x,r0:vn?d.r-wn:d.r-(Vt+1)*wn,r:vn?d.r:d.r-Vt*wn}});return vn&&(or.z2=Qe-Re.get(Ie,Vt)%Qe),or}(ze||ue)&&(Re.diff(V).add(function(Vt){var kt=Re.get(Ie,Vt);if(ue){var en=St(Vt,p);Bn.KZ(en,{rotation:-((isNaN(+kt)?ut[0]:(0,In.NU)(kt,$e,ut,!0))+Math.PI/2)},t),z.add(en),Re.setItemGraphicEl(Vt,en)}if(ze){var un=Pt(Vt,p),vn=xe.get("clip");Bn.KZ(un,{shape:{endAngle:(0,In.NU)(kt,$e,ut,vn)}},t),z.add(un),(0,Qn.Q)(t.seriesIndex,Re.dataType,Vt,un),J[Vt]=un}}).update(function(Vt,kt){var en=Re.get(Ie,Vt);if(ue){var un=V.getItemGraphicEl(kt),vn=un?un.rotation:p,wn=St(Vt,vn);wn.rotation=vn,Bn.D(wn,{rotation:-((isNaN(+en)?ut[0]:(0,In.NU)(en,$e,ut,!0))+Math.PI/2)},t),z.add(wn),Re.setItemGraphicEl(Vt,wn)}if(ze){var Zn=k[kt],or=Pt(Vt,Zn?Zn.shape.endAngle:p),kr=xe.get("clip");Bn.D(or,{shape:{endAngle:(0,In.NU)(en,$e,ut,kr)}},t),z.add(or),(0,Qn.Q)(t.seriesIndex,Re.dataType,Vt,or),J[Vt]=or}}).execute(),Re.each(function(Vt){var kt=Re.getItemModel(Vt),en=kt.getModel("emphasis"),un=en.get("focus"),vn=en.get("blurScope"),wn=en.get("disabled");if(ue){var Zn=Re.getItemGraphicEl(Vt),ur=Re.getItemVisual(Vt,"style"),or=ur.fill;if(Zn instanceof me.ZP){var kr=Zn.style;Zn.useStyle((0,M.extend)({image:kr.image,x:kr.x,y:kr.y,width:kr.width,height:kr.height},ur))}else Zn.useStyle(ur),"pointer"!==Zn.type&&Zn.setColor(or);Zn.setStyle(kt.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===Zn.style.fill&&Zn.setStyle("fill",h((0,In.NU)(Re.get(Ie,Vt),$e,[0,1],!0))),Zn.z2EmphasisLift=0,(0,er.WO)(Zn,kt),(0,er.k5)(Zn,un,vn,wn)}if(ze){var oi=J[Vt];oi.useStyle(Re.getItemVisual(Vt,"style")),oi.setStyle(kt.getModel(["progress","itemStyle"]).getItemStyle()),oi.z2EmphasisLift=0,(0,er.WO)(oi,kt),(0,er.k5)(oi,un,vn,wn)}}),this._progressEls=J)},r.prototype._renderAnchor=function(t,a){var l=t.getModel("anchor");if(l.get("show")){var d=l.get("size"),p=l.get("icon"),y=l.get("offsetCenter"),x=l.get("keepAspect"),w=(0,Pn.th)(p,a.cx-d/2+(0,In.GM)(y[0],a.r),a.cy-d/2+(0,In.GM)(y[1],a.r),d,d,null,x);w.z2=l.get("showAbove")?1:0,w.setStyle(l.getModel("itemStyle").getItemStyle()),this.group.add(w)}},r.prototype._renderTitleAndDetail=function(t,a,l,h,d){var p=this,y=t.getData(),x=y.mapDimension("value"),w=+t.get("min"),z=+t.get("max"),V=new yn.Z,k=[],J=[],ue=t.isAnimationEnabled(),xe=t.get(["pointer","showAbove"]);y.diff(this._data).add(function(ze){k[ze]=new Yt.ZP({silent:!0}),J[ze]=new Yt.ZP({silent:!0})}).update(function(ze,Re){k[ze]=p._titleEls[Re],J[ze]=p._detailEls[Re]}).execute(),y.each(function(ze){var Re=y.getItemModel(ze),Ie=y.get(x,ze),Ge=new yn.Z,Qe=h((0,In.NU)(Ie,[w,z],[0,1],!0)),$e=Re.getModel("title");if($e.get("show")){var ut=$e.get("offsetCenter"),St=d.cx+(0,In.GM)(ut[0],d.r),Pt=d.cy+(0,In.GM)(ut[1],d.r);(Vt=k[ze]).attr({z2:xe?0:2,style:(0,hr.Lr)($e,{x:St,y:Pt,text:y.getName(ze),align:"center",verticalAlign:"middle"},{inheritColor:Qe})}),Ge.add(Vt)}var kt=Re.getModel("detail");if(kt.get("show")){var en=kt.get("offsetCenter"),un=d.cx+(0,In.GM)(en[0],d.r),vn=d.cy+(0,In.GM)(en[1],d.r),wn=(0,In.GM)(kt.get("width"),d.r),Zn=(0,In.GM)(kt.get("height"),d.r),ur=t.get(["progress","show"])?y.getItemVisual(ze,"style").fill:Qe,Vt=J[ze],or=kt.get("formatter");Vt.attr({z2:xe?0:2,style:(0,hr.Lr)(kt,{x:un,y:vn,text:Vu(Ie,or),width:isNaN(wn)?null:wn,height:isNaN(Zn)?null:Zn,align:"center",verticalAlign:"middle"},{inheritColor:ur})}),(0,hr.pe)(Vt,{normal:kt},Ie,function(oi){return Vu(oi,or)}),ue&&(0,hr.tD)(Vt,ze,y,t,{getFormattedLabel:function(oi,ii,Gi,Fi,Ci,wa){return Vu(wa?wa.interpolatedValue:Ie,or)}}),Ge.add(Vt)}V.add(Ge)}),this.group.add(V),this._titleEls=k,this._detailEls=J},r.type="gauge",r}(Oi.Z),Hu=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.visualStyleAccessPath="itemStyle",t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){return nr(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r}(xn.Z);var cv=["itemStyle","opacity"],rd=function(o){function r(t,a){var l=o.call(this)||this,h=l,d=new ft.Z,p=new Yt.ZP;return h.setTextContent(p),l.setTextGuideLine(d),l.updateData(t,a,!0),l}return(0,st.ZT)(r,o),r.prototype.updateData=function(t,a,l){var h=this,d=t.hostModel,p=t.getItemModel(a),y=t.getItemLayout(a),x=p.getModel("emphasis"),w=p.get(cv);w=w??1,l||(0,Bn.Zi)(h),h.useStyle(t.getItemVisual(a,"style")),h.style.lineJoin="round",l?(h.setShape({points:y.points}),h.style.opacity=0,Bn.KZ(h,{style:{opacity:w}},d,a)):Bn.D(h,{style:{opacity:w},shape:{points:y.points}},d,a),(0,er.WO)(h,p),this._updateLabel(t,a),(0,er.k5)(this,x.get("focus"),x.get("blurScope"),x.get("disabled"))},r.prototype._updateLabel=function(t,a){var l=this,h=this.getTextGuideLine(),d=l.getTextContent(),p=t.hostModel,y=t.getItemModel(a),w=t.getItemLayout(a).label,z=t.getItemVisual(a,"style"),V=z.fill;(0,hr.ni)(d,(0,hr.k3)(y),{labelFetcher:t.hostModel,labelDataIndex:a,defaultOpacity:z.opacity,defaultText:t.getName(a)},{normal:{align:w.textAlign,verticalAlign:w.verticalAlign}}),l.setTextConfig({local:!0,inside:!!w.inside,insideStroke:V,outsideFill:V});var k=w.linePoints;h.setShape({points:k}),l.textGuideLineConfig={anchor:k?new gt.Z(k[0][0],k[0][1]):null},Bn.D(d,{style:{x:w.x,y:w.y}},p,a),d.attr({rotation:w.rotation,originX:w.x,originY:w.y,z2:10}),(0,rt.Iu)(l,(0,rt.$x)(y),{stroke:V})},r}(Ul.Z);const yg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.ignoreLabelLineUpdate=!0,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=t.getData(),d=this._data,p=this.group;h.diff(d).add(function(y){var x=new rd(h,y);h.setItemGraphicEl(y,x),p.add(x)}).update(function(y,x){var w=d.getItemGraphicEl(x);w.updateData(h,y),p.add(w),h.setItemGraphicEl(y,w)}).remove(function(y){var x=d.getItemGraphicEl(y);Bn.XD(x,t,y)}).execute(),this._data=h},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.prototype.dispose=function(){},r.type="funnel",r}(Oi.Z),id=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new jr(M.bind(this.getData,this),M.bind(this.getRawData,this)),this._defaultLabelLine(t)},r.prototype.getInitialData=function(t,a){return nr(this,{coordDimensions:["value"],encodeDefaulter:M.curry(pr.Ss,this)})},r.prototype._defaultLabelLine=function(t){(0,Hr.Cc)(t,"labelLine",["show"]);var a=t.labelLine,l=t.emphasis.labelLine;a.show=a.show&&t.label.show,l.show=l.show&&t.emphasis.label.show},r.prototype.getDataParams=function(t){var a=this.getData(),l=o.prototype.getDataParams.call(this,t),h=a.mapDimension("value"),d=a.getSum(h);return l.percent=d?+(a.get(h,t)/d*100).toFixed(2):0,l.$vars.push("percent"),l},r.type="series.funnel",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(xn.Z);function uv(o,r){o.eachSeriesByType("funnel",function(t){var a=t.getData(),l=a.mapDimension("value"),h=t.get("sort"),d=function ad(o,r){return Vr.ME(o.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}(t,r),p=t.get("orient"),y=d.width,x=d.height,w=function _g(o,r){for(var t=o.mapDimension("value"),a=o.mapArray(t,function(y){return y}),l=[],h="ascending"===r,d=0,p=o.count();d<p;d++)l[d]=d;return(0,M.isFunction)(r)?l.sort(r):"none"!==r&&l.sort(function(y,x){return h?a[y]-a[x]:a[x]-a[y]}),l}(a,h),z=d.x,V=d.y,k="horizontal"===p?[(0,In.GM)(t.get("minSize"),x),(0,In.GM)(t.get("maxSize"),x)]:[(0,In.GM)(t.get("minSize"),y),(0,In.GM)(t.get("maxSize"),y)],J=a.getDataExtent(l),ue=t.get("min"),xe=t.get("max");null==ue&&(ue=Math.min(J[0],0)),null==xe&&(xe=J[1]);var ze=t.get("funnelAlign"),Re=t.get("gap"),Ge=(("horizontal"===p?y:x)-Re*(a.count()-1))/a.count(),Qe=function(vn,wn){if("horizontal"===p){var Zn=a.get(l,vn)||0,ur=(0,In.NU)(Zn,[ue,xe],k,!0),or=void 0;switch(ze){case"top":or=V;break;case"center":or=V+(x-ur)/2;break;case"bottom":or=V+(x-ur)}return[[wn,or],[wn,or+ur]]}var ii,kr=a.get(l,vn)||0,oi=(0,In.NU)(kr,[ue,xe],k,!0);switch(ze){case"left":ii=z;break;case"center":ii=z+(y-oi)/2;break;case"right":ii=z+y-oi}return[[ii,wn],[ii+oi,wn]]};"ascending"===h&&(Ge=-Ge,Re=-Re,"horizontal"===p?z+=y:V+=x,w=w.reverse());for(var $e=0;$e<w.length;$e++){var ut=w[$e],St=w[$e+1],Pt=a.getItemModel(ut);if("horizontal"===p){var Vt=Pt.get(["itemStyle","width"]);null==Vt?Vt=Ge:(Vt=(0,In.GM)(Vt,y),"ascending"===h&&(Vt=-Vt));var kt=Qe(ut,z),en=Qe(St,z+Vt);z+=Vt+Re,a.setItemLayout(ut,{points:kt.concat(en.slice().reverse())})}else{var un=Pt.get(["itemStyle","height"]);null==un?un=Ge:(un=(0,In.GM)(un,x),"ascending"===h&&(un=-un)),kt=Qe(ut,V),en=Qe(St,V+un),V+=un+Re,a.setItemLayout(ut,{points:kt.concat(en.slice().reverse())})}}!function od(o){var t=o.hostModel.get("orient");o.each(function(a){var z,V,k,J,l=o.getItemModel(a),d=l.getModel("label").get("position"),p=l.getModel("labelLine"),y=o.getItemLayout(a),x=y.points,w="inner"===d||"inside"===d||"center"===d||"insideLeft"===d||"insideRight"===d;if(w)"insideLeft"===d?(V=(x[0][0]+x[3][0])/2+5,k=(x[0][1]+x[3][1])/2,z="left"):"insideRight"===d?(V=(x[1][0]+x[2][0])/2-5,k=(x[1][1]+x[2][1])/2,z="right"):(V=(x[0][0]+x[1][0]+x[2][0]+x[3][0])/4,k=(x[0][1]+x[1][1]+x[2][1]+x[3][1])/4,z="center"),J=[[V,k],[V,k]];else{var ue=void 0,xe=void 0,ze=void 0,Re=void 0,Ie=p.get("length");"left"===d?(xe=(x[3][1]+x[0][1])/2,V=(ze=(ue=(x[3][0]+x[0][0])/2)-Ie)-5,z="right"):"right"===d?(xe=(x[1][1]+x[2][1])/2,V=(ze=(ue=(x[1][0]+x[2][0])/2)+Ie)+5,z="left"):"top"===d?(ue=(x[3][0]+x[0][0])/2,k=(Re=(xe=(x[3][1]+x[0][1])/2)-Ie)-5,z="center"):"bottom"===d?(ue=(x[1][0]+x[2][0])/2,k=(Re=(xe=(x[1][1]+x[2][1])/2)+Ie)+5,z="center"):"rightTop"===d?(ue="horizontal"===t?x[3][0]:x[1][0],xe="horizontal"===t?x[3][1]:x[1][1],"horizontal"===t?(k=(Re=xe-Ie)-5,z="center"):(V=(ze=ue+Ie)+5,z="top")):"rightBottom"===d?(ue=x[2][0],xe=x[2][1],"horizontal"===t?(k=(Re=xe+Ie)+5,z="center"):(V=(ze=ue+Ie)+5,z="bottom")):"leftTop"===d?(ue=x[0][0],xe="horizontal"===t?x[0][1]:x[1][1],"horizontal"===t?(k=(Re=xe-Ie)-5,z="center"):(V=(ze=ue-Ie)-5,z="right")):"leftBottom"===d?(ue="horizontal"===t?x[1][0]:x[3][0],xe="horizontal"===t?x[1][1]:x[2][1],"horizontal"===t?(k=(Re=xe+Ie)+5,z="center"):(V=(ze=ue-Ie)-5,z="right")):(ue=(x[1][0]+x[2][0])/2,xe=(x[1][1]+x[2][1])/2,"horizontal"===t?(k=(Re=xe+Ie)+5,z="center"):(V=(ze=ue+Ie)+5,z="left")),"horizontal"===t?V=ze=ue:k=Re=xe,J=[[ue,xe],[ze,Re]]}y.label={linePoints:J,x:V,y:k,verticalAlign:"middle",textAlign:z,inside:w}})}(a)})}function Sh(o,r,t,a){for(var l=[],h=0;h<t.length;h++){var d=t[h],p=o.get(o.mapDimension(d),r);pv(p,a.getAxis(d).type)||l.push(a.dataToPoint(p,d))}return l}function T3(o,r,t,a,l){var h=Sh(o,t,a,l),d=new ft.Z({shape:{points:h},z2:10});return r.add(d),o.setItemGraphicEl(t,d),d}function Ch(o){var r=o.get("smooth",!0);return!0===r&&(r=.3),r=(0,In.FK)(r),(0,M.eqNaN)(r)&&(r=0),{smooth:r}}function D3(o,r,t,a){o.useStyle(r.getItemVisual(t,"style")),o.style.fill=null,o.setShape("smooth",a.smooth);var l=r.getItemModel(t),h=l.getModel("emphasis");(0,er.WO)(o,l,"lineStyle"),(0,er.k5)(o,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function pv(o,r){return"category"===r?null==o:null==o||isNaN(o)}const C2=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._dataGroup=new yn.Z,t._initialized=!1,t}return(0,st.ZT)(r,o),r.prototype.init=function(){this.group.add(this._dataGroup)},r.prototype.render=function(t,a,l,h){this._progressiveEls=null;var d=this._dataGroup,p=t.getData(),y=this._data,x=t.coordinateSystem,w=x.dimensions,z=Ch(t);if(p.diff(y).add(function V(xe){D3(T3(p,d,xe,w,x),p,xe,z)}).update(function k(xe,ze){var Re=y.getItemGraphicEl(ze),Ie=Sh(p,xe,w,x);p.setItemGraphicEl(xe,Re),Bn.D(Re,{shape:{points:Ie}},t,xe),(0,Bn.Zi)(Re),D3(Re,p,xe,z)}).remove(function J(xe){var ze=y.getItemGraphicEl(xe);d.remove(ze)}).execute(),!this._initialized){this._initialized=!0;var ue=function vv(o,r,t){var a=o.model,l=o.getRect(),h=new Ei.Z({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),d="horizontal"===a.get("layout")?"width":"height";return h.setShape(d,0),Bn.KZ(h,{shape:{width:l.width,height:l.height}},r,t),h}(x,t,function(){setTimeout(function(){d.removeClipPath()})});d.setClipPath(ue)}this._data=p},r.prototype.incrementalPrepareRender=function(t,a,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},r.prototype.incrementalRender=function(t,a,l){for(var h=a.getData(),d=a.coordinateSystem,p=d.dimensions,y=Ch(a),x=this._progressiveEls=[],w=t.start;w<t.end;w++){var z=T3(h,this._dataGroup,w,p,d);z.incremental=!0,D3(z,h,w,y),x.push(z)}},r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},r.type="parallel",r}(Oi.Z);function gv(o){var r=o.ecModel.getComponent("parallel",o.get("parallelIndex"));if(r){var t={};return(0,M.each)(r.dimensions,function(a){var l=function ld(o){return+o.replace("dim","")}(a);t[a]=l}),t}}const cd=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){return(0,Qt.Z)(null,this,{useEncodeDefaulter:(0,M.bind)(gv,null,this)})},r.prototype.getRawIndicesByActiveState=function(t){var a=this.coordinateSystem,l=this.getData(),h=[];return a.eachActiveState(l,function(d,p){t===d&&h.push(l.getRawIndex(p))}),h},r.type="series.parallel",r.dependencies=["parallel"],r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},r}(xn.Z);var xp=["lineStyle","opacity"];const mv={seriesType:"parallel",reset:function(o,r){var t=o.coordinateSystem,a={normal:o.get(["lineStyle","opacity"]),active:o.get("activeOpacity"),inactive:o.get("inactiveOpacity")};return{progress:function(l,h){t.eachActiveState(h,function(d,p){var y=a[d];if("normal"===d&&h.hasItemOption){var x=h.getItemModel(p).get(xp,!0);null!=x&&(y=x)}h.ensureUniqueItemVisual(p,"style").opacity=y},l.start,l.end)}}}};function yv(o){(function E3(o){if(!o.parallel){var r=!1;M.each(o.series,function(t){t&&"parallel"===t.type&&(r=!0)}),r&&(o.parallel=[{}])}})(o),function wp(o){var r=Hr.kF(o.parallelAxis);M.each(r,function(t){if(M.isObject(t)){var a=t.parallelIndex||0,l=Hr.kF(o.parallel)[a];l&&l.parallelAxisDefault&&M.merge(t,l.parallelAxisDefault,!1)}})}(o)}var z3=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){this._model=t,this._api=l,this._handlers||(this._handlers={},(0,M.each)(Cp,function(h,d){l.getZr().on(d,this._handlers[d]=(0,M.bind)(h,this))},this)),(0,ho.T9)(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},r.prototype.dispose=function(t,a){(0,ho.ZH)(this,"_throttledDispatchExpand"),(0,M.each)(this._handlers,function(l,h){a.getZr().off(h,l)}),this._handlers=null},r.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},r.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction((0,M.extend)({type:"parallelAxisExpand"},t))},r.type="parallel",r}(xa.Z),Cp={mousedown:function(o){ud(this,"click")&&(this._mouseDownPoint=[o.offsetX,o.offsetY])},mouseup:function(o){var r=this._mouseDownPoint;if(ud(this,"click")&&r){var t=[o.offsetX,o.offsetY];if(Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2)>5)return;var l=this._model.coordinateSystem.getSlidedAxisExpandWindow([o.offsetX,o.offsetY]);"none"!==l.behavior&&this._dispatchExpand({axisExpandWindow:l.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(o){if(!this._mouseDownPoint&&ud(this,"mousemove")){var r=this._model,t=r.coordinateSystem.getSlidedAxisExpandWindow([o.offsetX,o.offsetY]),a=t.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(r.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===a?null:{duration:0}})}}};function ud(o,r){var t=o._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===r}const A3=z3,Th=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(){o.prototype.init.apply(this,arguments),this.mergeOption({})},r.prototype.mergeOption=function(t){t&&M.merge(this.option,t,!0),this._initDimensions()},r.prototype.contains=function(t,a){var l=t.get("parallelIndex");return null!=l&&a.getComponent("parallel",l)===this},r.prototype.setAxisExpand=function(t){M.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(a){t.hasOwnProperty(a)&&(this.option[a]=t[a])},this)},r.prototype._initDimensions=function(){var t=this.dimensions=[],a=this.parallelAxisIndex=[],l=M.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(h){return(h.get("parallelIndex")||0)===this.componentIndex},this);M.each(l,function(h){t.push("dim"+h.get("dim")),a.push(h.componentIndex)})},r.type="parallel",r.dependencies=["parallelAxis"],r.layoutMode="box",r.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},r}(va.Z),Rc=function(o){function r(t,a,l,h,d){var p=o.call(this,t,a,l)||this;return p.type=h||"value",p.axisIndex=d,p}return(0,st.ZT)(r,o),r.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},r}(Al.Z);function Ml(o,r,t,a,l,h){o=o||0;var d=t[1]-t[0];if(null!=l&&(l=M1(l,[0,d])),null!=h&&(h=Math.max(h,l??0)),"all"===a){var p=Math.abs(r[1]-r[0]);p=M1(p,[0,d]),l=h=M1(p,[l,h]),a=0}r[0]=M1(r[0],t),r[1]=M1(r[1],t);var y=T2(r,a);r[a]+=o;var z,x=l||0,w=t.slice();return y.sign<0?w[0]+=x:w[1]-=x,r[a]=M1(r[a],w),z=T2(r,a),null!=l&&(z.sign!==y.sign||z.span<l)&&(r[1-a]=r[a]+y.sign*l),z=T2(r,a),null!=h&&z.span>h&&(r[1-a]=r[a]+z.sign*h),r}function T2(o,r){var t=o[r]-o[1-r];return{span:Math.abs(t),sign:t>0?-1:t<0?1:r?-1:1}}function M1(o,r){return Math.min(null!=r[1]?r[1]:1/0,Math.max(null!=r[0]?r[0]:-1/0,o))}var L4=M.each,D2=Math.min,Nu=Math.max,Vc=Math.floor,Bu=Math.ceil,Mv=In.NM,ku=Math.PI;function y0(o,r){return D2(Nu(o,r[0]),r[1])}function Ro(o,r){var t=r.layoutLength/(r.axisCount-1);return{position:t*o,axisNameAvailableWidth:t,axisLabelShow:!0}}function xv(o,r){var p,w,a=r.axisExpandWidth,h=r.axisCollapseWidth,d=r.winInnerIndices,y=h,x=!1;return o<d[0]?(p=o*h,w=h):o<=d[1]?(p=r.axisExpandWindow0Pos+o*a-r.axisExpandWindow[0],y=a,x=!0):(p=r.layoutLength-(r.axisCount-1-o)*h,w=h),{position:p,axisNameAvailableWidth:y,axisLabelShow:x,nameTruncateMaxWidth:w}}const bv=function(){function o(r,t,a){this.type="parallel",this._axesMap=M.createHashMap(),this._axesLayout={},this.dimensions=r.dimensions,this._model=r,this._init(r,t,a)}return o.prototype._init=function(r,t,a){var h=r.parallelAxisIndex;L4(r.dimensions,function(d,p){var y=h[p],x=t.getComponent("parallelAxis",y),w=this._axesMap.set(d,new Rc(d,io.aG(x),[0,0],x.get("type"),y));w.onBand="category"===w.type&&x.get("boundaryGap"),w.inverse=x.get("inverse"),x.axis=w,w.model=x,w.coordinateSystem=x.coordinateSystem=this},this)},o.prototype.update=function(r,t){this._updateAxesFromSeries(this._model,r)},o.prototype.containPoint=function(r){var t=this._makeLayoutInfo(),a=t.axisBase,l=t.layoutBase,h=t.pixelDimIndex,d=r[1-h],p=r[h];return d>=a&&d<=a+t.axisLength&&p>=l&&p<=l+t.layoutLength},o.prototype.getModel=function(){return this._model},o.prototype._updateAxesFromSeries=function(r,t){t.eachSeries(function(a){if(r.contains(a,t)){var l=a.getData();L4(this.dimensions,function(h){var d=this._axesMap.get(h);d.scale.unionExtentFromData(l,l.mapDimension(h)),io.Jk(d.scale,d.model)},this)}},this)},o.prototype.resize=function(r,t){this._rect=Vr.ME(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},o.prototype.getRect=function(){return this._rect},o.prototype._makeLayoutInfo=function(){var J,r=this._model,t=this._rect,a=["x","y"],l=["width","height"],h=r.get("layout"),d="horizontal"===h?0:1,p=t[l[d]],y=[0,p],x=this.dimensions.length,w=y0(r.get("axisExpandWidth"),y),z=y0(r.get("axisExpandCount")||0,[0,x]),V=r.get("axisExpandable")&&x>3&&x>z&&z>1&&w>0&&p>0,k=r.get("axisExpandWindow");k?(J=y0(k[1]-k[0],y),k[1]=k[0]+J):(J=y0(w*(z-1),y),(k=[w*(r.get("axisExpandCenter")||Vc(x/2))-J/2])[1]=k[0]+J);var xe=(p-J)/(x-z);xe<3&&(xe=0);var ze=[Vc(Mv(k[0]/w,1))+1,Bu(Mv(k[1]/w,1))-1];return{layout:h,pixelDimIndex:d,layoutBase:t[a[d]],layoutLength:p,axisBase:t[a[1-d]],axisLength:t[l[1-d]],axisExpandable:V,axisExpandWidth:w,axisCollapseWidth:xe,axisExpandWindow:k,axisCount:x,winInnerIndices:ze,axisExpandWindow0Pos:xe/w*k[0]}},o.prototype._layoutAxes=function(){var r=this._rect,t=this._axesMap,a=this.dimensions,l=this._makeLayoutInfo(),h=l.layout;t.each(function(d){var p=[0,l.axisLength],y=d.inverse?1:0;d.setExtent(p[y],p[1-y])}),L4(a,function(d,p){var y=(l.axisExpandable?xv:Ro)(p,l),x={horizontal:{x:y.position,y:l.axisLength},vertical:{x:0,y:y.position}},z=[x[h].x+r.x,x[h].y+r.y],V={horizontal:ku/2,vertical:0}[h],k=Ji.create();Ji.rotate(k,k,V),Ji.translate(k,k,z),this._axesLayout[d]={position:z,rotation:V,transform:k,axisNameAvailableWidth:y.axisNameAvailableWidth,axisLabelShow:y.axisLabelShow,nameTruncateMaxWidth:y.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},o.prototype.getAxis=function(r){return this._axesMap.get(r)},o.prototype.dataToPoint=function(r,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(r),t)},o.prototype.eachActiveState=function(r,t,a,l){null==a&&(a=0),null==l&&(l=r.count());var h=this._axesMap,d=this.dimensions,p=[],y=[];M.each(d,function(xe){p.push(r.mapDimension(xe)),y.push(h.get(xe).model)});for(var x=this.hasAxisBrushed(),w=a;w<l;w++){var z=void 0;if(x){z="active";for(var V=r.getValues(p,w),k=0,J=d.length;k<J;k++)if("inactive"===y[k].getActiveState(V[k])){z="inactive";break}}else z="normal";t(z,w)}},o.prototype.hasAxisBrushed=function(){for(var r=this.dimensions,t=this._axesMap,a=!1,l=0,h=r.length;l<h;l++)"normal"!==t.get(r[l]).model.getActiveState()&&(a=!0);return a},o.prototype.axisCoordToPoint=function(r,t){return dr.applyTransform([r,0],this._axesLayout[t].transform)},o.prototype.getAxisLayout=function(r){return M.clone(this._axesLayout[r])},o.prototype.getSlidedAxisExpandWindow=function(r){var t=this._makeLayoutInfo(),a=t.pixelDimIndex,l=t.axisExpandWindow.slice(),h=l[1]-l[0],d=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(r))return{behavior:"none",axisExpandWindow:l};var y,p=r[a]-t.layoutBase-t.axisExpandWindow0Pos,x="slide",w=t.axisCollapseWidth,z=this._model.get("axisExpandSlideTriggerArea"),V=null!=z[0];if(w)V&&w&&p<h*z[0]?(x="jump",y=p-h*z[2]):V&&w&&p>h*(1-z[0])?(x="jump",y=p-h*(1-z[2])):(y=p-h*z[1])>=0&&(y=p-h*(1-z[1]))<=0&&(y=0),(y*=t.axisExpandWidth/w)?Ml(y,l,d,"all"):x="none";else{var k=l[1]-l[0];(l=[Nu(0,d[1]*p/k-k/2)])[1]=D2(d[1],l[0]+k),l[0]=l[1]-k}return{axisExpandWindow:l,behavior:x}},o}(),Uu={create:function Hc(o,r){var t=[];return o.eachComponent("parallel",function(a,l){var h=new bv(a,o,r);h.name="parallel_"+l,h.resize(a,r),a.coordinateSystem=h,h.model=a,t.push(h)}),o.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var l=a.getReferringComponents("parallel",Hr.C6).models[0];a.coordinateSystem=l.coordinateSystem}}),t}};var hd=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.activeIntervals=[],t}return(0,st.ZT)(r,o),r.prototype.getAreaSelectStyle=function(){return(0,sh.Z)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},r.prototype.setActiveIntervals=function(t){var a=this.activeIntervals=M.clone(t);if(a)for(var l=a.length-1;l>=0;l--)In.dt(a[l])},r.prototype.getActiveState=function(t){var a=this.activeIntervals;if(!a.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===a.length){var l=a[0];if(l[0]<=t&&t<=l[1])return"active"}else for(var h=0,d=a.length;h<d;h++)if(a[h][0]<=t&&t<=a[h][1])return"active";return"inactive"},r}(va.Z);M.mixin(hd,xs.W);const wv=hd;var O4=!0,I4=Math.min,Nc=Math.max,E2=Math.pow,Sv=1e4,Eh=6,Yu=6,dd="globalPan",fd={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Cv={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Zi={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Tp=0,Tv=function(o){function r(t){var a=o.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=t,a.group=new yn.Z,a._uid="brushController_"+Tp++,(0,M.each)(Ep,function(l,h){this._handlers[h]=(0,M.bind)(l,this)},a),a}return(0,st.ZT)(r,o),r.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},r.prototype._doEnableBrush=function(t){var a=this._zr;this._enableGlobalPan||function e3(o,r,t){Sc(o)[r]=t}(a,dd,this._uid),(0,M.each)(this._handlers,function(l,h){a.on(h,l)}),this._brushType=t.brushType,this._brushOption=(0,M.merge)((0,M.clone)(Zi),t,!0)},r.prototype._doDisableBrush=function(){var t=this._zr;(function Bf(o,r,t){var a=Sc(o);a[r]===t&&(a[r]=null)})(t,dd,this._uid),(0,M.each)(this._handlers,function(a,l){t.off(l,a)}),this._brushType=this._brushOption=null},r.prototype.setPanels=function(t){if(t&&t.length){var a=this._panels={};(0,M.each)(t,function(l){a[l.panelId]=(0,M.clone)(l)})}else this._panels=null;return this},r.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=a.getLocalTransform(),this},r.prototype.updateCovers=function(t){t=(0,M.map)(t,function(V){return(0,M.merge)((0,M.clone)(Zi),V,!0)});var l=this._covers,h=this._covers=[],d=this,p=this._creatingCover;return new di.Z(l,t,function x(V,k){return y(V.__brushOption,k)},y).add(w).update(w).remove(function z(V){l[V]!==p&&d.group.remove(l[V])}).execute(),this;function y(V,k){return(null!=V.id?V.id:"\0-brush-index-"+k)+"-"+V.brushType}function w(V,k){var J=t[V];if(null!=k&&l[k]===p)h[V]=l[k];else{var ue=h[V]=null!=k?(l[k].__brushOption=J,l[k]):vd(d,_0(d,J));zh(d,ue)}}},r.prototype.unmount=function(){return this.enableBrush(!1),sa(this),this._zr.remove(this.group),this},r.prototype.dispose=function(){this.unmount(),this.off()},r}(o2.Z);function _0(o,r){var t=yd[r.brushType].createCover(o,r);return t.__brushOption=r,M0(t,r),o.group.add(t),t}function vd(o,r){var t=Gu(r);return t.endCreating&&(t.endCreating(o,r),M0(r,r.__brushOption)),r}function z2(o,r){var t=r.__brushOption;Gu(r).updateCoverShape(o,r,t.range,t)}function M0(o,r){var t=r.z;null==t&&(t=Sv),o.traverse(function(a){a.z=t,a.z2=t})}function zh(o,r){Gu(r).updateCommon(o,r),z2(o,r)}function Gu(o){return yd[o.__brushOption.brushType]}function Ah(o,r,t){var a=o._panels;if(!a)return O4;var l,h=o._transform;return(0,M.each)(a,function(d){d.isTargetByCursor(r,t,h)&&(l=d)}),l}function pd(o,r){var t=o._panels;if(!t)return O4;var a=r.__brushOption.panelId;return null!=a?t[a]:O4}function sa(o){var r=o._covers,t=r.length;return(0,M.each)(r,function(a){o.group.remove(a)},o),r.length=0,!!t}function x1(o,r){var t=(0,M.map)(o._covers,function(a){var l=a.__brushOption,h=(0,M.clone)(l.range);return{brushType:l.brushType,panelId:l.panelId,range:h}});o.trigger("brush",{areas:t,isEnd:!!r.isEnd,removeOnClick:!!r.removeOnClick})}function Wu(o){var r=o.length-1;return r<0&&(r=0),[o[0],o[r]]}function al(o,r,t,a){var l=new yn.Z;return l.add(new Ei.Z({name:"main",style:sl(t),silent:!0,draggable:!0,cursor:"move",drift:(0,M.curry)(R4,o,r,l,["n","s","w","e"]),ondragend:(0,M.curry)(x1,r,{isEnd:!0})})),(0,M.each)(a,function(h){l.add(new Ei.Z({name:h.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,M.curry)(R4,o,r,l,h),ondragend:(0,M.curry)(x1,r,{isEnd:!0})}))}),l}function To(o,r,t,a){var l=a.brushStyle.lineWidth||0,h=Nc(l,Yu),d=t[0][0],p=t[1][0],y=d-l/2,x=p-l/2,w=t[0][1],z=t[1][1],V=w-h+l/2,k=z-h+l/2,J=w-d,ue=z-p,xe=J+l,ze=ue+l;Bc(o,r,"main",d,p,J,ue),a.transformable&&(Bc(o,r,"w",y,x,h,ze),Bc(o,r,"e",V,x,h,ze),Bc(o,r,"n",y,x,xe,h),Bc(o,r,"s",y,k,xe,h),Bc(o,r,"nw",y,x,h,h),Bc(o,r,"ne",V,x,h,h),Bc(o,r,"sw",y,k,h,h),Bc(o,r,"se",V,k,h,h))}function ol(o,r){var t=r.__brushOption,a=t.transformable,l=r.childAt(0);l.useStyle(sl(t)),l.attr({silent:!a,cursor:a?"move":"default"}),(0,M.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(h){var d=r.childOfName(h.join("")),p=1===h.length?Ph(o,h[0]):function Qo(o,r){var t=[Ph(o,r[0]),Ph(o,r[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(o,h);d&&d.attr({silent:!a,invisible:!a,cursor:a?Cv[p]+"-resize":null})})}function Bc(o,r,t,a,l,h,d){var p=r.childOfName(t);p&&p.setShape(function F1(o){var r=I4(o[0][0],o[1][0]),t=I4(o[0][1],o[1][1]);return{x:r,y:t,width:Nc(o[0][0],o[1][0])-r,height:Nc(o[0][1],o[1][1])-t}}(Ku(o,r,[[a,l],[a+h,l+d]])))}function sl(o){return(0,M.defaults)({strokeNoScale:!0},o.brushStyle)}function Wo(o,r,t,a){var l=[I4(o,t),I4(r,a)],h=[Nc(o,t),Nc(r,a)];return[[l[0],h[0]],[l[1],h[1]]]}function Ph(o,r){var l=dr.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[r],function Fs(o){return dr.getTransform(o.group)}(o));return{left:"w",right:"e",top:"n",bottom:"s"}[l]}function R4(o,r,t,a,l,h){var d=t.__brushOption,p=o.toRectRange(d.range),y=Zu(r,l,h);(0,M.each)(a,function(x){var w=fd[x];p[w[0]][w[1]]+=y[w[0]]}),d.range=o.fromRectRange(Wo(p[0][0],p[1][0],p[0][1],p[1][1])),zh(r,t),x1(r,{isEnd:!1})}function Lh(o,r,t,a){var l=r.__brushOption.range,h=Zu(o,t,a);(0,M.each)(l,function(d){d[0]+=h[0],d[1]+=h[1]}),zh(o,r),x1(o,{isEnd:!1})}function Zu(o,r,t){var a=o.group,l=a.transformCoordToLocal(r,t),h=a.transformCoordToLocal(0,0);return[l[0]-h[0],l[1]-h[1]]}function Ku(o,r,t){var a=pd(o,r);return a&&a!==O4?a.clipPath(t,o._transform):(0,M.clone)(t)}function L3(o){var r=o.event;r.preventDefault&&r.preventDefault()}function A2(o,r,t){return o.childOfName("main").contain(r,t)}function gd(o,r,t,a){var p,l=o._creatingCover,h=o._creatingPanel,d=o._brushOption;if(o._track.push(t.slice()),function ju(o){var r=o._track;if(!r.length)return!1;var t=r[r.length-1],a=r[0],l=t[0]-a[0],h=t[1]-a[1];return E2(l*l+h*h,.5)>Eh}(o)||l){if(h&&!l){"single"===d.brushMode&&sa(o);var y=(0,M.clone)(d);y.brushType=Dv(y.brushType,h),y.panelId=h===O4?null:h.panelId,l=o._creatingCover=_0(o,y),o._covers.push(l)}if(l){var x=yd[Dv(o._brushType,h)];l.__brushOption.range=x.getCreatingRange(Ku(o,l,o._track)),a&&(vd(o,l),x.updateCommon(o,l)),z2(o,l),p={isEnd:a}}}else a&&"single"===d.brushMode&&d.removeOnClick&&Ah(o,r,t)&&sa(o)&&(p={isEnd:a,removeOnClick:!0});return p}function Dv(o,r){return"auto"===o?r.defaultBrushType:o}var Ep={mousedown:function(o){if(this._dragging)md(this,o);else if(!o.target||!o.target.draggable){L3(o);var r=this.group.transformCoordToLocal(o.offsetX,o.offsetY);this._creatingCover=null,(this._creatingPanel=Ah(this,o,r))&&(this._dragging=!0,this._track=[r.slice()])}},mousemove:function(o){var a=this.group.transformCoordToLocal(o.offsetX,o.offsetY);if(function Dp(o,r,t){if(o._brushType&&!function Oh(o,r,t){var a=o._zr;return r<0||r>a.getWidth()||t<0||t>a.getHeight()}(o,r.offsetX,r.offsetY)){var a=o._zr,l=o._covers,h=Ah(o,r,t);if(!o._dragging)for(var d=0;d<l.length;d++){var p=l[d].__brushOption;if(h&&(h===O4||p.panelId===h.panelId)&&yd[p.brushType].contain(l[d],t[0],t[1]))return}h&&a.setCursorStyle("crosshair")}}(this,o,a),this._dragging){L3(o);var l=gd(this,o,a,!1);l&&x1(this,l)}},mouseup:function(o){md(this,o)}};function md(o,r){if(o._dragging){L3(r);var l=o.group.transformCoordToLocal(r.offsetX,r.offsetY),h=gd(o,r,l,!0);o._dragging=!1,o._track=[],o._creatingCover=null,h&&x1(o,h)}}var yd={lineX:_d(0),lineY:_d(1),rect:{createCover:function(o,r){function t(a){return a}return al({toRectRange:t,fromRectRange:t},o,r,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(o){var r=Wu(o);return Wo(r[1][0],r[1][1],r[0][0],r[0][1])},updateCoverShape:function(o,r,t,a){To(o,r,t,a)},updateCommon:ol,contain:A2},polygon:{createCover:function(o,r){var t=new yn.Z;return t.add(new ft.Z({name:"main",style:sl(r),silent:!0})),t},getCreatingRange:function(o){return o},endCreating:function(o,r){r.remove(r.childAt(0)),r.add(new Ul.Z({name:"main",draggable:!0,drift:(0,M.curry)(Lh,o,r),ondragend:(0,M.curry)(x1,o,{isEnd:!0})}))},updateCoverShape:function(o,r,t,a){r.childAt(0).setShape({points:Ku(o,r,t)})},updateCommon:ol,contain:A2}};function _d(o){return{createCover:function(r,t){return al({toRectRange:function(a){var l=[a,[0,100]];return o&&l.reverse(),l},fromRectRange:function(a){return a[o]}},r,t,[[["w"],["e"]],[["n"],["s"]]][o])},getCreatingRange:function(r){var t=Wu(r);return[I4(t[0][o],t[1][o]),Nc(t[0][o],t[1][o])]},updateCoverShape:function(r,t,a,l){var h,d=pd(r,t);if(d!==O4&&d.getLinearBrushOtherExtent)h=d.getLinearBrushOtherExtent(o);else{var p=r._zr;h=[0,[p.getWidth(),p.getHeight()][1-o]]}var y=[a,h];o&&y.reverse(),To(r,t,y,l)},updateCommon:ol,contain:A2}}const $u=Tv;function Si(o){return o=Xu(o),function(r){return dr.clipPointsByRect(r,o)}}function V4(o,r){return o=Xu(o),function(t){var a=r??t,h=a?o.x:o.y;return[h,h+((a?o.width:o.height)||0)]}}function Md(o,r,t){var a=Xu(o);return function(l,h){return a.contain(h[0],h[1])&&!q2(l,r,t)}}function Xu(o){return _r.Z.create(o)}var xd=["axisLine","axisTickLabel","axisName"];const Mg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){o.prototype.init.apply(this,arguments),(this._brushController=new $u(a.getZr())).on("brush",M.bind(this._onBrush,this))},r.prototype.render=function(t,a,l,h){if(!function bd(o,r,t){return t&&"axisAreaSelect"===t.type&&r.findComponents({mainType:"parallelAxis",query:t})[0]===o}(t,a,h)){this.axisModel=t,this.api=l,this.group.removeAll();var d=this._axisGroup;if(this._axisGroup=new yn.Z,this.group.add(this._axisGroup),t.get("show")){var p=function wd(o,r){return r.getComponent("parallel",o.get("parallelIndex"))}(t,a),y=p.coordinateSystem,x=t.getAreaSelectStyle(),w=x.width,V=y.getAxisLayout(t.axis.dim),k=M.extend({strokeContainThreshold:w},V),J=new h1(t,k);M.each(xd,J.add,J),this._axisGroup.add(J.getGroup()),this._refreshBrushController(k,x,t,p,w,l),dr.groupTransition(d,this._axisGroup,t)}}},r.prototype._refreshBrushController=function(t,a,l,h,d,p){var y=l.axis.getExtent(),x=y[1]-y[0],w=Math.min(30,.1*Math.abs(x)),z=_r.Z.create({x:y[0],y:-d/2,width:x,height:d});z.x-=w,z.width+=2*w,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Si(z),isTargetByCursor:Md(z,p,h),getLinearBrushOtherExtent:V4(z,0)}]).enableBrush({brushType:"lineX",brushStyle:a,removeOnClick:!0}).updateCovers(function Ja(o){var r=o.axis;return M.map(o.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(t[0],!0),r.dataToCoord(t[1],!0)]}})}(l))},r.prototype._onBrush=function(t){var l=this.axisModel,h=l.axis,d=M.map(t.areas,function(p){return[h.coordToData(p.range[0],!0),h.coordToData(p.range[1],!0)]});(!l.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:l.id,intervals:d})},r.prototype.dispose=function(){this._brushController.dispose()},r.type="parallelAxis",r}(xa.Z);var O3={type:"axisAreaSelect",event:"axisAreaSelected"},x0={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Sd(o){o.registerComponentView(A3),o.registerComponentModel(Th),o.registerCoordinateSystem("parallel",Uu),o.registerPreprocessor(yv),o.registerComponentModel(wv),o.registerComponentView(Mg),gl(o,"parallel",wv,x0),function sc(o){o.registerAction(O3,function(r,t){t.eachComponent({mainType:"parallelAxis",query:r},function(a){a.axis.model.setActiveIntervals(r.intervals)})}),o.registerAction("parallelAxisExpand",function(r,t){t.eachComponent({mainType:"parallel",query:r},function(a){a.setAxisExpand(r)})})}(o)}var zp=function o(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},I3=function(o){function r(t){return o.call(this,t)||this}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new zp},r.prototype.buildPath=function(t,a){var l=a.extent;t.moveTo(a.x1,a.y1),t.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),"vertical"===a.orient?(t.lineTo(a.x2+l,a.y2),t.bezierCurveTo(a.cpx2+l,a.cpy2,a.cpx1+l,a.cpy1,a.x1+l,a.y1)):(t.lineTo(a.x2,a.y2+l),t.bezierCurveTo(a.cpx2,a.cpy2+l,a.cpx1,a.cpy1+l,a.x1,a.y1+l)),t.closePath()},r.prototype.highlight=function(){(0,er.fD)(this)},r.prototype.downplay=function(){(0,er.Mh)(this)},r}(pe.ZP);const Ev=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._focusAdjacencyDisabled=!1,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=this,d=t.getGraph(),p=this.group,y=t.layoutInfo,x=y.width,w=y.height,z=t.getData(),V=t.getData("edge"),k=t.get("orient");this._model=t,p.removeAll(),p.x=y.x,p.y=y.y,d.eachEdge(function(J){var ue=new I3,xe=(0,Qn.A)(ue);xe.dataIndex=J.dataIndex,xe.seriesIndex=t.seriesIndex,xe.dataType="edge";var un,vn,wn,Zn,ur,or,kr,oi,ze=J.getModel(),Re=ze.getModel("lineStyle"),Ie=Re.get("curveness"),Ge=J.node1.getLayout(),Qe=J.node1.getModel(),$e=Qe.get("localX"),ut=Qe.get("localY"),St=J.node2.getLayout(),Pt=J.node2.getModel(),Vt=Pt.get("localX"),kt=Pt.get("localY"),en=J.getLayout();switch(ue.shape.extent=Math.max(1,en.dy),ue.shape.orient=k,"vertical"===k?(ur=un=(null!=$e?$e*x:Ge.x)+en.sy,or=(vn=(null!=ut?ut*w:Ge.y)+Ge.dy)*(1-Ie)+(Zn=null!=kt?kt*w:St.y)*Ie,kr=wn=(null!=Vt?Vt*x:St.x)+en.ty,oi=vn*Ie+Zn*(1-Ie)):(ur=(un=(null!=$e?$e*x:Ge.x)+Ge.dx)*(1-Ie)+(wn=null!=Vt?Vt*x:St.x)*Ie,or=vn=(null!=ut?ut*w:Ge.y)+en.sy,kr=un*Ie+wn*(1-Ie),oi=Zn=(null!=kt?kt*w:St.y)+en.ty),ue.setShape({x1:un,y1:vn,x2:wn,y2:Zn,cpx1:ur,cpy1:or,cpx2:kr,cpy2:oi}),ue.useStyle(Re.getItemStyle()),ue.style.fill){case"source":ue.style.fill=J.node1.getVisual("color"),ue.style.decal=J.node1.getVisual("style").decal;break;case"target":ue.style.fill=J.node2.getVisual("color"),ue.style.decal=J.node2.getVisual("style").decal;break;case"gradient":var ii=J.node1.getVisual("color"),Gi=J.node2.getVisual("color");(0,M.isString)(ii)&&(0,M.isString)(Gi)&&(ue.style.fill=new Za.Z(0,0,+("horizontal"===k),+("vertical"===k),[{color:ii,offset:0},{color:Gi,offset:1}]))}(0,hr.ni)(ue,(0,hr.k3)(ze,"edgeLabel"),{labelFetcher:t,labelDataIndex:J.dataIndex,defaultText:""+ze.get("value")}),ue.setTextConfig({position:"inside"});var Fi=ze.getModel("emphasis");(0,er.WO)(ue,ze,"lineStyle",function(wa){return wa.getItemStyle()}),p.add(ue),V.setItemGraphicEl(J.dataIndex,ue);var Ci=Fi.get("focus");(0,er.k5)(ue,"adjacency"===Ci?J.getAdjacentDataIndices():Ci,Fi.get("blurScope"),Fi.get("disabled")),(0,Qn.A)(ue).dataType="edge"}),d.eachNode(function(J){var ue=J.getLayout(),xe=J.getModel(),ze=xe.get("localX"),Re=xe.get("localY"),Ie=xe.getModel("emphasis"),Ge=new Ei.Z({shape:{x:null!=ze?ze*x:ue.x,y:null!=Re?Re*w:ue.y,width:ue.dx,height:ue.dy},style:xe.getModel("itemStyle").getItemStyle(),z2:10});(0,hr.ni)(Ge,(0,hr.k3)(xe),{labelFetcher:t,labelDataIndex:J.dataIndex,defaultText:J.id}),Ge.disableLabelAnimation=!0,Ge.setStyle("fill",J.getVisual("color")),Ge.setStyle("decal",J.getVisual("style").decal),(0,er.WO)(Ge,xe),p.add(Ge),z.setItemGraphicEl(J.dataIndex,Ge),(0,Qn.A)(Ge).dataType="node";var Qe=Ie.get("focus");(0,er.k5)(Ge,"adjacency"===Qe?J.getAdjacentDataIndices():Qe,Ie.get("blurScope"),Ie.get("disabled"))}),z.eachItemGraphicEl(function(J,ue){z.getItemModel(ue).get("draggable")&&(J.drift=function(ze,Re){h._focusAdjacencyDisabled=!0,this.shape.x+=ze,this.shape.y+=Re,this.dirty(),l.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:z.getRawIndex(ue),localX:this.shape.x/x,localY:this.shape.y/w})},J.ondragend=function(){h._focusAdjacencyDisabled=!1},J.draggable=!0,J.cursor="move")}),!this._data&&t.isAnimationEnabled()&&p.setClipPath(function Ih(o,r,t){var a=new Ei.Z({shape:{x:o.x-10,y:o.y-10,width:0,height:o.height+20}});return Bn.KZ(a,{shape:{width:o.width+20}},r,t),a}(p.getBoundingRect(),t,function(){p.removeClipPath()})),this._data=t.getData()},r.prototype.dispose=function(){},r.type="sankey",r}(Oi.Z),xg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){var l=t.edges||t.links,h=t.data||t.nodes,d=t.levels;this.levelModels=[];for(var p=this.levelModels,y=0;y<d.length;y++)null!=d[y].depth&&d[y].depth>=0&&(p[d[y].depth]=new Fo.Z(d[y],this,a));if(h&&l)return m0(h,l,this,!0,function w(z,V){z.wrapMethod("getItemModel",function(k,J){var ue=k.parentModel,xe=ue.getData().getItemLayout(J);if(xe){var Re=ue.levelModels[xe.depth];Re&&(k.parentModel=Re)}return k}),V.wrapMethod("getItemModel",function(k,J){var ue=k.parentModel,ze=ue.getGraph().getEdgeByIndex(J).node1.getLayout();if(ze){var Ie=ue.levelModels[ze.depth];Ie&&(k.parentModel=Ie)}return k})}).data},r.prototype.setNodePosition=function(t,a){var h=(this.option.data||this.option.nodes)[t];h.localX=a[0],h.localY=a[1]},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.formatTooltip=function(t,a,l){function h(k){return isNaN(k)||null==k}if("edge"===l){var d=this.getDataParams(t,l),p=d.data,y=d.value;return(0,yo.TX)("nameValue",{name:p.source+" -- "+p.target,value:y,noValue:h(y)})}var z=this.getGraph().getNodeByIndex(t).getLayout().value,V=this.getDataParams(t,l).data.name;return(0,yo.TX)("nameValue",{name:null!=V?V+"":null,value:z,noValue:h(z)})},r.prototype.optionUpdated=function(){},r.prototype.getDataParams=function(t,a){var l=o.prototype.getDataParams.call(this,t,a);if(null==l.value&&"node"===a){var d=this.getGraph().getNodeByIndex(t).getLayout().value;l.value=d}return l},r.type="series.sankey",r.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},r}(xn.Z);function Td(o,r){o.eachSeriesByType("sankey",function(t){var a=t.get("nodeWidth"),l=t.get("nodeGap"),h=function Qu(o,r){return Vr.ME(o.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}(t,r);t.layoutInfo=h;var d=h.width,p=h.height,y=t.getGraph(),x=y.nodes,w=y.edges;!function Ju(o){M.each(o,function(r){var t=U1(r.outEdges,V3),a=U1(r.inEdges,V3),l=r.getValue()||0,h=Math.max(t,a,l);r.setLayout({value:h},!0)})}(x),function b0(o,r,t,a,l,h,d,p,y){(function bg(o,r,t,a,l,h,d){for(var p=[],y=[],x=[],w=[],z=0,V=0;V<r.length;V++)p[V]=1;for(V=0;V<o.length;V++)y[V]=o[V].inEdges.length,0===y[V]&&x.push(o[V]);for(var k=-1;x.length;){for(var J=0;J<x.length;J++){var ue=x[J],xe=ue.hostGraph.data.getRawDataItem(ue.dataIndex),ze=null!=xe.depth&&xe.depth>=0;ze&&xe.depth>k&&(k=xe.depth),ue.setLayout({depth:ze?xe.depth:z},!0),ue.setLayout("vertical"===h?{dy:t}:{dx:t},!0);for(var Re=0;Re<ue.outEdges.length;Re++){var Ie=ue.outEdges[Re];p[r.indexOf(Ie)]=0;var Qe=Ie.node2;0==--y[o.indexOf(Qe)]&&w.indexOf(Qe)<0&&w.push(Qe)}}++z,x=w,w=[]}for(V=0;V<p.length;V++)if(1===p[V])throw new Error("Sankey is a DAG, the original data has cycle!");var ut=k>z-1?k:z-1;d&&"left"!==d&&function R3(o,r,t,a){if("right"===r){for(var l=[],h=o,d=0;h.length;){for(var p=0;p<h.length;p++){var y=h[p];y.setLayout({skNodeHeight:d},!0);for(var x=0;x<y.inEdges.length;x++){var w=y.inEdges[x];l.indexOf(w.node1)<0&&l.push(w.node1)}}h=l,l=[],++d}M.each(o,function(z){ki(z)||z.setLayout({depth:Math.max(0,a-z.getLayout().skNodeHeight)},!0)})}else"justify"===r&&function Dd(o,r){M.each(o,function(t){!ki(t)&&!t.outEdges.length&&t.setLayout({depth:r},!0)})}(o,a)}(o,d,0,ut),function w0(o,r,t){M.each(o,function(a){var l=a.getLayout().depth*r;a.setLayout("vertical"===t?{y:l}:{x:l},!0)})}(o,"vertical"===h?(l-t)/ut:(a-t)/ut,h)})(o,r,t,l,h,p,y),function Ed(o,r,t,a,l,h,d){var p=function Rh(o,r){var t=[],a="vertical"===r?"y":"x",l=(0,Hr.pv)(o,function(h){return h.getLayout()[a]});return l.keys.sort(function(h,d){return h-d}),M.each(l.keys,function(h){t.push(l.buckets.get(h))}),t}(o,d);(function P2(o,r,t,a,l,h){var d=1/0;M.each(o,function(p){var y=p.length,x=0;M.each(p,function(z){x+=z.getLayout().value});var w="vertical"===h?(a-(y-1)*l)/x:(t-(y-1)*l)/x;w<d&&(d=w)}),M.each(o,function(p){M.each(p,function(y,x){var w=y.getLayout().value*d;"vertical"===h?(y.setLayout({x},!0),y.setLayout({dx:w},!0)):(y.setLayout({y:x},!0),y.setLayout({dy:w},!0))})}),M.each(r,function(p){var y=+p.getValue()*d;p.setLayout({dy:y},!0)})})(p,r,t,a,l,d),S0(p,l,t,a,d);for(var y=1;h>0;h--)Do(p,y*=.99,d),S0(p,l,t,a,d),Ad(p,y,d),S0(p,l,t,a,d)}(o,r,h,l,a,d,p),function H3(o,r){var t="vertical"===r?"x":"y";M.each(o,function(a){a.outEdges.sort(function(l,h){return l.node2.getLayout()[t]-h.node2.getLayout()[t]}),a.inEdges.sort(function(l,h){return l.node1.getLayout()[t]-h.node1.getLayout()[t]})}),M.each(o,function(a){var l=0,h=0;M.each(a.outEdges,function(d){d.setLayout({sy:l},!0),l+=d.getLayout().dy}),M.each(a.inEdges,function(d){d.setLayout({ty:h},!0),h+=d.getLayout().dy})})}(o,p)}(x,w,a,l,d,p,0!==M.filter(x,function(ue){return 0===ue.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function ki(o){var r=o.hostGraph.data.getRawDataItem(o.dataIndex);return null!=r.depth&&r.depth>=0}function S0(o,r,t,a,l){var h="vertical"===l?"x":"y";M.each(o,function(d){d.sort(function(ue,xe){return ue.getLayout()[h]-xe.getLayout()[h]});for(var p,y,x,w=0,z=d.length,V="vertical"===l?"dx":"dy",k=0;k<z;k++)(x=w-(y=d[k]).getLayout()[h])>0&&(p=y.getLayout()[h]+x,y.setLayout("vertical"===l?{x:p}:{y:p},!0)),w=y.getLayout()[h]+y.getLayout()[V]+r;if((x=w-r-("vertical"===l?a:t))>0)for(p=y.getLayout()[h]-x,y.setLayout("vertical"===l?{x:p}:{y:p},!0),w=p,k=z-2;k>=0;--k)(x=(y=d[k]).getLayout()[h]+y.getLayout()[V]+r-w)>0&&(p=y.getLayout()[h]-x,y.setLayout("vertical"===l?{x:p}:{y:p},!0)),w=y.getLayout()[h]})}function Do(o,r,t){M.each(o.slice().reverse(),function(a){M.each(a,function(l){if(l.outEdges.length){var h=U1(l.outEdges,C0,t)/U1(l.outEdges,V3);if(isNaN(h)){var d=l.outEdges.length;h=d?U1(l.outEdges,zd,t)/d:0}if("vertical"===t){var p=l.getLayout().x+(h-b1(l,t))*r;l.setLayout({x:p},!0)}else{var y=l.getLayout().y+(h-b1(l,t))*r;l.setLayout({y},!0)}}})})}function C0(o,r){return b1(o.node2,r)*o.getValue()}function zd(o,r){return b1(o.node2,r)}function Vh(o,r){return b1(o.node1,r)*o.getValue()}function H4(o,r){return b1(o.node1,r)}function b1(o,r){return"vertical"===r?o.getLayout().x+o.getLayout().dx/2:o.getLayout().y+o.getLayout().dy/2}function V3(o){return o.getValue()}function U1(o,r,t){for(var a=0,l=o.length,h=-1;++h<l;){var d=+r(o[h],t);isNaN(d)||(a+=d)}return a}function Ad(o,r,t){M.each(o,function(a){M.each(a,function(l){if(l.inEdges.length){var h=U1(l.inEdges,Vh,t)/U1(l.inEdges,V3);if(isNaN(h)){var d=l.inEdges.length;h=d?U1(l.inEdges,H4,t)/d:0}if("vertical"===t){var p=l.getLayout().x+(h-b1(l,t))*r;l.setLayout({x:p},!0)}else{var y=l.getLayout().y+(h-b1(l,t))*r;l.setLayout({y},!0)}}})})}function T0(o){o.eachSeriesByType("sankey",function(r){var t=r.getGraph(),a=t.nodes,l=t.edges;if(a.length){var h=1/0,d=-1/0;M.each(a,function(p){var y=p.getLayout().value;y<h&&(h=y),y>d&&(d=y)}),M.each(a,function(p){var x=new cs({type:"color",mappingMethod:"linear",dataExtent:[h,d],visual:r.get("color")}).mapValueToVisual(p.getLayout().value),w=p.getModel().get(["itemStyle","color"]);null!=w?(p.setVisual("color",w),p.setVisual("style",{fill:w})):(p.setVisual("color",x),p.setVisual("style",{fill:x}))})}l.length&&M.each(l,function(p){var y=p.getModel().get("lineStyle");p.setVisual("style",y)})})}var Nh=C(3121),Bh=function(){function o(){}return o.prototype.getInitialData=function(r,t){var a,y,l=t.getComponent("xAxis",this.get("xAxisIndex")),h=t.getComponent("yAxis",this.get("yAxisIndex")),d=l.get("type"),p=h.get("type");"category"===d?(r.layout="horizontal",a=l.getOrdinalMeta(),y=!0):"category"===p?(r.layout="vertical",a=h.getOrdinalMeta(),y=!0):r.layout=r.layout||"horizontal";var x=["x","y"],w="horizontal"===r.layout?0:1,z=this._baseAxisDim=x[w],V=x[1-w],k=[l,h],J=k[w].get("type"),ue=k[1-w].get("type"),xe=r.data;if(xe&&y){var ze=[];M.each(xe,function(Ge,Qe){var $e;M.isArray(Ge)?($e=Ge.slice(),Ge.unshift(Qe)):M.isArray(Ge.value)?(($e=M.extend({},Ge)).value=$e.value.slice(),Ge.value.unshift(Qe)):$e=Ge,ze.push($e)}),r.data=ze}var Re=this.defaultValueDimensions,Ie=[{name:z,type:(0,Nh.T)(J),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:V,type:(0,Nh.T)(ue),dimsDef:Re.slice()}];return nr(this,{coordDimensions:Ie,dimensionsCount:Re.length+1,encodeDefaulter:M.curry(pr.pY,Ie,this)})},o.prototype.getBaseAxis=function(){var r=this._baseAxisDim;return this.ecModel.getComponent(r+"Axis",this.get(r+"AxisIndex")).axis},o}(),zv=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return(0,st.ZT)(r,o),r.type="series.boxplot",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},r}(xn.Z);(0,M.mixin)(zv,Bh,!0);const Lp=zv;var qu=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=t.getData(),d=this.group,p=this._data;this._data||d.removeAll();var y="horizontal"===t.get("layout")?1:0;h.diff(p).add(function(x){if(h.hasValue(x)){var z=Pd(h.getItemLayout(x),h,x,y,!0);h.setItemGraphicEl(x,z),d.add(z)}}).update(function(x,w){var z=p.getItemGraphicEl(w);if(h.hasValue(x)){var V=h.getItemLayout(x);z?((0,Bn.Zi)(z),Zl(V,z,h,x)):z=Pd(V,h,x,y),d.add(z),h.setItemGraphicEl(x,z)}else d.remove(z)}).remove(function(x){var w=p.getItemGraphicEl(x);w&&d.remove(w)}).execute(),this._data=h},r.prototype.remove=function(t){var a=this.group,l=this._data;this._data=null,l&&l.eachItemGraphicEl(function(h){h&&a.remove(h)})},r.type="boxplot",r}(Oi.Z),Av=function o(){},Pv=function(o){function r(t){var a=o.call(this,t)||this;return a.type="boxplotBoxPath",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new Av},r.prototype.buildPath=function(t,a){var l=a.points,h=0;for(t.moveTo(l[h][0],l[h][1]),h++;h<4;h++)t.lineTo(l[h][0],l[h][1]);for(t.closePath();h<l.length;h++)t.moveTo(l[h][0],l[h][1]),h++,t.lineTo(l[h][0],l[h][1])},r}(pe.ZP);function Pd(o,r,t,a,l){var h=o.ends,d=new Pv({shape:{points:l?Op(h,a,o):h}});return Zl(o,d,r,t,l),d}function Zl(o,r,t,a,l){(0,dr[l?"initProps":"updateProps"])(r,{shape:{points:o.ends}},t.hostModel,a),r.useStyle(t.getItemVisual(a,"style")),r.style.strokeNoScale=!0,r.z2=100;var p=t.getItemModel(a),y=p.getModel("emphasis");(0,er.WO)(r,p),(0,er.k5)(r,y.get("focus"),y.get("blurScope"),y.get("disabled"))}function Op(o,r,t){return M.map(o,function(a){return(a=a.slice())[r]=t.initBaseline,a})}const Ld=qu;var kc=M.each;function N4(o){var r=function kh(o){var r=[],t=[];return o.eachSeriesByType("boxplot",function(a){var l=a.getBaseAxis(),h=M.indexOf(t,l);h<0&&(t[h=t.length]=l,r[h]={axis:l,seriesModels:[]}),r[h].seriesModels.push(a)}),r}(o);kc(r,function(t){var a=t.seriesModels;a.length&&(function Fh(o){var p,r=o.axis,t=o.seriesModels,a=t.length,l=o.boxWidthList=[],h=o.boxOffsetList=[],d=[];if("category"===r.type)p=r.getBandWidth();else{var y=0;kc(t,function(J){y=Math.max(y,J.getData().count())});var x=r.getExtent();p=Math.abs(x[1]-x[0])/y}kc(t,function(J){var ue=J.get("boxWidth");M.isArray(ue)||(ue=[ue,ue]),d.push([(0,In.GM)(ue[0],p)||0,(0,In.GM)(ue[1],p)||0])});var w=.8*p-2,z=w/a*.3,V=(w-z*(a-1))/a,k=V/2-w/2;kc(t,function(J,ue){h.push(k),k+=z+V,l.push(Math.min(Math.max(V,d[ue][0]),d[ue][1]))})}(t),kc(a,function(l,h){!function Lv(o,r,t){var a=o.coordinateSystem,l=o.getData(),h=t/2,d="horizontal"===o.get("layout")?0:1,p=1-d,y=["x","y"],x=l.mapDimension(y[d]),w=l.mapDimensionsAll(y[p]);if(!(null==x||w.length<5))for(var z=0;z<l.count();z++){var V=l.get(x,z),k=Ie(V,w[2],z),J=Ie(V,w[0],z),ue=Ie(V,w[1],z),xe=Ie(V,w[3],z),ze=Ie(V,w[4],z),Re=[];Ge(Re,ue,!1),Ge(Re,xe,!0),Re.push(J,ue,ze,xe),Qe(Re,J),Qe(Re,ze),Qe(Re,k),l.setItemLayout(z,{initBaseline:k[p],ends:Re})}function Ie($e,ut,St){var kt,Pt=l.get(ut,St),Vt=[];return Vt[d]=$e,Vt[p]=Pt,isNaN($e)||isNaN(Pt)?kt=[NaN,NaN]:(kt=a.dataToPoint(Vt))[d]+=r,kt}function Ge($e,ut,St){var Pt=ut.slice(),Vt=ut.slice();Pt[d]+=h,Vt[d]-=h,St?$e.push(Pt,Vt):$e.push(Vt,Pt)}function Qe($e,ut){var St=ut.slice(),Pt=ut.slice();St[d]-=h,Pt[d]+=h,$e.push(St,Pt)}}(l,t.boxOffsetList[h],t.boxWidthList[h])}))})}var _o=C(2693),lc=C(2956),Od={type:"echarts:boxplot",transform:function(r){var t=r.upstream;t.sourceFormat!==lc.XD&&(0,_o._y)("");var l=function N3(o,r){for(var t=[],a=[],l=(r=r||{}).boundIQR,h="none"===l||0===l,d=0;d<o.length;d++){var p=(0,In.dt)(o[d].slice()),y=(0,In.VR)(p,.25),x=(0,In.VR)(p,.5),w=(0,In.VR)(p,.75),z=p[0],V=p[p.length-1],k=(l??1.5)*(w-y),J=h?z:Math.max(z,y-k),ue=h?V:Math.min(V,w+k),xe=r.itemNameFormatter,ze=(0,M.isFunction)(xe)?xe({value:d}):(0,M.isString)(xe)?xe.replace("{value}",d+""):d+"";t.push([ze,J,y,x,w,ue]);for(var Re=0;Re<p.length;Re++){var Ie=p[Re];(Ie<J||Ie>ue)&&a.push([ze,Ie])}}return{boxData:t,outliers:a}}(t.getRawData(),r.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:l.boxData},{data:l.outliers}]}},k3=["color","borderColor"],Id=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},r.prototype.incrementalPrepareRender=function(t,a,l){this._clear(),this._updateDrawMode(t)},r.prototype.incrementalRender=function(t,a,l,h){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,a):this._incrementalRenderNormal(t,a)},r.prototype.eachRendered=function(t){dr.traverseElements(this._progressiveEls||this.group,t)},r.prototype._updateDrawMode=function(t){var a=t.pipelineContext.large;(null==this._isLargeDraw||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},r.prototype._renderNormal=function(t){var a=t.getData(),l=this._data,h=this.group,d=a.getLayout("isSimpleBox"),p=t.get("clip",!0),y=t.coordinateSystem,x=y.getArea&&y.getArea();this._data||h.removeAll(),a.diff(l).add(function(w){if(a.hasValue(w)){var z=a.getItemLayout(w);if(p&&zn(x,z))return;var V=Yi(z,0,!0);Bn.KZ(V,{shape:{points:z.ends}},t,w),vr(V,a,w,d),h.add(V),a.setItemGraphicEl(w,V)}}).update(function(w,z){var V=l.getItemGraphicEl(z);if(a.hasValue(w)){var k=a.getItemLayout(w);p&&zn(x,k)?h.remove(V):(V?(Bn.D(V,{shape:{points:k.ends}},t,w),(0,Bn.Zi)(V)):V=Yi(k),vr(V,a,w,d),h.add(V),a.setItemGraphicEl(w,V))}else h.remove(V)}).remove(function(w){var z=l.getItemGraphicEl(w);z&&h.remove(z)}).execute(),this._data=a},r.prototype._renderLarge=function(t){this._clear(),Mo(t,this.group);var a=t.get("clip",!0)?js(t.coordinateSystem,!1,t):null;a?this.group.setClipPath(a):this.group.removeClipPath()},r.prototype._incrementalRenderNormal=function(t,a){for(var d,l=a.getData(),h=l.getLayout("isSimpleBox");null!=(d=t.next());){var y=Yi(l.getItemLayout(d));vr(y,l,d,h),y.incremental=!0,this.group.add(y),this._progressiveEls.push(y)}},r.prototype._incrementalRenderLarge=function(t,a){Mo(a,this.group,this._progressiveEls,!0)},r.prototype.remove=function(t){this._clear()},r.prototype._clear=function(){this.group.removeAll(),this._data=null},r.type="candlestick",r}(Oi.Z),e8=function o(){},sr=function(o){function r(t){var a=o.call(this,t)||this;return a.type="normalCandlestickBox",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new e8},r.prototype.buildPath=function(t,a){var l=a.points;this.__simpleBox?(t.moveTo(l[4][0],l[4][1]),t.lineTo(l[6][0],l[6][1])):(t.moveTo(l[0][0],l[0][1]),t.lineTo(l[1][0],l[1][1]),t.lineTo(l[2][0],l[2][1]),t.lineTo(l[3][0],l[3][1]),t.closePath(),t.moveTo(l[4][0],l[4][1]),t.lineTo(l[5][0],l[5][1]),t.moveTo(l[6][0],l[6][1]),t.lineTo(l[7][0],l[7][1]))},r}(pe.ZP);function Yi(o,r,t){var a=o.ends;return new sr({shape:{points:t?ci(a,o):a},z2:100})}function zn(o,r){for(var t=!0,a=0;a<r.ends.length;a++)if(o.contain(r.ends[a][0],r.ends[a][1])){t=!1;break}return t}function vr(o,r,t,a){var l=r.getItemModel(t);o.useStyle(r.getItemVisual(t,"style")),o.style.strokeNoScale=!0,o.__simpleBox=a,(0,er.WO)(o,l)}function ci(o,r){return M.map(o,function(t){return(t=t.slice())[1]=r.initBaseline,t})}var la=function o(){},Va=function(o){function r(t){var a=o.call(this,t)||this;return a.type="largeCandlestickBox",a}return(0,st.ZT)(r,o),r.prototype.getDefaultShape=function(){return new la},r.prototype.buildPath=function(t,a){for(var l=a.points,h=0;h<l.length;)if(this.__sign===l[h++]){var d=l[h++];t.moveTo(d,l[h++]),t.lineTo(d,l[h++])}else h+=3},r}(pe.ZP);function Mo(o,r,t,a){var l=o.getData(),h=l.getLayout("largePoints"),d=new Va({shape:{points:h},__sign:1,ignoreCoarsePointer:!0});r.add(d);var p=new Va({shape:{points:h},__sign:-1,ignoreCoarsePointer:!0});r.add(p);var y=new Va({shape:{points:h},__sign:0,ignoreCoarsePointer:!0});r.add(y),xo(1,d,o),xo(-1,p,o),xo(0,y,o),a&&(d.incremental=!0,p.incremental=!0),t&&t.push(d,p)}function xo(o,r,t,a){var l=t.get(["itemStyle",o>0?"borderColor":"borderColor0"])||t.get(["itemStyle",o>0?"color":"color0"]);0===o&&(l=t.get(["itemStyle","borderColorDoji"]));var h=t.getModel("itemStyle").getItemStyle(k3);r.useStyle(h),r.style.fill=null,r.style.stroke=l}const w1=Id;var Kl=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return(0,st.ZT)(r,o),r.prototype.getShadowDim=function(){return"open"},r.prototype.brushSelector=function(t,a,l){var h=a.getItemLayout(t);return h&&l.rect(h.brushRect)},r.type="series.candlestick",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},r}(xn.Z);(0,M.mixin)(Kl,Bh,!0);const D0=Kl;function Uh(o){!o||!M.isArray(o.series)||M.each(o.series,function(r){M.isObject(r)&&"k"===r.type&&(r.type="candlestick")})}var Y1=["itemStyle","borderColor"],Ip=["itemStyle","borderColor0"],Rd=["itemStyle","borderColorDoji"],F3=["itemStyle","color"],L2=["itemStyle","color0"];const Ov={seriesType:"candlestick",plan:(0,ma.Z)(),performRawSeries:!0,reset:function(o,r){function t(h,d){return d.get(h>0?F3:L2)}function a(h,d){return d.get(0===h?Rd:h>0?Y1:Ip)}if(!r.isSeriesFiltered(o))return!o.pipelineContext.large&&{progress:function(h,d){for(var p;null!=(p=h.next());){var y=d.getItemModel(p),x=d.getItemLayout(p).sign,w=y.getItemStyle();w.fill=t(x,y),w.stroke=a(x,y)||w.fill;var z=d.ensureUniqueItemVisual(p,"style");(0,M.extend)(z,w)}}}}};function Sg(o,r,t,a,l,h){return t>a?-1:t<a?1:h?0:r>0?o.get(l,r-1)<=a?1:-1:1}const Vp={seriesType:"candlestick",plan:(0,ma.Z)(),reset:function(o){var r=o.coordinateSystem,t=o.getData(),a=function Cg(o,r){var a,t=o.getBaseAxis(),l="category"===t.type?t.getBandWidth():(a=t.getExtent(),Math.abs(a[1]-a[0])/r.count()),h=(0,In.GM)((0,M.retrieve2)(o.get("barMaxWidth"),l),l),d=(0,In.GM)((0,M.retrieve2)(o.get("barMinWidth"),1),l),p=o.get("barWidth");return null!=p?(0,In.GM)(p,l):Math.max(Math.min(l/2,h),d)}(o,t),d=["x","y"],p=t.getDimensionIndex(t.mapDimension(d[0])),y=(0,M.map)(t.mapDimensionsAll(d[1]),t.getDimensionIndex,t),x=y[0],w=y[1],z=y[2],V=y[3];if(t.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),!(p<0||y.length<4))return{progress:o.pipelineContext.large?function J(ue,xe){for(var Ie,$e,ze=(0,Sl.o)(4*ue.count),Re=0,Ge=[],Qe=[],ut=xe.getStore(),St=!!o.get(["itemStyle","borderColorDoji"]);null!=($e=ue.next());){var Pt=ut.get(p,$e),Vt=ut.get(x,$e),kt=ut.get(w,$e),en=ut.get(z,$e),un=ut.get(V,$e);isNaN(Pt)||isNaN(en)||isNaN(un)?(ze[Re++]=NaN,Re+=3):(ze[Re++]=Sg(ut,$e,Vt,kt,w,St),Ge[0]=Pt,Ge[1]=en,Ie=r.dataToPoint(Ge,null,Qe),ze[Re++]=Ie?Ie[0]:NaN,ze[Re++]=Ie?Ie[1]:NaN,Ge[1]=un,Ie=r.dataToPoint(Ge,null,Qe),ze[Re++]=Ie?Ie[1]:NaN)}xe.setLayout("largePoints",ze)}:function k(ue,xe){for(var ze,Re=xe.getStore();null!=(ze=ue.next());){var Ie=Re.get(p,ze),Ge=Re.get(x,ze),Qe=Re.get(w,ze),$e=Re.get(z,ze),ut=Re.get(V,ze),St=Math.min(Ge,Qe),Pt=Math.max(Ge,Qe),Vt=ur(St,Ie),kt=ur(Pt,Ie),en=ur($e,Ie),un=ur(ut,Ie),vn=[];or(vn,kt,0),or(vn,Vt,1),vn.push(oi(un),oi(kt),oi(en),oi(Vt));var Zn=!!xe.getItemModel(ze).get(["itemStyle","borderColorDoji"]);xe.setItemLayout(ze,{sign:Sg(Re,ze,Ge,Qe,w,Zn),initBaseline:Ge>Qe?kt[1]:Vt[1],ends:vn,brushRect:(ii=$e,Gi=ut,Fi=Ie,Ci=void 0,wa=void 0,Ci=ur(ii,Fi),wa=ur(Gi,Fi),Ci[0]-=a/2,wa[0]-=a/2,{x:Ci[0],y:Ci[1],width:a,height:wa[1]-Ci[1]})})}var ii,Gi,Fi,Ci,wa;function ur(ii,Gi){var Fi=[];return Fi[0]=Gi,Fi[1]=ii,isNaN(Gi)||isNaN(ii)?[NaN,NaN]:r.dataToPoint(Fi)}function or(ii,Gi,Fi){var Ci=Gi.slice(),wa=Gi.slice();Ci[0]=(0,dr.subPixelOptimize)(Ci[0]+a/2,1,!1),wa[0]=(0,dr.subPixelOptimize)(wa[0]-a/2,1,!0),Fi?ii.push(Ci,wa):ii.push(wa,Ci)}function oi(ii){return ii[0]=(0,dr.subPixelOptimize)(ii[0],1),ii}}}}};function Iv(o,r){var t=r.rippleEffectColor||r.color;o.eachChild(function(a){a.attr({z:r.z,zlevel:r.zlevel,style:{stroke:"stroke"===r.brushType?t:null,fill:"fill"===r.brushType?t:null}})})}const Eg=function(o){function r(t,a){var l=o.call(this)||this,h=new bo(t,a),d=new yn.Z;return l.add(h),l.add(d),l.updateData(t,a),l}return(0,st.ZT)(r,o),r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},r.prototype.startEffectAnimation=function(t){for(var a=t.symbolType,l=t.color,h=t.rippleNumber,d=this.childAt(1),p=0;p<h;p++){var y=(0,Pn.th)(a,-1,-1,2,2,l);y.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var x=-p/h*t.period+t.effectOffset;y.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(x).start(),y.animateStyle(!0).when(t.period,{opacity:0}).delay(x).start(),d.add(y)}Iv(d,t)},r.prototype.updateEffectAnimation=function(t){for(var a=this._effectCfg,l=this.childAt(1),h=["symbolType","period","rippleScale","rippleNumber"],d=0;d<h.length;d++){var p=h[d];if(a[p]!==t[p])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Iv(l,t)},r.prototype.highlight=function(){(0,er.fD)(this)},r.prototype.downplay=function(){(0,er.Mh)(this)},r.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},r.prototype.updateData=function(t,a){var l=this,h=t.hostModel;this.childAt(0).updateData(t,a);var d=this.childAt(1),p=t.getItemModel(a),y=t.getItemVisual(a,"symbol"),x=(0,Pn.zp)(t.getItemVisual(a,"symbolSize")),w=t.getItemVisual(a,"style"),z=w&&w.fill,V=p.getModel("emphasis");d.setScale(x),d.traverse(function(xe){xe.setStyle("fill",z)});var k=(0,Pn.Cq)(t.getItemVisual(a,"symbolOffset"),x);k&&(d.x=k[0],d.y=k[1]);var J=t.getItemVisual(a,"symbolRotate");d.rotation=(J||0)*Math.PI/180||0;var ue={};ue.showEffectOn=h.get("showEffectOn"),ue.rippleScale=p.get(["rippleEffect","scale"]),ue.brushType=p.get(["rippleEffect","brushType"]),ue.period=1e3*p.get(["rippleEffect","period"]),ue.effectOffset=a/t.count(),ue.z=h.getShallow("z")||0,ue.zlevel=h.getShallow("zlevel")||0,ue.symbolType=y,ue.color=z,ue.rippleEffectColor=p.get(["rippleEffect","color"]),ue.rippleNumber=p.get(["rippleEffect","number"]),"render"===ue.showEffectOn?(this._effectCfg?this.updateEffectAnimation(ue):this.startEffectAnimation(ue),this._effectCfg=ue):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(xe){"emphasis"===xe?"render"!==ue.showEffectOn&&l.startEffectAnimation(ue):"normal"===xe&&"render"!==ue.showEffectOn&&l.stopEffectAnimation()}),this._effectCfg=ue,(0,er.k5)(this,V.get("focus"),V.get("blurScope"),V.get("disabled"))},r.prototype.fadeOut=function(t){t&&t()},r}(yn.Z),Hp=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(){this._symbolDraw=new yi(Eg)},r.prototype.render=function(t,a,l){var h=t.getData(),d=this._symbolDraw;d.updateData(h,{clipShape:this._getClipShape(t)}),this.group.add(d.group)},r.prototype._getClipShape=function(t){var a=t.coordinateSystem,l=a&&a.getArea&&a.getArea();return t.get("clip",!0)?l:null},r.prototype.updateTransform=function(t,a,l){var h=t.getData();this.group.dirty();var d=ts("").reset(t,a,l);d.progress&&d.progress({start:0,end:h.count(),count:h.count()},h),this._symbolDraw.updateLayout()},r.prototype._updateGroupTransform=function(t){var a=t.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=Ji.clone(a.getRoamTransform()),this.group.decomposeTransform())},r.prototype.remove=function(t,a){this._symbolDraw&&this._symbolDraw.remove(!0)},r.type="effectScatter",r}(Oi.Z),Yh=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.hasSymbolVisual=!0,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){return(0,Qt.Z)(null,this,{useEncodeDefaulter:!0})},r.prototype.brushSelector=function(t,a,l){return l.point(a.getItemLayout(t))},r.type="series.effectScatter",r.dependencies=["grid","polar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},r}(xn.Z),Nv=function(o){function r(t,a,l){var h=o.call(this)||this;return h.add(h.createLine(t,a,l)),h._updateEffectSymbol(t,a),h}return(0,st.ZT)(r,o),r.prototype.createLine=function(t,a,l){return new z4(t,a,l)},r.prototype._updateEffectSymbol=function(t,a){var h=t.getItemModel(a).getModel("effect"),d=h.get("symbolSize"),p=h.get("symbol");M.isArray(d)||(d=[d,d]);var y=t.getItemVisual(a,"style"),x=h.get("color")||y&&y.stroke,w=this.childAt(1);this._symbolType!==p&&(this.remove(w),(w=(0,Pn.th)(p,-.5,-.5,1,1,x)).z2=100,w.culling=!0,this.add(w)),w&&(w.setStyle("shadowColor",x),w.setStyle(h.getItemStyle(["color"])),w.scaleX=d[0],w.scaleY=d[1],w.setColor(x),this._symbolType=p,this._symbolScale=d,this._updateEffectAnimation(t,h,a))},r.prototype._updateEffectAnimation=function(t,a,l){var h=this.childAt(1);if(h){var d=t.getItemLayout(l),p=1e3*a.get("period"),y=a.get("loop"),x=a.get("roundTrip"),w=a.get("constantSpeed"),z=M.retrieve(a.get("delay"),function(k){return k/t.count()*p/3});if(h.ignore=!0,this._updateAnimationPoints(h,d),w>0&&(p=this._getLineLength(h)/w*1e3),p!==this._period||y!==this._loop||x!==this._roundTrip){h.stopAnimation();var V=void 0;V=M.isFunction(z)?z(l):z,h.__t>0&&(V=-p*h.__t),this._animateSymbol(h,p,V,y,x)}this._period=p,this._loop=y,this._roundTrip=x}},r.prototype._animateSymbol=function(t,a,l,h,d){if(a>0){t.__t=0;var p=this,y=t.animate("",h).when(d?2*a:a,{__t:d?2:1}).delay(l).during(function(){p._updateSymbolPosition(t)});h||y.done(function(){p.remove(t)}),y.start()}},r.prototype._getLineLength=function(t){return Jr.dist(t.__p1,t.__cp1)+Jr.dist(t.__cp1,t.__p2)},r.prototype._updateAnimationPoints=function(t,a){t.__p1=a[0],t.__p2=a[1],t.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},r.prototype.updateData=function(t,a,l){this.childAt(0).updateData(t,a,l),this._updateEffectSymbol(t,a)},r.prototype._updateSymbolPosition=function(t){var a=t.__p1,l=t.__p2,h=t.__cp1,d=t.__t<1?t.__t:2-t.__t,p=[t.x,t.y],y=p.slice(),x=po.Zm,w=po.AZ;p[0]=x(a[0],h[0],l[0],d),p[1]=x(a[1],h[1],l[1],d);var z=t.__t<1?w(a[0],h[0],l[0],d):w(l[0],h[0],a[0],1-d),V=t.__t<1?w(a[1],h[1],l[1],d):w(l[1],h[1],a[1],1-d);t.rotation=-Math.atan2(V,z)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Jr.dist(y,p),1===d&&(p[0]=y[0]+(p[0]-y[0])/2,p[1]=y[1]+(p[1]-y[1])/2)):t.scaleY=1===t.__lastT?2*Jr.dist(a,p):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=p[0],t.y=p[1]},r.prototype.updateLayout=function(t,a){this.childAt(0).updateLayout(t,a);var l=t.getItemModel(a).getModel("effect");this._updateEffectAnimation(t,l,a)},r}(yn.Z),Bv=function(o){function r(t,a,l){var h=o.call(this)||this;return h._createPolyline(t,a,l),h}return(0,st.ZT)(r,o),r.prototype._createPolyline=function(t,a,l){var h=t.getItemLayout(a),d=new ft.Z({shape:{points:h}});this.add(d),this._updateCommonStl(t,a,l)},r.prototype.updateData=function(t,a,l){var h=t.hostModel,d=this.childAt(0),p={shape:{points:t.getItemLayout(a)}};Bn.D(d,p,h,a),this._updateCommonStl(t,a,l)},r.prototype._updateCommonStl=function(t,a,l){var h=this.childAt(0),d=t.getItemModel(a),p=l&&l.emphasisLineStyle,y=l&&l.focus,x=l&&l.blurScope,w=l&&l.emphasisDisabled;if(!l||t.hasItemOption){var z=d.getModel("emphasis");p=z.getModel("lineStyle").getLineStyle(),w=z.get("disabled"),y=z.get("focus"),x=z.get("blurScope")}h.useStyle(t.getItemVisual(a,"style")),h.style.fill=null,h.style.strokeNoScale=!0,h.ensureState("emphasis").style=p,(0,er.k5)(this,y,x,w)},r.prototype.updateLayout=function(t,a){this.childAt(0).setShape("points",t.getItemLayout(a))},r}(yn.Z),Ag=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,st.ZT)(r,o),r.prototype.createLine=function(t,a,l){return new Bv(t,a,l)},r.prototype._updateAnimationPoints=function(t,a){this._points=a;for(var l=[0],h=0,d=1;d<a.length;d++)h+=Jr.dist(a[d-1],a[d]),l.push(h);if(0!==h){for(d=0;d<l.length;d++)l[d]/=h;this._offsets=l,this._length=h}else this._length=0},r.prototype._getLineLength=function(){return this._length},r.prototype._updateSymbolPosition=function(t){var a=t.__t<1?t.__t:2-t.__t,l=this._points,h=this._offsets,d=l.length;if(h){var y,p=this._lastFrame;if(a<this._lastFramePercent){for(y=Math.min(p+1,d-1);y>=0&&!(h[y]<=a);y--);y=Math.min(y,d-2)}else{for(y=p;y<d&&!(h[y]>a);y++);y=Math.min(y-1,d-2)}var w=(a-h[y])/(h[y+1]-h[y]),z=l[y],V=l[y+1];t.x=z[0]*(1-w)+w*V[0],t.y=z[1]*(1-w)+w*V[1],t.rotation=-Math.atan2(t.__t<1?V[1]-z[1]:z[1]-V[1],t.__t<1?V[0]-z[0]:z[0]-V[0])-Math.PI/2,this._lastFrame=y,this._lastFramePercent=a,t.ignore=!1}},r}(Nv);var Bp=C(9043),Vd=C(3962),Pg=function o(){this.polyline=!1,this.curveness=0,this.segs=[]},Lg=function(o){function r(t){var a=o.call(this,t)||this;return a._off=0,a.hoverDataIdx=-1,a}return(0,st.ZT)(r,o),r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new Pg},r.prototype.buildPath=function(t,a){var d,l=a.segs,h=a.curveness;if(a.polyline)for(d=this._off;d<l.length;){var p=l[d++];if(p>0){t.moveTo(l[d++],l[d++]);for(var y=1;y<p;y++)t.lineTo(l[d++],l[d++])}}else for(d=this._off;d<l.length;){var x=l[d++],w=l[d++],z=l[d++],V=l[d++];t.moveTo(x,w),h>0?t.quadraticCurveTo((x+z)/2-(w-V)*h,(w+V)/2-(z-x)*h,z,V):t.lineTo(z,V)}this.incremental&&(this._off=d,this.notClear=!0)},r.prototype.findDataIndex=function(t,a){var l=this.shape,h=l.segs,d=l.curveness,p=this.style.lineWidth;if(l.polyline)for(var y=0,x=0;x<h.length;){var w=h[x++];if(w>0)for(var z=h[x++],V=h[x++],k=1;k<w;k++){var J=h[x++],ue=h[x++];if(Bp.m(z,V,J,ue,p,t,a))return y}y++}else for(y=0,x=0;x<h.length;){if(z=h[x++],V=h[x++],J=h[x++],ue=h[x++],d>0){if(Vd.m(z,V,(z+J)/2-(V-ue)*d,(V+ue)/2-(J-z)*d,J,ue,p,t,a))return y}else if(Bp.m(z,V,J,ue,p,t,a))return y;y++}return-1},r.prototype.contain=function(t,a){var l=this.transformCoordToLocal(t,a);return this.getBoundingRect().contain(t=l[0],a=l[1])?(this.hoverDataIdx=this.findDataIndex(t,a))>=0:(this.hoverDataIdx=-1,!1)},r.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var l=this.shape.segs,h=1/0,d=1/0,p=-1/0,y=-1/0,x=0;x<l.length;){var w=l[x++],z=l[x++];h=Math.min(w,h),p=Math.max(w,p),d=Math.min(z,d),y=Math.max(z,y)}t=this._rect=new _r.Z(h,d,p,y)}return t},r}(pe.ZP);const Og=function(){function o(){this.group=new yn.Z}return o.prototype.updateData=function(r){this._clear();var t=this._create();t.setShape({segs:r.getLayout("linesPoints")}),this._setCommon(t,r)},o.prototype.incrementalPrepareUpdate=function(r){this.group.removeAll(),this._clear()},o.prototype.incrementalUpdate=function(r,t){var a=this._newAdded[0],l=t.getLayout("linesPoints"),h=a&&a.shape.segs;if(h&&h.length<2e4){var d=h.length,p=new Float32Array(d+l.length);p.set(h),p.set(l,d),a.setShape({segs:p})}else{this._newAdded=[];var y=this._create();y.incremental=!0,y.setShape({segs:l}),this._setCommon(y,t),y.__startIndex=r.start}},o.prototype.remove=function(){this._clear()},o.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},o.prototype._create=function(){var r=new Lg({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(r),this.group.add(r),r},o.prototype._setCommon=function(r,t,a){var l=t.hostModel;r.setShape({polyline:l.get("polyline"),curveness:l.get(["lineStyle","curveness"])}),r.useStyle(l.getModel("lineStyle").getLineStyle()),r.style.strokeNoScale=!0;var h=t.getVisual("style");h&&h.stroke&&r.setStyle("stroke",h.stroke),r.setStyle("fill",null);var d=(0,Qn.A)(r);d.seriesIndex=l.seriesIndex,r.on("mousemove",function(p){d.dataIndex=null;var y=r.hoverDataIdx;y>0&&(d.dataIndex=y+r.__startIndex)})},o.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},o}(),Hd={seriesType:"lines",plan:(0,ma.Z)(),reset:function(o){var r=o.coordinateSystem;if(r){var t=o.get("polyline"),a=o.pipelineContext.large;return{progress:function(l,h){var d=[];if(a){var p=void 0,y=l.end-l.start;if(t){for(var x=0,w=l.start;w<l.end;w++)x+=o.getLineCoordsCount(w);p=new Float32Array(y+2*x)}else p=new Float32Array(4*y);var z=0,V=[];for(w=l.start;w<l.end;w++){var k=o.getLineCoords(w,d);t&&(p[z++]=k);for(var J=0;J<k;J++)V=r.dataToPoint(d[J],!1,V),p[z++]=V[0],p[z++]=V[1]}h.setLayout("linesPoints",p)}else for(w=l.start;w<l.end;w++){var ue=h.getItemModel(w),xe=(k=o.getLineCoords(w,d),[]);if(t)for(var ze=0;ze<k;ze++)xe.push(r.dataToPoint(d[ze]));else{xe[0]=r.dataToPoint(d[0]),xe[1]=r.dataToPoint(d[1]);var Re=ue.get(["lineStyle","curveness"]);+Re&&(xe[2]=[(xe[0][0]+xe[1][0])/2-(xe[0][1]-xe[1][1])*Re,(xe[0][1]+xe[1][1])/2-(xe[1][0]-xe[0][0])*Re])}h.setItemLayout(w,xe)}}}}}},Vg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=t.getData(),d=this._updateLineDraw(h,t),p=t.get("zlevel"),y=t.get(["effect","trailLength"]),x=l.getZr(),w="svg"===x.painter.getType();w||x.painter.getLayer(p).clear(!0),null!=this._lastZlevel&&!w&&x.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&y>0&&(w||x.configLayer(p,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(y/10+.9,1),0)})),d.updateData(h);var z=t.get("clip",!0)&&js(t.coordinateSystem,!1,t);z?this.group.setClipPath(z):this.group.removeClipPath(),this._lastZlevel=p,this._finished=!0},r.prototype.incrementalPrepareRender=function(t,a,l){var h=t.getData();this._updateLineDraw(h,t).incrementalPrepareUpdate(h),this._clearLayer(l),this._finished=!1},r.prototype.incrementalRender=function(t,a,l){this._lineDraw.incrementalUpdate(t,a.getData()),this._finished=t.end===a.getData().count()},r.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},r.prototype.updateTransform=function(t,a,l){var h=t.getData(),d=t.pipelineContext;if(!this._finished||d.large||d.progressiveRender)return{update:!0};var p=Hd.reset(t,a,l);p.progress&&p.progress({start:0,end:h.count(),count:h.count()},h),this._lineDraw.updateLayout(),this._clearLayer(l)},r.prototype._updateLineDraw=function(t,a){var l=this._lineDraw,h=this._showEffect(a),d=!!a.get("polyline"),y=a.pipelineContext.large;return(!l||h!==this._hasEffet||d!==this._isPolyline||y!==this._isLargeDraw)&&(l&&l.remove(),l=this._lineDraw=y?new Og:new td(d?h?Ag:Bv:h?Nv:z4),this._hasEffet=h,this._isPolyline=d,this._isLargeDraw=y),this.group.add(l.group),l},r.prototype._showEffect=function(t){return!!t.get(["effect","show"])},r.prototype._clearLayer=function(t){var a=t.getZr();"svg"!==a.painter.getType()&&null!=this._lastZlevel&&a.painter.getLayer(this._lastZlevel).clear(!0)},r.prototype.remove=function(t,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},r.prototype.dispose=function(t,a){this.remove(t,a)},r.type="lines",r}(Oi.Z);var Hg=typeof Uint32Array>"u"?Array:Uint32Array,E0=typeof Float64Array>"u"?Array:Float64Array;function Ng(o){var r=o.data;r&&r[0]&&r[0][0]&&r[0][0].coord&&(o.data=(0,M.map)(r,function(t){var l={coords:[t[0].coord,t[1].coord]};return t[0].name&&(l.fromName=t[0].name),t[1].name&&(l.toName=t[1].name),(0,M.mergeAll)([l,t[0],t[1]])}))}const B4=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return(0,st.ZT)(r,o),r.prototype.init=function(t){t.data=t.data||[],Ng(t);var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count)),o.prototype.init.apply(this,arguments)},r.prototype.mergeOption=function(t){if(Ng(t),t.data){var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count))}o.prototype.mergeOption.apply(this,arguments)},r.prototype.appendData=function(t){var a=this._processFlatCoordsArray(t.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=(0,M.concatArray)(this._flatCoords,a.flatCoords),this._flatCoordsOffset=(0,M.concatArray)(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),t.data=new Float32Array(a.count)),this.getRawData().appendData(t.data)},r.prototype._getCoordsFromItemModel=function(t){var a=this.getData().getItemModel(t);return a.option instanceof Array?a.option:a.getShallow("coords")},r.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},r.prototype.getLineCoords=function(t,a){if(this._flatCoordsOffset){for(var l=this._flatCoordsOffset[2*t],h=this._flatCoordsOffset[2*t+1],d=0;d<h;d++)a[d]=a[d]||[],a[d][0]=this._flatCoords[l+2*d],a[d][1]=this._flatCoords[l+2*d+1];return h}var p=this._getCoordsFromItemModel(t);for(d=0;d<p.length;d++)a[d]=a[d]||[],a[d][0]=p[d][0],a[d][1]=p[d][1];return p.length},r.prototype._processFlatCoordsArray=function(t){var a=0;if(this._flatCoords&&(a=this._flatCoords.length),(0,M.isNumber)(t[0])){for(var l=t.length,h=new Hg(l),d=new E0(l),p=0,y=0,x=0,w=0;w<l;){x++;var z=t[w++];h[y++]=p+a,h[y++]=z;for(var V=0;V<z;V++){var k=t[w++],J=t[w++];d[p++]=k,d[p++]=J}}return{flatCoordsOffset:new Uint32Array(h.buffer,0,y),flatCoords:d,count:x}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},r.prototype.getInitialData=function(t,a){var h=new Hn.Z(["value"],this);return h.hasItemOption=!1,h.initData(t.data,[],function(d,p,y,x){if(d instanceof Array)return NaN;h.hasItemOption=!0;var w=d.value;return null!=w?w instanceof Array?w[x]:w:void 0}),h},r.prototype.formatTooltip=function(t,a,l){var d=this.getData().getItemModel(t),p=d.get("name");if(p)return p;var y=d.get("fromName"),x=d.get("toName"),w=[];return null!=y&&w.push(y),null!=x&&w.push(x),(0,yo.TX)("nameValue",{name:w.join(" > ")})},r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},r.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},r.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},r.prototype.getZLevelKey=function(){var t=this.getModel("effect"),a=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&a>0?a+"":""},r.type="series.lines",r.dependencies=["grid","polar","geo","calendar"],r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},r}(xn.Z);function k4(o){return o instanceof Array||(o=[o,o]),o}const kg={seriesType:"lines",reset:function(o){var r=k4(o.get("symbol")),t=k4(o.get("symbolSize")),a=o.getData();return a.setVisual("fromSymbol",r&&r[0]),a.setVisual("toSymbol",r&&r[1]),a.setVisual("fromSymbolSize",t&&t[0]),a.setVisual("toSymbolSize",t&&t[1]),{dataEach:a.hasItemOption?function l(h,d){var p=h.getItemModel(d),y=k4(p.getShallow("symbol",!0)),x=k4(p.getShallow("symbolSize",!0));y[0]&&h.setItemVisual(d,"fromSymbol",y[0]),y[1]&&h.setItemVisual(d,"toSymbol",y[1]),x[0]&&h.setItemVisual(d,"fromSymbolSize",x[0]),x[1]&&h.setItemVisual(d,"toSymbolSize",x[1])}:null}}},Ug=function(){function o(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var r=mn.qW.createCanvas();this.canvas=r}return o.prototype.update=function(r,t,a,l,h,d){var p=this._getBrush(),y=this._getGradient(h,"inRange"),x=this._getGradient(h,"outOfRange"),w=this.pointSize+this.blurSize,z=this.canvas,V=z.getContext("2d"),k=r.length;z.width=t,z.height=a;for(var J=0;J<k;++J){var ue=r[J],xe=ue[0],ze=ue[1],Ie=l(ue[2]);V.globalAlpha=Ie,V.drawImage(p,xe-w,ze-w)}if(!z.width||!z.height)return z;for(var Ge=V.getImageData(0,0,z.width,z.height),Qe=Ge.data,$e=0,ut=Qe.length,St=this.minOpacity,Vt=this.maxOpacity-St;$e<ut;){Ie=Qe[$e+3]/256;var kt=4*Math.floor(255*Ie);if(Ie>0){var en=d(Ie)?y:x;Ie>0&&(Ie=Ie*Vt+St),Qe[$e++]=en[kt],Qe[$e++]=en[kt+1],Qe[$e++]=en[kt+2],Qe[$e++]=en[kt+3]*Ie*256}else $e+=4}return V.putImageData(Ge,0,0),z},o.prototype._getBrush=function(){var r=this._brushCanvas||(this._brushCanvas=mn.qW.createCanvas()),t=this.pointSize+this.blurSize,a=2*t;r.width=a,r.height=a;var l=r.getContext("2d");return l.clearRect(0,0,a,a),l.shadowOffsetX=a,l.shadowBlur=this.blurSize,l.shadowColor="#000",l.beginPath(),l.arc(-t,t,this.pointSize,0,2*Math.PI,!0),l.closePath(),l.fill(),r},o.prototype._getGradient=function(r,t){for(var a=this._gradientPixels,l=a[t]||(a[t]=new Uint8ClampedArray(1024)),h=[0,0,0,0],d=0,p=0;p<256;p++)r[t](p/255,!0,h),l[d++]=h[0],l[d++]=h[1],l[d++]=h[2],l[d++]=h[3];return l},o}();function Fv(o){var r=o.dimensions;return"lng"===r[0]&&"lat"===r[1]}const Gg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h;a.eachComponent("visualMap",function(p){p.eachTargetSeries(function(y){y===t&&(h=p)})}),this._progressiveEls=null,this.group.removeAll();var d=t.coordinateSystem;"cartesian2d"===d.type||"calendar"===d.type?this._renderOnCartesianAndCalendar(t,l,0,t.getData().count()):Fv(d)&&this._renderOnGeo(d,t,h,l)},r.prototype.incrementalPrepareRender=function(t,a,l){this.group.removeAll()},r.prototype.incrementalRender=function(t,a,l,h){var d=a.coordinateSystem;d&&(Fv(d)?this.render(a,l,h):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(a,h,t.start,t.end,!0)))},r.prototype.eachRendered=function(t){dr.traverseElements(this._progressiveEls||this.group,t)},r.prototype._renderOnCartesianAndCalendar=function(t,a,l,h,d){var x,w,z,V,p=t.coordinateSystem,y=ms(p,"cartesian2d");if(y){var k=p.getAxis("x"),J=p.getAxis("y");x=k.getBandWidth()+.5,w=J.getBandWidth()+.5,z=k.scale.getExtent(),V=J.scale.getExtent()}for(var ue=this.group,xe=t.getData(),ze=t.getModel(["emphasis","itemStyle"]).getItemStyle(),Re=t.getModel(["blur","itemStyle"]).getItemStyle(),Ie=t.getModel(["select","itemStyle"]).getItemStyle(),Ge=t.get(["itemStyle","borderRadius"]),Qe=(0,hr.k3)(t),$e=t.getModel("emphasis"),ut=$e.get("focus"),St=$e.get("blurScope"),Pt=$e.get("disabled"),Vt=y?[xe.mapDimension("x"),xe.mapDimension("y"),xe.mapDimension("value")]:[xe.mapDimension("time"),xe.mapDimension("value")],kt=l;kt<h;kt++){var en=void 0,un=xe.getItemVisual(kt,"style");if(y){var vn=xe.get(Vt[0],kt),wn=xe.get(Vt[1],kt);if(isNaN(xe.get(Vt[2],kt))||isNaN(vn)||isNaN(wn)||vn<z[0]||vn>z[1]||wn<V[0]||wn>V[1])continue;var Zn=p.dataToPoint([vn,wn]);en=new Ei.Z({shape:{x:Zn[0]-x/2,y:Zn[1]-w/2,width:x,height:w},style:un})}else{if(isNaN(xe.get(Vt[1],kt)))continue;en=new Ei.Z({z2:1,shape:p.dataToRect([xe.get(Vt[0],kt)]).contentShape,style:un})}if(xe.hasItemOption){var ur=xe.getItemModel(kt),or=ur.getModel("emphasis");ze=or.getModel("itemStyle").getItemStyle(),Re=ur.getModel(["blur","itemStyle"]).getItemStyle(),Ie=ur.getModel(["select","itemStyle"]).getItemStyle(),Ge=ur.get(["itemStyle","borderRadius"]),ut=or.get("focus"),St=or.get("blurScope"),Pt=or.get("disabled"),Qe=(0,hr.k3)(ur)}en.shape.r=Ge;var kr=t.getRawValue(kt),oi="-";kr&&null!=kr[2]&&(oi=kr[2]+""),(0,hr.ni)(en,Qe,{labelFetcher:t,labelDataIndex:kt,defaultOpacity:un.opacity,defaultText:oi}),en.ensureState("emphasis").style=ze,en.ensureState("blur").style=Re,en.ensureState("select").style=Ie,(0,er.k5)(en,ut,St,Pt),en.incremental=d,d&&(en.states.emphasis.hoverLayer=!0),ue.add(en),xe.setItemGraphicEl(kt,en),this._progressiveEls&&this._progressiveEls.push(en)}},r.prototype._renderOnGeo=function(t,a,l,h){var d=l.targetVisuals.inRange,p=l.targetVisuals.outOfRange,y=a.getData(),x=this._hmLayer||this._hmLayer||new Ug;x.blurSize=a.get("blurSize"),x.pointSize=a.get("pointSize"),x.minOpacity=a.get("minOpacity"),x.maxOpacity=a.get("maxOpacity");var w=t.getViewRect().clone(),z=t.getRoamTransform();w.applyTransform(z);var V=Math.max(w.x,0),k=Math.max(w.y,0),J=Math.min(w.width+w.x,h.getWidth()),ue=Math.min(w.height+w.y,h.getHeight()),xe=J-V,ze=ue-k,Re=[y.mapDimension("lng"),y.mapDimension("lat"),y.mapDimension("value")],Ie=y.mapArray(Re,function(ut,St,Pt){var Vt=t.dataToPoint([ut,St]);return Vt[0]-=V,Vt[1]-=k,Vt.push(Pt),Vt}),Ge=l.getExtent(),Qe="visualMap.continuous"===l.type?function Uc(o,r){var t=o[1]-o[0];return r=[(r[0]-o[0])/t,(r[1]-o[0])/t],function(a){return a>=r[0]&&a<=r[1]}}(Ge,l.option.range):function Yg(o,r,t){var a=o[1]-o[0],l=(r=M.map(r,function(d){return{interval:[(d.interval[0]-o[0])/a,(d.interval[1]-o[0])/a]}})).length,h=0;return function(d){var p;for(p=h;p<l;p++)if((y=r[p].interval)[0]<=d&&d<=y[1]){h=p;break}if(p===l)for(p=h-1;p>=0;p--){var y;if((y=r[p].interval)[0]<=d&&d<=y[1]){h=p;break}}return p>=0&&p<l&&t[p]}}(Ge,l.getPieceList(),l.option.selected);x.update(Ie,xe,ze,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:p.color.getColorMapper()},Qe);var $e=new me.ZP({style:{width:xe,height:ze,x:V,y:k,image:x.canvas},silent:!0});this.group.add($e)},r.type="heatmap",r}(Oi.Z),kp=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){return(0,Qt.Z)(null,this,{generateCoord:"value"})},r.prototype.preventIncremental=function(){var t=Oc.Z.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},r.type="series.heatmap",r.dependencies=["grid","geo","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},r}(xn.Z);var U3=["itemStyle","borderWidth"],Y3=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Bd=new a2.Z;function Yv(o,r,t,a){var l=o.getItemLayout(r),h=t.get("symbolRepeat"),d=t.get("symbolClip"),p=t.get("symbolPosition")||"start",x=(t.get("symbolRotate")||0)*Math.PI/180||0,w=t.get("symbolPatternSize")||2,z=t.isAnimationEnabled(),V={dataIndex:r,layout:l,itemModel:t,symbolType:o.getItemVisual(r,"symbol")||"circle",style:o.getItemVisual(r,"style"),symbolClip:d,symbolRepeat:h,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:w,rotation:x,animationModel:z?t:null,hoverScale:z&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function Fp(o,r,t,a,l){var w,h=a.valueDim,d=o.get("symbolBoundingData"),p=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),y=p.toGlobalCoord(p.dataToCoord(0)),x=1-+(t[h.wh]<=0);if(M.isArray(d)){var z=[Gh(p,d[0])-y,Gh(p,d[1])-y];z[1]<z[0]&&z.reverse(),w=z[x]}else w=null!=d?Gh(p,d)-y:r?a.coordSysExtent[h.index][x]-y:t[h.wh];l.boundingLength=w,r&&(l.repeatCutLength=t[h.wh]),l.pxSign=w>0?1:-1})(t,h,l,a,V),function r8(o,r,t,a,l,h,d,p,y,x){var J,w=y.valueDim,z=y.categoryDim,V=Math.abs(t[z.wh]),k=o.getItemVisual(r,"symbolSize");(J=M.isArray(k)?k.slice():null==k?["100%","100%"]:[k,k])[z.index]=(0,In.GM)(J[z.index],V),J[w.index]=(0,In.GM)(J[w.index],a?V:Math.abs(h)),x.symbolSize=J,(x.symbolScale=[J[0]/p,J[1]/p])[w.index]*=(y.isHorizontal?-1:1)*d}(o,r,l,h,0,V.boundingLength,V.pxSign,w,a,V),function pa(o,r,t,a,l){var h=o.get(U3)||0;h&&(Bd.attr({scaleX:r[0],scaleY:r[1],rotation:t}),Bd.updateTransform(),h/=Bd.getLineScale(),h*=r[a.valueDim.index]),l.valueLineWidth=h||0}(t,V.symbolScale,x,a,V);var k=V.symbolSize,J=(0,Pn.Cq)(t.get("symbolOffset"),k);return function Wg(o,r,t,a,l,h,d,p,y,x,w,z){var V=w.categoryDim,k=w.valueDim,J=z.pxSign,ue=Math.max(r[k.index]+p,0),xe=ue;if(a){var ze=Math.abs(y),Re=M.retrieve(o.get("symbolMargin"),"15%")+"",Ie=!1;Re.lastIndexOf("!")===Re.length-1&&(Ie=!0,Re=Re.slice(0,Re.length-1));var Ge=(0,In.GM)(Re,r[k.index]),Qe=Math.max(ue+2*Ge,0),$e=Ie?0:2*Ge,ut=(0,In.kE)(a),St=ut?a:Wv((ze+$e)/Qe);Qe=ue+2*(Ge=(ze-St*ue)/2/(Ie?St:Math.max(St-1,1))),$e=Ie?0:2*Ge,!ut&&"fixed"!==a&&(St=x?Wv((Math.abs(x)+$e)/Qe):0),xe=St*Qe-$e,z.repeatTimes=St,z.symbolMargin=Ge}var Vt=J*(xe/2),kt=z.pathPosition=[];kt[V.index]=t[V.wh]/2,kt[k.index]="start"===d?Vt:"end"===d?y-Vt:y/2,h&&(kt[0]+=h[0],kt[1]+=h[1]);var en=z.bundlePosition=[];en[V.index]=t[V.xy],en[k.index]=t[k.xy];var un=z.barRectShape=M.extend({},t);un[k.wh]=J*Math.max(Math.abs(t[k.wh]),Math.abs(kt[k.index]+Vt)),un[V.wh]=t[V.wh];var vn=z.clipShape={};vn[V.xy]=-t[V.xy],vn[V.wh]=w.ecSize[V.wh],vn[k.xy]=0,vn[k.wh]=t[k.wh]}(t,k,l,h,0,J,p,V.valueLineWidth,V.boundingLength,V.repeatCutLength,a,V),V}function Gh(o,r){return o.toGlobalCoord(o.dataToCoord(o.scale.parse(r)))}function i8(o){var r=o.symbolPatternSize,t=(0,Pn.th)(o.symbolType,-r/2,-r/2,r,r);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function Up(o,r,t,a){var l=o.__pictorialBundle,p=t.pathPosition,y=r.valueDim,x=t.repeatTimes||0,w=0,z=t.symbolSize[r.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(jv(o,function(ue){ue.__pictorialAnimationIndex=w,ue.__pictorialRepeatTimes=x,w<x?z0(ue,null,J(w),t,a):z0(ue,null,{scaleX:0,scaleY:0},t,a,function(){l.remove(ue)}),w++});w<x;w++){var V=i8(t);V.__pictorialAnimationIndex=w,V.__pictorialRepeatTimes=x,l.add(V);var k=J(w);z0(V,{x:k.x,y:k.y,scaleX:0,scaleY:0},{scaleX:k.scaleX,scaleY:k.scaleY,rotation:k.rotation},t,a)}function J(ue){var xe=p.slice(),ze=t.pxSign,Re=ue;return("start"===t.symbolRepeatDirection?ze>0:ze<0)&&(Re=x-1-ue),xe[y.index]=z*(Re-x/2+.5)+p[y.index],{x:xe[0],y:xe[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function to(o,r,t,a){var l=o.__pictorialBundle,h=o.__pictorialMainPath;h?z0(h,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,a):(h=o.__pictorialMainPath=i8(t),l.add(h),z0(h,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,a))}function kd(o,r,t){var a=M.extend({},r.barRectShape),l=o.__pictorialBarRect;l?z0(l,null,{shape:a},r,t):((l=o.__pictorialBarRect=new Ei.Z({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,o.add(l))}function F4(o,r,t,a){if(t.symbolClip){var l=o.__pictorialClipPath,h=M.extend({},t.clipShape),d=r.valueDim,p=t.animationModel,y=t.dataIndex;if(l)Bn.D(l,{shape:h},p,y);else{h[d.wh]=0,l=new Ei.Z({shape:h}),o.__pictorialBundle.setClipPath(l),o.__pictorialClipPath=l;var x={};x[d.wh]=t.clipShape[d.wh],dr[a?"updateProps":"initProps"](l,{shape:x},p,y)}}}function Yp(o,r){var t=o.getItemModel(r);return t.getAnimationDelayParams=Zg,t.isAnimationEnabled=jh,t}function Zg(o){return{index:o.__pictorialAnimationIndex,count:o.__pictorialRepeatTimes}}function jh(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Gp(o,r,t,a){var l=new yn.Z,h=new yn.Z;return l.add(h),l.__pictorialBundle=h,h.x=t.bundlePosition[0],h.y=t.bundlePosition[1],t.symbolRepeat?Up(l,r,t):to(l,0,t),kd(l,t,a),F4(l,r,t,a),l.__pictorialShapeStr=Gv(o,t),l.__pictorialSymbolMeta=t,l}function Wp(o,r,t,a){var l=a.__pictorialBarRect;l&&l.removeTextContent();var h=[];jv(a,function(d){h.push(d)}),a.__pictorialMainPath&&h.push(a.__pictorialMainPath),a.__pictorialClipPath&&(t=null),M.each(h,function(d){Bn.bX(d,{scaleX:0,scaleY:0},t,r,function(){a.parent&&a.parent.remove(a)})}),o.setItemGraphicEl(r,null)}function Gv(o,r){return[o.getItemVisual(r.dataIndex,"symbol")||"none",!!r.symbolRepeat,!!r.symbolClip].join(":")}function jv(o,r,t){M.each(o.__pictorialBundle.children(),function(a){a!==o.__pictorialBarRect&&r.call(t,a)})}function z0(o,r,t,a,l,h){r&&o.attr(r),a.symbolClip&&!l?t&&o.attr(t):t&&dr[l?"updateProps":"initProps"](o,t,a.animationModel,a.dataIndex,h)}function Zp(o,r,t){var a=t.dataIndex,l=t.itemModel,h=l.getModel("emphasis"),d=h.getModel("itemStyle").getItemStyle(),p=l.getModel(["blur","itemStyle"]).getItemStyle(),y=l.getModel(["select","itemStyle"]).getItemStyle(),x=l.getShallow("cursor"),w=h.get("focus"),z=h.get("blurScope"),V=h.get("scale");jv(o,function(ue){if(ue instanceof me.ZP){var xe=ue.style;ue.useStyle(M.extend({image:xe.image,x:xe.x,y:xe.y,width:xe.width,height:xe.height},t.style))}else ue.useStyle(t.style);var ze=ue.ensureState("emphasis");ze.style=d,V&&(ze.scaleX=1.1*ue.scaleX,ze.scaleY=1.1*ue.scaleY),ue.ensureState("blur").style=p,ue.ensureState("select").style=y,x&&(ue.cursor=x),ue.z2=t.z2});var k=r.valueDim.posDesc[+(t.boundingLength>0)];(0,hr.ni)(o.__pictorialBarRect,(0,hr.k3)(l),{labelFetcher:r.seriesModel,labelDataIndex:a,defaultText:aa(r.seriesModel.getData(),a),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:k}),(0,er.k5)(o,w,z,h.get("disabled"))}function Wv(o){var r=Math.round(o);return Math.abs(o-r)<1e-4?r:Math.ceil(o)}const Kp=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=this.group,d=t.getData(),p=this._data,y=t.coordinateSystem,w=y.getBaseAxis().isHorizontal(),z=y.master.getRect(),V={ecSize:{width:l.getWidth(),height:l.getHeight()},seriesModel:t,coordSys:y,coordSysExtent:[[z.x,z.x+z.width],[z.y,z.y+z.height]],isHorizontal:w,valueDim:Y3[+w],categoryDim:Y3[1-+w]};return d.diff(p).add(function(k){if(d.hasValue(k)){var J=Yp(d,k),ue=Yv(d,k,J,V),xe=Gp(d,V,ue);d.setItemGraphicEl(k,xe),h.add(xe),Zp(xe,V,ue)}}).update(function(k,J){var ue=p.getItemGraphicEl(J);if(d.hasValue(k)){var xe=Yp(d,k),ze=Yv(d,k,xe,V),Re=Gv(d,ze);ue&&Re!==ue.__pictorialShapeStr&&(h.remove(ue),d.setItemGraphicEl(k,null),ue=null),ue?function jp(o,r,t){Bn.D(o.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?Up(o,r,t,!0):to(o,0,t,!0),kd(o,t,!0),F4(o,r,t,!0)}(ue,V,ze):ue=Gp(d,V,ze,!0),d.setItemGraphicEl(k,ue),ue.__pictorialSymbolMeta=ze,h.add(ue),Zp(ue,V,ze)}else h.remove(ue)}).remove(function(k){var J=p.getItemGraphicEl(k);J&&Wp(p,k,J.__pictorialSymbolMeta.animationModel,J)}).execute(),this._data=d,this.group},r.prototype.remove=function(t,a){var l=this.group,h=this._data;t.get("animation")?h&&h.eachItemGraphicEl(function(d){Wp(h,(0,Qn.A)(d).dataIndex,t,d)}):l.removeAll()},r.type="pictorialBar",r}(Oi.Z),Kg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t){return t.stack=null,o.prototype.getInitialData.apply(this,arguments)},r.type="series.pictorialBar",r.dependencies=["grid"],r.defaultOption=(0,uo.ZL)($a.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),r}($a),a8=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._layers=[],t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=t.getData(),d=this,p=this.group,y=t.getLayerSeries(),x=h.getLayout("layoutInfo"),w=x.rect,z=x.boundaryGap;function V(xe){return xe.name}p.x=0,p.y=w.y+z[0];var k=new di.Z(this._layersSeries||[],y,V,V),J=[];function ue(xe,ze,Re){var Ie=d._layers;if("remove"!==xe){for(var $e,Ge=[],Qe=[],ut=y[ze].indices,St=0;St<ut.length;St++){var Pt=h.getItemLayout(ut[St]),Vt=Pt.x,kt=Pt.y0,en=Pt.y;Ge.push(Vt,kt),Qe.push(Vt,kt+en),$e=h.getItemVisual(ut[St],"style")}var un,vn=h.getItemLayout(ut[0]),Zn=t.getModel("label").get("margin"),ur=t.getModel("emphasis");if("add"===xe){var or=J[ze]=new yn.Z;un=new e1({shape:{points:Ge,stackedOnPoints:Qe,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),or.add(un),p.add(or),t.isAnimationEnabled()&&un.setClipPath(function Xg(o,r,t){var a=new Ei.Z({shape:{x:o.x-10,y:o.y-10,width:0,height:o.height+20}});return Bn.KZ(a,{shape:{x:o.x-50,width:o.width+100,height:o.height+20}},r,t),a}(un.getBoundingRect(),t,function(){un.removeClipPath()}))}else un=(or=Ie[Re]).childAt(0),p.add(or),J[ze]=or,Bn.D(un,{shape:{points:Ge,stackedOnPoints:Qe}},t),(0,Bn.Zi)(un);(0,hr.ni)(un,(0,hr.k3)(t),{labelDataIndex:ut[St-1],defaultText:h.getName(ut[St-1]),inheritColor:$e.fill},{normal:{verticalAlign:"middle"}}),un.setTextConfig({position:null,local:!0});var kr=un.getTextContent();kr&&(kr.x=vn.x-Zn,kr.y=vn.y0+vn.y/2),un.useStyle($e),h.setItemGraphicEl(ze,un),(0,er.WO)(un,t),(0,er.k5)(un,ur.get("focus"),ur.get("blurScope"),ur.get("disabled"))}else p.remove(Ie[ze])}k.add((0,M.bind)(ue,this,"add")).update((0,M.bind)(ue,this,"update")).remove((0,M.bind)(ue,this,"remove")).execute(),this._layersSeries=y,this._layers=J},r.type="themeRiver",r}(Oi.Z),Qg=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new jr(M.bind(this.getData,this),M.bind(this.getRawData,this))},r.prototype.fixData=function(t){var a=t.length,l={},h=(0,Hr.pv)(t,function(V){return l.hasOwnProperty(V[0]+"")||(l[V[0]+""]=-1),V[2]}),d=[];h.buckets.each(function(V,k){d.push({name:k,dataList:V})});for(var p=d.length,y=0;y<p;++y){for(var x=d[y].name,w=0;w<d[y].dataList.length;++w)l[z=d[y].dataList[w][0]+""]=y;for(var z in l)l.hasOwnProperty(z)&&l[z]!==y&&(l[z]=y,t[a]=[z,0,x],a++)}return t},r.prototype.getInitialData=function(t,a){for(var h=this.getReferringComponents("singleAxis",Hr.C6).models[0].get("type"),d=M.filter(t.data,function(J){return void 0!==J[2]}),p=this.fixData(d||[]),y=[],x=this.nameMap=M.createHashMap(),w=0,z=0;z<p.length;++z)y.push(p[z][2]),x.get(p[z][2])||(x.set(p[z][2],w),w++);var V=(0,fn.Z)(p,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,Nh.T)(h)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,k=new Hn.Z(V,this);return k.initData(p),k},r.prototype.getLayerSeries=function(){for(var t=this.getData(),a=t.count(),l=[],h=0;h<a;++h)l[h]=h;var d=t.mapDimension("single"),p=(0,Hr.pv)(l,function(x){return t.get("name",x)}),y=[];return p.buckets.each(function(x,w){x.sort(function(z,V){return t.get(d,z)-t.get(d,V)}),y.push({name:w,indices:x})}),y},r.prototype.getAxisTooltipData=function(t,a,l){M.isArray(t)||(t=t?[t]:[]);for(var x,h=this.getData(),d=this.getLayerSeries(),p=[],y=d.length,w=0;w<y;++w){for(var z=Number.MAX_VALUE,V=-1,k=d[w].indices.length,J=0;J<k;++J){var ue=h.get(t[0],d[w].indices[J]),xe=Math.abs(ue-a);xe<=z&&(x=ue,z=xe,V=d[w].indices[J])}p.push(V)}return{dataIndices:p,nestestValue:x}},r.prototype.formatTooltip=function(t,a,l){var h=this.getData(),d=h.getName(t),p=h.get(h.mapDimension("value"),t);return(0,yo.TX)("nameValue",{name:d,value:p})},r.type="series.themeRiver",r.dependencies=["singleAxis"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},r}(xn.Z);function Jg(o,r){o.eachSeriesByType("themeRiver",function(t){var a=t.getData(),l=t.coordinateSystem,h={},d=l.getRect();h.rect=d;var p=t.get("boundaryGap"),y=l.getAxis();h.boundaryGap=p,"horizontal"===y.orient?(p[0]=In.GM(p[0],d.height),p[1]=In.GM(p[1],d.height),Yd(a,t,d.height-p[0]-p[1])):(p[0]=In.GM(p[0],d.width),p[1]=In.GM(p[1],d.width),Yd(a,t,d.width-p[0]-p[1])),a.setLayout("layoutInfo",h)})}function Yd(o,r,t){if(o.count())for(var k,a=r.coordinateSystem,l=r.getLayerSeries(),h=o.mapDimension("single"),d=o.mapDimension("value"),p=M.map(l,function(xe){return M.map(xe.indices,function(ze){var Re=a.dataToPoint(o.get(h,ze));return Re[1]=o.get(d,ze),Re})}),y=function Kv(o){for(var r=o.length,t=o[0].length,a=[],l=[],h=0,d=0;d<t;++d){for(var p=0,y=0;y<r;++y)p+=o[y][d][1];p>h&&(h=p),a.push(p)}for(var x=0;x<t;++x)l[x]=(h-a[x])/2;h=0;for(var w=0;w<t;++w){var z=a[w]+l[w];z>h&&(h=z)}return{y0:l,max:h}}(p),x=y.y0,w=t/y.max,z=l.length,V=l[0].indices.length,J=0;J<V;++J){o.setItemLayout(l[0].indices[J],{layerIndex:0,x:p[0][J][0],y0:k=x[J]*w,y:p[0][J][1]*w});for(var ue=1;ue<z;++ue)o.setItemLayout(l[ue].indices[J],{layerIndex:ue,x:p[ue][J][0],y0:k+=p[ue-1][J][1]*w,y:p[ue][J][1]*w})}}var Gd=C(3144);const s8=function(o){function r(t,a,l,h){var d=o.call(this)||this;d.z2=2,d.textConfig={inside:!0},(0,Qn.A)(d).seriesIndex=a.seriesIndex;var p=new Yt.ZP({z2:4,silent:t.getModel().get(["label","silent"])});return d.setTextContent(p),d.updateData(!0,t,a,l,h),d}return(0,st.ZT)(r,o),r.prototype.updateData=function(t,a,l,h,d){this.node=a,a.piece=this,l=l||this._seriesModel,h=h||this._ecModel;var p=this;(0,Qn.A)(p).dataIndex=a.dataIndex;var y=a.getModel(),x=y.getModel("emphasis"),w=a.getLayout(),z=M.extend({},w);z.label=null;var V=a.getVisual("style");V.lineJoin="bevel";var k=a.getVisual("decal");k&&(V.decal=(0,d4.I)(k,d));var J=rs(y.getModel("itemStyle"),z,!0);M.extend(z,J),M.each(er.L1,function(Re){var Ie=p.ensureState(Re),Ge=y.getModel([Re,"itemStyle"]);Ie.style=Ge.getItemStyle();var Qe=rs(Ge,z);Qe&&(Ie.shape=Qe)}),t?(p.setShape(z),p.shape.r=w.r0,Bn.KZ(p,{shape:{r:w.r}},l,a.dataIndex)):(Bn.D(p,{shape:z},l),(0,Bn.Zi)(p)),p.useStyle(V),this._updateLabel(l);var ue=y.getShallow("cursor");ue&&p.attr("cursor",ue),this._seriesModel=l||this._seriesModel,this._ecModel=h||this._ecModel;var xe=x.get("focus"),ze="ancestor"===xe?a.getAncestorsIndices():"descendant"===xe?a.getDescendantIndices():xe;(0,er.k5)(this,ze,x.get("blurScope"),x.get("disabled"))},r.prototype._updateLabel=function(t){var a=this,l=this.node.getModel(),h=l.getModel("label"),d=this.node.getLayout(),p=d.endAngle-d.startAngle,y=(d.startAngle+d.endAngle)/2,x=Math.cos(y),w=Math.sin(y),z=this,V=z.getTextContent(),k=this.node.dataIndex,J=h.get("minAngle")/180*Math.PI,ue=h.get("show")&&!(null!=J&&Math.abs(p)<J);function xe(ze,Re){return ze.get(Re)??h.get(Re)}V.ignore=!ue,M.each(er.qc,function(ze){var Re=l.getModel("normal"===ze?"label":[ze,"label"]),Ie="normal"===ze,Ge=Ie?V:V.ensureState(ze),Qe=t.getFormattedLabel(k,ze);Ie&&(Qe=Qe||a.node.name),Ge.style=(0,hr.Lr)(Re,{},null,"normal"!==ze,!0),Qe&&(Ge.style.text=Qe);var $e=Re.get("show");null!=$e&&!Ie&&(Ge.ignore=!$e);var ut=xe(Re,"position"),St=Ie?z:z.states[ze],Pt=St.style.fill;St.textConfig={outsideFill:"inherit"===Re.get("color")?Pt:null,inside:"outside"!==ut};var Vt,kt=xe(Re,"distance")||0,en=xe(Re,"align");"outside"===ut?(Vt=d.r+kt,en=y>Math.PI/2?"right":"left"):en&&"center"!==en?"left"===en?(Vt=d.r0+kt,y>Math.PI/2&&(en="right")):"right"===en&&(Vt=d.r-kt,y>Math.PI/2&&(en="left")):(Vt=p===2*Math.PI&&0===d.r0?0:(d.r+d.r0)/2,en="center"),Ge.style.align=en,Ge.style.verticalAlign=xe(Re,"verticalAlign")||"middle",Ge.x=Vt*x+d.cx,Ge.y=Vt*w+d.cy;var un=xe(Re,"rotate"),vn=0;"radial"===un?(vn=(0,Gd.m)(-y))>Math.PI/2&&vn<1.5*Math.PI&&(vn+=Math.PI):"tangential"===un?(vn=Math.PI/2-y)>Math.PI/2?vn-=Math.PI:vn<-Math.PI/2&&(vn+=Math.PI):M.isNumber(un)&&(vn=un*Math.PI/180),Ge.rotation=vn}),V.dirtyStyle()},r}(gi.C);var Jo="sunburstRootToNode",A0="sunburstHighlight";const l8=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){var d=this;this.seriesModel=t,this.api=l,this.ecModel=a;var p=t.getData(),y=p.tree.root,x=t.getViewRoot(),w=this.group,z=t.get("renderLabelForZeroData"),V=[];x.eachNode(function(Re){V.push(Re)}),function J(Re,Ie){function Ge($e){return $e.getId()}function Qe($e,ut){!function ue(Re,Ie){if(!z&&Re&&!Re.getValue()&&(Re=null),Re!==y&&Ie!==y)if(Ie&&Ie.piece)Re?(Ie.piece.updateData(!1,Re,t,a,l),p.setItemGraphicEl(Re.dataIndex,Ie.piece)):function xe(Re){Re&&Re.piece&&(w.remove(Re.piece),Re.piece=null)}(Ie);else if(Re){var Ge=new s8(Re,t,a,l);w.add(Ge),p.setItemGraphicEl(Re.dataIndex,Ge)}}(null==$e?null:Re[$e],null==ut?null:Ie[ut])}0===Re.length&&0===Ie.length||new di.Z(Ie,Re,Ge,Ge).add(Qe).update(Qe).remove(M.curry(Qe,null)).execute()}(V,this._oldChildren||[]),function ze(Re,Ie){Ie.depth>0?(d.virtualPiece?d.virtualPiece.updateData(!1,Re,t,a,l):(d.virtualPiece=new s8(Re,t,a,l),w.add(d.virtualPiece)),Ie.piece.off("click"),d.virtualPiece.on("click",function(Ge){d._rootToNode(Ie.parentNode)})):d.virtualPiece&&(w.remove(d.virtualPiece),d.virtualPiece=null)}(y,x),this._initEvents(),this._oldChildren=V},r.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(a){var l=!1;t.seriesModel.getViewRoot().eachNode(function(d){if(!l&&d.piece&&d.piece===a.target){var p=d.getModel().get("nodeClick");if("rootToNode"===p)t._rootToNode(d);else if("link"===p){var y=d.getModel(),x=y.get("link");if(x){var w=y.get("target",!0)||"_blank";(0,Ia.MI)(x,w)}}l=!0}})})},r.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Jo,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},r.prototype.containPoint=function(t,a){var h=a.getData().getItemLayout(0);if(h){var d=t[0]-h.cx,p=t[1]-h.cy,y=Math.sqrt(d*d+p*p);return y<=h.r&&y>=h.r0}},r.type="sunburst",r}(Oi.Z);function G3(o){var r=0;M.each(o.children,function(a){G3(a);var l=a.value;M.isArray(l)&&(l=l[0]),r+=l});var t=o.value;M.isArray(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=r),t<0&&(t=0),M.isArray(o.value)?o.value[0]=t:o.value=t}const O2=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.ignoreStyleOnData=!0,t}return(0,st.ZT)(r,o),r.prototype.getInitialData=function(t,a){var l={name:t.name,children:t.data};G3(l);var h=this._levelModels=M.map(t.levels||[],function(y){return new Fo.Z(y,this,a)},this),d=Il.createTree(l,this,function p(y){y.wrapMethod("getItemModel",function(x,w){var z=d.getNodeByDataIndex(w),V=h[z.depth];return V&&(x.parentModel=V),x})});return d.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.getDataParams=function(t){var a=o.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(t);return a.treePathInfo=l0(l,this),a},r.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var a=this.getRawData().tree.root;(!t||t!==a&&!a.contains(t))&&(this._viewRoot=a)},r.prototype.enableAriaDecal=function(){G6(this)},r.type="series.sunburst",r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},r}(xn.Z);var j3=Math.PI/180;function Cs(o,r,t){r.eachSeriesByType(o,function(a){var l=a.get("center"),h=a.get("radius");M.isArray(h)||(h=[0,h]),M.isArray(l)||(l=[l,l]);var d=t.getWidth(),p=t.getHeight(),y=Math.min(d,p),x=(0,In.GM)(l[0],d),w=(0,In.GM)(l[1],p),z=(0,In.GM)(h[0],y/2),V=(0,In.GM)(h[1],y/2),k=-a.get("startAngle")*j3,J=a.get("minAngle")*j3,ue=a.getData().tree.root,xe=a.getViewRoot(),ze=xe.depth,Re=a.get("sort");null!=Re&&G1(xe,Re);var Ie=0;M.each(xe.children,function(Zn){!isNaN(Zn.getValue())&&Ie++});var Ge=xe.getValue(),Qe=Math.PI/(Ge||Ie)*2,$e=xe.depth>0,St=(V-z)/(xe.height-($e?-1:1)||1),Pt=a.get("clockwise"),Vt=a.get("stillShowZeroSum"),kt=Pt?1:-1,en=function(Zn,ur){if(Zn){var or=ur;if(Zn!==ue){var kr=Zn.getValue(),oi=0===Ge&&Vt?Qe:kr*Qe;oi<J&&(oi=J),or=ur+kt*oi;var ii=Zn.depth-ze-($e?-1:1),Gi=z+St*ii,Fi=z+St*(ii+1),Ci=a.getLevelModel(Zn);if(Ci){var wa=Ci.get("r0",!0),lo=Ci.get("r",!0),Ma=Ci.get("radius",!0);null!=Ma&&(wa=Ma[0],lo=Ma[1]),null!=wa&&(Gi=(0,In.GM)(wa,y/2)),null!=lo&&(Fi=(0,In.GM)(lo,y/2))}Zn.setLayout({angle:oi,startAngle:ur,endAngle:or,clockwise:Pt,cx:x,cy:w,r0:Gi,r:Fi})}if(Zn.children&&Zn.children.length){var Ti=0;M.each(Zn.children,function(qa){Ti+=en(qa,ur+Ti)})}return or-ur}};if($e){var wn=2*Math.PI;ue.setLayout({angle:wn,startAngle:k,endAngle:k+wn,clockwise:Pt,cx:x,cy:w,r0:z,r:z+St})}en(xe,k)})}function G1(o,r){var t=o.children||[];o.children=function W3(o,r){if(M.isFunction(r)){var t=M.map(o,function(l,h){var d=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return d}},index:h}});return t.sort(function(l,h){return r(l.params,h.params)}),M.map(t,function(l){return o[l.index]})}var a="asc"===r;return o.sort(function(l,h){var d=(l.getValue()-h.getValue())*(a?1:-1);return 0===d?(l.dataIndex-h.dataIndex)*(a?-1:1):d})}(t,r),t.length&&M.each(o.children,function(a){G1(a,r)})}function c8(o){var r={};o.eachSeriesByType("sunburst",function(a){var l=a.getData(),h=l.tree;h.eachNode(function(d){var y=d.getModel().getModel("itemStyle").getItemStyle();y.fill||(y.fill=function t(a,l,h){for(var d=a;d&&d.depth>1;)d=d.parentNode;var p=l.getColorFromPalette(d.name||d.dataIndex+"",r);return a.depth>1&&(0,M.isString)(p)&&(p=(0,na.lift)(p,(a.depth-1)/(h-1)*.5)),p}(d,a,h.root.height));var x=l.ensureUniqueItemVisual(d.dataIndex,"style");(0,M.extend)(x,y)})})}var Xv={color:"fill",borderColor:"stroke"},Qv={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Yc=(0,Hr.Yf)();const Wd=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},r.prototype.getInitialData=function(t,a){return(0,Qt.Z)(null,this)},r.prototype.getDataParams=function(t,a,l){var h=o.prototype.getDataParams.call(this,t,a);return l&&(h.info=Yc(l).info),h},r.type="series.custom",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},r}(xn.Z);function Zd(o,r){return r=r||[0,0],M.map(["x","y"],function(t,a){var l=this.getAxis(t),h=r[a],d=o[a]/2;return"category"===l.type?l.getBandWidth():Math.abs(l.dataToCoord(h-d)-l.dataToCoord(h+d))},this)}function Jv(o,r){return r=r||[0,0],M.map([0,1],function(t){var a=r[t],l=o[t]/2,h=[],d=[];return h[t]=a-l,d[t]=a+l,h[1-t]=d[1-t]=r[1-t],Math.abs(this.dataToPoint(h)[t]-this.dataToPoint(d)[t])},this)}function Y4(o,r){var t=this.getAxis(),a=r instanceof Array?r[0]:r,l=(o instanceof Array?o[0]:o)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(a-l)-t.dataToCoord(a+l))}function d8(o,r){return r=r||[0,0],M.map(["Radius","Angle"],function(t,a){var h=this["get"+t+"Axis"](),d=r[a],p=o[a]/2,y="category"===h.type?h.getBandWidth():Math.abs(h.dataToCoord(d-p)-h.dataToCoord(d+p));return"Angle"===t&&(y=y*Math.PI/180),y},this)}function Qd(o,r,t,a){return o&&(o.legacy||!1!==o.legacy&&!t&&!a&&"tspan"!==r&&("text"===r||(0,M.hasOwn)(o,"text")))}function Jd(o,r,t){var l,h,d,a=o;if("text"===r)d=a;else{d={},(0,M.hasOwn)(a,"text")&&(d.text=a.text),(0,M.hasOwn)(a,"rich")&&(d.rich=a.rich),(0,M.hasOwn)(a,"textFill")&&(d.fill=a.textFill),(0,M.hasOwn)(a,"textStroke")&&(d.stroke=a.textStroke),(0,M.hasOwn)(a,"fontFamily")&&(d.fontFamily=a.fontFamily),(0,M.hasOwn)(a,"fontSize")&&(d.fontSize=a.fontSize),(0,M.hasOwn)(a,"fontStyle")&&(d.fontStyle=a.fontStyle),(0,M.hasOwn)(a,"fontWeight")&&(d.fontWeight=a.fontWeight),h={type:"text",style:d,silent:!0},l={};var p=(0,M.hasOwn)(a,"textPosition");t?l.position=p?a.textPosition:"inside":p&&(l.position=a.textPosition),(0,M.hasOwn)(a,"textPosition")&&(l.position=a.textPosition),(0,M.hasOwn)(a,"textOffset")&&(l.offset=a.textOffset),(0,M.hasOwn)(a,"textRotation")&&(l.rotation=a.textRotation),(0,M.hasOwn)(a,"textDistance")&&(l.distance=a.textDistance)}return qg(d,o),(0,M.each)(d.rich,function(y){qg(y,y)}),{textConfig:l,textContent:h}}function qg(o,r){r&&(r.font=r.textFont||r.font,(0,M.hasOwn)(r,"textStrokeWidth")&&(o.lineWidth=r.textStrokeWidth),(0,M.hasOwn)(r,"textAlign")&&(o.align=r.textAlign),(0,M.hasOwn)(r,"textVerticalAlign")&&(o.verticalAlign=r.textVerticalAlign),(0,M.hasOwn)(r,"textLineHeight")&&(o.lineHeight=r.textLineHeight),(0,M.hasOwn)(r,"textWidth")&&(o.width=r.textWidth),(0,M.hasOwn)(r,"textHeight")&&(o.height=r.textHeight),(0,M.hasOwn)(r,"textBackgroundColor")&&(o.backgroundColor=r.textBackgroundColor),(0,M.hasOwn)(r,"textPadding")&&(o.padding=r.textPadding),(0,M.hasOwn)(r,"textBorderColor")&&(o.borderColor=r.textBorderColor),(0,M.hasOwn)(r,"textBorderWidth")&&(o.borderWidth=r.textBorderWidth),(0,M.hasOwn)(r,"textBorderRadius")&&(o.borderRadius=r.textBorderRadius),(0,M.hasOwn)(r,"textBoxShadowColor")&&(o.shadowColor=r.textBoxShadowColor),(0,M.hasOwn)(r,"textBoxShadowBlur")&&(o.shadowBlur=r.textBoxShadowBlur),(0,M.hasOwn)(r,"textBoxShadowOffsetX")&&(o.shadowOffsetX=r.textBoxShadowOffsetX),(0,M.hasOwn)(r,"textBoxShadowOffsetY")&&(o.shadowOffsetY=r.textBoxShadowOffsetY))}function Us(o,r,t){var a=o;a.textPosition=a.textPosition||t.position||"inside",null!=t.offset&&(a.textOffset=t.offset),null!=t.rotation&&(a.textRotation=t.rotation),null!=t.distance&&(a.textDistance=t.distance);var l=a.textPosition.indexOf("inside")>=0,h=o.fill||"#000";Ts(a,r);var d=null==a.textFill;return l?d&&(a.textFill=t.insideFill||"#fff",!a.textStroke&&t.insideStroke&&(a.textStroke=t.insideStroke),!a.textStroke&&(a.textStroke=h),null==a.textStrokeWidth&&(a.textStrokeWidth=2)):(d&&(a.textFill=o.fill||t.outsideFill||"#000"),!a.textStroke&&t.outsideStroke&&(a.textStroke=t.outsideStroke)),a.text=r.text,a.rich=r.rich,(0,M.each)(r.rich,function(p){Ts(p,p)}),a}function Ts(o,r){r&&((0,M.hasOwn)(r,"fill")&&(o.textFill=r.fill),(0,M.hasOwn)(r,"stroke")&&(o.textStroke=r.fill),(0,M.hasOwn)(r,"lineWidth")&&(o.textStrokeWidth=r.lineWidth),(0,M.hasOwn)(r,"font")&&(o.font=r.font),(0,M.hasOwn)(r,"fontStyle")&&(o.fontStyle=r.fontStyle),(0,M.hasOwn)(r,"fontWeight")&&(o.fontWeight=r.fontWeight),(0,M.hasOwn)(r,"fontSize")&&(o.fontSize=r.fontSize),(0,M.hasOwn)(r,"fontFamily")&&(o.fontFamily=r.fontFamily),(0,M.hasOwn)(r,"align")&&(o.textAlign=r.align),(0,M.hasOwn)(r,"verticalAlign")&&(o.textVerticalAlign=r.verticalAlign),(0,M.hasOwn)(r,"lineHeight")&&(o.textLineHeight=r.lineHeight),(0,M.hasOwn)(r,"width")&&(o.textWidth=r.width),(0,M.hasOwn)(r,"height")&&(o.textHeight=r.height),(0,M.hasOwn)(r,"backgroundColor")&&(o.textBackgroundColor=r.backgroundColor),(0,M.hasOwn)(r,"padding")&&(o.textPadding=r.padding),(0,M.hasOwn)(r,"borderColor")&&(o.textBorderColor=r.borderColor),(0,M.hasOwn)(r,"borderWidth")&&(o.textBorderWidth=r.borderWidth),(0,M.hasOwn)(r,"borderRadius")&&(o.textBorderRadius=r.borderRadius),(0,M.hasOwn)(r,"shadowColor")&&(o.textBoxShadowColor=r.shadowColor),(0,M.hasOwn)(r,"shadowBlur")&&(o.textBoxShadowBlur=r.shadowBlur),(0,M.hasOwn)(r,"shadowOffsetX")&&(o.textBoxShadowOffsetX=r.shadowOffsetX),(0,M.hasOwn)(r,"shadowOffsetY")&&(o.textBoxShadowOffsetY=r.shadowOffsetY),(0,M.hasOwn)(r,"textShadowColor")&&(o.textShadowColor=r.textShadowColor),(0,M.hasOwn)(r,"textShadowBlur")&&(o.textShadowBlur=r.textShadowBlur),(0,M.hasOwn)(r,"textShadowOffsetX")&&(o.textShadowOffsetX=r.textShadowOffsetX),(0,M.hasOwn)(r,"textShadowOffsetY")&&(o.textShadowOffsetY=r.textShadowOffsetY))}var e5=C(9638),O0={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},qo=(0,M.keys)(O0),K3=((0,M.reduce)(Ce.dN,function(o,r){return o[r]=1,o},{}),Ce.dN.join(", "),["","style","shape","extra"]),$3=(0,Hr.Yf)();function t5(o,r,t,a,l){var h=o+"Animation",d=(0,Bn.ke)(o,a,l)||{},p=$3(r).userDuring;return d.duration>0&&(d.during=p?(0,M.bind)(ef,{el:r,userDuring:p}):null,d.setToFinal=!0,d.scope=o),(0,M.extend)(d,t[h]),d}function Zh(o,r,t,a){var l=(a=a||{}).dataIndex,h=a.isInit,d=a.clearStyle,p=t.isAnimationEnabled(),y=$3(o),x=r.style;y.userDuring=r.during;var w={},z={};if(function qp(o,r,t){for(var a=0;a<qo.length;a++){var l=qo[a],h=O0[l],d=r[l];d&&(t[h[0]]=d[0],t[h[1]]=d[1])}for(a=0;a<Ce.dN.length;a++){var p=Ce.dN[a];null!=r[p]&&(t[p]=r[p])}}(0,r,z),$h("shape",r,z),$h("extra",r,z),!h&&p&&(function jc(o,r,t){for(var a=r.transition,l=uc(a)?Ce.dN:(0,Hr.kF)(a||[]),h=0;h<l.length;h++){var d=l[h];"style"!==d&&"shape"!==d&&"extra"!==d&&(t[d]=o[d])}}(o,r,w),Kh("shape",o,r,w),Kh("extra",o,r,w),function X3(o,r,t,a){if(t){var h,l=o.style;if(l){var d=t.transition,p=r.transition;if(d&&!uc(d)){var y=(0,Hr.kF)(d);!h&&(h=a.style={});for(var x=0;x<y.length;x++)h[w=y[x]]=l[w]}else if(o.getAnimationStyleProps&&(uc(p)||uc(d)||(0,M.indexOf)(p,"style")>=0)){var V=o.getAnimationStyleProps(),k=V?V.style:null;if(k){!h&&(h=a.style={});var J=(0,M.keys)(t);for(x=0;x<J.length;x++){var w;k[w=J[x]]&&(h[w]=l[w])}}}}}}(o,r,x,w)),z.style=x,function tm(o,r,t){var a=r.style;if(!o.isGroup&&a){if(t){o.useStyle({});for(var l=o.animators,h=0;h<l.length;h++){var d=l[h];"style"===d.targetName&&d.changeTarget(o.style)}}o.setStyle(a)}r&&(r.style=null,r&&o.attr(r),r.style=a)}(o,z,d),function Jp(o,r){(0,M.hasOwn)(r,"silent")&&(o.silent=r.silent),(0,M.hasOwn)(r,"ignore")&&(o.ignore=r.ignore),o instanceof d2.ZP&&(0,M.hasOwn)(r,"invisible")&&(o.invisible=r.invisible),o instanceof pe.ZP&&(0,M.hasOwn)(r,"autoBatch")&&(o.autoBatch=r.autoBatch)}(o,r),p)if(h){var V={};(0,M.each)(K3,function(J){var ue=J?r[J]:r;ue&&ue.enterFrom&&(J&&(V[J]=V[J]||{}),(0,M.extend)(J?V[J]:V,ue.enterFrom))});var k=t5("enter",o,r,t,l);k.duration>0&&o.animateFrom(V,k)}else!function qd(o,r,t,a,l){if(l){var h=t5("update",o,r,a,t);h.duration>0&&o.animateFrom(l,h)}}(o,r,l||0,t,w);n5(o,r),x?o.dirty():o.markRedraw()}function n5(o,r){for(var t=$3(o).leaveToProps,a=0;a<K3.length;a++){var l=K3[a],h=l?r[l]:r;h&&h.leaveTo&&(t||(t=$3(o).leaveToProps={}),l&&(t[l]=t[l]||{}),(0,M.extend)(l?t[l]:t,h.leaveTo))}}function I2(o,r,t,a){if(o){var l=o.parent,h=$3(o).leaveToProps;if(h){var d=t5("update",o,r,t,0);d.done=function(){l.remove(o),a&&a()},o.animateTo(h,d)}else l.remove(o),a&&a()}}function uc(o){return"all"===o}var Gc={},U9={setTransform:function(o,r){return Gc.el[o]=r,this},getTransform:function(o){return Gc.el[o]},setShape:function(o,r){var t=Gc.el;return(t.shape||(t.shape={}))[o]=r,t.dirtyShape&&t.dirtyShape(),this},getShape:function(o){var r=Gc.el.shape;if(r)return r[o]},setStyle:function(o,r){var t=Gc.el,a=t.style;return a&&(a[o]=r,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(o){var r=Gc.el.style;if(r)return r[o]},setExtra:function(o,r){return(Gc.el.extra||(Gc.el.extra={}))[o]=r,this},getExtra:function(o){var r=Gc.el.extra;if(r)return r[o]}};function ef(){var o=this,r=o.el;if(r){var t=$3(r).userDuring,a=o.userDuring;if(t!==a)return void(o.el=o.userDuring=null);Gc.el=r,a(U9)}}function Kh(o,r,t,a){var l=t[o];if(l){var d,h=r[o];if(h){var p=t.transition,y=l.transition;if(y)if(!d&&(d=a[o]={}),uc(y))(0,M.extend)(d,h);else for(var x=(0,Hr.kF)(y),w=0;w<x.length;w++)d[z=x[w]]=V=h[z];else if(uc(p)||(0,M.indexOf)(p,o)>=0){!d&&(d=a[o]={});var k=(0,M.keys)(h);for(w=0;w<k.length;w++){var z,V;G4(l[z=k[w]],V=h[z])&&(d[z]=V)}}}}}function $h(o,r,t){var a=r[o];if(a)for(var l=t[o]={},h=(0,M.keys)(a),d=0;d<h.length;d++){var p=h[d];l[p]=(0,e5.V)(a[p])}}function G4(o,r){return(0,M.isArrayLike)(o)?o!==r:null!=o&&isFinite(o)}var Zo=(0,Hr.Yf)(),j4=["percent","easing","shape","style","extra"];function tf(o){o.stopAnimation("keyframe"),o.attr(Zo(o))}function Xh(o,r,t){if(t.isAnimationEnabled()&&r){if((0,M.isArray)(r))return void(0,M.each)(r,function(p){Xh(o,p,t)});var a=r.keyframes,l=r.duration;if(t&&null==l){var h=(0,Bn.ke)("enter",t,0);l=h&&h.duration}if(a&&l){var d=Zo(o);(0,M.each)(K3,function(p){var y;p&&!o[p]||(a.sort(function(w,z){return w.percent-z.percent}),(0,M.each)(a,function(w){var z=o.animators,V=p?w[p]:w;if(V){var k=(0,M.keys)(V);if(p||(k=(0,M.filter)(k,function(xe){return(0,M.indexOf)(j4,xe)<0})),k.length){y||((y=o.animate(p,r.loop,!0)).scope="keyframe");for(var J=0;J<z.length;J++)z[J]!==y&&z[J].targetName===y.targetName&&z[J].stopTracks(k);p&&(d[p]=d[p]||{});var ue=p?d[p]:d;(0,M.each)(k,function(xe){ue[xe]=((p?o[p]:o)||{})[xe]}),y.whenWithKeys(l*w.percent,V,k,w.easing)}}}),y&&y.delay(r.delay||0).duration(l).start(r.easing))})}}}var W4="emphasis",C1="normal",r5="blur",Qh="select",hc=[C1,W4,r5,Qh],i5={normal:["itemStyle"],emphasis:[W4,"itemStyle"],blur:[r5,"itemStyle"],select:[Qh,"itemStyle"]},nf={normal:["label"],emphasis:[W4,"label"],blur:[r5,"label"],select:[Qh,"label"]},rf=["x","y"],rm="e\0\0",j1={normal:{},emphasis:{},blur:{},select:{}},e7={cartesian2d:function Kd(o){var r=o.master.getRect();return{coordSys:{type:"cartesian2d",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(t){return o.dataToPoint(t)},size:M.bind(Zd,o)}}},geo:function Z3(o){var r=o.getBoundingRect();return{coordSys:{type:"geo",x:r.x,y:r.y,width:r.width,height:r.height,zoom:o.getZoom()},api:{coord:function(t){return o.dataToPoint(t)},size:M.bind(Jv,o)}}},single:function $d(o){var r=o.getRect();return{coordSys:{type:"singleAxis",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(t){return o.dataToPoint(t)},size:(0,M.bind)(Y4,o)}}},polar:function Xd(o){var r=o.getRadiusAxis(),t=o.getAngleAxis(),a=r.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:o.cx,cy:o.cy,r:a[1],r0:a[0]},api:{coord:function(l){var h=r.dataToRadius(l[0]),d=t.dataToAngle(l[1]),p=o.coordToPoint([h,d]);return p.push(h,d*Math.PI/180),p},size:M.bind(d8,o)}}},calendar:function L0(o){var r=o.getRect(),t=o.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:o.getCellWidth(),cellHeight:o.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(a,l){return o.dataToPoint(a,l)}}}}};function f8(o){return o instanceof pe.ZP}function a5(o){return o instanceof d2.ZP}const am=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){this._progressiveEls=null;var d=this._data,p=t.getData(),y=this.group,x=sf(t,p,a,l);d||y.removeAll(),p.diff(d).add(function(z){s5(l,null,z,x(z,h),t,y,p)}).remove(function(z){var V=d.getItemGraphicEl(z);V&&I2(V,Yc(V).option,t)}).update(function(z,V){var k=d.getItemGraphicEl(V);s5(l,k,z,x(z,h),t,y,p)}).execute();var w=t.get("clip",!0)?js(t.coordinateSystem,!1,t):null;w?y.setClipPath(w):y.removeClipPath(),this._data=p},r.prototype.incrementalPrepareRender=function(t,a,l){this.group.removeAll(),this._data=null},r.prototype.incrementalRender=function(t,a,l,h,d){var p=a.getData(),y=sf(a,p,l,h),x=this._progressiveEls=[];function w(k){k.isGroup||(k.incremental=!0,k.ensureState("emphasis").hoverLayer=!0)}for(var z=t.start;z<t.end;z++){var V=s5(null,null,z,y(z,d),a,this.group,p);V&&(V.traverse(w),x.push(V))}},r.prototype.eachRendered=function(t){dr.traverseElements(this._progressiveEls||this.group,t)},r.prototype.filterForExposedEvent=function(t,a,l,h){var d=a.element;if(null==d||l.name===d)return!0;for(;(l=l.__hostTarget||l.parent)&&l!==this.group;)if(l.name===d)return!0;return!1},r.type="custom",r}(Oi.Z);function af(o){var t,r=o.type;if("path"===r){var a=o.shape,l=null!=a.width&&null!=a.height?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,h=v8(a);t=dr.makePath(h,null,l,a.layout||"center"),Yc(t).customPathData=h}else if("image"===r)t=new me.ZP({}),Yc(t).customImagePath=o.style.image;else if("text"===r)t=new Yt.ZP({});else if("group"===r)t=new yn.Z;else{if("compoundPath"===r)throw new Error('"compoundPath" is not supported yet.');var d=dr.getShapeClass(r);d||(0,_o._y)(""),t=new d}return Yc(t).customGraphicType=r,t.name=o.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function o5(o,r,t,a,l,h,d){tf(r);var p=l&&l.normal.cfg;p&&r.setTextConfig(p),a&&null==a.transition&&(a.transition=rf);var y=a&&a.style;if(y){if("text"===r.type){var x=y;(0,M.hasOwn)(x,"textFill")&&(x.fill=x.textFill),(0,M.hasOwn)(x,"textStroke")&&(x.stroke=x.textStroke)}var w=void 0,z=f8(r)?y.decal:null;o&&z&&(z.dirty=!0,w=(0,d4.I)(z,o)),y.__decalPattern=w}a5(r)&&y&&(w=y.__decalPattern)&&(y.decal=w),Zh(r,a,h,{dataIndex:t,isInit:d,clearStyle:!0}),Xh(r,a.keyframeAnimation,h)}function n7(o,r,t,a,l){var h=r.isGroup?null:r,d=l&&l[o].cfg;if(h){var p=h.ensureState(o);if(!1===a){var y=h.getState(o);y&&(y.style=null)}else p.style=a||null;d&&(p.textConfig=d),(0,er.MA)(h)}}function sm(o,r,t){var a=t===C1,l=a?r:qh(r,t),h=l?l.z2:null;null!=h&&((a?o:o.ensureState(t)).z2=h||0)}function sf(o,r,t,a){var l=o.get("renderItem"),h=o.coordinateSystem,d={};h&&(d=h.prepareCustoms?h.prepareCustoms(h):e7[h.type](h));for(var x,w,p=(0,M.defaults)({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:function Ge(vn,wn){return null==wn&&(wn=x),r.getStore().get(r.getDimensionIndex(vn||0),wn)},style:function $e(vn,wn){null==wn&&(wn=x);var Zn=r.getItemVisual(wn,"style"),ur=Zn&&Zn.fill,or=Zn&&Zn.opacity,kr=Re(wn,C1).getItemStyle();null!=ur&&(kr.fill=ur),null!=or&&(kr.opacity=or);var oi={inheritColor:(0,M.isString)(ur)?ur:"#000"},ii=Ie(wn,C1),Gi=hr.Lr(ii,null,oi,!1,!0);Gi.text=ii.getShallow("show")?(0,M.retrieve2)(o.getFormattedLabel(wn,C1),aa(r,wn)):null;var Fi=hr.nC(ii,oi,!1);return Pt(vn,kr),kr=Us(kr,Gi,Fi),vn&&St(kr,vn),kr.legacy=!0,kr},ordinalRawValue:function Qe(vn,wn){null==wn&&(wn=x);var Zn=r.getDimensionInfo(vn=vn||0);if(!Zn){var ur=r.getDimensionIndex(vn);return ur>=0?r.getStore().get(ur,wn):void 0}var or=r.get(Zn.name,wn),kr=Zn&&Zn.ordinalMeta;return kr?kr.categories[or]:or},styleEmphasis:function ut(vn,wn){null==wn&&(wn=x);var Zn=Re(wn,W4).getItemStyle(),ur=Ie(wn,W4),or=hr.Lr(ur,null,null,!0,!0);or.text=ur.getShallow("show")?(0,M.retrieve3)(o.getFormattedLabel(wn,W4),o.getFormattedLabel(wn,C1),aa(r,wn)):null;var kr=hr.nC(ur,null,!0);return Pt(vn,Zn),Zn=Us(Zn,or,kr),vn&&St(Zn,vn),Zn.legacy=!0,Zn},visual:function Vt(vn,wn){if(null==wn&&(wn=x),(0,M.hasOwn)(Xv,vn)){var Zn=r.getItemVisual(wn,"style");return Zn?Zn[Xv[vn]]:null}if((0,M.hasOwn)(Qv,vn))return r.getItemVisual(wn,vn)},barLayout:function kt(vn){if("cartesian2d"===h.type){var wn=h.getBaseAxis();return(0,Ws.Gk)((0,M.defaults)({axis:wn},vn))}},currentSeriesIndices:function en(){return t.getCurrentSeriesIndices()},font:function un(vn){return hr.qT(vn,t)}},d.api||{}),y={context:{},seriesId:o.id,seriesName:o.name,seriesIndex:o.seriesIndex,coordSys:d.coordSys,dataInsideLength:r.count(),encode:r7(o.getData())},z={},V={},k={},J={},ue=0;ue<hc.length;ue++){var xe=hc[ue];k[xe]=o.getModel(i5[xe]),J[xe]=o.getModel(nf[xe])}function ze(vn){return vn===x?w||(w=r.getItemModel(vn)):r.getItemModel(vn)}function Re(vn,wn){return r.hasItemOption?vn===x?z[wn]||(z[wn]=ze(vn).getModel(i5[wn])):ze(vn).getModel(i5[wn]):k[wn]}function Ie(vn,wn){return r.hasItemOption?vn===x?V[wn]||(V[wn]=ze(vn).getModel(nf[wn])):ze(vn).getModel(nf[wn]):J[wn]}return function(vn,wn){return x=vn,w=null,z={},V={},l&&l((0,M.defaults)({dataIndexInside:vn,dataIndex:r.getRawIndex(vn),actionType:wn?wn.type:null},y),p)};function St(vn,wn){for(var Zn in wn)(0,M.hasOwn)(wn,Zn)&&(vn[Zn]=wn[Zn])}function Pt(vn,wn){vn&&(vn.textFill&&(wn.textFill=vn.textFill),vn.textPosition&&(wn.textPosition=vn.textPosition))}}function r7(o){var r={};return(0,M.each)(o.dimensions,function(t){var a=o.getDimensionInfo(t);if(!a.isExtraCoord){var l=a.coordDim;(r[l]=r[l]||[])[a.coordDimIndex]=o.getDimensionIndex(t)}}),r}function s5(o,r,t,a,l,h,d){if(a){var p=Jh(o,r,t,a,l,h);return p&&d.setItemGraphicEl(t,p),p&&(0,er.k5)(p,a.focus,a.blurScope,a.emphasisDisabled),p}h.remove(r)}function Jh(o,r,t,a,l,h){var d=-1,p=r;r&&i7(r,a,l)&&(d=(0,M.indexOf)(h.childrenRef(),r),r=null);var y=!r,x=r;x?x.clearStates():(x=af(a),p&&function t7(o,r){r.copyTransform(o),a5(r)&&a5(o)&&(r.setStyle(o.style),r.z=o.z,r.z2=o.z2,r.zlevel=o.zlevel,r.invisible=o.invisible,r.ignore=o.ignore,f8(r)&&f8(o)&&r.setShape(o.shape))}(p,x)),!1===a.morph?x.disableMorphing=!0:x.disableMorphing&&(x.disableMorphing=!1),j1.normal.cfg=j1.normal.conOpt=j1.emphasis.cfg=j1.emphasis.conOpt=j1.blur.cfg=j1.blur.conOpt=j1.select.cfg=j1.select.conOpt=null,j1.isLegacy=!1,function G9(o,r,t,a,l,h){if(!o.isGroup){a7(t,null,h),a7(t,W4,h);var d=h.normal.conOpt;if(null!=d||null!=h.emphasis.conOpt||null!=h.select.conOpt||null!=h.blur.conOpt){var w=o.getTextContent();if(!1===d)w&&o.removeTextContent();else{d=h.normal.conOpt=d||{type:"text"},w?w.clearStates():(w=af(d),o.setTextContent(w)),o5(null,w,r,d,null,a,l);for(var z=d&&d.style,V=0;V<hc.length;V++){var k=hc[V];if(k!==C1)n7(k,w,0,lf(d,h[k].conOpt,k),null)}z?w.dirty():w.markRedraw()}}}}(x,t,a,l,y,j1),function Y9(o,r,t,a,l){var h=t.clipPath;if(!1===h)o&&o.getClipPath()&&o.removeClipPath();else if(h){var d=o.getClipPath();d&&i7(d,h,a)&&(d=null),d||(d=af(h),o.setClipPath(d)),o5(null,d,r,h,null,a,l)}}(x,t,a,l,y),o5(o,x,t,a,j1,l,y),(0,M.hasOwn)(a,"info")&&(Yc(x).info=a.info);for(var w=0;w<hc.length;w++){var z=hc[w];if(z!==C1)n7(z,x,0,lf(a,qh(a,z),z),j1)}return function om(o,r,t){if(!o.isGroup){var a=o,h=t.currentZLevel;a.z=t.currentZ,a.zlevel=h;var d=r.z2;null!=d&&(a.z2=d||0);for(var p=0;p<hc.length;p++)sm(a,r,hc[p])}}(x,a,l),"group"===a.type&&function lm(o,r,t,a,l){var h=a.children,d=h?h.length:0,p=a.$mergeChildren,y="byName"===p||a.diffChildrenByName,x=!1===p;if(d||y||x){if(y)return void function o7(o){new di.Z(o.oldChildren,o.newChildren,s7,s7,o).add(l5).update(l5).remove(l7).execute()}({api:o,oldChildren:r.children()||[],newChildren:h||[],dataIndex:t,seriesModel:l,group:r});x&&r.removeAll();for(var w=0;w<d;w++){var z=h[w],V=r.childAt(w);z?(null==z.ignore&&(z.ignore=!1),Jh(o,V,t,z,l,r)):V.ignore=!0}for(var k=r.childCount()-1;k>=w;k--){var J=r.childAt(k);Q3(r,J,l)}}}(o,x,t,a,l),d>=0?h.replaceAt(x,d):h.add(x),x}function i7(o,r,t){var a=Yc(o),l=r.type,h=r.shape,d=r.style;return t.isUniversalTransitionEnabled()||null!=l&&l!==a.customGraphicType||"path"===l&&function Z4(o){return o&&((0,M.hasOwn)(o,"pathData")||(0,M.hasOwn)(o,"d"))}(h)&&v8(h)!==a.customPathData||"image"===l&&(0,M.hasOwn)(d,"image")&&d.image!==a.customImagePath}function a7(o,r,t){var a=r?qh(o,r):o,l=r?lf(o,a,W4):o.style,h=o.type,d=a?a.textConfig:null,p=o.textContent,y=p?r?qh(p,r):p:null;if(l&&(t.isLegacy||Qd(l,h,!!d,!!y))){t.isLegacy=!0;var x=Jd(l,h,!r);!d&&x.textConfig&&(d=x.textConfig),!y&&x.textContent&&(y=x.textContent)}!r&&y&&!y.type&&(y.type="text");var z=r?t[r]:t.normal;z.cfg=d,z.conOpt=y}function qh(o,r){return r?o?o[r]:null:o}function lf(o,r,t){var a=r&&r.style;return null==a&&t===W4&&o&&(a=o.styleEmphasis),a}function Q3(o,r,t){r&&I2(r,Yc(o).option,t)}function s7(o,r){return(o&&o.name)??rm+r}function l5(o,r){var t=this.context;Jh(t.api,null!=r?t.oldChildren[r]:null,t.dataIndex,null!=o?t.newChildren[o]:null,t.seriesModel,t.group)}function l7(o){var r=this.context,t=r.oldChildren[o];t&&I2(t,Yc(t).option,r.seriesModel)}function v8(o){return o&&(o.pathData||o.d)}var K4=(0,Hr.Yf)(),Ys=M.clone,R2=M.bind;function V2(o,r,t,a){J3(K4(t).lastProp,a)||(K4(t).lastProp=a,r?Bn.D(t,a,o):(t.stopAnimation(),t.attr(a)))}function J3(o,r){if(M.isObject(o)&&M.isObject(r)){var t=!0;return M.each(r,function(a,l){t=t&&J3(o[l],a)}),!!t}return o===r}function c7(o,r){o[r.get(["label","show"])?"show":"hide"]()}function e6(o){return{x:o.x||0,y:o.y||0,rotation:o.rotation||0}}function t6(o,r,t){var a=r.get("z"),l=r.get("zlevel");o&&o.traverse(function(h){"group"!==h.type&&(null!=a&&(h.z=a),null!=l&&(h.zlevel=l),h.silent=t)})}const u5=function(){function o(){this._dragging=!1,this.animationThreshold=15}return o.prototype.render=function(r,t,a,l){var h=t.get("value"),d=t.get("status");if(this._axisModel=r,this._axisPointerModel=t,this._api=a,l||this._lastValue!==h||this._lastStatus!==d){this._lastValue=h,this._lastStatus=d;var p=this._group,y=this._handle;if(!d||"hide"===d)return p&&p.hide(),void(y&&y.hide());p&&p.show(),y&&y.show();var x={};this.makeElOption(x,h,r,t,a);var w=x.graphicKey;w!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=w;var z=this._moveAnimation=this.determineAnimation(r,t);if(p){var V=M.curry(V2,t,z);this.updatePointerEl(p,x,V),this.updateLabelEl(p,x,V,t)}else p=this._group=new yn.Z,this.createPointerEl(p,x,r,t),this.createLabelEl(p,x,r,t),a.getZr().add(p);t6(p,t,!0),this._renderHandle(h)}},o.prototype.remove=function(r){this.clear(r)},o.prototype.dispose=function(r){this.clear(r)},o.prototype.determineAnimation=function(r,t){var a=t.get("animation"),l=r.axis,h="category"===l.type,d=t.get("snap");if(!d&&!h)return!1;if("auto"===a||null==a){var p=this.animationThreshold;if(h&&l.getBandWidth()>p)return!0;if(d){var y=K2(r).seriesDataCount,x=l.getExtent();return Math.abs(x[0]-x[1])/y>p}return!1}return!0===a},o.prototype.makeElOption=function(r,t,a,l,h){},o.prototype.createPointerEl=function(r,t,a,l){var h=t.pointer;if(h){var d=K4(r).pointerEl=new dr[h.type](Ys(t.pointer));r.add(d)}},o.prototype.createLabelEl=function(r,t,a,l){if(t.label){var h=K4(r).labelEl=new Yt.ZP(Ys(t.label));r.add(h),c7(h,l)}},o.prototype.updatePointerEl=function(r,t,a){var l=K4(r).pointerEl;l&&t.pointer&&(l.setStyle(t.pointer.style),a(l,{shape:t.pointer.shape}))},o.prototype.updateLabelEl=function(r,t,a,l){var h=K4(r).labelEl;h&&(h.setStyle(t.label.style),a(h,{x:t.label.x,y:t.label.y}),c7(h,l))},o.prototype._renderHandle=function(r){if(!this._dragging&&this.updateHandleTransform){var p,t=this._axisPointerModel,a=this._api.getZr(),l=this._handle,h=t.getModel("handle"),d=t.get("status");if(!h.get("show")||!d||"hide"===d)return l&&a.remove(l),void(this._handle=null);this._handle||(p=!0,l=this._handle=dr.createIcon(h.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(x){nl.sT(x.event)},onmousedown:R2(this._onHandleDragMove,this,0,0),drift:R2(this._onHandleDragMove,this),ondragend:R2(this._onHandleDragEnd,this)}),a.add(l)),t6(l,t,!1),l.setStyle(h.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var y=h.get("size");M.isArray(y)||(y=[y,y]),l.scaleX=y[0]/2,l.scaleY=y[1]/2,ho.T9(this,"_doDispatchAxisPointer",h.get("throttle")||0,"fixRate"),this._moveHandleToValue(r,p)}},o.prototype._moveHandleToValue=function(r,t){V2(this._axisPointerModel,!t&&this._moveAnimation,this._handle,e6(this.getHandleTransform(r,this._axisModel,this._axisPointerModel)))},o.prototype._onHandleDragMove=function(r,t){var a=this._handle;if(a){this._dragging=!0;var l=this.updateHandleTransform(e6(a),[r,t],this._axisModel,this._axisPointerModel);this._payloadInfo=l,a.stopAnimation(),a.attr(e6(l)),K4(a).lastProp=null,this._doDispatchAxisPointer()}},o.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},o.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},o.prototype.clear=function(r){this._lastValue=null,this._lastStatus=null;var t=r.getZr(),a=this._group,l=this._handle;t&&a&&(this._lastGraphicKey=null,a&&t.remove(a),l&&t.remove(l),this._group=null,this._handle=null,this._payloadInfo=null),ho.ZH(this,"_doDispatchAxisPointer")},o.prototype.doClear=function(){},o.prototype.buildLabel=function(r,t,a){return{x:r[a=a||0],y:r[1-a],width:t[a],height:t[1-a]}},o}();function h5(o){var a,r=o.get("type"),t=o.getModel(r+"Style");return"line"===r?(a=t.getLineStyle()).fill=null:"shadow"===r&&((a=t.getAreaStyle()).stroke=null),a}function d5(o,r,t,a,l){var d=u7(t.get("value"),r.axis,r.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),p=t.getModel("label"),y=Ia.MY(p.get("padding")||0),x=p.getFont(),w=Me.lP(d,x),z=l.position,V=w.width+y[1]+y[3],k=w.height+y[0]+y[2],J=l.align;"right"===J&&(z[0]-=V),"center"===J&&(z[0]-=V/2);var ue=l.verticalAlign;"bottom"===ue&&(z[1]-=k),"middle"===ue&&(z[1]-=k/2),function f5(o,r,t,a){var l=a.getWidth(),h=a.getHeight();o[0]=Math.min(o[0]+r,l)-r,o[1]=Math.min(o[1]+t,h)-t,o[0]=Math.max(o[0],0),o[1]=Math.max(o[1],0)}(z,V,k,a);var xe=p.get("backgroundColor");(!xe||"auto"===xe)&&(xe=r.get(["axisLine","lineStyle","color"])),o.label={x:z[0],y:z[1],style:(0,hr.Lr)(p,{text:d,font:x,fill:p.getTextColor(),padding:y,backgroundColor:xe}),z2:10}}function u7(o,r,t,a,l){o=r.scale.parse(o);var h=r.scale.getLabel({value:o},{precision:l.precision}),d=l.formatter;if(d){var p={value:io.DX(r,{value:o}),axisDimension:r.dim,axisIndex:r.index,seriesData:[]};M.each(a,function(y){var x=t.getSeriesByIndex(y.seriesIndex),z=x&&x.getDataParams(y.dataIndexInside);z&&p.seriesData.push(z)}),M.isString(d)?h=d.replace("{value}",h):M.isFunction(d)&&(h=d(p))}return h}function dc(o,r,t){var a=Ji.create();return Ji.rotate(a,a,t.rotation),Ji.translate(a,a,t.position),dr.applyTransform([o.dataToCoord(r),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],a)}function p8(o,r,t,a,l,h){var d=h1.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=l.get(["label","margin"]),d5(r,a,l,h,{position:dc(a.axis,o,t),align:d.textAlign,verticalAlign:d.textVerticalAlign})}function g8(o,r,t){return{x1:o[t=t||0],y1:o[1-t],x2:r[t],y2:r[1-t]}}function cm(o,r,t){return{x:o[t=t||0],y:o[1-t],width:r[t],height:r[1-t]}}function h7(o,r,t,a,l,h){return{cx:o,cy:r,r0:t,r:a,startAngle:l,endAngle:h,clockwise:!0}}var um=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.makeElOption=function(t,a,l,h,d){var p=l.axis,y=p.grid,x=h.get("type"),w=R0(y,p).getOtherAxis(p).getGlobalExtent(),z=p.toGlobalCoord(p.dataToCoord(a,!0));if(x&&"none"!==x){var V=h5(h),k=j9[x](p,z,w);k.style=V,t.graphicKey=k.type,t.pointer=k}p8(a,t,Q1(y.model,l),l,h,d)},r.prototype.getHandleTransform=function(t,a,l){var h=Q1(a.axis.grid.model,a,{labelInside:!1});h.labelMargin=l.get(["handle","margin"]);var d=dc(a.axis,t,h);return{x:d[0],y:d[1],rotation:h.rotation+(h.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(t,a,l,h){var d=l.axis,p=d.grid,y=d.getGlobalExtent(!0),x=R0(p,d).getOtherAxis(d).getGlobalExtent(),w="x"===d.dim?0:1,z=[t.x,t.y];z[w]+=a[w],z[w]=Math.min(y[1],z[w]),z[w]=Math.max(y[0],z[w]);var V=(x[1]+x[0])/2,k=[V,V];return k[w]=z[w],{x:z[0],y:z[1],rotation:t.rotation,cursorPoint:k,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][w]}},r}(u5);function R0(o,r){var t={};return t[r.dim+"AxisIndex"]=r.index,o.getCartesian(t)}var j9={line:function(o,r,t){return{type:"Line",subPixelOptimize:!0,shape:g8([r,t[0]],[r,t[1]],v5(o))}},shadow:function(o,r,t){var a=Math.max(1,o.getBandWidth());return{type:"Rect",shape:cm([r-a/2,t[0]],[a,t[1]-t[0]],v5(o))}}};function v5(o){return"x"===o.dim?0:1}const hm=um,d7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="axisPointer",r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},r}(va.Z);var $l=C(8519),H2=(0,Hr.Yf)(),m8=M.each;function f7(o,r,t){if(!$l.Z.node){var a=r.getZr();H2(a).records||(H2(a).records={}),function n6(o,r){function t(a,l){o.on(a,function(h){var d=function p7(o){var r={showTip:[],hideTip:[]},t=function(a){var l=r[a.type];l?l.push(a):(a.dispatchAction=t,o.dispatchAction(a))};return{dispatchAction:t,pendings:r}}(r);m8(H2(o).records,function(p){p&&l(p,h,d.dispatchAction)}),function v7(o,r){var l,t=o.showTip.length,a=o.hideTip.length;t?l=o.showTip[t-1]:a&&(l=o.hideTip[a-1]),l&&(l.dispatchAction=null,r.dispatchAction(l))}(d.pendings,r)})}H2(o).initialized||(H2(o).initialized=!0,t("click",M.curry(g5,"click")),t("mousemove",M.curry(g5,"mousemove")),t("globalout",p5))}(a,r),(H2(a).records[o]||(H2(a).records[o]={})).handler=t}}function p5(o,r,t){o.handler("leave",null,t)}function g5(o,r,t,a){r.handler(o,t,a)}function cf(o,r){if(!$l.Z.node){var t=r.getZr();(H2(t).records||{})[o]&&(H2(t).records[o]=null)}}const g7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=a.getComponent("tooltip"),d=t.get("triggerOn")||h&&h.get("triggerOn")||"mousemove|click";f7("axisPointer",l,function(p,y,x){"none"!==d&&("leave"===p||d.indexOf(p)>=0)&&x({type:"updateAxisPointer",currTrigger:p,x:y&&y.offsetX,y:y&&y.offsetY})})},r.prototype.remove=function(t,a){cf("axisPointer",a)},r.prototype.dispose=function(t,a){cf("axisPointer",a)},r.type="axisPointer",r}(xa.Z);function N2(o,r){var l,t=[],a=o.seriesIndex;if(null==a||!(l=r.getSeriesByIndex(a)))return{point:[]};var h=l.getData(),d=Hr.gO(h,o);if(null==d||d<0||M.isArray(d))return{point:[]};var p=h.getItemGraphicEl(d),y=l.coordinateSystem;if(l.getTooltipPosition)t=l.getTooltipPosition(d)||[];else if(y&&y.dataToPoint)if(o.isStacked){var x=y.getBaseAxis(),z=y.getOtherAxis(x).dim,k="x"===z||"radius"===z?1:0,J=h.mapDimension(x.dim),ue=[];ue[k]=h.get(J,d),ue[1-k]=h.get(h.getCalculationInfo("stackResultDimension"),d),t=y.dataToPoint(ue)||[]}else t=y.dataToPoint(h.getValues(M.map(y.dimensions,function(ze){return h.mapDimension(ze)}),d))||[];else if(p){var xe=p.getBoundingRect().clone();xe.applyTransform(p.transform),t=[xe.x+xe.width/2,xe.y+xe.height/2]}return{point:t,el:p}}var Zc=(0,Hr.Yf)();function m5(o,r,t){var a=o.currTrigger,l=[o.x,o.y],h=o,d=o.dispatchAction||(0,M.bind)(t.dispatchAction,t),p=r.getComponent("axisPointer").coordSysAxesInfo;if(p){y8(l)&&(l=N2({seriesIndex:h.seriesIndex,dataIndex:h.dataIndex},r).point);var y=y8(l),x=h.axesInfo,w=p.axesInfo,z="leave"===a||y8(l),V={},k={},J={list:[],map:{}},ue={showPointer:(0,M.curry)(m7,k),showTooltip:(0,M.curry)(y7,J)};(0,M.each)(p.coordSysMap,function(ze,Re){var Ie=y||ze.containPoint(l);(0,M.each)(p.coordSysAxesInfo[Re],function(Ge,Qe){var $e=Ge.axis,ut=function fm(o,r){for(var t=0;t<(o||[]).length;t++){var a=o[t];if(r.axis.dim===a.axisDim&&r.axis.model.componentIndex===a.axisIndex)return a}}(x,Ge);if(!z&&Ie&&(!x||ut)){var St=ut&&ut.value;null==St&&!y&&(St=$e.pointToData(l)),null!=St&&B2(Ge,St,ue,!1,V)}})});var xe={};return(0,M.each)(w,function(ze,Re){var Ie=ze.linkGroup;Ie&&!k[Re]&&(0,M.each)(Ie.axesInfo,function(Ge,Qe){var $e=k[Qe];if(Ge!==ze&&$e){var ut=$e.value;Ie.mapper&&(ut=ze.axis.scale.parse(Ie.mapper(ut,_5(Ge),_5(ze)))),xe[ze.key]=ut}})}),(0,M.each)(xe,function(ze,Re){B2(w[Re],ze,ue,!0,V)}),function Eo(o,r,t){var a=t.axesInfo=[];(0,M.each)(r,function(l,h){var d=l.axisPointerModel.option,p=o[h];p?(!l.useHandle&&(d.status="show"),d.value=p.value,d.seriesDataIndices=(p.payloadBatch||[]).slice()):!l.useHandle&&(d.status="hide"),"show"===d.status&&a.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:d.value})})}(k,w,V),function y5(o,r,t,a){if(!y8(r)&&o.list.length){var l=((o.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:r[0],y:r[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:o.list})}else a({type:"hideTip"})}(J,l,o,d),function hf(o,r,t){var a=t.getZr(),l="axisPointerLastHighlights",h=Zc(a)[l]||{},d=Zc(a)[l]={};(0,M.each)(o,function(x,w){var z=x.axisPointerModel.option;"show"===z.status&&(0,M.each)(z.seriesDataIndices,function(V){d[V.seriesIndex+" | "+V.dataIndex]=V})});var p=[],y=[];(0,M.each)(h,function(x,w){!d[w]&&y.push(x)}),(0,M.each)(d,function(x,w){!h[w]&&p.push(x)}),y.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:y}),p.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:p})}(w,0,t),V}}function B2(o,r,t,a,l){var h=o.axis;if(!h.scale.isBlank()&&h.containData(r)){if(!o.involveSeries)return void t.showPointer(o,r);var d=function uf(o,r){var t=r.axis,a=t.dim,l=o,h=[],d=Number.MAX_VALUE,p=-1;return(0,M.each)(r.seriesModels,function(y,x){var z,V,w=y.getData().mapDimensionsAll(a);if(y.getAxisTooltipData){var k=y.getAxisTooltipData(w,o,t);V=k.dataIndices,z=k.nestestValue}else{if(!(V=y.getData().indicesOfNearest(w[0],o,"category"===t.type?.5:null)).length)return;z=y.getData().get(w[0],V[0])}if(null!=z&&isFinite(z)){var J=o-z,ue=Math.abs(J);ue<=d&&((ue<d||J>=0&&p<0)&&(d=ue,p=J,l=z,h.length=0),(0,M.each)(V,function(xe){h.push({seriesIndex:y.seriesIndex,dataIndexInside:xe,dataIndex:y.getData().getRawIndex(xe)})}))}}),{payloadBatch:h,snapToValue:l}}(r,o),p=d.payloadBatch,y=d.snapToValue;p[0]&&null==l.seriesIndex&&(0,M.extend)(l,p[0]),!a&&o.snap&&h.containData(y)&&null!=y&&(r=y),t.showPointer(o,r,p),t.showTooltip(o,d,y)}}function m7(o,r,t,a){o[r.key]={value:t,payloadBatch:a}}function y7(o,r,t,a){var l=t.payloadBatch,h=r.axis,d=h.model,p=r.axisPointerModel;if(r.triggerTooltip&&l.length){var y=r.coordSys.model,x=He(y),w=o.map[x];w||(w=o.map[x]={coordSysId:y.id,coordSysIndex:y.componentIndex,coordSysType:y.type,coordSysMainType:y.mainType,dataByAxis:[]},o.list.push(w)),w.dataByAxis.push({axisDim:h.dim,axisIndex:d.componentIndex,axisType:d.type,axisId:d.id,value:a,valueLabelOpt:{precision:p.get(["label","precision"]),formatter:p.get(["label","formatter"])},seriesDataIndices:l.slice()})}}function _5(o){var r=o.axis.model,t={},a=t.axisDim=o.axis.dim;return t.axisIndex=t[a+"AxisIndex"]=r.componentIndex,t.axisName=t[a+"AxisName"]=r.name,t.axisId=t[a+"AxisId"]=r.id,t}function y8(o){return!o||null==o[0]||isNaN(o[0])||null==o[1]||isNaN(o[1])}function _8(o){tt.registerAxisPointerClass("CartesianAxisPointer",hm),o.registerComponentModel(d7),o.registerComponentView(g7),o.registerPreprocessor(function(r){if(r){(!r.axisPointer||0===r.axisPointer.length)&&(r.axisPointer={});var t=r.axisPointer.link;t&&!(0,M.isArray)(t)&&(r.axisPointer.link=[t])}}),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,function(r,t){r.getComponent("axisPointer").coordSysAxesInfo=function m6(o,r){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function K0(o,r,t){var a=r.getComponent("tooltip"),l=r.getComponent("axisPointer"),h=l.get("link",!0)||[],d=[];(0,M.each)(t.getCoordinateSystems(),function(p){if(p.axisPointerEnabled){var y=He(p.model),x=o.coordSysAxesInfo[y]={};o.coordSysMap[y]=p;var z=p.model.getModel("tooltip",a);if((0,M.each)(p.getAxes(),(0,M.curry)(ue,!1,null)),p.getTooltipAxes&&a&&z.get("show")){var V="axis"===z.get("trigger"),k="cross"===z.get(["axisPointer","type"]),J=p.getTooltipAxes(z.get(["axisPointer","axis"]));(V||k)&&(0,M.each)(J.baseAxes,(0,M.curry)(ue,!k||"cross",V)),k&&(0,M.each)(J.otherAxes,(0,M.curry)(ue,"cross",!1))}}function ue(xe,ze,Re){var Ie=Re.model.getModel("axisPointer",l),Ge=Ie.get("show");if(Ge&&("auto"!==Ge||xe||Te(Ie))){null==ze&&(ze=Ie.get("triggerTooltip")),Ie=xe?function Bs(o,r,t,a,l,h){var d=r.getModel("axisPointer"),y={};(0,M.each)(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(V){y[V]=(0,M.clone)(d.get(V))}),y.snap="category"!==o.type&&!!h,"cross"===d.get("type")&&(y.type="line");var x=y.label||(y.label={});if(null==x.show&&(x.show=!1),"cross"===l){var w=d.get(["label","show"]);if(x.show=w??!0,!h){var z=y.lineStyle=d.get("crossStyle");z&&(0,M.defaults)(x,z.textStyle)}}return o.model.getModel("axisPointer",new Fo.Z(y,t,a))}(Re,z,l,r,xe,ze):Ie;var Qe=Ie.get("snap"),$e=He(Re.model),ut=ze||Qe||"category"===Re.type,St=o.axesInfo[$e]={key:$e,axis:Re,coordSys:p,axisPointerModel:Ie,triggerTooltip:ze,involveSeries:ut,snap:Qe,useHandle:Te(Ie),seriesModels:[],linkGroup:null};x[$e]=St,o.seriesInvolved=o.seriesInvolved||ut;var Pt=function R8(o,r){for(var t=r.model,a=r.dim,l=0;l<o.length;l++){var h=o[l]||{};if(Ll(h[a+"AxisId"],t.id)||Ll(h[a+"AxisIndex"],t.componentIndex)||Ll(h[a+"AxisName"],t.name))return l}}(h,Re);if(null!=Pt){var Vt=d[Pt]||(d[Pt]={axesInfo:{}});Vt.axesInfo[$e]=St,Vt.mapper=h[Pt].mapper,St.linkGroup=Vt}}}})}(t,o,r),t.seriesInvolved&&function J1(o,r){r.eachSeries(function(t){var a=t.coordinateSystem,l=t.get(["tooltip","trigger"],!0),h=t.get(["tooltip","show"],!0);!a||"none"===l||!1===l||"item"===l||!1===h||!1===t.get(["axisPointer","show"],!0)||(0,M.each)(o.coordSysAxesInfo[He(a.model)],function(d){var p=d.axis;a.getAxis(p.dim)===p&&(d.seriesModels.push(t),null==d.seriesDataCount&&(d.seriesDataCount=0),d.seriesDataCount+=t.getData().count())})})}(t,o),t}(r,t)}),o.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},m5)}var vm=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.makeElOption=function(t,a,l,h,d){var p=l.axis;"angle"===p.dim&&(this.animationThreshold=Math.PI/18);var y=p.polar,w=y.getOtherAxis(p).getExtent(),z=p.dataToCoord(a),V=h.get("type");if(V&&"none"!==V){var k=h5(h),J=gm[V](p,y,z,w);J.style=k,t.graphicKey=J.type,t.pointer=J}var xe=function pm(o,r,t,a,l){var h=r.axis,d=h.dataToCoord(o),p=a.getAngleAxis().getExtent()[0];p=p/180*Math.PI;var x,w,z,y=a.getRadiusAxis().getExtent();if("radius"===h.dim){var V=Ji.create();Ji.rotate(V,V,p),Ji.translate(V,V,[a.cx,a.cy]),x=dr.applyTransform([d,-l],V);var k=r.getModel("axisLabel").get("rotate")||0,J=h1.innerTextLayout(p,k*Math.PI/180,-1);w=J.textAlign,z=J.textVerticalAlign}else{var ue=y[1];x=a.coordToPoint([ue+l,d]);var xe=a.cx,ze=a.cy;w=Math.abs(x[0]-xe)/ue<.3?"center":x[0]>xe?"left":"right",z=Math.abs(x[1]-ze)/ue<.3?"middle":x[1]>ze?"top":"bottom"}return{position:x,align:w,verticalAlign:z}}(a,l,0,y,h.get(["label","margin"]));d5(t,l,h,d,xe)},r}(u5),gm={line:function(o,r,t,a){return"angle"===o.dim?{type:"Line",shape:g8(r.coordToPoint([a[0],t]),r.coordToPoint([a[1],t]))}:{type:"Circle",shape:{cx:r.cx,cy:r.cy,r:t}}},shadow:function(o,r,t,a){var l=Math.max(1,o.getBandWidth()),h=Math.PI/180;return"angle"===o.dim?{type:"Sector",shape:h7(r.cx,r.cy,a[0],a[1],(-t-l/2)*h,(l/2-t)*h)}:{type:"Sector",shape:h7(r.cx,r.cy,t-l/2,t+l/2,0,2*Math.PI)}}};const mm=vm,M7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.findAxisModel=function(t){var a;return this.ecModel.eachComponent(t,function(h){h.getCoordSysModel()===this&&(a=h)},this),a},r.type="polar",r.dependencies=["radiusAxis","angleAxis"],r.defaultOption={z:0,center:["50%","50%"],radius:"80%"},r}(va.Z);var x8=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Hr.C6).models[0]},r.type="polarAxis",r}(va.Z);M.mixin(x8,xs.W);var ym=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="angleAxis",r}(x8),_m=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="radiusAxis",r}(x8),b8=function(o){function r(t,a){return o.call(this,"radius",t,a)||this}return(0,st.ZT)(r,o),r.prototype.pointToData=function(t,a){return this.polar.pointToData(t,a)["radius"===this.dim?0:1]},r}(Al.Z);b8.prototype.dataToRadius=Al.Z.prototype.dataToCoord,b8.prototype.radiusToData=Al.Z.prototype.coordToData;const x7=b8;var b7=(0,Hr.Yf)(),M5=function(o){function r(t,a){return o.call(this,"angle",t,a||[0,360])||this}return(0,st.ZT)(r,o),r.prototype.pointToData=function(t,a){return this.polar.pointToData(t,a)["radius"===this.dim?0:1]},r.prototype.calculateCategoryInterval=function(){var t=this,a=t.getLabelModel(),l=t.scale,h=l.getExtent(),d=l.count();if(h[1]-h[0]<1)return 0;var p=h[0],y=t.dataToCoord(p+1)-t.dataToCoord(p),x=Math.abs(y),w=Me.lP(null==p?"":p+"",a.getFont(),"center","top"),V=Math.max(w.height,7)/x;isNaN(V)&&(V=1/0);var k=Math.max(0,Math.floor(V)),J=b7(t.model),ue=J.lastAutoInterval,xe=J.lastTickCount;return null!=ue&&null!=xe&&Math.abs(ue-k)<=1&&Math.abs(xe-d)<=1&&ue>k?k=ue:(J.lastTickCount=d,J.lastAutoInterval=k),k},r}(Al.Z);M5.prototype.dataToAngle=Al.Z.prototype.dataToCoord,M5.prototype.angleToData=Al.Z.prototype.coordToData;const Mm=M5;var df=["radius","angle"];function w7(o){var r=o.seriesModel,t=o.polarModel;return t&&t.coordinateSystem||r&&r.coordinateSystem}const S7=function(){function o(r){this.dimensions=df,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new x7,this._angleAxis=new Mm,this.axisPointerEnabled=!0,this.name=r||"",this._radiusAxis.polar=this._angleAxis.polar=this}return o.prototype.containPoint=function(r){var t=this.pointToCoord(r);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},o.prototype.containData=function(r){return this._radiusAxis.containData(r[0])&&this._angleAxis.containData(r[1])},o.prototype.getAxis=function(r){return this["_"+r+"Axis"]},o.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},o.prototype.getAxesByScale=function(r){var t=[],a=this._angleAxis,l=this._radiusAxis;return a.scale.type===r&&t.push(a),l.scale.type===r&&t.push(l),t},o.prototype.getAngleAxis=function(){return this._angleAxis},o.prototype.getRadiusAxis=function(){return this._radiusAxis},o.prototype.getOtherAxis=function(r){var t=this._angleAxis;return r===t?this._radiusAxis:t},o.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},o.prototype.getTooltipAxes=function(r){var t=null!=r&&"auto"!==r?this.getAxis(r):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},o.prototype.dataToPoint=function(r,t){return this.coordToPoint([this._radiusAxis.dataToRadius(r[0],t),this._angleAxis.dataToAngle(r[1],t)])},o.prototype.pointToData=function(r,t){var a=this.pointToCoord(r);return[this._radiusAxis.radiusToData(a[0],t),this._angleAxis.angleToData(a[1],t)]},o.prototype.pointToCoord=function(r){var t=r[0]-this.cx,a=r[1]-this.cy,l=this.getAngleAxis(),h=l.getExtent(),d=Math.min(h[0],h[1]),p=Math.max(h[0],h[1]);l.inverse?d=p-360:p=d+360;var y=Math.sqrt(t*t+a*a);t/=y,a/=y;for(var x=Math.atan2(-a,t)/Math.PI*180,w=x<d?1:-1;x<d||x>p;)x+=360*w;return[y,x]},o.prototype.coordToPoint=function(r){var t=r[0],a=r[1]/180*Math.PI;return[Math.cos(a)*t+this.cx,-Math.sin(a)*t+this.cy]},o.prototype.getArea=function(){var r=this.getAngleAxis(),a=this.getRadiusAxis().getExtent().slice();a[0]>a[1]&&a.reverse();var l=r.getExtent(),h=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:a[0],r:a[1],startAngle:-l[0]*h,endAngle:-l[1]*h,clockwise:r.inverse,contain:function(d,p){var y=d-this.cx,x=p-this.cy,w=y*y+x*x-1e-4,z=this.r,V=this.r0;return w<=z*z&&w>=V*V}}},o.prototype.convertToPixel=function(r,t,a){return w7(t)===this?this.dataToPoint(a):null},o.prototype.convertFromPixel=function(r,t,a){return w7(t)===this?this.pointToData(a):null},o}();function bm(o,r){var t=this,a=t.getAngleAxis(),l=t.getRadiusAxis();if(a.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),o.eachSeries(function(p){if(p.coordinateSystem===t){var y=p.getData();M.each((0,io.PY)(y,"radius"),function(x){l.scale.unionExtentFromData(y,x)}),M.each((0,io.PY)(y,"angle"),function(x){a.scale.unionExtentFromData(y,x)})}}),(0,io.Jk)(a.scale,a.model),(0,io.Jk)(l.scale,l.model),"category"===a.type&&!a.onBand){var h=a.getExtent(),d=360/a.scale.count();a.inverse?h[1]+=d:h[1]-=d,a.setExtent(h[0],h[1])}}function V0(o,r){if(o.type=r.get("type"),o.scale=(0,io.aG)(r),o.onBand=r.get("boundaryGap")&&"category"===o.type,o.inverse=r.get("inverse"),function x5(o){return"angleAxis"===o.mainType}(r)){o.inverse=o.inverse!==r.get("clockwise");var t=r.get("startAngle");o.setExtent(t,t+(o.inverse?-360:360))}r.axis=o,o.model=r}const C7={dimensions:df,create:function(o,r){var t=[];return o.eachComponent("polar",function(a,l){var h=new S7(l+"");h.update=bm;var d=h.getRadiusAxis(),p=h.getAngleAxis(),y=a.findAxisModel("radiusAxis"),x=a.findAxisModel("angleAxis");V0(d,y),V0(p,x),function ff(o,r,t){var a=r.get("center"),l=t.getWidth(),h=t.getHeight();o.cx=(0,In.GM)(a[0],l),o.cy=(0,In.GM)(a[1],h);var d=o.getRadiusAxis(),p=Math.min(l,h)/2,y=r.get("radius");null==y?y=[0,"100%"]:M.isArray(y)||(y=[0,y]);var x=[(0,In.GM)(y[0],p),(0,In.GM)(y[1],p)];d.inverse?d.setExtent(x[1],x[0]):d.setExtent(x[0],x[1])}(h,a,r),t.push(h),a.coordinateSystem=h,h.model=a}),o.eachSeries(function(a){if("polar"===a.get("coordinateSystem")){var l=a.getReferringComponents("polar",Hr.C6).models[0];a.coordinateSystem=l.coordinateSystem}}),t}};var Ds=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Vo(o,r,t){r[1]>r[0]&&(r=r.slice().reverse());var a=o.coordToPoint([r[0],t]),l=o.coordToPoint([r[1],t]);return{x1:a[0],y1:a[1],x2:l[0],y2:l[1]}}function Hl(o){return o.getRadiusAxis().inverse?0:1}function $4(o){var r=o[0],t=o[o.length-1];r&&t&&Math.abs(Math.abs(r.coord-t.coord)-360)<1e-4&&o.pop()}var r6=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.axisPointerClass="PolarAxisPointer",t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a){if(this.group.removeAll(),t.get("show")){var l=t.axis,h=l.polar,d=h.getRadiusAxis().getExtent(),p=l.getTicksCoords(),y=l.getMinorTicksCoords(),x=M.map(l.getViewLabels(),function(w){w=M.clone(w);var z=l.scale,V="ordinal"===z.type?z.getRawOrdinalNumber(w.tickValue):w.tickValue;return w.coord=l.dataToCoord(V),w});$4(x),$4(p),M.each(Ds,function(w){t.get([w,"show"])&&(!l.scale.isBlank()||"axisLine"===w)&&eu[w](this.group,t,h,p,y,d,x)},this)}},r.type="angleAxis",r}(tt),eu={axisLine:function(o,r,t,a,l,h){var x,d=r.getModel(["axisLine","lineStyle"]),p=Hl(t),y=p?0:1;(x=0===h[y]?new a2.Z({shape:{cx:t.cx,cy:t.cy,r:h[p]},style:d.getLineStyle(),z2:1,silent:!0}):new a4.Z({shape:{cx:t.cx,cy:t.cy,r:h[p],r0:h[y]},style:d.getLineStyle(),z2:1,silent:!0})).style.fill=null,o.add(x)},axisTick:function(o,r,t,a,l,h){var d=r.getModel("axisTick"),p=(d.get("inside")?-1:1)*d.get("length"),y=h[Hl(t)],x=M.map(a,function(w){return new Ns.Z({shape:Vo(t,[y,y+p],w.coord)})});o.add(dr.mergePath(x,{style:M.defaults(d.getModel("lineStyle").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})}))},minorTick:function(o,r,t,a,l,h){if(l.length){for(var d=r.getModel("axisTick"),p=r.getModel("minorTick"),y=(d.get("inside")?-1:1)*p.get("length"),x=h[Hl(t)],w=[],z=0;z<l.length;z++)for(var V=0;V<l[z].length;V++)w.push(new Ns.Z({shape:Vo(t,[x,x+y],l[z][V].coord)}));o.add(dr.mergePath(w,{style:M.defaults(p.getModel("lineStyle").getLineStyle(),M.defaults(d.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(o,r,t,a,l,h,d){var p=r.getCategories(!0),y=r.getModel("axisLabel"),x=y.get("margin"),w=r.get("triggerEvent");M.each(d,function(z,V){var k=y,J=z.tickValue,ue=h[Hl(t)],xe=t.coordToPoint([ue+x,z.coord]),ze=t.cx,Re=t.cy,Ie=Math.abs(xe[0]-ze)/ue<.3?"center":xe[0]>ze?"left":"right",Ge=Math.abs(xe[1]-Re)/ue<.3?"middle":xe[1]>Re?"top":"bottom";if(p&&p[J]){var Qe=p[J];M.isObject(Qe)&&Qe.textStyle&&(k=new Fo.Z(Qe.textStyle,y,y.ecModel))}var $e=new Yt.ZP({silent:h1.isLabelSilent(r),style:(0,hr.Lr)(k,{x:xe[0],y:xe[1],fill:k.getTextColor()||r.get(["axisLine","lineStyle","color"]),text:z.formattedLabel,align:Ie,verticalAlign:Ge})});if(o.add($e),w){var ut=h1.makeAxisEventDataBase(r);ut.targetType="axisLabel",ut.value=z.rawLabel,(0,Qn.A)($e).eventData=ut}},this)},splitLine:function(o,r,t,a,l,h){var p=r.getModel("splitLine").getModel("lineStyle"),y=p.get("color"),x=0;y=y instanceof Array?y:[y];for(var w=[],z=0;z<a.length;z++){var V=x++%y.length;w[V]=w[V]||[],w[V].push(new Ns.Z({shape:Vo(t,h,a[z].coord)}))}for(z=0;z<w.length;z++)o.add(dr.mergePath(w[z],{style:M.defaults({stroke:y[z%y.length]},p.getLineStyle()),silent:!0,z:r.get("z")}))},minorSplitLine:function(o,r,t,a,l,h){if(l.length){for(var p=r.getModel("minorSplitLine").getModel("lineStyle"),y=[],x=0;x<l.length;x++)for(var w=0;w<l[x].length;w++)y.push(new Ns.Z({shape:Vo(t,h,l[x][w].coord)}));o.add(dr.mergePath(y,{style:p.getLineStyle(),silent:!0,z:r.get("z")}))}},splitArea:function(o,r,t,a,l,h){if(a.length){var p=r.getModel("splitArea").getModel("areaStyle"),y=p.get("color"),x=0;y=y instanceof Array?y:[y];for(var w=[],z=Math.PI/180,V=-a[0].coord*z,k=Math.min(h[0],h[1]),J=Math.max(h[0],h[1]),ue=r.get("clockwise"),xe=1,ze=a.length;xe<=ze;xe++){var Re=xe===ze?a[0].coord:a[xe].coord,Ie=x++%y.length;w[Ie]=w[Ie]||[],w[Ie].push(new gi.C({shape:{cx:t.cx,cy:t.cy,r0:k,r:J,startAngle:V,endAngle:-Re*z,clockwise:ue},silent:!0})),V=-Re*z}for(xe=0;xe<w.length;xe++)o.add(dr.mergePath(w[xe],{style:M.defaults({fill:y[xe%y.length]},p.getAreaStyle()),silent:!0}))}}};const Kc=r6;var k2=["axisLine","axisTickLabel","axisName"],W1=["splitLine","splitArea","minorSplitLine"],F2=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.axisPointerClass="PolarAxisPointer",t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a){if(this.group.removeAll(),t.get("show")){var l=this._axisGroup,h=this._axisGroup=new yn.Z;this.group.add(h);var d=t.axis,p=d.polar,y=p.getAngleAxis(),x=d.getTicksCoords(),w=d.getMinorTicksCoords(),z=y.getExtent()[0],V=d.getExtent(),k=function vf(o,r,t){return{position:[o.cx,o.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}}(p,t,z),J=new h1(t,k);M.each(k2,J.add,J),h.add(J.getGroup()),dr.groupTransition(l,h,t),M.each(W1,function(ue){t.get([ue,"show"])&&!d.scale.isBlank()&&H0[ue](this.group,t,p,z,V,x,w)},this)}},r.type="radiusAxis",r}(tt),H0={splitLine:function(o,r,t,a,l,h){var p=r.getModel("splitLine").getModel("lineStyle"),y=p.get("color"),x=0;y=y instanceof Array?y:[y];for(var w=[],z=0;z<h.length;z++){var V=x++%y.length;w[V]=w[V]||[],w[V].push(new a2.Z({shape:{cx:t.cx,cy:t.cy,r:Math.max(h[z].coord,0)}}))}for(z=0;z<w.length;z++)o.add(dr.mergePath(w[z],{style:M.defaults({stroke:y[z%y.length],fill:null},p.getLineStyle()),silent:!0}))},minorSplitLine:function(o,r,t,a,l,h,d){if(d.length){for(var y=r.getModel("minorSplitLine").getModel("lineStyle"),x=[],w=0;w<d.length;w++)for(var z=0;z<d[w].length;z++)x.push(new a2.Z({shape:{cx:t.cx,cy:t.cy,r:d[w][z].coord}}));o.add(dr.mergePath(x,{style:M.defaults({fill:null},y.getLineStyle()),silent:!0}))}},splitArea:function(o,r,t,a,l,h){if(h.length){var p=r.getModel("splitArea").getModel("areaStyle"),y=p.get("color"),x=0;y=y instanceof Array?y:[y];for(var w=[],z=h[0].coord,V=1;V<h.length;V++){var k=x++%y.length;w[k]=w[k]||[],w[k].push(new gi.C({shape:{cx:t.cx,cy:t.cy,r0:z,r:h[V].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),z=h[V].coord}for(V=0;V<w.length;V++)o.add(dr.mergePath(w[V],{style:M.defaults({fill:y[V%y.length]},p.getAreaStyle()),silent:!0}))}}};const b5=F2;function i6(o){return o.get("stack")||"__ec_stack_"+o.seriesIndex}function N0(o,r){return r.dim+o.model.componentIndex}const wm=function T7(o,r,t){var a={},l=function Z1(o){var r={};M.each(o,function(a,l){var h=a.getData(),d=a.coordinateSystem,p=d.getBaseAxis(),y=N0(d,p),x=p.getExtent(),w="category"===p.type?p.getBandWidth():Math.abs(x[1]-x[0])/h.count(),z=r[y]||{bandWidth:w,remainedWidth:w,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},V=z.stacks;r[y]=z;var k=i6(a);V[k]||z.autoWidthCount++,V[k]=V[k]||{width:0,maxWidth:0};var J=(0,In.GM)(a.get("barWidth"),w),ue=(0,In.GM)(a.get("barMaxWidth"),w),xe=a.get("barGap"),ze=a.get("barCategoryGap");J&&!V[k].width&&(J=Math.min(z.remainedWidth,J),V[k].width=J,z.remainedWidth-=J),ue&&(V[k].maxWidth=ue),null!=xe&&(z.gap=xe),null!=ze&&(z.categoryGap=ze)});var t={};return M.each(r,function(a,l){t[l]={};var h=a.stacks,p=(0,In.GM)(a.categoryGap,a.bandWidth),y=(0,In.GM)(a.gap,1),x=a.remainedWidth,w=a.autoWidthCount,z=(x-p)/(w+(w-1)*y);z=Math.max(z,0),M.each(h,function(ue,xe){var ze=ue.maxWidth;ze&&ze<z&&(ze=Math.min(ze,x),ue.width&&(ze=Math.min(ze,ue.width)),x-=ze,ue.width=ze,w--)}),z=(x-p)/(w+(w-1)*y),z=Math.max(z,0);var k,V=0;M.each(h,function(ue,xe){ue.width||(ue.width=z),k=ue,V+=ue.width*(1+y)}),k&&(V-=k.width*y);var J=-V/2;M.each(h,function(ue,xe){t[l][xe]=t[l][xe]||{offset:J,width:ue.width},J+=ue.width*(1+y)})}),t}(M.filter(r.getSeriesByType(o),function(h){return!r.isSeriesFiltered(h)&&h.coordinateSystem&&"polar"===h.coordinateSystem.type}));r.eachSeriesByType(o,function(h){if("polar"===h.coordinateSystem.type){var d=h.getData(),p=h.coordinateSystem,y=p.getBaseAxis(),x=N0(p,y),w=i6(h),z=l[x][w],V=z.offset,k=z.width,J=p.getOtherAxis(y),ue=h.coordinateSystem.cx,xe=h.coordinateSystem.cy,ze=h.get("barMinHeight")||0,Re=h.get("barMinAngle")||0;a[w]=a[w]||[];for(var Ie=d.mapDimension(J.dim),Ge=d.mapDimension(y.dim),Qe=(0,Oa.M)(d,Ie),$e="radius"!==y.dim||!h.get("roundCap",!0),ut=J.dataToCoord(0),St=0,Pt=d.count();St<Pt;St++){var Vt=d.get(Ie,St),kt=d.get(Ge,St),en=Vt>=0?"p":"n",un=ut;Qe&&(a[w][kt]||(a[w][kt]={p:ut,n:ut}),un=a[w][kt][en]);var vn=void 0,wn=void 0,Zn=void 0,ur=void 0;if("radius"===J.dim){var or=J.dataToCoord(Vt)-ut,kr=y.dataToCoord(kt);Math.abs(or)<ze&&(or=(or<0?-1:1)*ze),vn=un,wn=un+or,ur=(Zn=kr-V)-k,Qe&&(a[w][kt][en]=wn)}else{var oi=J.dataToCoord(Vt,$e)-ut,ii=y.dataToCoord(kt);Math.abs(oi)<Re&&(oi=(oi<0?-1:1)*Re),wn=(vn=ii+V)+k,Zn=un,ur=un+oi,Qe&&(a[w][kt][en]=ur)}d.setItemLayout(St,{cx:ue,cy:xe,r0:vn,r:wn,startAngle:-Zn*Math.PI/180,endAngle:-ur*Math.PI/180,clockwise:Zn>=ur})}}})};var D7={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},w5={splitNumber:5},E7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="polar",r}(xa.Z);function pf(o,r){r=r||{};var a=o.axis,l={},h=a.position,d=a.orient,p=o.coordinateSystem.getRect(),y=[p.x,p.x+p.width,p.y,p.y+p.height],x={horizontal:{top:y[2],bottom:y[3]},vertical:{left:y[0],right:y[1]}};l.position=["vertical"===d?x.vertical[h]:y[0],"horizontal"===d?x.horizontal[h]:y[3]],l.rotation=Math.PI/2*{horizontal:0,vertical:1}[d],l.labelDirection=l.tickDirection=l.nameDirection={top:-1,bottom:1,right:1,left:-1}[h],o.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),M.retrieve(r.labelInside,o.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var V=r.rotate;return null==V&&(V=o.get(["axisLabel","rotate"])),l.labelRotation="top"===h?-V:V,l.z2=1,l}var W9=["axisLine","axisTickLabel","axisName"],Sm=["splitArea","splitLine"],gf=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.axisPointerClass="SingleAxisPointer",t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){var d=this.group;d.removeAll();var p=this._axisGroup;this._axisGroup=new yn.Z;var y=pf(t),x=new h1(t,y);M.each(W9,x.add,x),d.add(this._axisGroup),d.add(x.getGroup()),M.each(Sm,function(w){t.get([w,"show"])&&S5[w](this,this.group,this._axisGroup,t)},this),dr.groupTransition(p,this._axisGroup,t),o.prototype.render.call(this,t,a,l,h)},r.prototype.remove=function(){kn(this)},r.type="singleAxis",r}(tt),S5={splitLine:function(o,r,t,a){var l=a.axis;if(!l.scale.isBlank()){var h=a.getModel("splitLine"),d=h.getModel("lineStyle"),p=d.get("color");p=p instanceof Array?p:[p];for(var y=d.get("width"),x=a.coordinateSystem.getRect(),w=l.isHorizontal(),z=[],V=0,k=l.getTicksCoords({tickModel:h}),J=[],ue=[],xe=0;xe<k.length;++xe){var ze=l.toGlobalCoord(k[xe].coord);w?(J[0]=ze,J[1]=x.y,ue[0]=ze,ue[1]=x.y+x.height):(J[0]=x.x,J[1]=ze,ue[0]=x.x+x.width,ue[1]=ze);var Re=new Ns.Z({shape:{x1:J[0],y1:J[1],x2:ue[0],y2:ue[1]},silent:!0});dr.subPixelOptimizeLine(Re.shape,y);var Ie=V++%p.length;z[Ie]=z[Ie]||[],z[Ie].push(Re)}var Ge=d.getLineStyle(["color"]);for(xe=0;xe<z.length;++xe)r.add(dr.mergePath(z[xe],{style:M.defaults({stroke:p[xe%p.length]},Ge),silent:!0}))}},splitArea:function(o,r,t,a){Zt(o,t,a,a)}};const C5=gf;var B0=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.getCoordSysModel=function(){return this},r.type="singleAxis",r.layoutMode="box",r.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},r}(va.Z);(0,M.mixin)(B0,xs.W.prototype);const a6=B0,w8=function(o){function r(t,a,l,h,d){var p=o.call(this,t,a,l)||this;return p.type=h||"value",p.position=d||"bottom",p}return(0,st.ZT)(r,o),r.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},r.prototype.pointToData=function(t,a){return this.coordinateSystem.pointToData(t)[0]},r}(Al.Z);var mf=["single"];function T5(o){var r=o.seriesModel,t=o.singleAxisModel;return t&&t.coordinateSystem||r&&r.coordinateSystem}const k0=function(){function o(r,t,a){this.type="single",this.dimension="single",this.dimensions=mf,this.axisPointerEnabled=!0,this.model=r,this._init(r,t,a)}return o.prototype._init=function(r,t,a){var h=new w8(this.dimension,io.aG(r),[0,0],r.get("type"),r.get("position"));h.onBand="category"===h.type&&r.get("boundaryGap"),h.inverse=r.get("inverse"),h.orient=r.get("orient"),r.axis=h,h.model=r,h.coordinateSystem=this,this._axis=h},o.prototype.update=function(r,t){r.eachSeries(function(a){if(a.coordinateSystem===this){var l=a.getData();(0,M.each)(l.mapDimensionsAll(this.dimension),function(h){this._axis.scale.unionExtentFromData(l,h)},this),io.Jk(this._axis.scale,this._axis.model)}},this)},o.prototype.resize=function(r,t){this._rect=(0,Vr.ME)({left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},o.prototype.getRect=function(){return this._rect},o.prototype._adjustAxis=function(){var r=this._rect,t=this._axis,a=t.isHorizontal(),l=a?[0,r.width]:[0,r.height],h=t.inverse?1:0;t.setExtent(l[h],l[1-h]),this._updateAxisTransform(t,a?r.x:r.y)},o.prototype._updateAxisTransform=function(r,t){var a=r.getExtent(),l=a[0]+a[1],h=r.isHorizontal();r.toGlobalCoord=h?function(d){return d+t}:function(d){return l-d+t},r.toLocalCoord=h?function(d){return d-t}:function(d){return l-d+t}},o.prototype.getAxis=function(){return this._axis},o.prototype.getBaseAxis=function(){return this._axis},o.prototype.getAxes=function(){return[this._axis]},o.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},o.prototype.containPoint=function(r){var t=this.getRect(),a=this.getAxis();return"horizontal"===a.orient?a.contain(a.toLocalCoord(r[0]))&&r[1]>=t.y&&r[1]<=t.y+t.height:a.contain(a.toLocalCoord(r[1]))&&r[0]>=t.y&&r[0]<=t.y+t.height},o.prototype.pointToData=function(r){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(r["horizontal"===t.orient?0:1]))]},o.prototype.dataToPoint=function(r){var t=this.getAxis(),a=this.getRect(),l=[],h="horizontal"===t.orient?0:1;return r instanceof Array&&(r=r[0]),l[h]=t.toGlobalCoord(t.dataToCoord(+r)),l[1-h]=0===h?a.y+a.height/2:a.x+a.width/2,l},o.prototype.convertToPixel=function(r,t,a){return T5(t)===this?this.dataToPoint(a):null},o.prototype.convertFromPixel=function(r,t,a){return T5(t)===this?this.pointToData(a):null},o}(),Tm={create:function P7(o,r){var t=[];return o.eachComponent("singleAxis",function(a,l){var h=new k0(a,o,r);h.name="single_"+l,h.resize(a,r),a.coordinateSystem=h,t.push(h)}),o.eachSeries(function(a){if("singleAxis"===a.get("coordinateSystem")){var l=a.getReferringComponents("singleAxis",Hr.C6).models[0];a.coordinateSystem=l&&l.coordinateSystem}}),t},dimensions:mf};var F0=["x","y"],tu=["width","height"],Dm=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.makeElOption=function(t,a,l,h,d){var p=l.axis,y=p.coordinateSystem,x=Mf(y,1-_f(p)),w=y.dataToPoint(a)[0],z=h.get("type");if(z&&"none"!==z){var V=h5(h),k=Em[z](p,w,x);k.style=V,t.graphicKey=k.type,t.pointer=k}p8(a,t,pf(l),l,h,d)},r.prototype.getHandleTransform=function(t,a,l){var h=pf(a,{labelInside:!1});h.labelMargin=l.get(["handle","margin"]);var d=dc(a.axis,t,h);return{x:d[0],y:d[1],rotation:h.rotation+(h.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(t,a,l,h){var d=l.axis,p=d.coordinateSystem,y=_f(d),x=Mf(p,y),w=[t.x,t.y];w[y]+=a[y],w[y]=Math.min(x[1],w[y]),w[y]=Math.max(x[0],w[y]);var z=Mf(p,1-y),V=(z[1]+z[0])/2,k=[V,V];return k[y]=w[y],{x:w[0],y:w[1],rotation:t.rotation,cursorPoint:k,tooltipOption:{verticalAlign:"middle"}}},r}(u5),Em={line:function(o,r,t){return{type:"Line",subPixelOptimize:!0,shape:g8([r,t[0]],[r,t[1]],_f(o))}},shadow:function(o,r,t){var a=o.getBandWidth();return{type:"Rect",shape:cm([r-a/2,t[0]],[a,t[1]-t[0]],_f(o))}}};function _f(o){return o.isHorizontal()?0:1}function Mf(o,r){var t=o.getRect();return[t[F0[r]],t[F0[r]]+t[tu[r]]]}const D5=Dm;var L7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="single",r}(xa.Z);function E5(o,r){var a,t=o.cellSize;1===(a=M.isArray(t)?t:o.cellSize=[t,t]).length&&(a[1]=a[0]);var l=M.map([0,1],function(h){return(0,Vr.QM)(r,h)&&(a[h]="auto"),null!=a[h]&&"auto"!==a[h]});(0,Vr.dt)(o,r,{type:"box",ignoreSize:l})}const z5=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){var h=(0,Vr.tE)(t);o.prototype.init.apply(this,arguments),E5(t,h)},r.prototype.mergeOption=function(t){o.prototype.mergeOption.apply(this,arguments),E5(this.option,t)},r.prototype.getCellSize=function(){return this.option.cellSize},r.type="calendar",r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},r}(va.Z);var I7=C(6953);const Am=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h=this.group;h.removeAll();var d=t.coordinateSystem,p=d.getRangeInfo(),y=d.getOrient(),x=a.getLocaleModel();this._renderDayRect(t,p,h),this._renderLines(t,p,y,h),this._renderYearText(t,p,y,h),this._renderMonthText(t,x,y,h),this._renderWeekText(t,x,p,y,h)},r.prototype._renderDayRect=function(t,a,l){for(var h=t.coordinateSystem,d=t.getModel("itemStyle").getItemStyle(),p=h.getCellWidth(),y=h.getCellHeight(),x=a.start.time;x<=a.end.time;x=h.getNextNDay(x,1).time){var w=h.dataToRect([x],!1).tl,z=new Ei.Z({shape:{x:w[0],y:w[1],width:p,height:y},cursor:"default",style:d});l.add(z)}},r.prototype._renderLines=function(t,a,l,h){var d=this,p=t.coordinateSystem,y=t.getModel(["splitLine","lineStyle"]).getLineStyle(),x=t.get(["splitLine","show"]),w=y.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var z=a.start,V=0;z.time<=a.end.time;V++){J(z.formatedDate),0===V&&(z=p.getDateInfo(a.start.y+"-"+a.start.m));var k=z.date;k.setMonth(k.getMonth()+1),z=p.getDateInfo(k)}function J(ue){d._firstDayOfMonth.push(p.getDateInfo(ue)),d._firstDayPoints.push(p.dataToRect([ue],!1).tl);var xe=d._getLinePointsOfOneWeek(t,ue,l);d._tlpoints.push(xe[0]),d._blpoints.push(xe[xe.length-1]),x&&d._drawSplitline(xe,y,h)}J(p.getNextNDay(a.end.time,1).formatedDate),x&&this._drawSplitline(d._getEdgesPoints(d._tlpoints,w,l),y,h),x&&this._drawSplitline(d._getEdgesPoints(d._blpoints,w,l),y,h)},r.prototype._getEdgesPoints=function(t,a,l){var h=[t[0].slice(),t[t.length-1].slice()],d="horizontal"===l?0:1;return h[0][d]=h[0][d]-a/2,h[1][d]=h[1][d]+a/2,h},r.prototype._drawSplitline=function(t,a,l){var h=new ft.Z({z2:20,shape:{points:t},style:a});l.add(h)},r.prototype._getLinePointsOfOneWeek=function(t,a,l){for(var h=t.coordinateSystem,d=h.getDateInfo(a),p=[],y=0;y<7;y++){var x=h.getNextNDay(d.time,y),w=h.dataToRect([x.time],!1);p[2*x.day]=w.tl,p[2*x.day+1]=w["horizontal"===l?"bl":"tr"]}return p},r.prototype._formatterLabel=function(t,a){return(0,M.isString)(t)&&t?(0,Ia.wx)(t,a):(0,M.isFunction)(t)?t(a):a.nameMap},r.prototype._yearTextPositionControl=function(t,a,l,h,d){var p=a[0],y=a[1],x=["center","bottom"];"bottom"===h?(y+=d,x=["center","top"]):"left"===h?p-=d:"right"===h?(p+=d,x=["center","top"]):y-=d;var w=0;return("left"===h||"right"===h)&&(w=Math.PI/2),{rotation:w,x:p,y,style:{align:x[0],verticalAlign:x[1]}}},r.prototype._renderYearText=function(t,a,l,h){var d=t.getModel("yearLabel");if(d.get("show")){var p=d.get("margin"),y=d.get("position");y||(y="horizontal"!==l?"top":"left");var x=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],w=(x[0][0]+x[1][0])/2,z=(x[0][1]+x[1][1])/2,V="horizontal"===l?0:1,k={top:[w,x[V][1]],bottom:[w,x[1-V][1]],left:[x[1-V][0],z],right:[x[V][0],z]},J=a.start.y;+a.end.y>+a.start.y&&(J=J+"-"+a.end.y);var ue=d.get("formatter"),ze=this._formatterLabel(ue,{start:a.start.y,end:a.end.y,nameMap:J}),Re=new Yt.ZP({z2:30,style:(0,hr.Lr)(d,{text:ze})});Re.attr(this._yearTextPositionControl(Re,k[y],l,y,p)),h.add(Re)}},r.prototype._monthTextPositionControl=function(t,a,l,h,d){var p="left",y="top",x=t[0],w=t[1];return"horizontal"===l?(w+=d,a&&(p="center"),"start"===h&&(y="bottom")):(x+=d,a&&(y="middle"),"start"===h&&(p="right")),{x,y:w,align:p,verticalAlign:y}},r.prototype._renderMonthText=function(t,a,l,h){var d=t.getModel("monthLabel");if(d.get("show")){var p=d.get("nameMap"),y=d.get("margin"),x=d.get("position"),w=d.get("align"),z=[this._tlpoints,this._blpoints];(!p||(0,M.isString)(p))&&(p&&(a=(0,I7.G8)(p)||a),p=a.get(["time","monthAbbr"])||[]);var V="start"===x?0:1,k="horizontal"===l?0:1;y="start"===x?-y:y;for(var J="center"===w,ue=0;ue<z[V].length-1;ue++){var xe=z[V][ue].slice(),ze=this._firstDayOfMonth[ue];J&&(xe[k]=(this._firstDayPoints[ue][k]+z[0][ue+1][k])/2);var Ie=d.get("formatter"),Ge=p[+ze.m-1],Qe={yyyy:ze.y,yy:(ze.y+"").slice(2),MM:ze.m,M:+ze.m,nameMap:Ge},$e=this._formatterLabel(Ie,Qe),ut=new Yt.ZP({z2:30,style:(0,M.extend)((0,hr.Lr)(d,{text:$e}),this._monthTextPositionControl(xe,J,l,x,y))});h.add(ut)}}},r.prototype._weekTextPositionControl=function(t,a,l,h,d){var p="center",y="middle",x=t[0],w=t[1],z="start"===l;return"horizontal"===a?(x=x+h+(z?1:-1)*d[0]/2,p=z?"right":"left"):(w=w+h+(z?1:-1)*d[1]/2,y=z?"bottom":"top"),{x,y:w,align:p,verticalAlign:y}},r.prototype._renderWeekText=function(t,a,l,h,d){var p=t.getModel("dayLabel");if(p.get("show")){var y=t.coordinateSystem,x=p.get("position"),w=p.get("nameMap"),z=p.get("margin"),V=y.getFirstDayOfWeek();w&&!(0,M.isString)(w)||(w&&(a=(0,I7.G8)(w)||a),w=a.get(["time","dayOfWeekShort"])||(0,M.map)(a.get(["time","dayOfWeekAbbr"]),function(Qe){return Qe[0]}));var J=y.getNextNDay(l.end.time,7-l.lweek).time,ue=[y.getCellWidth(),y.getCellHeight()];z=(0,In.GM)(z,Math.min(ue[1],ue[0])),"start"===x&&(J=y.getNextNDay(l.start.time,-(7+l.fweek)).time,z=-z);for(var xe=0;xe<7;xe++){var Ie,ze=y.getNextNDay(J,xe),Re=y.dataToRect([ze.time],!1).center;Ie=Math.abs((xe+V)%7);var Ge=new Yt.ZP({z2:30,style:(0,M.extend)((0,hr.Lr)(p,{text:w[Ie]}),this._weekTextPositionControl(Re,h,x,z,ue))});d.add(Ge)}}},r.type="calendar",r}(xa.Z);var A5=864e5;function R7(o){var r=o.calendarModel,t=o.seriesModel;return r?r.coordinateSystem:t?t.coordinateSystem:null}const Es=function(){function o(r,t,a){this.type="calendar",this.dimensions=o.dimensions,this.getDimensionsInfo=o.getDimensionsInfo,this._model=r}return o.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},o.prototype.getRangeInfo=function(){return this._rangeInfo},o.prototype.getModel=function(){return this._model},o.prototype.getRect=function(){return this._rect},o.prototype.getCellWidth=function(){return this._sw},o.prototype.getCellHeight=function(){return this._sh},o.prototype.getOrient=function(){return this._orient},o.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},o.prototype.getDateInfo=function(r){var t=(r=In.sG(r)).getFullYear(),a=r.getMonth()+1,l=a<10?"0"+a:""+a,h=r.getDate(),d=h<10?"0"+h:""+h,p=r.getDay();return{y:t+"",m:l,d,day:p=Math.abs((p+7-this.getFirstDayOfWeek())%7),time:r.getTime(),formatedDate:t+"-"+l+"-"+d,date:r}},o.prototype.getNextNDay=function(r,t){return 0===(t=t||0)||(r=new Date(this.getDateInfo(r).time)).setDate(r.getDate()+t),this.getDateInfo(r)},o.prototype.update=function(r,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var a=this._rangeInfo.weeks||1,l=["width","height"],h=this._model.getCellSize().slice(),d=this._model.getBoxLayoutParams(),p="horizontal"===this._orient?[a,7]:[7,a];M.each([0,1],function(z){w(h,z)&&(d[l[z]]=h[z]*p[z])});var y={width:t.getWidth(),height:t.getHeight()},x=this._rect=Vr.ME(d,y);function w(z,V){return null!=z[V]&&"auto"!==z[V]}M.each([0,1],function(z){w(h,z)||(h[z]=x[l[z]]/p[z])}),this._sw=h[0],this._sh=h[1]},o.prototype.dataToPoint=function(r,t){M.isArray(r)&&(r=r[0]),null==t&&(t=!0);var a=this.getDateInfo(r),l=this._rangeInfo;if(t&&!(a.time>=l.start.time&&a.time<l.end.time+A5))return[NaN,NaN];var d=a.day,p=this._getRangeInfo([l.start.time,a.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+d*this._sw+this._sw/2,this._rect.y+p*this._sh+this._sh/2]:[this._rect.x+p*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]},o.prototype.pointToData=function(r){var t=this.pointToDate(r);return t&&t.time},o.prototype.dataToRect=function(r,t){var a=this.dataToPoint(r,t);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},o.prototype.pointToDate=function(r){var t=Math.floor((r[0]-this._rect.x)/this._sw)+1,a=Math.floor((r[1]-this._rect.y)/this._sh)+1,l=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,t-1,l):this._getDateByWeeksAndDay(t,a-1,l)},o.prototype.convertToPixel=function(r,t,a){var l=R7(t);return l===this?l.dataToPoint(a):null},o.prototype.convertFromPixel=function(r,t,a){var l=R7(t);return l===this?l.pointToData(a):null},o.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},o.prototype._initRangeOption=function(){var t,r=this._model.get("range");if(M.isArray(r)&&1===r.length&&(r=r[0]),M.isArray(r))t=r;else{var a=r.toString();if(/^\d{4}$/.test(a)&&(t=[a+"-01-01",a+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(a)){var l=this.getDateInfo(a),h=l.date;h.setMonth(h.getMonth()+1);var d=this.getNextNDay(h,-1);t=[l.formatedDate,d.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(a)&&(t=[a,a])}if(!t)return r;var p=this._getRangeInfo(t);return p.start.time>p.end.time&&t.reverse(),t},o.prototype._getRangeInfo=function(r){var a,t=[this.getDateInfo(r[0]),this.getDateInfo(r[1])];t[0].time>t[1].time&&(a=!0,t.reverse());var l=Math.floor(t[1].time/A5)-Math.floor(t[0].time/A5)+1,h=new Date(t[0].time),d=h.getDate(),p=t[1].date.getDate();h.setDate(d+l-1);var y=h.getDate();if(y!==p)for(var x=h.getTime()-t[1].time>0?1:-1;(y=h.getDate())!==p&&(h.getTime()-t[1].time)*x>0;)l-=x,h.setDate(y-x);var w=Math.floor((l+t[0].day+6)/7),z=a?1-w:w-1;return a&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:l,weeks:w,nthWeek:z,fweek:t[0].day,lweek:t[1].day}},o.prototype._getDateByWeeksAndDay=function(r,t,a){var l=this._getRangeInfo(a);if(r>l.weeks||0===r&&t<l.fweek||r===l.weeks&&t>l.lweek)return null;var h=7*(r-1)-l.fweek+t,d=new Date(l.start.time);return d.setDate(+l.start.d+h),this.getDateInfo(d)},o.create=function(r,t){var a=[];return r.eachComponent("calendar",function(l){var h=new o(l,r,t);a.push(h),l.coordinateSystem=h}),r.eachSeries(function(l){"calendar"===l.get("coordinateSystem")&&(l.coordinateSystem=a[l.get("calendarIndex")||0])}),a},o.dimensions=["time","value"],o}();function P5(o,r){var t;return M.each(r,function(a){null!=o[a]&&"auto"!==o[a]&&(t=!0)}),t}var xf=["transition","enterFrom","leaveTo"],ll=xf.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function S8(o,r,t){if(t&&(!o[t]&&r[t]&&(o[t]={}),o=o[t],r=r[t]),o&&r)for(var a=t?xf:ll,l=0;l<a.length;l++){var h=a[l];null==o[h]&&null!=r[h]&&(o[h]=r[h])}}var Z9=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.preventAutoZ=!0,t}return(0,st.ZT)(r,o),r.prototype.mergeOption=function(t,a){var l=this.option.elements;this.option.elements=null,o.prototype.mergeOption.call(this,t,a),this.option.elements=l},r.prototype.optionUpdated=function(t,a){var l=this.option,h=(a?l:t).elements,d=l.elements=a?[]:l.elements,p=[];this._flatten(h,p,null);var y=Hr.ab(d,p,"normalMerge"),x=this._elOptionsToUpdate=[];M.each(y,function(w,z){var V=w.newOption;V&&(x.push(V),function H7(o,r){var t=o.existing;if(r.id=o.keyInfo.id,!r.type&&t&&(r.type=t.type),null==r.parentId){var a=r.parentOption;a?r.parentId=a.id:t&&(r.parentId=t.parentId)}r.parentOption=null}(w,V),function Pm(o,r,t){var a=M.extend({},t),l=o[r],h=t.$action||"merge";"merge"===h?l?(M.merge(l,a,!0),(0,Vr.dt)(l,a,{ignoreSize:!0}),(0,Vr.QT)(t,l),S8(t,l),S8(t,l,"shape"),S8(t,l,"style"),S8(t,l,"extra"),t.clipPath=l.clipPath):o[r]=a:"replace"===h?o[r]=a:"remove"===h&&l&&(o[r]=null)}(d,z,V),function Lm(o,r){if(o&&(o.hv=r.hv=[P5(r,["left","right"]),P5(r,["top","bottom"])],"group"===o.type)){var t=o,a=r;null==t.width&&(t.width=a.width=0),null==t.height&&(t.height=a.height=0)}}(d[z],V))},this),l.elements=M.filter(d,function(w){return w&&delete w.$action,null!=w})},r.prototype._flatten=function(t,a,l){M.each(t,function(h){if(h){l&&(h.parentOption=l),a.push(h);var d=h.children;d&&d.length&&this._flatten(d,a,h),delete h.children}},this)},r.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},r.type="graphic",r.defaultOption={elements:[]},r}(va.Z),ru={path:null,compoundPath:null,group:yn.Z,image:me.ZP,text:Yt.ZP},xl=Hr.Yf(),zs=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(){this._elMap=M.createHashMap()},r.prototype.render=function(t,a,l){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,l)},r.prototype._updateElements=function(t){var a=t.useElOptionsToUpdate();if(a){var l=this._elMap,h=this.group,d=t.get("z"),p=t.get("zlevel");M.each(a,function(y){var x=Hr.U5(y.id,null),w=null!=x?l.get(x):null,z=Hr.U5(y.parentId,null),V=null!=z?l.get(z):h,k=y.type,J=y.style;"text"===k&&J&&y.hv&&y.hv[1]&&(J.textVerticalAlign=J.textBaseline=J.verticalAlign=J.align=null);var ue=y.textContent,xe=y.textConfig;if(J&&Qd(J,k,!!xe,!!ue)){var ze=Jd(J,k,!0);!xe&&ze.textConfig&&(xe=y.textConfig=ze.textConfig),!ue&&ze.textContent&&(ue=ze.textContent)}var Re=function U0(o){return o=M.extend({},o),M.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Vr.gN),function(r){delete o[r]}),o}(y),Ie=y.$action||"merge",Ge="merge"===Ie,Qe="replace"===Ie;if(Ge){var ut=w;($e=!w)?ut=N7(x,V,y.type,l):(ut&&(xl(ut).isNew=!1),tf(ut)),ut&&(Zh(ut,Re,t,{isInit:$e}),L5(ut,y,d,p))}else if(Qe){l6(w,y,l,t);var St=N7(x,V,y.type,l);St&&(Zh(St,Re,t,{isInit:!0}),L5(St,y,d,p))}else"remove"===Ie&&(n5(w,y),l6(w,y,l,t));var Pt=l.get(x);if(Pt&&ue)if(Ge){var Vt=Pt.getTextContent();Vt?Vt.attr(ue):Pt.setTextContent(new Yt.ZP(ue))}else Qe&&Pt.setTextContent(new Yt.ZP(ue));if(Pt){var kt=y.clipPath;if(kt){var en=kt.type,un=void 0,$e=!1;if(Ge){var vn=Pt.getClipPath();un=($e=!vn||xl(vn).type!==en)?s6(en):vn}else Qe&&($e=!0,un=s6(en));Pt.setClipPath(un),Zh(un,kt,t,{isInit:$e}),Xh(un,kt.keyframeAnimation,t)}var wn=xl(Pt);Pt.setTextConfig(xe),wn.option=y,function O5(o,r,t){var a=(0,Qn.A)(o).eventData;!o.silent&&!o.ignore&&!a&&(a=(0,Qn.A)(o).eventData={componentType:"graphic",componentIndex:r.componentIndex,name:o.name}),a&&(a.info=t.info)}(Pt,t,y),dr.setTooltipConfig({el:Pt,componentModel:t,itemName:Pt.name,itemTooltipOption:y.tooltip}),Xh(Pt,y.keyframeAnimation,t)}})}},r.prototype._relocate=function(t,a){for(var l=t.option.elements,h=this.group,d=this._elMap,p=a.getWidth(),y=a.getHeight(),x=["x","y"],w=0;w<l.length;w++)if((k=null!=(V=Hr.U5((z=l[w]).id,null))?d.get(V):null)&&k.isGroup){var ue=(J=k.parent)===h,xe=xl(k),ze=xl(J);xe.width=(0,In.GM)(xe.option.width,ue?p:ze.width)||0,xe.height=(0,In.GM)(xe.option.height,ue?y:ze.height)||0}for(w=l.length-1;w>=0;w--){var z,V,k;if(k=null!=(V=Hr.U5((z=l[w]).id,null))?d.get(V):null){ze=xl(J=k.parent);var J,Ie={},Ge=Vr.p$(k,z,J===h?{width:p,height:y}:{width:ze.width,height:ze.height},null,{hv:z.hv,boundingMode:z.bounding},Ie);if(!xl(k).isNew&&Ge){for(var Qe=z.transition,$e={},ut=0;ut<x.length;ut++){var St=x[ut],Pt=Ie[St];Qe&&(uc(Qe)||M.indexOf(Qe,St)>=0)?$e[St]=Pt:k[St]=Pt}(0,Bn.D)(k,$e,t,0)}else k.attr(Ie)}}},r.prototype._clear=function(){var t=this,a=this._elMap;a.each(function(l){l6(l,xl(l).option,a,t._lastGraphicModel)}),this._elMap=M.createHashMap()},r.prototype.dispose=function(){this._clear()},r.type="graphic",r}(xa.Z);function s6(o){var t=new(M.hasOwn(ru,o)?ru[o]:dr.getShapeClass(o))({});return xl(t).type=o,t}function N7(o,r,t,a){var l=s6(t);return r.add(l),a.set(o,l),xl(l).id=o,xl(l).isNew=!0,l}function l6(o,r,t,a){o&&o.parent&&("group"===o.type&&o.traverse(function(h){l6(h,r,t,a)}),I2(o,r,a),t.removeKey(xl(o).id))}function L5(o,r,t,a){o.isGroup||M.each([["cursor",d2.ZP.prototype.cursor],["zlevel",a||0],["z",t||0],["z2",0]],function(l){var h=l[0];M.hasOwn(r,h)?o[h]=M.retrieve2(r[h],l[1]):null==o[h]&&(o[h]=l[1])}),M.each(M.keys(r),function(l){if(0===l.indexOf("on")){var h=r[l];o[l]=M.isFunction(h)?h:null}}),M.hasOwn(r,"draggable")&&(o.draggable=r.draggable),null!=r.name&&(o.name=r.name),null!=r.id&&(o.id=r.id)}var T8=["x","y","radius","angle","single"],D8=["cartesian2d","polar","singleAxis"];function $c(o){return o+"Axis"}function bf(o){var r=o.ecModel,t={infoList:[],infoMap:(0,M.createHashMap)()};return o.eachTargetAxis(function(a,l){var h=r.getComponent($c(a),l);if(h){var d=h.getCoordSysModel();if(d){var p=d.uid,y=t.infoMap.get(p);y||(t.infoList.push(y={model:d,axisModels:[]}),t.infoMap.set(p,y)),y.axisModels.push(h)}}}),t}var R5=function(){function o(){this.indexList=[],this.indexMap=[]}return o.prototype.add=function(r){this.indexMap[r]||(this.indexList.push(r),this.indexMap[r]=!0)},o}();function c6(o){var r={};return(0,M.each)(["start","end","startValue","endValue","throttle"],function(t){o.hasOwnProperty(t)&&(r[t]=o[t])}),r}const U2=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){var h=c6(t);this.settledOption=h,this.mergeDefaultAndTheme(t,l),this._doInit(h)},r.prototype.mergeOption=function(t){var a=c6(t);(0,M.merge)(this.option,t,!0),(0,M.merge)(this.settledOption,a,!0),this._doInit(a)},r.prototype._doInit=function(t){var a=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var l=this.settledOption;(0,M.each)([["start","startValue"],["end","endValue"]],function(h,d){"value"===this._rangePropMode[d]&&(a[h[0]]=l[h[0]]=null)},this),this._resetTarget()},r.prototype._resetTarget=function(){var t=this.get("orient",!0),a=this._targetAxisInfoMap=(0,M.createHashMap)();this._fillSpecifiedTargetAxis(a)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(h){h.indexList.length&&(this._noTarget=!1)},this)},r.prototype._fillSpecifiedTargetAxis=function(t){var a=!1;return(0,M.each)(T8,function(l){var h=this.getReferringComponents($c(l),Hr.iP);if(h.specified){a=!0;var d=new R5;(0,M.each)(h.models,function(p){d.add(p.componentIndex)}),t.set(l,d)}},this),a},r.prototype._fillAutoTargetAxisByOrient=function(t,a){var l=this.ecModel,h=!0;if(h){var d="vertical"===a?"y":"x";y(l.findComponents({mainType:d+"Axis"}),d)}function y(x,w){var z=x[0];if(z){var V=new R5;if(V.add(z.componentIndex),t.set(w,V),h=!1,"x"===w||"y"===w){var k=z.getReferringComponents("grid",Hr.C6).models[0];k&&(0,M.each)(x,function(J){z.componentIndex!==J.componentIndex&&k===J.getReferringComponents("grid",Hr.C6).models[0]&&V.add(J.componentIndex)})}}}h&&y(l.findComponents({mainType:"singleAxis",filter:function(w){return w.get("orient",!0)===a}}),"single"),h&&(0,M.each)(T8,function(x){if(h){var w=l.findComponents({mainType:$c(x),filter:function(V){return"category"===V.get("type",!0)}});if(w[0]){var z=new R5;z.add(w[0].componentIndex),t.set(x,z),h=!1}}},this)},r.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(a){!t&&(t=a)},this),"y"===t?"vertical":"horizontal"},r.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},r.prototype._updateRangeUse=function(t){var a=this._rangePropMode,l=this.get("rangeMode");(0,M.each)([["start","startValue"],["end","endValue"]],function(h,d){var p=null!=t[h[0]],y=null!=t[h[1]];p&&!y?a[d]="percent":!p&&y?a[d]="value":l?a[d]=l[d]:p&&(a[d]="percent")})},r.prototype.noTarget=function(){return this._noTarget},r.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(a,l){null==t&&(t=this.ecModel.getComponent($c(a),l))},this),t},r.prototype.eachTargetAxis=function(t,a){this._targetAxisInfoMap.each(function(l,h){(0,M.each)(l.indexList,function(d){t.call(a,h,d)})})},r.prototype.getAxisProxy=function(t,a){var l=this.getAxisModel(t,a);if(l)return l.__dzAxisProxy},r.prototype.getAxisModel=function(t,a){var l=this._targetAxisInfoMap.get(t);if(l&&l.indexMap[a])return this.ecModel.getComponent($c(t),a)},r.prototype.setRawRange=function(t){var a=this.option,l=this.settledOption;(0,M.each)([["start","startValue"],["end","endValue"]],function(h){(null!=t[h[0]]||null!=t[h[1]])&&(a[h[0]]=l[h[0]]=t[h[0]],a[h[1]]=l[h[1]]=t[h[1]])},this),this._updateRangeUse(t)},r.prototype.setCalculatedRange=function(t){var a=this.option;(0,M.each)(["start","startValue","end","endValue"],function(l){a[l]=t[l]})},r.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},r.prototype.getValueRange=function(t,a){if(null!=t||null!=a)return this.getAxisProxy(t,a).getDataValueWindow();var l=this.findRepresentativeAxisProxy();return l?l.getDataValueWindow():void 0},r.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var a,l=this._targetAxisInfoMap.keys(),h=0;h<l.length;h++)for(var d=l[h],p=this._targetAxisInfoMap.get(d),y=0;y<p.indexList.length;y++){var x=this.getAxisProxy(d,p.indexList[y]);if(x.hostedBy(this))return x;a||(a=x)}return a},r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},r.prototype.getOrient=function(){return this._orient},r.type="dataZoom",r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],r.defaultOption={z:4,filterMode:"filter",start:0,end:100},r}(va.Z),F7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="dataZoom.select",r}(U2),V5=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){this.dataZoomModel=t,this.ecModel=a,this.api=l},r.type="dataZoom",r}(xa.Z),U7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="dataZoom.select",r}(V5);var Y7=C(612),e=M.each,n=In.dt;const v=function(){function o(r,t,a,l){this._dimName=r,this._axisIndex=t,this.ecModel=l,this._dataZoomModel=a}return o.prototype.hostedBy=function(r){return this._dataZoomModel===r},o.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},o.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},o.prototype.getTargetSeriesModels=function(){var r=[];return this.ecModel.eachSeries(function(t){if(function Om(o){var r=o.get("coordinateSystem");return(0,M.indexOf)(D8,r)>=0}(t)){var a=$c(this._dimName),l=t.getReferringComponents(a,Hr.C6).models[0];l&&this._axisIndex===l.componentIndex&&r.push(t)}},this),r},o.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},o.prototype.getMinMaxSpan=function(){return M.clone(this._minMaxSpan)},o.prototype.calculateDataWindow=function(r){var x,t=this._dataExtent,l=this.getAxisModel().axis.scale,h=this._dataZoomModel.getRangePropMode(),d=[0,100],p=[],y=[];e(["start","end"],function(V,k){var J=r[V],ue=r[V+"Value"];"percent"===h[k]?(null==J&&(J=d[k]),ue=l.parse(In.NU(J,d,t))):(x=!0,ue=null==ue?t[k]:l.parse(ue),J=In.NU(ue,t,d)),y[k]=null==ue||isNaN(ue)?t[k]:ue,p[k]=null==J||isNaN(J)?d[k]:J}),n(y),n(p);var w=this._minMaxSpan;function z(V,k,J,ue,xe){var ze=xe?"Span":"ValueSpan";Ml(0,V,J,"all",w["min"+ze],w["max"+ze]);for(var Re=0;Re<2;Re++)k[Re]=In.NU(V[Re],J,ue,!0),xe&&(k[Re]=l.parse(k[Re]))}return x?z(y,p,t,d,!1):z(p,y,d,t,!0),{valueWindow:y,percentWindow:p}},o.prototype.reset=function(r){if(r===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function c(o,r,t){var a=[1/0,-1/0];e(t,function(d){(0,io.AH)(a,d.getData(),r)});var l=o.getAxisModel(),h=(0,Y7.Qw)(l.axis.scale,l,a).calculate();return[h.min,h.max]}(this,this._dimName,t),this._updateMinMaxSpan();var a=this.calculateDataWindow(r.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},o.prototype.filterData=function(r,t){if(r===this._dataZoomModel){var a=this._dimName,l=this.getTargetSeriesModels(),h=r.get("filterMode"),d=this._valueWindow;"none"!==h&&e(l,function(y){var x=y.getData(),w=x.mapDimensionsAll(a);if(w.length){if("weakFilter"===h){var z=x.getStore(),V=M.map(w,function(k){return x.getDimensionIndex(k)},x);x.filterSelf(function(k){for(var J,ue,xe,ze=0;ze<w.length;ze++){var Re=z.get(V[ze],k),Ie=!isNaN(Re),Ge=Re<d[0],Qe=Re>d[1];if(Ie&&!Ge&&!Qe)return!0;Ie&&(xe=!0),Ge&&(J=!0),Qe&&(ue=!0)}return xe&&J&&ue})}else e(w,function(k){if("empty"===h)y.setData(x=x.map(k,function(ue){return function p(y){return y>=d[0]&&y<=d[1]}(ue)?ue:NaN}));else{var J={};J[k]=d,x.selectRange(J)}});e(w,function(k){x.setApproximateExtent(d,k)})}})}},o.prototype._updateMinMaxSpan=function(){var r=this._minMaxSpan={},t=this._dataZoomModel,a=this._dataExtent;e(["min","max"],function(l){var h=t.get(l+"Span"),d=t.get(l+"ValueSpan");null!=d&&(d=this.getAxisModel().axis.scale.parse(d)),null!=d?h=In.NU(a[0]+d,a,[0,100],!0):null!=h&&(d=In.NU(h,[0,100],a,!0)-a[0]),r[l+"Span"]=h,r[l+"ValueSpan"]=d},this)},o.prototype._setAxisModel=function(){var r=this.getAxisModel(),t=this._percentWindow,a=this._valueWindow;if(t){var l=In.M9(a,[0,500]);l=Math.min(l,20);var h=r.axis.scale.rawExtentInfo;0!==t[0]&&h.setDeterminedMinMax("min",+a[0].toFixed(l)),100!==t[1]&&h.setDeterminedMinMax("max",+a[1].toFixed(l)),h.freeze()}},o}(),b={getTargetSeries:function(o){function r(l){o.eachComponent("dataZoom",function(h){h.eachTargetAxis(function(d,p){var y=o.getComponent($c(d),p);l(d,p,y,h)})})}r(function(l,h,d,p){d.__dzAxisProxy=null});var t=[];r(function(l,h,d,p){d.__dzAxisProxy||(d.__dzAxisProxy=new v(l,h,p,o),t.push(d.__dzAxisProxy))});var a=(0,M.createHashMap)();return(0,M.each)(t,function(l){(0,M.each)(l.getTargetSeriesModels(),function(h){a.set(h.uid,h)})}),a},overallReset:function(o,r){o.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(a,l){t.getAxisProxy(a,l).reset(t)}),t.eachTargetAxis(function(a,l){t.getAxisProxy(a,l).filterData(t,r)})}),o.eachComponent("dataZoom",function(t){var a=t.findRepresentativeAxisProxy();if(a){var l=a.getDataPercentWindow(),h=a.getDataValueWindow();t.setCalculatedRange({start:l[0],end:l[1],startValue:h[0],endValue:h[1]})}})}};var P=!1;function F(o){P||(P=!0,o.registerProcessor(o.PRIORITY.PROCESSOR.FILTER,b),function D(o){o.registerAction("dataZoom",function(r,t){var a=function k7(o,r){var h,t=(0,M.createHashMap)(),a=[],l=(0,M.createHashMap)();o.eachComponent({mainType:"dataZoom",query:r},function(w){l.get(w.uid)||p(w)});do{h=!1,o.eachComponent("dataZoom",d)}while(h);function d(w){!l.get(w.uid)&&function y(w){var z=!1;return w.eachTargetAxis(function(V,k){var J=t.get(V);J&&J[k]&&(z=!0)}),z}(w)&&(p(w),h=!0)}function p(w){l.set(w.uid,!0),a.push(w),function x(w){w.eachTargetAxis(function(z,V){(t.get(z)||t.set(z,[]))[V]=!0})}(w)}return a}(t,r);(0,M.each)(a,function(l){l.setRawRange({start:r.start,end:r.end,startValue:r.startValue,endValue:r.endValue})})})}(o),o.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function le(o){o.registerComponentModel(F7),o.registerComponentView(U7),F(o)}var _e=function o(){},Ve={};function Oe(o,r){Ve[o]=r}function Ue(o){return Ve[o]}const vt=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.optionUpdated=function(){o.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;M.each(this.option.feature,function(a,l){var h=Ue(l);h&&(h.getDefaultOption&&(h.defaultOption=h.getDefaultOption(t)),M.merge(a,h.defaultOption))})},r.type="toolbox",r.layoutMode={type:"box",ignoreSize:!0},r.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},r}(va.Z);function Ot(o,r){var t=Ia.MY(r.get("padding")),a=r.getItemStyle(["color","opacity"]);return a.fill=r.get("backgroundColor"),new Ei.Z({shape:{x:o.x-t[3],y:o.y-t[0],width:o.width+t[1]+t[3],height:o.height+t[0]+t[2],r:r.get("borderRadius")},style:a,silent:!0,z2:-1})}const sn=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){var d=this.group;if(d.removeAll(),t.get("show")){var p=+t.get("itemSize"),y="vertical"===t.get("orient"),x=t.get("feature")||{},w=this._features||(this._features={}),z=[];M.each(x,function(J,ue){z.push(ue)}),new di.Z(this._featureNames||[],z).add(V).update(V).remove(M.curry(V,null)).execute(),this._featureNames=z,function wt(o,r,t){var a=r.getBoxLayoutParams(),l=r.get("padding"),h={width:t.getWidth(),height:t.getHeight()},d=(0,Vr.ME)(a,h,l);(0,Vr.BZ)(r.get("orient"),o,r.get("itemGap"),d.width,d.height),(0,Vr.p$)(o,a,h,l)}(d,t,l),d.add(Ot(d.getBoundingRect(),t)),y||d.eachChild(function(J){var ue=J.__title,xe=J.ensureState("emphasis"),ze=xe.textConfig||(xe.textConfig={}),Re=J.getTextContent(),Ie=Re&&Re.ensureState("emphasis");if(Ie&&!M.isFunction(Ie)&&ue){var Ge=Ie.style||(Ie.style={}),Qe=Me.lP(ue,Yt.ZP.makeFont(Ge)),$e=J.x+d.x,St=!1;J.y+d.y+p+Qe.height>l.getHeight()&&(ze.position="top",St=!0);var Pt=St?-5-Qe.height:p+10;$e+Qe.width/2>l.getWidth()?(ze.position=["100%",Pt],Ge.align="right"):$e-Qe.width/2<0&&(ze.position=[0,Pt],Ge.align="left")}})}function V(J,ue){var Ge,xe=z[J],ze=z[ue],Re=x[xe],Ie=new Fo.Z(Re,t,t.ecModel);if(h&&null!=h.newTitle&&h.featureName===xe&&(Re.title=h.newTitle),xe&&!ze){if(function At(o){return 0===o.indexOf("my")}(xe))Ge={onclick:Ie.option.onclick,featureName:xe};else{var Qe=Ue(xe);if(!Qe)return;Ge=new Qe}w[xe]=Ge}else if(!(Ge=w[ze]))return;Ge.uid=(0,uo.Kr)("toolbox-feature"),Ge.model=Ie,Ge.ecModel=a,Ge.api=l;var $e=Ge instanceof _e;xe||!ze?!Ie.get("show")||$e&&Ge.unusable?$e&&Ge.remove&&Ge.remove(a,l):(function k(J,ue,xe){var Qe,$e,ze=J.getModel("iconStyle"),Re=J.getModel(["emphasis","iconStyle"]),Ie=ue instanceof _e&&ue.getIcons?ue.getIcons():J.get("icon"),Ge=J.get("title")||{};M.isString(Ie)?(Qe={})[xe]=Ie:Qe=Ie,M.isString(Ge)?($e={})[xe]=Ge:$e=Ge;var ut=J.iconPaths={};M.each(Qe,function(St,Pt){var Vt=dr.createIcon(St,{},{x:-p/2,y:-p/2,width:p,height:p});Vt.setStyle(ze.getItemStyle()),Vt.ensureState("emphasis").style=Re.getItemStyle();var en=new Yt.ZP({style:{text:$e[Pt],align:Re.get("textAlign"),borderRadius:Re.get("textBorderRadius"),padding:Re.get("textPadding"),fill:null},ignore:!0});Vt.setTextContent(en),dr.setTooltipConfig({el:Vt,componentModel:t,itemName:Pt,formatterParamsExtra:{title:$e[Pt]}}),Vt.__title=$e[Pt],Vt.on("mouseover",function(){var un=Re.getItemStyle(),vn=y?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";en.setStyle({fill:Re.get("textFill")||un.fill||un.stroke||"#000",backgroundColor:Re.get("textBackgroundColor")}),Vt.setTextConfig({position:Re.get("textPosition")||vn}),en.ignore=!t.get("showTitle"),l.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==J.get(["iconStatus",Pt])&&l.leaveEmphasis(this),en.hide()}),("emphasis"===J.get(["iconStatus",Pt])?er.fD:er.Mh)(Vt),d.add(Vt),Vt.on("click",M.bind(ue.onclick,ue,a,l,Pt)),ut[Pt]=Vt})}(Ie,Ge,xe),Ie.setIconStatus=function(ut,St){var Pt=this.option,Vt=this.iconPaths;Pt.iconStatus=Pt.iconStatus||{},Pt.iconStatus[ut]=St,Vt[ut]&&("emphasis"===St?er.fD:er.Mh)(Vt[ut])},Ge instanceof _e&&Ge.render&&Ge.render(Ie,a,l,h)):$e&&Ge.dispose&&Ge.dispose(a,l)}},r.prototype.updateView=function(t,a,l,h){M.each(this._features,function(d){d instanceof _e&&d.updateView&&d.updateView(d.model,a,l,h)})},r.prototype.remove=function(t,a){M.each(this._features,function(l){l instanceof _e&&l.remove&&l.remove(t,a)}),this.group.removeAll()},r.prototype.dispose=function(t,a){M.each(this._features,function(l){l instanceof _e&&l.dispose&&l.dispose(t,a)})},r.type="toolbox",r}(xa.Z),An=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.onclick=function(t,a){var l=this.model,h=l.get("name")||t.get("title.0.text")||"echarts",d="svg"===a.getZr().painter.getType(),p=d?"svg":l.get("type",!0)||"png",y=a.getConnectedDataURL({type:p,backgroundColor:l.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:l.get("connectedBackgroundColor"),excludeComponents:l.get("excludeComponents"),pixelRatio:l.get("pixelRatio")}),x=$l.Z.browser;if((0,M.isFunction)(MouseEvent)&&(x.newEdge||!x.ie&&!x.edge)){var w=document.createElement("a");w.download=h+"."+p,w.target="_blank",w.href=y;var z=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});w.dispatchEvent(z)}else if(window.navigator.msSaveOrOpenBlob||d){var V=y.split(","),k=V[0].indexOf("base64")>-1,J=d?decodeURIComponent(V[1]):V[1];k&&(J=window.atob(J));var ue=h+"."+p;if(window.navigator.msSaveOrOpenBlob){for(var xe=J.length,ze=new Uint8Array(xe);xe--;)ze[xe]=J.charCodeAt(xe);var Re=new Blob([ze]);window.navigator.msSaveOrOpenBlob(Re,ue)}else{var Ie=document.createElement("iframe");document.body.appendChild(Ie);var Ge=Ie.contentWindow,Qe=Ge.document;Qe.open("image/svg+xml","replace"),Qe.write(J),Qe.close(),Ge.focus(),Qe.execCommand("SaveAs",!0,ue),document.body.removeChild(Ie)}}else{var $e=l.get("lang"),ut='<body style="margin:0;"><img src="'+y+'" style="max-width:100%;" title="'+($e&&$e[0]||"")+'" /></body>',St=window.open();St.document.write(ut),St.document.title=h}},r.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},r}(_e);var _n="__ec_magicType_stack__",cr=[["line","bar"],["stack"]],Er=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.getIcons=function(){var t=this.model,a=t.get("icon"),l={};return M.each(t.get("type"),function(h){a[h]&&(l[h]=a[h])}),l},r.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},r.prototype.onclick=function(t,a,l){var h=this.model,d=h.get(["seriesIndex",l]);if(zr[l]){var p={series:[]};M.each(cr,function(z){M.indexOf(z,l)>=0&&M.each(z,function(V){h.setIconStatus(V,"normal")})}),h.setIconStatus(l,"emphasis"),t.eachComponent({mainType:"series",query:null==d?null:{seriesIndex:d}},function(z){var J=zr[l](z.subType,z.id,z,h);J&&(M.defaults(J,z.option),p.series.push(J));var ue=z.coordinateSystem;if(ue&&"cartesian2d"===ue.type&&("line"===l||"bar"===l)){var xe=ue.getAxesByScale("ordinal")[0];if(xe){var Re=xe.dim+"Axis",Ge=z.getReferringComponents(Re,Hr.C6).models[0].componentIndex;p[Re]=p[Re]||[];for(var Qe=0;Qe<=Ge;Qe++)p[Re][Ge]=p[Re][Ge]||{};p[Re][Ge].boundaryGap="bar"===l}}});var x,w=l;"stack"===l&&(x=M.merge({stack:h.option.title.tiled,tiled:h.option.title.stack},h.option.title),"emphasis"!==h.get(["iconStatus",l])&&(w="tiled")),a.dispatchAction({type:"changeMagicType",currentType:w,newOption:p,newTitle:x,featureName:"magicType"})}},r}(_e),zr={line:function(o,r,t,a){if("bar"===o)return M.merge({id:r,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(o,r,t,a){if("line"===o)return M.merge({id:r,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(o,r,t,a){var l=t.get("stack")===_n;if("line"===o||"bar"===o)return a.setIconStatus("stack",l?"normal":"emphasis"),M.merge({id:r,stack:l?"":_n},a.get(["option","stack"])||{},!0)}};o4.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(o,r){r.mergeOption(o.newOption)});const Mr=Er;var Fr=new Array(60).join("-");function ir(o){var r=[];return M.each(o,function(t,a){var l=t.categoryAxis,d=t.valueAxis.dim,p=[" "].concat(M.map(t.series,function(k){return k.name})),y=[l.model.getCategories()];M.each(t.series,function(k){var J=k.getRawData();y.push(k.getRawData().mapArray(J.mapDimension(d),function(ue){return ue}))});for(var x=[p.join("\t")],w=0;w<y[0].length;w++){for(var z=[],V=0;V<y.length;V++)z.push(y[V][w]);x.push(z.join("\t"))}r.push(x.join("\n"))}),r.join("\n\n"+Fr+"\n\n")}function si(o){return M.map(o,function(r){var t=r.getRawData(),a=[r.name],l=[];return t.each(t.dimensions,function(){for(var h=arguments.length,p=t.getName(arguments[h-1]),y=0;y<h-1;y++)l[y]=arguments[y];a.push((p?p+"\t":"")+l.join("\t"))}),a.join("\n")}).join("\n\n"+Fr+"\n\n")}function ta(o){return o.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var ra=new RegExp("[\t]+","g");var ca=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.onclick=function(t,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var l=a.getDom(),h=this.model;this._dom&&l.removeChild(this._dom);var d=document.createElement("div");d.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",d.style.backgroundColor=h.get("backgroundColor")||"#fff";var p=document.createElement("h4"),y=h.get("lang")||[];p.innerHTML=y[0]||h.get("title"),p.style.cssText="margin:10px 20px",p.style.color=h.get("textColor");var x=document.createElement("div"),w=document.createElement("textarea");x.style.cssText="overflow:auto";var z=h.get("optionToContent"),V=h.get("contentToOption"),k=function Zr(o){var r=function gr(o){var r={},t=[],a=[];return o.eachRawSeries(function(l){var h=l.coordinateSystem;if(!h||"cartesian2d"!==h.type&&"polar"!==h.type)t.push(l);else{var d=h.getBaseAxis();if("category"===d.type){var p=d.dim+"_"+d.index;r[p]||(r[p]={categoryAxis:d,valueAxis:h.getOtherAxis(d),series:[]},a.push({axisDim:d.dim,axisIndex:d.index})),r[p].series.push(l)}else t.push(l)}}),{seriesGroupByCategoryAxis:r,other:t,meta:a}}(o);return{value:M.filter([ir(r.seriesGroupByCategoryAxis),si(r.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+Fr+"\n\n"),meta:r.meta}}(t);if(M.isFunction(z)){var J=z(a.getOption());M.isString(J)?x.innerHTML=J:M.isDom(J)&&x.appendChild(J)}else{w.readOnly=h.get("readOnly");var ue=w.style;ue.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",ue.color=h.get("textColor"),ue.borderColor=h.get("textareaBorderColor"),ue.backgroundColor=h.get("textareaColor"),w.value=k.value,x.appendChild(w)}var xe=k.meta,ze=document.createElement("div");ze.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Re="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Ie=document.createElement("div"),Ge=document.createElement("div");Re+=";background-color:"+h.get("buttonColor"),Re+=";color:"+h.get("buttonTextColor");var Qe=this;function $e(){l.removeChild(d),Qe._dom=null}(0,nl.Oo)(Ie,"click",$e),(0,nl.Oo)(Ge,"click",function(){if(null==V&&null!=z||null!=V&&null==z)$e();else{var ut;try{ut=M.isFunction(V)?V(x,a.getOption()):function es(o,r){var t=o.split(new RegExp("\n*"+Fr+"\n*","g")),a={series:[]};return M.each(t,function(l,h){if(function Ai(o){if(o.slice(0,o.indexOf("\n")).indexOf("\t")>=0)return!0}(l)){var d=function Li(o){for(var r=o.split(/\n+/g),t=ta(r.shift()).split(ra),a=[],l=M.map(t,function(y){return{name:y,data:[]}}),h=0;h<r.length;h++){var d=ta(r[h]).split(ra);a.push(d.shift());for(var p=0;p<d.length;p++)l[p]&&(l[p].data[h]=d[p])}return{series:l,categories:a}}(l),p=r[h],y=p.axisDim+"Axis";p&&(a[y]=a[y]||[],a[y][p.axisIndex]={data:d.categories},a.series=a.series.concat(d.series))}else d=function ia(o){for(var r=o.split(/\n+/g),t=ta(r.shift()),a=[],l=0;l<r.length;l++){var h=ta(r[l]);if(h){var d=h.split(ra),p="",y=void 0,x=!1;isNaN(d[0])?(x=!0,p=d[0],d=d.slice(1),a[l]={name:p,value:[]},y=a[l].value):y=a[l]=[];for(var w=0;w<d.length;w++)y.push(+d[w]);1===y.length&&(x?a[l].value=y[0]:a[l]=y[0])}}return{name:t,data:a}}(l),a.series.push(d)}),a}(w.value,xe)}catch(St){throw $e(),new Error("Data view format error "+St)}ut&&a.dispatchAction({type:"changeDataView",newOption:ut}),$e()}}),Ie.innerHTML=y[1],Ge.innerHTML=y[2],Ge.style.cssText=Ie.style.cssText=Re,!h.get("readOnly")&&ze.appendChild(Ge),ze.appendChild(Ie),d.appendChild(p),d.appendChild(x),d.appendChild(ze),x.style.height=l.clientHeight-80+"px",l.appendChild(d),this._dom=d},r.prototype.remove=function(t,a){this._dom&&a.getDom().removeChild(this._dom)},r.prototype.dispose=function(t,a){this.remove(t,a)},r.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},r}(_e);function Ga(o,r){return M.map(o,function(t,a){var l=r&&r[a];if(M.isObject(l)&&!M.isArray(l)){M.isObject(t)&&!M.isArray(t)||(t={value:t});var d=null!=l.name&&null==t.name;return t=M.defaults(t,l),d&&delete t.name,t}return t})}o4.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(o,r){var t=[];M.each(o.newOption.series,function(a){var l=r.getSeriesByName(a.name)[0];if(l){var h=l.get("data");t.push({name:a.name,data:Ga(a.data,h)})}else t.push(M.extend({type:"scatter"},a))}),r.mergeOption(M.defaults({series:t},o.newOption))});const ja=ca;var zo=M.each,Ao=(0,Hr.Yf)();function Sf(o){var r=Ao(o);return r.snapshots||(r.snapshots=[{}]),r.snapshots}var nb=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.onclick=function(t,a){(function Y2(o){Ao(o).snapshots=null})(t),a.dispatchAction({type:"restore",from:this.uid})},r.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},r}(_e);o4.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},function(o,r){r.resetOption("recreate")});const K9=nb;var G7=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],nM=function(){function o(r,t,a){var l=this;this._targetInfoList=[];var h=Nm(t,r);(0,M.each)(H5,function(d,p){(!a||!a.include||(0,M.indexOf)(a.include,p)>=0)&&d(h,l._targetInfoList)})}return o.prototype.setOutputRanges=function(r,t){return this.matchOutputRanges(r,t,function(a,l,h){if((a.coordRanges||(a.coordRanges=[])).push(l),!a.coordRange){a.coordRange=l;var d=Bm[a.brushType](0,h,l);a.__rangeOffset={offset:rM[a.brushType](d.values,a.range,[1,1]),xyMinMax:d.xyMinMax}}}),r},o.prototype.matchOutputRanges=function(r,t,a){(0,M.each)(r,function(l){var h=this.findTargetInfo(l,t);h&&!0!==h&&(0,M.each)(h.coordSyses,function(d){var p=Bm[l.brushType](1,d,l.range,!0);a(l,p.values,d,t)})},this)},o.prototype.setInputRanges=function(r,t){(0,M.each)(r,function(a){var l=this.findTargetInfo(a,t);if(a.range=a.range||[],l&&!0!==l){a.panelId=l.panelId;var h=Bm[a.brushType](0,l.coordSys,a.coordRange),d=a.__rangeOffset;a.range=d?rM[a.brushType](h.values,d.offset,function q9(o,r){var t=ey(o),a=ey(r),l=[t[0]/a[0],t[1]/a[1]];return isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l}(h.xyMinMax,d.xyMinMax)):h.values}},this)},o.prototype.makePanelOpts=function(r,t){return(0,M.map)(this._targetInfoList,function(a){var l=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:t?t(a):null,clipPath:Si(l),isTargetByCursor:Md(l,r,a.coordSysModel),getLinearBrushOtherExtent:V4(l)}})},o.prototype.controlSeries=function(r,t,a){var l=this.findTargetInfo(r,a);return!0===l||l&&(0,M.indexOf)(l.coordSyses,t.coordinateSystem)>=0},o.prototype.findTargetInfo=function(r,t){for(var a=this._targetInfoList,l=Nm(t,r),h=0;h<a.length;h++){var d=a[h],p=r.panelId;if(p){if(d.panelId===p)return d}else for(var y=0;y<$9.length;y++)if($9[y](l,d))return d}return!0},o}();function Hm(o){return o[0]>o[1]&&o.reverse(),o}function Nm(o,r){return(0,Hr.pm)(o,r,{includeMainTypes:G7})}var H5={grid:function(o,r){var t=o.xAxisModels,a=o.yAxisModels,l=o.gridModels,h=(0,M.createHashMap)(),d={},p={};!t&&!a&&!l||((0,M.each)(t,function(y){var x=y.axis.grid.model;h.set(x.id,x),d[x.id]=!0}),(0,M.each)(a,function(y){var x=y.axis.grid.model;h.set(x.id,x),p[x.id]=!0}),(0,M.each)(l,function(y){h.set(y.id,y),d[y.id]=!0,p[y.id]=!0}),h.each(function(y){var w=[];(0,M.each)(y.coordinateSystem.getCartesians(),function(z,V){((0,M.indexOf)(t,z.getAxis("x").model)>=0||(0,M.indexOf)(a,z.getAxis("y").model)>=0)&&w.push(z)}),r.push({panelId:"grid--"+y.id,gridModel:y,coordSysModel:y,coordSys:w[0],coordSyses:w,getPanelRect:X9.grid,xAxisDeclared:d[y.id],yAxisDeclared:p[y.id]})}))},geo:function(o,r){(0,M.each)(o.geoModels,function(t){var a=t.coordinateSystem;r.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:a,coordSyses:[a],getPanelRect:X9.geo})})}},$9=[function(o,r){var t=o.xAxisModel,a=o.yAxisModel,l=o.gridModel;return!l&&t&&(l=t.axis.grid.model),!l&&a&&(l=a.axis.grid.model),l&&l===r.gridModel},function(o,r){var t=o.geoModel;return t&&t===r.geoModel}],X9={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var o=this.coordSys,r=o.getBoundingRect().clone();return r.applyTransform(dr.getTransform(o)),r}},Bm={lineX:(0,M.curry)(Q9,0),lineY:(0,M.curry)(Q9,1),rect:function(o,r,t,a){var l=o?r.pointToData([t[0][0],t[1][0]],a):r.dataToPoint([t[0][0],t[1][0]],a),h=o?r.pointToData([t[0][1],t[1][1]],a):r.dataToPoint([t[0][1],t[1][1]],a),d=[Hm([l[0],h[0]]),Hm([l[1],h[1]])];return{values:d,xyMinMax:d}},polygon:function(o,r,t,a){var l=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,M.map)(t,function(d){var p=o?r.pointToData(d,a):r.dataToPoint(d,a);return l[0][0]=Math.min(l[0][0],p[0]),l[1][0]=Math.min(l[1][0],p[1]),l[0][1]=Math.max(l[0][1],p[0]),l[1][1]=Math.max(l[1][1],p[1]),p}),xyMinMax:l}}};function Q9(o,r,t,a){var l=t.getAxis(["x","y"][o]),h=Hm((0,M.map)([0,1],function(p){return r?l.coordToData(l.toLocalCoord(a[p]),!0):l.toGlobalCoord(l.dataToCoord(a[p]))})),d=[];return d[o]=h,d[1-o]=[NaN,NaN],{values:h,xyMinMax:d}}var rM={lineX:(0,M.curry)(J9,0),lineY:(0,M.curry)(J9,1),rect:function(o,r,t){return[[o[0][0]-t[0]*r[0][0],o[0][1]-t[0]*r[0][1]],[o[1][0]-t[1]*r[1][0],o[1][1]-t[1]*r[1][1]]]},polygon:function(o,r,t){return(0,M.map)(o,function(a,l){return[a[0]-t[0]*r[l][0],a[1]-t[1]*r[l][1]]})}};function J9(o,r,t,a){return[r[0]-a[o]*t[0],r[1]-a[o]*t[1]]}function ey(o){return o?[o[0][1]-o[0][0],o[1][1]-o[1][0]]:[NaN,NaN]}const km=nM;var N5=C(6374),Fm=M.each,ty=(0,Hr.g0)("toolbox-dataZoom_"),ny=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l,h){this._brushController||(this._brushController=new $u(l.getZr()),this._brushController.on("brush",M.bind(this._onBrush,this)).mount()),function Um(o,r,t,a,l){var h=t._isZoomActive;a&&"takeGlobalCursor"===a.type&&(h="dataZoomSelect"===a.key&&a.dataZoomSelectActive),t._isZoomActive=h,o.setIconStatus("zoom",h?"emphasis":"normal");var p=new km(j7(o),r,{include:["grid"]}).makePanelOpts(l,function(y){return y.xAxisDeclared&&!y.yAxisDeclared?"lineX":!y.xAxisDeclared&&y.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(p).enableBrush(!(!h||!p.length)&&{brushType:"auto",brushStyle:o.getModel("brushStyle").getItemStyle()})}(t,a,this,h,l),function aM(o,r){o.setIconStatus("back",function Xl(o){return Sf(o).length}(r)>1?"emphasis":"normal")}(t,a)},r.prototype.onclick=function(t,a,l){iM[l].call(this)},r.prototype.remove=function(t,a){this._brushController&&this._brushController.unmount()},r.prototype.dispose=function(t,a){this._brushController&&this._brushController.dispose()},r.prototype._onBrush=function(t){var a=t.areas;if(t.isEnd&&a.length){var l={},h=this.ecModel;this._brushController.updateCovers([]),new km(j7(this.model),h,{include:["grid"]}).matchOutputRanges(a,h,function(x,w,z){if("cartesian2d"===z.type){var V=x.brushType;"rect"===V?(p("x",z,w[0]),p("y",z,w[1])):p({lineX:"x",lineY:"y"}[V],z,w)}}),function u6(o,r){var t=Sf(o);zo(r,function(a,l){for(var h=t.length-1;h>=0&&!t[h][l];h--);if(h<0){var p=o.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(p){var y=p.getPercentRange();t[0][l]={dataZoomId:l,start:y[0],end:y[1]}}}}),t.push(r)}(h,l),this._dispatchZoomAction(l)}function p(x,w,z){var V=w.getAxis(x),k=V.model,J=function y(x,w,z){var V;return z.eachComponent({mainType:"dataZoom",subType:"select"},function(k){k.getAxisModel(x,w.componentIndex)&&(V=k)}),V}(x,k,h),ue=J.findRepresentativeAxisProxy(k).getMinMaxSpan();(null!=ue.minValueSpan||null!=ue.maxValueSpan)&&(z=Ml(0,z.slice(),V.scale.getExtent(),0,ue.minValueSpan,ue.maxValueSpan)),J&&(l[J.id]={dataZoomId:J.id,startValue:z[0],endValue:z[1]})}},r.prototype._dispatchZoomAction=function(t){var a=[];Fm(t,function(l,h){a.push(M.clone(l))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},r.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},r}(_e),iM={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function As(o){var r=Sf(o),t=r[r.length-1];r.length>1&&r.pop();var a={};return zo(t,function(l,h){for(var d=r.length-1;d>=0;d--)if(l=r[d][h]){a[h]=l;break}}),a}(this.ecModel))}};function j7(o){var r={xAxisIndex:o.get("xAxisIndex",!0),yAxisIndex:o.get("yAxisIndex",!0),xAxisId:o.get("xAxisId",!0),yAxisId:o.get("yAxisId",!0)};return null==r.xAxisIndex&&null==r.xAxisId&&(r.xAxisIndex="all"),null==r.yAxisIndex&&null==r.yAxisId&&(r.yAxisIndex="all"),r}(0,N5.f)("dataZoom",function(o){var r=o.getComponent("toolbox",0),t=["feature","dataZoom"];if(r&&null!=r.get(t)){var a=r.getModel(t),l=[],h=j7(a),d=(0,Hr.pm)(o,h);return Fm(d.xAxisModels,function(y){return p(y,"xAxis","xAxisIndex")}),Fm(d.yAxisModels,function(y){return p(y,"yAxis","yAxisIndex")}),l}function p(y,x,w){var z=y.componentIndex,V={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:ty+x+z};V[w]=z,l.push(V)}});const oM=ny,sM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="tooltip",r.dependencies=["axisPointer"],r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},r}(va.Z);function ay(o){var r=o.get("confine");return null!=r?!!r:"richText"===o.get("renderMode")}function oy(o){if($l.Z.domSupported)for(var r=document.documentElement.style,t=0,a=o.length;t<a;t++)if(o[t]in r)return o[t]}var W7=oy(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Ym(o,r){if(!o)return r;r=(0,Ia.zW)(r,!0);var t=o.indexOf(r);return(o=-1===t?r:"-"+o.slice(0,t)+"-"+r).toLowerCase()}var uM=Ym(oy(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Gm=Ym(W7,"transform"),hM="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+($l.Z.transform3dSupported?"will-change:transform;":"");function sy(o,r,t){var a=o.toFixed(0)+"px",l=r.toFixed(0)+"px";if(!$l.Z.transformSupported)return t?"top:"+l+";left:"+a+";":[["top",l],["left",a]];var h=$l.Z.transform3dSupported,d="translate"+(h?"3d":"")+"("+a+","+l+(h?",0":"")+")";return t?"top:0;left:0;"+Gm+":"+d+";":[["top",0],["left",0],[W7,d]]}function uy(o,r,t,a,l){var h=r&&r.painter;if(t){var d=h&&h.getViewportRoot();d&&(0,U.YB)(o,d,document.body,a,l)}else{o[0]=a,o[1]=l;var p=h&&h.getViewportRootOffset();p&&(o[0]+=p.offsetLeft,o[1]+=p.offsetTop)}o[2]=o[0]/r.getWidth(),o[3]=o[1]/r.getHeight()}const hy=function(){function o(r,t,a){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,$l.Z.wxa)return null;var l=document.createElement("div");l.domBelongToZr=!0,this.el=l;var h=this._zr=t.getZr(),d=this._appendToBody=a&&a.appendToBody;uy(this._styleCoord,h,d,t.getWidth()/2,t.getHeight()/2),d?document.body.appendChild(l):r.appendChild(l),this._container=r;var p=this;l.onmouseenter=function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0},l.onmousemove=function(y){if(y=y||window.event,!p._enterable){var x=h.handler,w=h.painter.getViewportRoot();(0,nl.OD)(w,y,!0),x.dispatch("mousemove",y)}},l.onmouseleave=function(){p._inContent=!1,p._enterable&&p._show&&p.hideLater(p._hideDelay)}}return o.prototype.update=function(r){var t=this._container,a=function cM(o,r){var t=o.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(o);return t?r?t[r]:t:null}(t,"position"),l=t.style;"absolute"!==l.position&&"absolute"!==a&&(l.position="relative");var h=r.get("alwaysShowContent");h&&this._moveIfResized(),this._alwaysShowContent=h,this.el.className=r.get("className")||""},o.prototype.show=function(r,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el,l=a.style,h=this._styleCoord;a.innerHTML?l.cssText=hM+function cy(o,r,t){var a=[],l=o.get("transitionDuration"),h=o.get("backgroundColor"),d=o.get("shadowBlur"),p=o.get("shadowColor"),y=o.get("shadowOffsetX"),x=o.get("shadowOffsetY"),w=o.getModel("textStyle"),z=(0,yo.d_)(o,"html");return a.push("box-shadow:"+y+"px "+x+"px "+d+"px "+p),r&&l&&a.push(function vM(o,r){var t="cubic-bezier(0.23,1,0.32,1)",a=" "+o/2+"s "+t,l="opacity"+a+",visibility"+a;return r||(a=" "+o+"s "+t,l+=$l.Z.transformSupported?","+Gm+a:",left"+a+",top"+a),uM+":"+l}(l,t)),h&&a.push("background-color:"+h),(0,M.each)(["width","color","radius"],function(k){var J="border-"+k,ue=(0,Ia.zW)(J),xe=o.get(ue);null!=xe&&a.push(J+":"+xe+("color"===k?"":"px"))}),a.push(function ly(o){var r=[],t=o.get("fontSize"),a=o.getTextColor();a&&r.push("color:"+a),r.push("font:"+o.getFont()),t&&r.push("line-height:"+Math.round(3*t/2)+"px");var l=o.get("textShadowColor"),h=o.get("textShadowBlur")||0,d=o.get("textShadowOffsetX")||0,p=o.get("textShadowOffsetY")||0;return l&&h&&r.push("text-shadow:"+d+"px "+p+"px "+h+"px "+l),(0,M.each)(["decoration","align"],function(y){var x=o.get(y);x&&r.push("text-"+y+":"+x)}),r.join(";")}(w)),null!=z&&a.push("padding:"+(0,Ia.MY)(z).join("px ")+"px"),a.join(";")+";"}(r,!this._firstShow,this._longHide)+sy(h[0],h[1],!0)+"border-color:"+(0,Ia.Lz)(t)+";"+(r.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):l.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},o.prototype.setContent=function(r,t,a,l,h){var d=this.el;if(null!=r){var p="";if((0,M.isString)(h)&&"item"===a.get("trigger")&&!ay(a)&&(p=function fM(o,r,t){if(!(0,M.isString)(t)||"inside"===t)return"";var a=o.get("backgroundColor"),l=o.get("borderWidth");r=(0,Ia.Lz)(r);var x,h=function dM(o){return"left"===o?"right":"right"===o?"left":"top"===o?"bottom":"top"}(t),d=Math.max(1.5*Math.round(l),6),p="",y=Gm+":";(0,M.indexOf)(["left","right"],h)>-1?(p+="top:50%",y+="translateY(-50%) rotate("+(x="left"===h?-225:-45)+"deg)"):(p+="left:50%",y+="translateX(-50%) rotate("+(x="top"===h?225:45)+"deg)");var w=x*Math.PI/180,z=d+l,V=z*Math.abs(Math.cos(w))+z*Math.abs(Math.sin(w)),J=r+" solid "+l+"px;";return'<div style="'+["position:absolute;width:"+d+"px;height:"+d+"px;z-index:-1;",(p+=";"+h+":-"+Math.round(100*((V-Math.SQRT2*l)/2+Math.SQRT2*l-(V-z)/2))/100+"px")+";"+y+";","border-bottom:"+J,"border-right:"+J,"background-color:"+a+";"].join("")+'"></div>'}(a,l,h)),(0,M.isString)(r))d.innerHTML=r+p;else if(r){d.innerHTML="",(0,M.isArray)(r)||(r=[r]);for(var y=0;y<r.length;y++)(0,M.isDom)(r[y])&&r[y].parentNode!==d&&d.appendChild(r[y]);if(p&&d.childNodes.length){var x=document.createElement("div");x.innerHTML=p,d.appendChild(x)}}}else d.innerHTML=""},o.prototype.setEnterable=function(r){this._enterable=r},o.prototype.getSize=function(){var r=this.el;return[r.offsetWidth,r.offsetHeight]},o.prototype.moveTo=function(r,t){var a=this._styleCoord;if(uy(a,this._zr,this._appendToBody,r,t),null!=a[0]&&null!=a[1]){var l=this.el.style,h=sy(a[0],a[1]);(0,M.each)(h,function(d){l[d[0]]=d[1]})}},o.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},o.prototype.hide=function(){var r=this,t=this.el.style;t.visibility="hidden",t.opacity="0",$l.Z.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return r._longHide=!0},500)},o.prototype.hideLater=function(r){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout((0,M.bind)(this.hide,this),r)):this.hide())},o.prototype.isShow=function(){return this._show},o.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},o}();function E8(o){return Math.max(0,o)}function Z7(o){var r=E8(o.shadowBlur||0),t=E8(o.shadowOffsetX||0),a=E8(o.shadowOffsetY||0);return{left:E8(r-t),right:E8(r+t),top:E8(r-a),bottom:E8(r+a)}}function jm(o,r,t,a){o[0]=t,o[1]=a,o[2]=o[0]/r.getWidth(),o[3]=o[1]/r.getHeight()}const Wm=function(){function o(r){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=r.getZr(),jm(this._styleCoord,this._zr,r.getWidth()/2,r.getHeight()/2)}return o.prototype.update=function(r){var t=r.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},o.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},o.prototype.setContent=function(r,t,a,l,h){var d=this;M.isObject(r)&&(0,_o._y)(""),this.el&&this._zr.remove(this.el);var p=a.getModel("textStyle");this.el=new Yt.ZP({style:{rich:t.richTextStyles,text:r,lineHeight:22,borderWidth:1,borderColor:l,textShadowColor:p.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:(0,yo.d_)(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),M.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(x){d.el.style[x]=a.get(x)}),M.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(x){d.el.style[x]=p.get(x)||0}),this._zr.add(this.el);var y=this;this.el.on("mouseover",function(){y._enterable&&(clearTimeout(y._hideTimeout),y._show=!0),y._inContent=!0}),this.el.on("mouseout",function(){y._enterable&&y._show&&y.hideLater(y._hideDelay),y._inContent=!1})},o.prototype.setEnterable=function(r){this._enterable=r},o.prototype.getSize=function(){var r=this.el,t=this.el.getBoundingRect(),a=Z7(r.style);return[t.width+a.left+a.right,t.height+a.top+a.bottom]},o.prototype.moveTo=function(r,t){var a=this.el;if(a){var l=this._styleCoord;jm(l,this._zr,r,t),r=l[0],t=l[1];var h=a.style,d=E8(h.borderWidth||0),p=Z7(h);a.x=r+d+p.left,a.y=t+d+p.top,a.markRedraw()}},o.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},o.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},o.prototype.hideLater=function(r){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(M.bind(this.hide,this),r)):this.hide())},o.prototype.isShow=function(){return this._show},o.prototype.dispose=function(){this._zr.remove(this.el)},o}();var dy=C(7445),K7=C(5699),fy=new Ei.Z({shape:{x:-1,y:-1,width:2,height:2}});function Cf(o,r,t){var l,a=r.ecModel;t?(l=new Fo.Z(t,a,a),l=new Fo.Z(r.option,l,a)):l=r;for(var h=o.length-1;h>=0;h--){var d=o[h];d&&(d instanceof Fo.Z&&(d=d.get("tooltip",!0)),(0,M.isString)(d)&&(d={formatter:d}),d&&(l=new Fo.Z(d,l,a)))}return l}function Zm(o,r){return o.dispatchAction||(0,M.bind)(r.dispatchAction,r)}function Km(o){return"center"===o||"middle"===o}const my=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){if(!$l.Z.node&&a.getDom()){var l=t.getComponent("tooltip"),h=this._renderMode=(0,Hr.U9)(l.get("renderMode"));this._tooltipContent="richText"===h?new Wm(a):new hy(a.getDom(),a,{appendToBody:l.get("appendToBody",!0)})}},r.prototype.render=function(t,a,l){if(!$l.Z.node&&l.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=a,this._api=l;var h=this._tooltipContent;h.update(t),h.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?(0,ho.T9)(this,"_updatePosition",50,"fixRate"):(0,ho.ZH)(this,"_updatePosition")}},r.prototype._initGlobalListener=function(){var a=this._tooltipModel.get("triggerOn");f7("itemTooltip",this._api,(0,M.bind)(function(l,h,d){"none"!==a&&(a.indexOf(l)>=0?this._tryShow(h,d):"leave"===l&&this._hide(d))},this))},r.prototype._keepShow=function(){var t=this._tooltipModel,a=this._ecModel,l=this._api,h=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==h&&"click"!==h){var d=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!l.isDisposed()&&d.manuallyShowTip(t,a,l,{x:d._lastX,y:d._lastY,dataByCoordSys:d._lastDataByCoordSys})})}},r.prototype.manuallyShowTip=function(t,a,l,h){if(h.from!==this.uid&&!$l.Z.node&&l.getDom()){var d=Zm(h,l);this._ticket="";var p=h.dataByCoordSys,y=function $m(o,r,t){var a=(0,Hr.zH)(o).queryOptionMap,l=a.keys()[0];if(l&&"series"!==l){var y,d=(0,Hr.HZ)(r,l,a.get(l),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(d&&(t.getViewOfComponentModel(d).group.traverse(function(x){var w=(0,Qn.A)(x).tooltipConfig;if(w&&w.name===o.name)return y=x,!0}),y))return{componentMainType:l,componentIndex:d.componentIndex,el:y}}}(h,a,l);if(y){var x=y.el.getBoundingRect().clone();x.applyTransform(y.el.transform),this._tryShow({offsetX:x.x+x.width/2,offsetY:x.y+x.height/2,target:y.el,position:h.position,positionDefault:"bottom"},d)}else if(h.tooltip&&null!=h.x&&null!=h.y){var w=fy;w.x=h.x,w.y=h.y,w.update(),(0,Qn.A)(w).tooltipConfig={name:null,option:h.tooltip},this._tryShow({offsetX:h.x,offsetY:h.y,target:w},d)}else if(p)this._tryShow({offsetX:h.x,offsetY:h.y,position:h.position,dataByCoordSys:p,tooltipOption:h.tooltipOption},d);else if(null!=h.seriesIndex){if(this._manuallyAxisShowTip(t,a,l,h))return;var z=N2(h,a),V=z.point[0],k=z.point[1];null!=V&&null!=k&&this._tryShow({offsetX:V,offsetY:k,target:z.el,position:h.position,positionDefault:"bottom"},d)}else null!=h.x&&null!=h.y&&(l.dispatchAction({type:"updateAxisPointer",x:h.x,y:h.y}),this._tryShow({offsetX:h.x,offsetY:h.y,position:h.position,target:l.getZr().findHover(h.x,h.y).target},d))}},r.prototype.manuallyHideTip=function(t,a,l,h){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,h.from!==this.uid&&this._hide(Zm(h,l))},r.prototype._manuallyAxisShowTip=function(t,a,l,h){var d=h.seriesIndex,p=h.dataIndex,y=a.getComponent("axisPointer").coordSysAxesInfo;if(null!=d&&null!=p&&null!=y){var x=a.getSeriesByIndex(d);if(x&&"axis"===Cf([x.getData().getItemModel(p),x,(x.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return l.dispatchAction({type:"updateAxisPointer",seriesIndex:d,dataIndex:p,position:h.position}),!0}},r.prototype._tryShow=function(t,a){var l=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var d=t.dataByCoordSys;if(d&&d.length)this._showAxisTooltip(d,t);else if(l){var p,y;this._lastDataByCoordSys=null,(0,g4.o)(l,function(x){return null!=(0,Qn.A)(x).dataIndex?(p=x,!0):null!=(0,Qn.A)(x).tooltipConfig?(y=x,!0):void 0},!0),p?this._showSeriesItemTooltip(t,p,a):y?this._showComponentItemTooltip(t,y,a):this._hide(a)}else this._lastDataByCoordSys=null,this._hide(a)}},r.prototype._showOrMove=function(t,a){var l=t.get("showDelay");a=(0,M.bind)(a,this),clearTimeout(this._showTimout),l>0?this._showTimout=setTimeout(a,l):a()},r.prototype._showAxisTooltip=function(t,a){var l=this._ecModel,h=this._tooltipModel,d=[a.offsetX,a.offsetY],p=Cf([a.tooltipOption],h),y=this._renderMode,x=[],w=(0,yo.TX)("section",{blocks:[],noHeader:!0}),z=[],V=new yo.iv;(0,M.each)(t,function(Re){(0,M.each)(Re.dataByAxis,function(Ie){var Ge=l.getComponent(Ie.axisDim+"Axis",Ie.axisIndex),Qe=Ie.value;if(Ge&&null!=Qe){var $e=u7(Qe,Ge.axis,l,Ie.seriesDataIndices,Ie.valueLabelOpt),ut=(0,yo.TX)("section",{header:$e,noHeader:!(0,M.trim)($e),sortBlocks:!0,blocks:[]});w.blocks.push(ut),(0,M.each)(Ie.seriesDataIndices,function(St){var Pt=l.getSeriesByIndex(St.seriesIndex),Vt=St.dataIndexInside,kt=Pt.getDataParams(Vt);if(!(kt.dataIndex<0)){kt.axisDim=Ie.axisDim,kt.axisIndex=Ie.axisIndex,kt.axisType=Ie.axisType,kt.axisId=Ie.axisId,kt.axisValue=io.DX(Ge.axis,{value:Qe}),kt.axisValueLabel=$e,kt.marker=V.makeTooltipMarker("item",(0,Ia.Lz)(kt.color),y);var en=(0,K7.f)(Pt.formatTooltip(Vt,!0,null)),un=en.frag;if(un){var vn=Cf([Pt],h).get("valueFormatter");ut.blocks.push(vn?(0,M.extend)({valueFormatter:vn},un):un)}en.text&&z.push(en.text),x.push(kt)}})}})}),w.blocks.reverse(),z.reverse();var k=a.position,J=p.get("order"),ue=(0,yo.BY)(w,V,y,J,l.get("useUTC"),p.get("textStyle"));ue&&z.unshift(ue);var ze=z.join("richText"===y?"\n\n":"<br/>");this._showOrMove(p,function(){this._updateContentNotChangedOnAxis(t,x)?this._updatePosition(p,k,d[0],d[1],this._tooltipContent,x):this._showTooltipContent(p,ze,x,Math.random()+"",d[0],d[1],k,null,V)})},r.prototype._showSeriesItemTooltip=function(t,a,l){var h=this._ecModel,d=(0,Qn.A)(a),p=d.seriesIndex,y=h.getSeriesByIndex(p),x=d.dataModel||y,w=d.dataIndex,z=d.dataType,V=x.getData(z),k=this._renderMode,J=t.positionDefault,ue=Cf([V.getItemModel(w),x,y&&(y.coordinateSystem||{}).model],this._tooltipModel,J?{position:J}:null),xe=ue.get("trigger");if(null==xe||"item"===xe){var ze=x.getDataParams(w,z),Re=new yo.iv;ze.marker=Re.makeTooltipMarker("item",(0,Ia.Lz)(ze.color),k);var Ie=(0,K7.f)(x.formatTooltip(w,!1,z)),Ge=ue.get("order"),Qe=ue.get("valueFormatter"),$e=Ie.frag,ut=$e?(0,yo.BY)(Qe?(0,M.extend)({valueFormatter:Qe},$e):$e,Re,k,Ge,h.get("useUTC"),ue.get("textStyle")):Ie.text,St="item_"+x.name+"_"+w;this._showOrMove(ue,function(){this._showTooltipContent(ue,ut,ze,St,t.offsetX,t.offsetY,t.position,t.target,Re)}),l({type:"showTip",dataIndexInside:w,dataIndex:V.getRawIndex(w),seriesIndex:p,from:this.uid})}},r.prototype._showComponentItemTooltip=function(t,a,l){var h=(0,Qn.A)(a),p=h.tooltipConfig.option||{};(0,M.isString)(p)&&(p={content:p,formatter:p});var x=[p],w=this._ecModel.getComponent(h.componentMainType,h.componentIndex);w&&x.push(w),x.push({formatter:p.content});var z=t.positionDefault,V=Cf(x,this._tooltipModel,z?{position:z}:null),k=V.get("content"),J=Math.random()+"",ue=new yo.iv;this._showOrMove(V,function(){var xe=(0,M.clone)(V.get("formatterParams")||{});this._showTooltipContent(V,k,xe,J,t.offsetX,t.offsetY,t.position,a,ue)}),l({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(t,a,l,h,d,p,y,x,w){if(this._ticket="",t.get("showContent")&&t.get("show")){var z=this._tooltipContent;z.setEnterable(t.get("enterable"));var V=t.get("formatter");y=y||t.get("position");var k=a,ue=this._getNearestPoint([d,p],l,t.get("trigger"),t.get("borderColor")).color;if(V)if((0,M.isString)(V)){var xe=t.ecModel.get("useUTC"),ze=(0,M.isArray)(l)?l[0]:l;k=V,ze&&ze.axisType&&ze.axisType.indexOf("time")>=0&&(k=(0,dy.WU)(ze.axisValue,k,xe)),k=(0,Ia.kF)(k,l,!0)}else if((0,M.isFunction)(V)){var Ie=(0,M.bind)(function(Ge,Qe){Ge===this._ticket&&(z.setContent(Qe,w,t,ue,y),this._updatePosition(t,y,d,p,z,l,x))},this);this._ticket=h,k=V(l,h,Ie)}else k=V;z.setContent(k,w,t,ue,y),z.show(t,ue),this._updatePosition(t,y,d,p,z,l,x)}},r.prototype._getNearestPoint=function(t,a,l,h){return"axis"===l||(0,M.isArray)(a)?{color:h||("html"===this._renderMode?"#fff":"none")}:(0,M.isArray)(a)?void 0:{color:h||a.color||a.borderColor}},r.prototype._updatePosition=function(t,a,l,h,d,p,y){var x=this._api.getWidth(),w=this._api.getHeight();a=a||t.get("position");var z=d.getSize(),V=t.get("align"),k=t.get("verticalAlign"),J=y&&y.getBoundingRect().clone();if(y&&J.applyTransform(y.transform),(0,M.isFunction)(a)&&(a=a([l,h],p,d.el,J,{viewSize:[x,w],contentSize:z.slice()})),(0,M.isArray)(a))l=(0,In.GM)(a[0],x),h=(0,In.GM)(a[1],w);else if((0,M.isObject)(a)){var ue=a;ue.width=z[0],ue.height=z[1];var xe=(0,Vr.ME)(ue,{width:x,height:w});l=xe.x,h=xe.y,V=null,k=null}else if((0,M.isString)(a)&&y){var ze=function gy(o,r,t,a){var l=t[0],h=t[1],d=Math.ceil(Math.SQRT2*a)+8,p=0,y=0,x=r.width,w=r.height;switch(o){case"inside":p=r.x+x/2-l/2,y=r.y+w/2-h/2;break;case"top":p=r.x+x/2-l/2,y=r.y-h-d;break;case"bottom":p=r.x+x/2-l/2,y=r.y+w+d;break;case"left":p=r.x-l-d,y=r.y+w/2-h/2;break;case"right":p=r.x+x+d,y=r.y+w/2-h/2}return[p,y]}(a,J,z,t.get("borderWidth"));l=ze[0],h=ze[1]}else ze=function mM(o,r,t,a,l,h,d){var p=t.getSize(),y=p[0],x=p[1];return null!=h&&(o+y+h+2>a?o-=y+h:o+=h),null!=d&&(r+x+d>l?r-=x+d:r+=d),[o,r]}(l,h,d,x,w,V?null:20,k?null:20),l=ze[0],h=ze[1];V&&(l-=Km(V)?z[0]/2:"right"===V?z[0]:0),k&&(h-=Km(k)?z[1]/2:"bottom"===k?z[1]:0),ay(t)&&(ze=function py(o,r,t,a,l){var h=t.getSize(),d=h[0],p=h[1];return o=Math.min(o+d,a)-d,r=Math.min(r+p,l)-p,[o=Math.max(o,0),r=Math.max(r,0)]}(l,h,d,x,w),l=ze[0],h=ze[1]),d.moveTo(l,h)},r.prototype._updateContentNotChangedOnAxis=function(t,a){var l=this._lastDataByCoordSys,h=this._cbParamsList,d=!!l&&l.length===t.length;return d&&(0,M.each)(l,function(p,y){var x=p.dataByAxis||[],z=(t[y]||{}).dataByAxis||[];(d=d&&x.length===z.length)&&(0,M.each)(x,function(V,k){var J=z[k]||{},ue=V.seriesDataIndices||[],xe=J.seriesDataIndices||[];(d=d&&V.value===J.value&&V.axisType===J.axisType&&V.axisId===J.axisId&&ue.length===xe.length)&&(0,M.each)(ue,function(ze,Re){var Ie=xe[Re];d=d&&ze.seriesIndex===Ie.seriesIndex&&ze.dataIndex===Ie.dataIndex}),h&&(0,M.each)(V.seriesDataIndices,function(ze){var Re=ze.seriesIndex,Ie=a[Re],Ge=h[Re];Ie&&Ge&&Ge.data!==Ie.data&&(d=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=a,!!d},r.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},r.prototype.dispose=function(t,a){$l.Z.node||!a.getDom()||((0,ho.ZH)(this,"_updatePosition"),this._tooltipContent.dispose(),cf("itemTooltip",a))},r.type="tooltip",r}(xa.Z);var _y=["rect","polygon","keep","clear"];function My(o,r){var t=(0,Hr.kF)(o?o.brush:[]);if(t.length){var a=[];M.each(t,function(y){var x=y.hasOwnProperty("toolbox")?y.toolbox:[];x instanceof Array&&(a=a.concat(x))});var l=o&&o.toolbox;M.isArray(l)&&(l=l[0]),l||(o.toolbox=[l={feature:{}}]);var h=l.feature||(l.feature={}),d=h.brush||(h.brush={}),p=d.type||(d.type=[]);p.push.apply(p,a),function xy(o){var r={};M.each(o,function(t){r[t]=1}),o.length=0,M.each(r,function(t,a){o.push(a)})}(p),r&&!p.length&&p.push.apply(p,_y)}}var iu=C(7248),Xm=M.each;function Qm(o){if(o)for(var r in o)if(o.hasOwnProperty(r))return!0}function Jm(o,r,t){var a={};return Xm(r,function(h){var d=a[h]=function l(){var h=function(){};return h.prototype.__hidden=h.prototype,new h}();Xm(o[h],function(p,y){if(cs.isValidType(y)){var x={type:y,visual:p};t&&t(x,h),d[y]=new cs(x),"opacity"===y&&((x=M.clone(x)).type="colorAlpha",d.__hidden.__alphaForOpacity=new cs(x))}})}),a}function qm(o,r,t){var a;M.each(t,function(l){r.hasOwnProperty(l)&&Qm(r[l])&&(a=!0)}),a&&M.each(t,function(l){r.hasOwnProperty(l)&&Qm(r[l])?o[l]=M.clone(r[l]):delete o[l]})}var B5=C(7157),by={lineX:wy(0),lineY:wy(1),rect:{point:function(o,r,t){return o&&t.boundingRect.contain(o[0],o[1])},rect:function(o,r,t){return o&&t.boundingRect.intersect(o)}},polygon:{point:function(o,r,t){return o&&t.boundingRect.contain(o[0],o[1])&&B5.X(t.range,o[0],o[1])},rect:function(o,r,t){var a=t.range;if(!o||a.length<=1)return!1;var l=o.x,h=o.y,d=o.width,p=o.height,y=a[0];return!!(B5.X(a,l,h)||B5.X(a,l+d,h)||B5.X(a,l,h+p)||B5.X(a,l+d,h+p)||_r.Z.create(o).contain(y[0],y[1])||(0,dr.linePolygonIntersect)(l,h,l+d,h,a)||(0,dr.linePolygonIntersect)(l,h,l,h+p,a)||(0,dr.linePolygonIntersect)(l+d,h,l+d,h+p,a)||(0,dr.linePolygonIntersect)(l,h+p,l+d,h+p,a))||void 0}}};function wy(o){var r=["x","y"],t=["width","height"];return{point:function(a,l,h){if(a)return k5(a[o],h.range)},rect:function(a,l,h){if(a){var d=h.range,p=[a[r[o]],a[r[o]]+a[t[o]]];return p[1]<p[0]&&p.reverse(),k5(p[0],d)||k5(p[1],d)||k5(d[0],p)||k5(d[1],p)}}}}function k5(o,r){return r[0]<=o&&o<=r[1]}var Sy=["inBrush","outOfBrush"],$7="__ecBrushSelect",X7="__ecInBrushSelectEvent";function e9(o){o.eachComponent({mainType:"brush"},function(r){(r.brushTargetManager=new km(r.option,o)).setInputRanges(r.areas,o)})}function Cy(o,r,t){var l,h,a=[];o.eachComponent({mainType:"brush"},function(d){t&&"takeGlobalCursor"===t.type&&d.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),e9(o),o.eachComponent({mainType:"brush"},function(d,p){var y={brushId:d.id,brushIndex:p,brushName:d.name,areas:M.clone(d.areas),selected:[]};a.push(y);var x=d.option,w=x.brushLink,z=[],V=[],k=[],J=!1;p||(l=x.throttleType,h=x.throttleDelay);var ue=M.map(d.areas,function(Qe){var $e=zy[Qe.brushType],ut=M.defaults({boundingRect:$e?$e(Qe):void 0},Qe);return ut.selectors=function MM(o){var r=o.brushType,t={point:function(a){return by[r].point(a,t,o)},rect:function(a){return by[r].rect(a,t,o)}};return t}(ut),ut}),xe=Jm(d.option,Sy,function(Qe){Qe.mappingMethod="fixed"});function ze(Qe){return"all"===w||!!z[Qe]}function Re(Qe){return!!Qe.length}M.isArray(w)&&M.each(w,function(Qe){z[Qe]=1}),o.eachSeries(function(Qe,$e){var ut=k[$e]=[];"parallel"===Qe.subType?function Ie(Qe,$e){var ut=Qe.coordinateSystem;J=J||ut.hasAxisBrushed(),ze($e)&&ut.eachActiveState(Qe.getData(),function(St,Pt){"active"===St&&(V[Pt]=1)})}(Qe,$e):function Ge(Qe,$e,ut){if(Qe.brushSelector&&!function Ey(o,r){var t=o.option.seriesIndex;return null!=t&&"all"!==t&&(M.isArray(t)?M.indexOf(t,r)<0:r!==t)}(d,$e)&&(M.each(ue,function(Pt){d.brushTargetManager.controlSeries(Pt,Qe,o)&&ut.push(Pt),J=J||Re(ut)}),ze($e)&&Re(ut))){var St=Qe.getData();St.each(function(Pt){t9(Qe,ut,St,Pt)&&(V[Pt]=1)})}}(Qe,$e,ut)}),o.eachSeries(function(Qe,$e){var ut={seriesId:Qe.id,seriesIndex:$e,seriesName:Qe.name,dataIndex:[]};y.selected.push(ut);var St=k[$e],Pt=Qe.getData(),Vt=ze($e)?function(kt){return V[kt]?(ut.dataIndex.push(Pt.getRawIndex(kt)),"inBrush"):"outOfBrush"}:function(kt){return t9(Qe,St,Pt,kt)?(ut.dataIndex.push(Pt.getRawIndex(kt)),"inBrush"):"outOfBrush"};(ze($e)?J:Re(St))&&function yM(o,r,t,a,l,h){var p,d={};function y(z){return(0,iu.Or)(t,p,z)}function x(z,V){(0,iu.LZ)(t,p,z,V)}function w(z,V){var k=t.getRawDataItem(p=null==h?z:V);if(!k||!1!==k.visualMap)for(var J=a.call(l,z),ue=r[J],xe=d[J],ze=0,Re=xe.length;ze<Re;ze++){var Ie=xe[ze];ue[Ie]&&ue[Ie].applyVisual(z,y,x)}}M.each(o,function(z){var V=cs.prepareVisualTypes(r[z]);d[z]=V}),null==h?t.each(w):t.each([h],w)}(Sy,xe,Pt,Vt)})}),function Ty(o,r,t,a,l){if(l){var h=o.getZr();h[X7]||(h[$7]||(h[$7]=Dy),ho.T9(h,$7,t,r)(o,a))}}(r,l,h,a,t)}function Dy(o,r){if(!o.isDisposed()){var t=o.getZr();t[X7]=!0,o.dispatchAction({type:"brushSelect",batch:r}),t[X7]=!1}}function t9(o,r,t,a){for(var l=0,h=r.length;l<h;l++){var d=r[l];if(o.brushSelector(a,t,d.selectors,d))return!0}}var zy={rect:function(o){return n9(o.range)},polygon:function(o){for(var r,t=o.range,a=0,l=t.length;a<l;a++){var h=t[a];h[0]<(r=r||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(r[0][0]=h[0]),h[0]>r[0][1]&&(r[0][1]=h[0]),h[1]<r[1][0]&&(r[1][0]=h[1]),h[1]>r[1][1]&&(r[1][1]=h[1])}return r&&n9(r)}};function n9(o){return new _r.Z(o[0][0],o[1][0],o[0][1]-o[0][0],o[1][1]-o[1][0])}const xM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){this.ecModel=t,this.api=a,(this._brushController=new $u(a.getZr())).on("brush",M.bind(this._onBrush,this)).mount()},r.prototype.render=function(t,a,l,h){this.model=t,this._updateController(t,a,l,h)},r.prototype.updateTransform=function(t,a,l,h){e9(a),this._updateController(t,a,l,h)},r.prototype.updateVisual=function(t,a,l,h){this.updateTransform(t,a,l,h)},r.prototype.updateView=function(t,a,l,h){this._updateController(t,a,l,h)},r.prototype._updateController=function(t,a,l,h){(!h||h.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(l)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},r.prototype.dispose=function(){this._brushController.dispose()},r.prototype._onBrush=function(t){var a=this.model.id,l=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:a,areas:M.clone(l),$from:a}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:a,areas:M.clone(l),$from:a})},r.type="brush",r}(xa.Z);function F5(o,r){return M.merge({brushType:o.brushType,brushMode:o.brushMode,transformable:o.transformable,brushStyle:new Fo.Z(o.brushStyle).getItemStyle(),removeOnClick:o.removeOnClick,z:o.z},r,!0)}const Py=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.areas=[],t.brushOption={},t}return(0,st.ZT)(r,o),r.prototype.optionUpdated=function(t,a){var l=this.option;!a&&qm(l,t,["inBrush","outOfBrush"]);var h=l.inBrush=l.inBrush||{};l.outOfBrush=l.outOfBrush||{color:"#ddd"},h.hasOwnProperty("liftZ")||(h.liftZ=5)},r.prototype.setAreas=function(t){t&&(this.areas=M.map(t,function(a){return F5(this.option,a)},this))},r.prototype.setBrushOption=function(t){this.brushOption=F5(this.option,t),this.brushType=this.brushOption.brushType},r.type="brush",r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},r}(va.Z);var Ly=["rect","polygon","lineX","lineY","keep","clear"];const Iy=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){var h,d,p;a.eachComponent({mainType:"brush"},function(y){h=y.brushType,d=y.brushOption.brushMode||"single",p=p||!!y.areas.length}),this._brushType=h,this._brushMode=d,M.each(t.get("type",!0),function(y){t.setIconStatus(y,("keep"===y?"multiple"===d:"clear"===y?p:y===h)?"emphasis":"normal")})},r.prototype.updateView=function(t,a,l){this.render(t,a,l)},r.prototype.getIcons=function(){var t=this.model,a=t.get("icon",!0),l={};return M.each(t.get("type",!0),function(h){a[h]&&(l[h]=a[h])}),l},r.prototype.onclick=function(t,a,l){var h=this._brushType,d=this._brushMode;"clear"===l?(a.dispatchAction({type:"axisAreaSelect",intervals:[]}),a.dispatchAction({type:"brush",command:"clear",areas:[]})):a.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===l?h:h!==l&&l,brushMode:"keep"===l?"multiple"===d?"single":"multiple":d}})},r.getDefaultOption=function(t){return{show:!0,type:Ly.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},r}(_e);var Vy=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.layoutMode={type:"box",ignoreSize:!0},t}return(0,st.ZT)(r,o),r.type="title",r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},r}(va.Z),Hy=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){if(this.group.removeAll(),t.get("show")){var h=this.group,d=t.getModel("textStyle"),p=t.getModel("subtextStyle"),y=t.get("textAlign"),x=M.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),w=new Yt.ZP({style:(0,hr.Lr)(d,{text:t.get("text"),fill:d.getTextColor()},{disableBox:!0}),z2:10}),z=w.getBoundingRect(),V=t.get("subtext"),k=new Yt.ZP({style:(0,hr.Lr)(p,{text:V,fill:p.getTextColor(),y:z.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),J=t.get("link"),ue=t.get("sublink"),xe=t.get("triggerEvent",!0);w.silent=!J&&!xe,k.silent=!ue&&!xe,J&&w.on("click",function(){(0,Ia.MI)(J,"_"+t.get("target"))}),ue&&k.on("click",function(){(0,Ia.MI)(ue,"_"+t.get("subtarget"))}),(0,Qn.A)(w).eventData=(0,Qn.A)(k).eventData=xe?{componentType:"title",componentIndex:t.componentIndex}:null,h.add(w),V&&h.add(k);var ze=h.getBoundingRect(),Re=t.getBoxLayoutParams();Re.width=ze.width,Re.height=ze.height;var Ie=(0,Vr.ME)(Re,{width:l.getWidth(),height:l.getHeight()},t.get("padding"));y||("middle"===(y=t.get("left")||t.get("right"))&&(y="center"),"right"===y?Ie.x+=Ie.width:"center"===y&&(Ie.x+=Ie.width/2)),x||("center"===(x=t.get("top")||t.get("bottom"))&&(x="middle"),"bottom"===x?Ie.y+=Ie.height:"middle"===x&&(Ie.y+=Ie.height/2),x=x||"top"),h.x=Ie.x,h.y=Ie.y,h.markRedraw();var Ge={align:y,verticalAlign:x};w.setStyle(Ge),k.setStyle(Ge),ze=h.getBoundingRect();var Qe=Ie.margin,$e=t.getItemStyle(["color","opacity"]);$e.fill=t.get("backgroundColor");var ut=new Ei.Z({shape:{x:ze.x-Qe[3],y:ze.y-Qe[0],width:ze.width+Qe[1]+Qe[3],height:ze.height+Qe[0]+Qe[2],r:t.get("borderRadius")},style:$e,subPixelOptimize:!0,silent:!0});h.add(ut)}},r.type="title",r}(xa.Z);const Q7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.layoutMode="box",t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){this.mergeDefaultAndTheme(t,l),this._initData()},r.prototype.mergeOption=function(t){o.prototype.mergeOption.apply(this,arguments),this._initData()},r.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var a=this._data.count();this.option.loop?t=(t%a+a)%a:(t>=a&&(t=a-1),t<0&&(t=0)),this.option.currentIndex=t},r.prototype.getCurrentIndex=function(){return this.option.currentIndex},r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},r.prototype.setPlayState=function(t){this.option.autoPlay=!!t},r.prototype.getPlayState=function(){return!!this.option.autoPlay},r.prototype._initData=function(){var d,t=this.option,a=t.data||[],l=t.axisType,h=this._names=[];"category"===l?(d=[],(0,M.each)(a,function(x,w){var V,z=(0,Hr.U5)((0,Hr.C4)(x),"");(0,M.isObject)(x)?(V=(0,M.clone)(x)).value=w:V=w,d.push(V),h.push(z)})):d=a,(this._data=new Hn.Z([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[l]||"number"}],this)).initData(d,h)},r.prototype.getData=function(){return this._data},r.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},r.type="timeline",r.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},r}(va.Z);var J7=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="timeline.slider",r.defaultOption=(0,uo.ZL)(Q7.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),r}(Q7);(0,M.mixin)(J7,K7.X.prototype);const By=J7,SM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="timeline",r}(xa.Z),a9=function(o){function r(t,a,l,h){var d=o.call(this,t,a,l)||this;return d.type=h||"value",d}return(0,st.ZT)(r,o),r.prototype.getLabelModel=function(){return this.model.getModel("label")},r.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},r}(Al.Z);var TM=C(3666),ky=C(7759),au=Math.PI,o9=(0,Hr.Yf)();function Fy(o,r,t,a,l,h){var d=r.get("color");if(l)l.setColor(d),t.add(l),h&&h.onUpdate(l);else{var p=o.get("symbol");(l=(0,Pn.th)(p,-1,-1,2,2,d)).setStyle("strokeNoScale",!0),t.add(l),h&&h.onCreate(l)}var y=r.getItemStyle(["color"]);l.setStyle(y),a=(0,M.merge)({rectHover:!0,z2:100},a,!0);var x=(0,Pn.zp)(o.get("symbolSize"));a.scaleX=x[0]/2,a.scaleY=x[1]/2;var w=(0,Pn.Cq)(o.get("symbolOffset"),x);w&&(a.x=(a.x||0)+w[0],a.y=(a.y||0)+w[1]);var z=o.get("symbolRotate");return a.rotation=(z||0)*Math.PI/180||0,l.attr(a),l.updateTransform(),l}function c9(o,r,t,a,l,h){if(!o.dragging){var d=l.getModel("checkpointStyle"),p=a.dataToCoord(l.getData().get("value",t));if(h||!d.get("animation",!0))o.attr({x:p,y:0}),r&&r.attr({shape:{x2:p}});else{var y={duration:d.get("animationDuration",!0),easing:d.get("animationEasing",!0)};o.stopAnimation(null,!0),o.animateTo({x:p,y:0},y),r&&r.animateTo({shape:{x2:p}},y)}}}const Uy=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){this.api=a},r.prototype.render=function(t,a,l){if(this.model=t,this.api=l,this.ecModel=a,this.group.removeAll(),t.get("show",!0)){var h=this._layout(t,l),d=this._createGroup("_mainGroup"),p=this._createGroup("_labelGroup"),y=this._axis=this._createAxis(h,t);t.formatTooltip=function(x){var w=y.scale.getLabel({value:x});return(0,yo.TX)("nameValue",{noName:!0,value:w})},(0,M.each)(["AxisLine","AxisTick","Control","CurrentPointer"],function(x){this["_render"+x](h,d,y,t)},this),this._renderAxisLabel(h,p,y,t),this._position(h,t)}this._doPlayStop(),this._updateTicksStatus()},r.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},r.prototype.dispose=function(){this._clearTimer()},r.prototype._layout=function(t,a){var p,l=t.get(["label","position"]),h=t.get("orient"),d=function s9(o,r){return Vr.ME(o.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()},o.get("padding"))}(t,a),y={horizontal:"center",vertical:(p=null==l||"auto"===l?"horizontal"===h?d.y+d.height/2<a.getHeight()/2?"-":"+":d.x+d.width/2<a.getWidth()/2?"+":"-":(0,M.isString)(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[h][l]:l)>=0||"+"===p?"left":"right"},x={horizontal:p>=0||"+"===p?"top":"bottom",vertical:"middle"},w={horizontal:0,vertical:au/2},z="vertical"===h?d.height:d.width,V=t.getModel("controlStyle"),k=V.get("show",!0),J=k?V.get("itemSize"):0,ue=k?V.get("itemGap"):0,xe=J+ue,ze=t.get(["label","rotate"])||0;ze=ze*au/180;var Re,Ie,Ge,Qe=V.get("position",!0),$e=k&&V.get("showPlayBtn",!0),ut=k&&V.get("showPrevBtn",!0),St=k&&V.get("showNextBtn",!0),Pt=0,Vt=z;"left"===Qe||"bottom"===Qe?($e&&(Re=[0,0],Pt+=xe),ut&&(Ie=[Pt,0],Pt+=xe),St&&(Ge=[Vt-J,0],Vt-=xe)):($e&&(Re=[Vt-J,0],Vt-=xe),ut&&(Ie=[0,0],Pt+=xe),St&&(Ge=[Vt-J,0],Vt-=xe));var kt=[Pt,Vt];return t.get("inverse")&&kt.reverse(),{viewRect:d,mainLength:z,orient:h,rotation:w[h],labelRotation:ze,labelPosOpt:p,labelAlign:t.get(["label","align"])||y[h],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||x[h],playPosition:Re,prevBtnPosition:Ie,nextBtnPosition:Ge,axisExtent:kt,controlSize:J,controlGap:ue}},r.prototype._position=function(t,a){var l=this._mainGroup,h=this._labelGroup,d=t.viewRect;if("vertical"===t.orient){var p=Ji.create(),y=d.x,x=d.y+d.height;Ji.translate(p,p,[-y,-x]),Ji.rotate(p,p,-au/2),Ji.translate(p,p,[y,x]),(d=d.clone()).applyTransform(p)}var w=Re(d),z=Re(l.getBoundingRect()),V=Re(h.getBoundingRect()),k=[l.x,l.y],J=[h.x,h.y];J[0]=k[0]=w[0][0];var xe,ue=t.labelPosOpt;function ze(Ge){Ge.originX=w[0][0]-Ge.x,Ge.originY=w[1][0]-Ge.y}function Re(Ge){return[[Ge.x,Ge.x+Ge.width],[Ge.y,Ge.y+Ge.height]]}function Ie(Ge,Qe,$e,ut,St){Ge[ut]+=$e[ut][St]-Qe[ut][St]}null==ue||(0,M.isString)(ue)?(Ie(k,z,w,1,xe="+"===ue?0:1),Ie(J,V,w,1,1-xe)):(Ie(k,z,w,1,xe=ue>=0?0:1),J[1]=k[1]+ue),l.setPosition(k),h.setPosition(J),l.rotation=h.rotation=t.rotation,ze(l),ze(h)},r.prototype._createAxis=function(t,a){var l=a.getData(),h=a.get("axisType"),d=function ab(o,r){if(r=r||o.get("type"))switch(r){case"category":return new TM.Z({ordinalMeta:o.getCategories(),extent:[1/0,-1/0]});case"time":return new ky.Z({locale:o.ecModel.getLocaleModel(),useUTC:o.ecModel.get("useUTC")});default:return new zi.Z}}(a,h);d.getTicks=function(){return l.mapArray(["value"],function(x){return{value:x}})};var p=l.getDataExtent("value");d.setExtent(p[0],p[1]),d.calcNiceTicks();var y=new a9("value",d,t.axisExtent,h);return y.model=a,y},r.prototype._createGroup=function(t){var a=this[t]=new yn.Z;return this.group.add(a),a},r.prototype._renderAxisLine=function(t,a,l,h){var d=l.getExtent();if(h.get(["lineStyle","show"])){var p=new Ns.Z({shape:{x1:d[0],y1:0,x2:d[1],y2:0},style:(0,M.extend)({lineCap:"round"},h.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});a.add(p);var y=this._progressLine=new Ns.Z({shape:{x1:d[0],x2:this._currentPointer?this._currentPointer.x:d[0],y1:0,y2:0},style:(0,M.defaults)({lineCap:"round",lineWidth:p.style.lineWidth},h.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});a.add(y)}},r.prototype._renderAxisTick=function(t,a,l,h){var d=this,p=h.getData(),y=l.scale.getTicks();this._tickSymbols=[],(0,M.each)(y,function(x){var w=l.dataToCoord(x.value),z=p.getItemModel(x.value),V=z.getModel("itemStyle"),k=z.getModel(["emphasis","itemStyle"]),J=z.getModel(["progress","itemStyle"]),ue={x:w,y:0,onclick:(0,M.bind)(d._changeTimeline,d,x.value)},xe=Fy(z,V,a,ue);xe.ensureState("emphasis").style=k.getItemStyle(),xe.ensureState("progress").style=J.getItemStyle(),(0,er.vF)(xe);var ze=(0,Qn.A)(xe);z.get("tooltip")?(ze.dataIndex=x.value,ze.dataModel=h):ze.dataIndex=ze.dataModel=null,d._tickSymbols.push(xe)})},r.prototype._renderAxisLabel=function(t,a,l,h){var d=this;if(l.getLabelModel().get("show")){var y=h.getData(),x=l.getViewLabels();this._tickLabels=[],(0,M.each)(x,function(w){var z=w.tickValue,V=y.getItemModel(z),k=V.getModel("label"),J=V.getModel(["emphasis","label"]),ue=V.getModel(["progress","label"]),xe=l.dataToCoord(w.tickValue),ze=new Yt.ZP({x:xe,y:0,rotation:t.labelRotation-t.rotation,onclick:(0,M.bind)(d._changeTimeline,d,z),silent:!1,style:(0,hr.Lr)(k,{text:w.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});ze.ensureState("emphasis").style=(0,hr.Lr)(J),ze.ensureState("progress").style=(0,hr.Lr)(ue),a.add(ze),(0,er.vF)(ze),o9(ze).dataIndex=z,d._tickLabels.push(ze)})}},r.prototype._renderControl=function(t,a,l,h){var d=t.controlSize,p=t.rotation,y=h.getModel("controlStyle").getItemStyle(),x=h.getModel(["emphasis","controlStyle"]).getItemStyle(),w=h.getPlayState(),z=h.get("inverse",!0);function V(k,J,ue,xe){if(k){var ze=(0,Me.GM)((0,M.retrieve2)(h.get(["controlStyle",J+"BtnSize"]),d),d),Ie=function l9(o,r,t,a){var l=a.style,h=dr.createIcon(o.get(["controlStyle",r]),a||{},new _r.Z(t[0],t[1],t[2],t[3]));return l&&h.setStyle(l),h}(h,J+"Icon",[0,-ze/2,ze,ze],{x:k[0],y:k[1],originX:d/2,originY:0,rotation:xe?-p:0,rectHover:!0,style:y,onclick:ue});Ie.ensureState("emphasis").style=x,a.add(Ie),(0,er.vF)(Ie)}}V(t.nextBtnPosition,"next",(0,M.bind)(this._changeTimeline,this,z?"-":"+")),V(t.prevBtnPosition,"prev",(0,M.bind)(this._changeTimeline,this,z?"+":"-")),V(t.playPosition,w?"stop":"play",(0,M.bind)(this._handlePlayClick,this,!w),!0)},r.prototype._renderCurrentPointer=function(t,a,l,h){var d=h.getData(),p=h.getCurrentIndex(),y=d.getItemModel(p).getModel("checkpointStyle"),x=this;this._currentPointer=Fy(y,y,this._mainGroup,{},this._currentPointer,{onCreate:function(z){z.draggable=!0,z.drift=(0,M.bind)(x._handlePointerDrag,x),z.ondragend=(0,M.bind)(x._handlePointerDragend,x),c9(z,x._progressLine,p,l,h,!0)},onUpdate:function(z){c9(z,x._progressLine,p,l,h)}})},r.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},r.prototype._handlePointerDrag=function(t,a,l){this._clearTimer(),this._pointerChangeTimeline([l.offsetX,l.offsetY])},r.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},r.prototype._pointerChangeTimeline=function(t,a){var l=this._toAxisCoord(t)[0],d=In.dt(this._axis.getExtent().slice());l>d[1]&&(l=d[1]),l<d[0]&&(l=d[0]),this._currentPointer.x=l,this._currentPointer.markRedraw();var p=this._progressLine;p&&(p.shape.x2=l,p.dirty());var y=this._findNearestTick(l),x=this.model;(a||y!==x.getCurrentIndex()&&x.get("realtime"))&&this._changeTimeline(y)},r.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var a=t.model;t._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},r.prototype._toAxisCoord=function(t){var a=this._mainGroup.getLocalTransform();return dr.applyTransform(t,a,!0)},r.prototype._findNearestTick=function(t){var h,a=this.model.getData(),l=1/0,d=this._axis;return a.each(["value"],function(p,y){var x=d.dataToCoord(p),w=Math.abs(x-t);w<l&&(l=w,h=y)}),h},r.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},r.prototype._changeTimeline=function(t){var a=this.model.getCurrentIndex();"+"===t?t=a+1:"-"===t&&(t=a-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},r.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),a=this._tickSymbols,l=this._tickLabels;if(a)for(var h=0;h<a.length;h++)a&&a[h]&&a[h].toggleState("progress",h<t);if(l)for(h=0;h<l.length;h++)l&&l[h]&&l[h].toggleState("progress",o9(l[h]).dataIndex<=t)},r.type="timeline.slider",r}(SM);function zM(o){var r=o&&o.timeline;M.isArray(r)||(r=r?[r]:[]),M.each(r,function(t){t&&function Yy(o){var r=o.type,t={number:"value",time:"time"};if(t[r]&&(o.axisType=t[r],delete o.type),Gy(o),h6(o,"controlPosition")){var a=o.controlStyle||(o.controlStyle={});h6(a,"position")||(a.position=o.controlPosition),"none"===a.position&&!h6(a,"show")&&(a.show=!1,delete a.position),delete o.controlPosition}M.each(o.data||[],function(l){M.isObject(l)&&!M.isArray(l)&&(!h6(l,"value")&&h6(l,"name")&&(l.value=l.name),Gy(l))})}(t)})}function Gy(o){var r=o.itemStyle||(o.itemStyle={}),t=r.emphasis||(r.emphasis={}),a=o.label||o.label||{},l=a.normal||(a.normal={}),h={normal:1,emphasis:1};M.each(a,function(d,p){!h[p]&&!h6(l,p)&&(l[p]=d)}),t.label&&!h6(a,"emphasis")&&(a.emphasis=t.label,delete t.label)}function h6(o,r){return o.hasOwnProperty(r)}function eg(o,r){if(!o)return!1;for(var t=(0,M.isArray)(o)?o:[o],a=0;a<t.length;a++)if(t[a]&&t[a][r])return!0;return!1}function Tf(o){(0,Hr.Cc)(o,"label",["show"])}var U5=(0,Hr.Yf)(),u9=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.createdBySelf=!1,t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){this.mergeDefaultAndTheme(t,l),this._mergeOption(t,l,!1,!0)},r.prototype.isAnimationEnabled=function(){if($l.Z.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},r.prototype.mergeOption=function(t,a){this._mergeOption(t,a,!1,!1)},r.prototype._mergeOption=function(t,a,l,h){var d=this.mainType;l||a.eachSeries(function(p){var y=p.get(this.mainType,!0),x=U5(p)[d];y&&y.data?(x?x._mergeOption(y,a,!0):(h&&Tf(y),M.each(y.data,function(w){w instanceof Array?(Tf(w[0]),Tf(w[1])):Tf(w)}),x=this.createMarkerModelFromSeries(y,this,a),M.extend(x,{mainType:this.mainType,seriesIndex:p.seriesIndex,name:p.name,createdBySelf:!0}),x.__hostSeries=p),U5(p)[d]=x):U5(p)[d]=null},this)},r.prototype.formatTooltip=function(t,a,l){var h=this.getData(),d=this.getRawValue(t),p=h.getName(t);return(0,yo.TX)("section",{header:this.name,blocks:[(0,yo.TX)("nameValue",{name:p,value:d,noName:!p,noValue:null==d})]})},r.prototype.getData=function(){return this._data},r.prototype.setData=function(t){this._data=t},r.getMarkerModelFromSeries=function(t,a){return U5(t)[a]},r.type="marker",r.dependencies=["series","grid","polar","geo"],r}(va.Z);M.mixin(u9,K7.X.prototype);const ou=u9,AM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.createMarkerModelFromSeries=function(t,a,l){return new r(t,a,l)},r.type="markPoint",r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},r}(ou);var z8=C(8186);function h9(o){return!(isNaN(parseFloat(o.x))&&isNaN(parseFloat(o.y)))}function Y5(o,r,t,a,l,h){var d=[],y=(0,Oa.M)(r,a)?r.getCalculationInfo("stackResultDimension"):a,x=Ky(r,y,o),w=r.indicesOfNearest(y,x)[0];d[l]=r.get(t,w),d[h]=r.get(y,w);var z=r.get(a,w),V=In.p8(r.get(a,w));return(V=Math.min(V,20))>=0&&(d[h]=+d[h].toFixed(V)),[d,z]}var Wy={min:(0,M.curry)(Y5,"min"),max:(0,M.curry)(Y5,"max"),average:(0,M.curry)(Y5,"average"),median:(0,M.curry)(Y5,"median")};function Df(o,r){if(r){var t=o.getData(),a=o.coordinateSystem,l=a&&a.dimensions;if(!function PM(o){return!isNaN(parseFloat(o.x))&&!isNaN(parseFloat(o.y))}(r)&&!(0,M.isArray)(r.coord)&&(0,M.isArray)(l)){var h=Zy(r,t,a,o);if((r=(0,M.clone)(r)).type&&Wy[r.type]&&h.baseAxis&&h.valueAxis){var d=(0,M.indexOf)(l,h.baseAxis.dim),p=(0,M.indexOf)(l,h.valueAxis.dim),y=Wy[r.type](t,h.baseDataDim,h.valueDataDim,d,p);r.coord=y[0],r.value=y[1]}else r.coord=[null!=r.xAxis?r.xAxis:r.radiusAxis,null!=r.yAxis?r.yAxis:r.angleAxis]}if(null!=r.coord&&(0,M.isArray)(l))for(var x=r.coord,w=0;w<2;w++)Wy[x[w]]&&(x[w]=Ky(t,t.mapDimension(l[w]),x[w]));else r.coord=[];return r}}function Zy(o,r,t,a){var l={};return null!=o.valueIndex||null!=o.valueDim?(l.valueDataDim=null!=o.valueIndex?r.getDimension(o.valueIndex):o.valueDim,l.valueAxis=t.getAxis(function LM(o,r){var t=o.getData().getDimensionInfo(r);return t&&t.coordDim}(a,l.valueDataDim)),l.baseAxis=t.getOtherAxis(l.valueAxis),l.baseDataDim=r.mapDimension(l.baseAxis.dim)):(l.baseAxis=a.getBaseAxis(),l.valueAxis=t.getOtherAxis(l.baseAxis),l.baseDataDim=r.mapDimension(l.baseAxis.dim),l.valueDataDim=r.mapDimension(l.valueAxis.dim)),l}function tg(o,r){return!(o&&o.containData&&r.coord&&!h9(r))||o.containData(r.coord)}function G5(o,r){return o?function(t,a,l,h){return(0,z8.yQ)(h<2?t.coord&&t.coord[h]:t.value,r[h])}:function(t,a,l,h){return(0,z8.yQ)(t.value,r[h])}}function Ky(o,r,t){if("average"===t){var a=0,l=0;return o.each(r,function(h,d){isNaN(h)||(a+=h,l++)}),a/l}return"median"===t?o.getMedian(r):o.getDataExtent(r)["max"===t?1:0]}var $y=(0,Hr.Yf)();const ng=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.init=function(){this.markerGroupMap=(0,M.createHashMap)()},r.prototype.render=function(t,a,l){var h=this,d=this.markerGroupMap;d.each(function(p){$y(p).keep=!1}),a.eachSeries(function(p){var y=ou.getMarkerModelFromSeries(p,h.type);y&&h.renderSeries(p,y,a,l)}),d.each(function(p){!$y(p).keep&&h.group.remove(p.group)})},r.prototype.markKeep=function(t){$y(t).keep=!0},r.prototype.toggleBlurSeries=function(t,a){var l=this;(0,M.each)(t,function(h){var d=ou.getMarkerModelFromSeries(h,l.type);d&&d.getData().eachItemGraphicEl(function(y){y&&(a?(0,er.SX)(y):(0,er.VP)(y))})})},r.type="marker",r}(xa.Z);function Xy(o,r,t){var a=r.coordinateSystem;o.each(function(l){var d,h=o.getItemModel(l),p=In.GM(h.get("x"),t.getWidth()),y=In.GM(h.get("y"),t.getHeight());if(isNaN(p)||isNaN(y)){if(r.getMarkerPosition)d=r.getMarkerPosition(o.getValues(o.dimensions,l));else if(a){var x=o.get(a.dimensions[0],l),w=o.get(a.dimensions[1],l);d=a.dataToPoint([x,w])}}else d=[p,y];isNaN(p)||(d[0]=p),isNaN(y)||(d[1]=y),o.setItemLayout(l,d)})}const HM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.updateTransform=function(t,a,l){a.eachSeries(function(h){var d=ou.getMarkerModelFromSeries(h,"markPoint");d&&(Xy(d.getData(),h,l),this.markerGroupMap.get(h.id).updateLayout())},this)},r.prototype.renderSeries=function(t,a,l,h){var d=t.coordinateSystem,p=t.id,y=t.getData(),x=this.markerGroupMap,w=x.get(p)||x.set(p,new yi),z=function VM(o,r,t){var a;a=o?(0,M.map)(o&&o.dimensions,function(p){var y=r.getData().getDimensionInfo(r.getData().mapDimension(p))||{};return(0,M.extend)((0,M.extend)({},y),{name:p,ordinalMeta:null})}):[{name:"value",type:"float"}];var l=new Hn.Z(a,t),h=(0,M.map)(t.get("data"),(0,M.curry)(Df,r));o&&(h=(0,M.filter)(h,(0,M.curry)(tg,o)));var d=G5(!!o,a);return l.initData(h,null,d),l}(d,t,a);a.setData(z),Xy(a.getData(),t,h),z.each(function(V){var k=z.getItemModel(V),J=k.getShallow("symbol"),ue=k.getShallow("symbolSize"),xe=k.getShallow("symbolRotate"),ze=k.getShallow("symbolOffset"),Re=k.getShallow("symbolKeepAspect");if((0,M.isFunction)(J)||(0,M.isFunction)(ue)||(0,M.isFunction)(xe)||(0,M.isFunction)(ze)){var Ie=a.getRawValue(V),Ge=a.getDataParams(V);(0,M.isFunction)(J)&&(J=J(Ie,Ge)),(0,M.isFunction)(ue)&&(ue=ue(Ie,Ge)),(0,M.isFunction)(xe)&&(xe=xe(Ie,Ge)),(0,M.isFunction)(ze)&&(ze=ze(Ie,Ge))}var Qe=k.getModel("itemStyle").getItemStyle(),$e=(0,iu.UL)(y,"color");Qe.fill||(Qe.fill=$e),z.setItemVisual(V,{symbol:J,symbolSize:ue,symbolRotate:xe,symbolOffset:ze,symbolKeepAspect:Re,style:Qe})}),w.updateData(z),this.group.add(w.group),z.eachItemGraphicEl(function(V){V.traverse(function(k){(0,Qn.A)(k).dataModel=a})}),this.markKeep(w),w.group.silent=a.get("silent")||t.get("silent")},r.type="markPoint",r}(ng),kM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.createMarkerModelFromSeries=function(t,a,l){return new r(t,a,l)},r.type="markLine",r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},r}(ou);var rg=(0,Hr.Yf)(),FM=function(o,r,t,a){var h,l=o.getData();if((0,M.isArray)(a))h=a;else{var d=a.type;if("min"===d||"max"===d||"average"===d||"median"===d||null!=a.xAxis||null!=a.yAxis){var p=void 0,y=void 0;if(null!=a.yAxis||null!=a.xAxis)p=r.getAxis(null!=a.yAxis?"y":"x"),y=(0,M.retrieve)(a.yAxis,a.xAxis);else{var x=Zy(a,l,r,o);p=x.valueAxis,y=Ky(l,(0,Oa.IR)(l,x.valueDataDim),d)}var z="x"===p.dim?0:1,V=1-z,k=(0,M.clone)(a),J={coord:[]};k.type=null,k.coord=[],k.coord[V]=-1/0,J.coord[V]=1/0;var ue=t.get("precision");ue>=0&&(0,M.isNumber)(y)&&(y=+y.toFixed(Math.min(ue,20))),k.coord[z]=J.coord[z]=y,h=[k,J,{type:d,valueIndex:a.valueIndex,value:y}]}else h=[]}var xe=[Df(o,h[0]),Df(o,h[1]),(0,M.extend)({},h[2])];return xe[2].type=xe[2].type||null,(0,M.merge)(xe[2],xe[0]),(0,M.merge)(xe[2],xe[1]),xe};function A8(o){return!isNaN(o)&&!isFinite(o)}function d9(o,r,t,a){var l=1-o,h=a.dimensions[o];return A8(r[l])&&A8(t[l])&&r[o]===t[o]&&a.getAxis(h).containData(r[o])}function Qy(o,r){if("cartesian2d"===o.type){var t=r[0].coord,a=r[1].coord;if(t&&a&&(d9(1,t,a,o)||d9(0,t,a,o)))return!0}return tg(o,r[0])&&tg(o,r[1])}function ig(o,r,t,a,l){var p,h=a.coordinateSystem,d=o.getItemModel(r),y=In.GM(d.get("x"),l.getWidth()),x=In.GM(d.get("y"),l.getHeight());if(isNaN(y)||isNaN(x)){if(a.getMarkerPosition)p=a.getMarkerPosition(o.getValues(o.dimensions,r));else{var z=o.get((w=h.dimensions)[0],r),V=o.get(w[1],r);p=h.dataToPoint([z,V])}if(ms(h,"cartesian2d")){var w,k=h.getAxis("x"),J=h.getAxis("y");A8(o.get((w=h.dimensions)[0],r))?p[0]=k.toGlobalCoord(k.getExtent()[t?0:1]):A8(o.get(w[1],r))&&(p[1]=J.toGlobalCoord(J.getExtent()[t?0:1]))}isNaN(y)||(p[0]=y),isNaN(x)||(p[1]=x)}else p=[y,x];o.setItemLayout(r,p)}const e_=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.updateTransform=function(t,a,l){a.eachSeries(function(h){var d=ou.getMarkerModelFromSeries(h,"markLine");if(d){var p=d.getData(),y=rg(d).from,x=rg(d).to;y.each(function(w){ig(y,w,!0,h,l),ig(x,w,!1,h,l)}),p.each(function(w){p.setItemLayout(w,[y.getItemLayout(w),x.getItemLayout(w)])}),this.markerGroupMap.get(h.id).updateLayout()}},this)},r.prototype.renderSeries=function(t,a,l,h){var d=t.coordinateSystem,p=t.id,y=t.getData(),x=this.markerGroupMap,w=x.get(p)||x.set(p,new td);this.group.add(w.group);var z=function qy(o,r,t){var a;a=o?(0,M.map)(o&&o.dimensions,function(x){var w=r.getData().getDimensionInfo(r.getData().mapDimension(x))||{};return(0,M.extend)((0,M.extend)({},w),{name:x,ordinalMeta:null})}):[{name:"value",type:"float"}];var l=new Hn.Z(a,t),h=new Hn.Z(a,t),d=new Hn.Z([],t),p=(0,M.map)(t.get("data"),(0,M.curry)(FM,r,o,t));o&&(p=(0,M.filter)(p,(0,M.curry)(Qy,o)));var y=G5(!!o,a);return l.initData((0,M.map)(p,function(x){return x[0]}),null,y),h.initData((0,M.map)(p,function(x){return x[1]}),null,y),d.initData((0,M.map)(p,function(x){return x[2]})),d.hasItemOption=!0,{from:l,to:h,line:d}}(d,t,a),V=z.from,k=z.to,J=z.line;rg(a).from=V,rg(a).to=k,a.setData(J);var ue=a.get("symbol"),xe=a.get("symbolSize"),ze=a.get("symbolRotate"),Re=a.get("symbolOffset");function Ie(Ge,Qe,$e){var ut=Ge.getItemModel(Qe);ig(Ge,Qe,$e,t,h);var St=ut.getModel("itemStyle").getItemStyle();null==St.fill&&(St.fill=(0,iu.UL)(y,"color")),Ge.setItemVisual(Qe,{symbolKeepAspect:ut.get("symbolKeepAspect"),symbolOffset:(0,M.retrieve2)(ut.get("symbolOffset",!0),Re[$e?0:1]),symbolRotate:(0,M.retrieve2)(ut.get("symbolRotate",!0),ze[$e?0:1]),symbolSize:(0,M.retrieve2)(ut.get("symbolSize"),xe[$e?0:1]),symbol:(0,M.retrieve2)(ut.get("symbol",!0),ue[$e?0:1]),style:St})}(0,M.isArray)(ue)||(ue=[ue,ue]),(0,M.isArray)(xe)||(xe=[xe,xe]),(0,M.isArray)(ze)||(ze=[ze,ze]),(0,M.isArray)(Re)||(Re=[Re,Re]),z.from.each(function(Ge){Ie(V,Ge,!0),Ie(k,Ge,!1)}),J.each(function(Ge){var Qe=J.getItemModel(Ge).getModel("lineStyle").getLineStyle();J.setItemLayout(Ge,[V.getItemLayout(Ge),k.getItemLayout(Ge)]),null==Qe.stroke&&(Qe.stroke=V.getItemVisual(Ge,"style").fill),J.setItemVisual(Ge,{fromSymbolKeepAspect:V.getItemVisual(Ge,"symbolKeepAspect"),fromSymbolOffset:V.getItemVisual(Ge,"symbolOffset"),fromSymbolRotate:V.getItemVisual(Ge,"symbolRotate"),fromSymbolSize:V.getItemVisual(Ge,"symbolSize"),fromSymbol:V.getItemVisual(Ge,"symbol"),toSymbolKeepAspect:k.getItemVisual(Ge,"symbolKeepAspect"),toSymbolOffset:k.getItemVisual(Ge,"symbolOffset"),toSymbolRotate:k.getItemVisual(Ge,"symbolRotate"),toSymbolSize:k.getItemVisual(Ge,"symbolSize"),toSymbol:k.getItemVisual(Ge,"symbol"),style:Qe})}),w.updateData(J),z.line.eachItemGraphicEl(function(Ge){(0,Qn.A)(Ge).dataModel=a,Ge.traverse(function(Qe){(0,Qn.A)(Qe).dataModel=a})}),this.markKeep(w),w.group.silent=a.get("silent")||t.get("silent")},r.type="markLine",r}(ng),sb=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.createMarkerModelFromSeries=function(t,a,l){return new r(t,a,l)},r.type="markArea",r.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},r}(ou);var j5=(0,Hr.Yf)(),t_=function(o,r,t,a){var l=a[0],h=a[1];if(l&&h){var d=Df(o,l),p=Df(o,h),y=d.coord,x=p.coord;y[0]=(0,M.retrieve)(y[0],-1/0),y[1]=(0,M.retrieve)(y[1],-1/0),x[0]=(0,M.retrieve)(x[0],1/0),x[1]=(0,M.retrieve)(x[1],1/0);var w=(0,M.mergeAll)([{},d,p]);return w.coord=[d.coord,p.coord],w.x0=d.x,w.y0=d.y,w.x1=p.x,w.y1=p.y,w}};function ag(o){return!isNaN(o)&&!isFinite(o)}function n_(o,r,t,a){var l=1-o;return ag(r[l])&&ag(t[l])}function YM(o,r){var t=r.coord[0],a=r.coord[1],l={coord:t,x:r.x0,y:r.y0},h={coord:a,x:r.x1,y:r.y1};return ms(o,"cartesian2d")?!(!t||!a||!n_(1,t,a)&&!n_(0,t,a))||function OM(o,r,t){return!(o&&o.containZone&&r.coord&&t.coord&&!h9(r)&&!h9(t))||o.containZone(r.coord,t.coord)}(o,l,h):tg(o,l)||tg(o,h)}function Ef(o,r,t,a,l){var p,h=a.coordinateSystem,d=o.getItemModel(r),y=In.GM(d.get(t[0]),l.getWidth()),x=In.GM(d.get(t[1]),l.getHeight());if(isNaN(y)||isNaN(x)){if(a.getMarkerPosition){var w=o.getValues(["x0","y0"],r),z=o.getValues(["x1","y1"],r),V=h.clampData(w),k=h.clampData(z),J=[];J[0]="x0"===t[0]?V[0]>k[0]?z[0]:w[0]:V[0]>k[0]?w[0]:z[0],J[1]="y0"===t[1]?V[1]>k[1]?z[1]:w[1]:V[1]>k[1]?w[1]:z[1],p=a.getMarkerPosition(J,t,!0)}else{var ze=[ue=o.get(t[0],r),xe=o.get(t[1],r)];h.clampData&&h.clampData(ze,ze),p=h.dataToPoint(ze,!0)}if(ms(h,"cartesian2d")){var Re=h.getAxis("x"),Ie=h.getAxis("y"),ue=o.get(t[0],r),xe=o.get(t[1],r);ag(ue)?p[0]=Re.toGlobalCoord(Re.getExtent()["x0"===t[0]?0:1]):ag(xe)&&(p[1]=Ie.toGlobalCoord(Ie.getExtent()["y0"===t[1]?0:1]))}isNaN(y)||(p[0]=y),isNaN(x)||(p[1]=x)}else p=[y,x];return p}var r_=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];const GM=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.updateTransform=function(t,a,l){a.eachSeries(function(h){var d=ou.getMarkerModelFromSeries(h,"markArea");if(d){var p=d.getData();p.each(function(y){var x=(0,M.map)(r_,function(z){return Ef(p,y,z,h,l)});p.setItemLayout(y,x),p.getItemGraphicEl(y).setShape("points",x)})}},this)},r.prototype.renderSeries=function(t,a,l,h){var d=t.coordinateSystem,p=t.id,y=t.getData(),x=this.markerGroupMap,w=x.get(p)||x.set(p,{group:new yn.Z});this.group.add(w.group),this.markKeep(w);var z=function W5(o,r,t){var a,l;if(o){var d=(0,M.map)(o&&o.dimensions,function(x){var w=r.getData(),z=w.getDimensionInfo(w.mapDimension(x))||{};return(0,M.extend)((0,M.extend)({},z),{name:x,ordinalMeta:null})});l=(0,M.map)(["x0","y0","x1","y1"],function(x,w){return{name:x,type:d[w%2].type}}),a=new Hn.Z(l,t)}else a=new Hn.Z(l=[{name:"value",type:"float"}],t);var p=(0,M.map)(t.get("data"),(0,M.curry)(t_,r,o,t));o&&(p=(0,M.filter)(p,(0,M.curry)(YM,o)));var y=o?function(x,w,z,V){var k=x.coord[Math.floor(V/2)][V%2];return(0,z8.yQ)(k,l[V])}:function(x,w,z,V){return(0,z8.yQ)(x.value,l[V])};return a.initData(p,null,y),a.hasItemOption=!0,a}(d,t,a);a.setData(z),z.each(function(V){var k=(0,M.map)(r_,function(St){return Ef(z,V,St,t,h)}),J=d.getAxis("x").scale,ue=d.getAxis("y").scale,xe=J.getExtent(),ze=ue.getExtent(),Re=[J.parse(z.get("x0",V)),J.parse(z.get("x1",V))],Ie=[ue.parse(z.get("y0",V)),ue.parse(z.get("y1",V))];In.dt(Re),In.dt(Ie),z.setItemLayout(V,{points:k,allClipped:!!(xe[0]>Re[1]||xe[1]<Re[0]||ze[0]>Ie[1]||ze[1]<Ie[0])});var $e=z.getItemModel(V).getModel("itemStyle").getItemStyle(),ut=(0,iu.UL)(y,"color");$e.fill||($e.fill=ut,(0,M.isString)($e.fill)&&($e.fill=na.modifyAlpha($e.fill,.4))),$e.stroke||($e.stroke=ut),z.setItemVisual(V,"style",$e)}),z.diff(j5(w).data).add(function(V){var k=z.getItemLayout(V);if(!k.allClipped){var J=new Ul.Z({shape:{points:k.points}});z.setItemGraphicEl(V,J),w.group.add(J)}}).update(function(V,k){var J=j5(w).data.getItemGraphicEl(k),ue=z.getItemLayout(V);ue.allClipped?J&&w.group.remove(J):(J?Bn.D(J,{shape:{points:ue.points}},a,V):J=new Ul.Z({shape:{points:ue.points}}),z.setItemGraphicEl(V,J),w.group.add(J))}).remove(function(V){var k=j5(w).data.getItemGraphicEl(V);w.group.remove(k)}).execute(),z.eachItemGraphicEl(function(V,k){var J=z.getItemModel(k),ue=z.getItemVisual(k,"style");V.useStyle(z.getItemVisual(k,"style")),(0,hr.ni)(V,(0,hr.k3)(J),{labelFetcher:a,labelDataIndex:k,defaultText:z.getName(k)||"",inheritColor:(0,M.isString)(ue.fill)?na.modifyAlpha(ue.fill,1):"#000"}),(0,er.WO)(V,J),(0,er.k5)(V,null,null,J.get(["emphasis","disabled"])),(0,Qn.A)(V).dataModel=a}),j5(w).data=z,w.group.silent=a.get("silent")||t.get("silent")},r.type="markArea",r}(ng),Z5=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.layoutMode={type:"box",ignoreSize:!0},t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){this.mergeDefaultAndTheme(t,l),t.selected=t.selected||{},this._updateSelector(t)},r.prototype.mergeOption=function(t,a){o.prototype.mergeOption.call(this,t,a),this._updateSelector(t)},r.prototype._updateSelector=function(t){var a=t.selector,l=this.ecModel;!0===a&&(a=t.selector=["all","inverse"]),M.isArray(a)&&M.each(a,function(h,d){M.isString(h)&&(h={type:h}),a[d]=M.merge(h,function(o,r){return"all"===r?{type:"all",title:o.getLocaleModel().get(["legend","selector","all"])}:"inverse"===r?{type:"inverse",title:o.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(l,h.type))})},r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var a=!1,l=0;l<t.length;l++){var h=t[l].get("name");if(this.isSelected(h)){this.select(h),a=!0;break}}!a&&this.select(t[0].get("name"))}},r.prototype._updateData=function(t){var a=[],l=[];t.eachRawSeries(function(y){var w;if(l.push(y.name),y.legendVisualProvider){var V=y.legendVisualProvider.getAllNames();t.isSeriesFiltered(y)||(l=l.concat(V)),V.length?a=a.concat(V):w=!0}else w=!0;w&&(0,Hr.yu)(y)&&a.push(y.name)}),this._availableNames=l;var h=this.get("data")||a,d=M.createHashMap(),p=M.map(h,function(y){return(M.isString(y)||M.isNumber(y))&&(y={name:y}),d.get(y.name)?null:(d.set(y.name,!0),new Fo.Z(y,this,this.ecModel))},this);this._data=M.filter(p,function(y){return!!y})},r.prototype.getData=function(){return this._data},r.prototype.select=function(t){var a=this.option.selected;"single"===this.get("selectedMode")&&M.each(this._data,function(d){a[d.get("name")]=!1}),a[t]=!0},r.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},r.prototype.toggleSelected=function(t){var a=this.option.selected;a.hasOwnProperty(t)||(a[t]=!0),this[a[t]?"unSelect":"select"](t)},r.prototype.allSelect=function(){var a=this.option.selected;M.each(this._data,function(l){a[l.get("name",!0)]=!0})},r.prototype.inverseSelect=function(){var a=this.option.selected;M.each(this._data,function(l){var h=l.get("name",!0);a.hasOwnProperty(h)||(a[h]=!0),a[h]=!a[h]})},r.prototype.isSelected=function(t){var a=this.option.selected;return!(a.hasOwnProperty(t)&&!a[t])&&M.indexOf(this._availableNames,t)>=0},r.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},r.type="legend.plain",r.dependencies=["series"],r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},r}(va.Z);var P8=M.curry,lg=M.each,zf=yn.Z;function i_(o,r,t,a){K5(o,r,t,a),t.dispatchAction({type:"legendToggleSelect",name:o??r}),cg(o,r,t,a)}function a_(o){for(var t,r=o.getZr().storage.getDisplayList(),a=0,l=r.length;a<l&&!(t=r[a].states.emphasis);)a++;return t&&t.hoverLayer}function cg(o,r,t,a){a_(t)||t.dispatchAction({type:"highlight",seriesName:o,name:r,excludeSeriesId:a})}function K5(o,r,t,a){a_(t)||t.dispatchAction({type:"downplay",seriesName:o,name:r,excludeSeriesId:a})}const v9=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.newlineDisabled=!1,t}return(0,st.ZT)(r,o),r.prototype.init=function(){this.group.add(this._contentGroup=new zf),this.group.add(this._selectorGroup=new zf),this._isFirstRender=!0},r.prototype.getContentGroup=function(){return this._contentGroup},r.prototype.getSelectorGroup=function(){return this._selectorGroup},r.prototype.render=function(t,a,l){var h=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var d=t.get("align"),p=t.get("orient");(!d||"auto"===d)&&(d="right"===t.get("left")&&"vertical"===p?"right":"left");var y=t.get("selector",!0),x=t.get("selectorPosition",!0);y&&(!x||"auto"===x)&&(x="horizontal"===p?"end":"start"),this.renderInner(d,t,a,l,y,p,x);var w=t.getBoxLayoutParams(),z={width:l.getWidth(),height:l.getHeight()},V=t.get("padding"),k=Vr.ME(w,z,V),J=this.layoutInner(t,d,k,h,y,x),ue=Vr.ME(M.defaults({width:J.width,height:J.height},w),z,V);this.group.x=ue.x-J.x,this.group.y=ue.y-J.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Ot(J,t))}},r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},r.prototype.renderInner=function(t,a,l,h,d,p,y){var x=this.getContentGroup(),w=M.createHashMap(),z=a.get("selectedMode"),V=[];l.eachRawSeries(function(k){!k.get("legendHoverLink")&&V.push(k.id)}),lg(a.getData(),function(k,J){var ue=k.get("name");if(!this.newlineDisabled&&(""===ue||"\n"===ue)){var xe=new zf;return xe.newline=!0,void x.add(xe)}var ze=l.getSeriesByName(ue)[0];if(!w.get(ue))if(ze){var Re=ze.getData(),Ie=Re.getVisual("legendLineStyle")||{},Ge=Re.getVisual("legendIcon"),Qe=Re.getVisual("style");this._createItem(ze,ue,J,k,a,t,Ie,Qe,Ge,z,h).on("click",P8(i_,ue,null,h,V)).on("mouseover",P8(cg,ze.name,null,h,V)).on("mouseout",P8(K5,ze.name,null,h,V)),w.set(ue,!0)}else l.eachRawSeries(function(ut){if(!w.get(ue)&&ut.legendVisualProvider){var St=ut.legendVisualProvider;if(!St.containName(ue))return;var Pt=St.indexOfName(ue),Vt=St.getItemVisual(Pt,"style"),kt=St.getItemVisual(Pt,"legendIcon"),en=(0,na.parse)(Vt.fill);en&&0===en[3]&&(en[3]=.2,Vt=M.extend(M.extend({},Vt),{fill:(0,na.stringify)(en,"rgba")})),this._createItem(ut,ue,J,k,a,t,{},Vt,kt,z,h).on("click",P8(i_,null,ue,h,V)).on("mouseover",P8(cg,null,ue,h,V)).on("mouseout",P8(K5,null,ue,h,V)),w.set(ue,!0)}},this)},this),d&&this._createSelector(d,a,h,p,y)},r.prototype._createSelector=function(t,a,l,h,d){var p=this.getSelectorGroup();lg(t,function(x){var w=x.type,z=new Yt.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){l.dispatchAction({type:"all"===w?"legendAllSelect":"legendInverseSelect"})}});p.add(z);var V=a.getModel("selectorLabel"),k=a.getModel(["emphasis","selectorLabel"]);(0,hr.ni)(z,{normal:V,emphasis:k},{defaultText:x.title}),(0,er.vF)(z)})},r.prototype._createItem=function(t,a,l,h,d,p,y,x,w,z,V){var k=t.visualDrawType,J=d.get("itemWidth"),ue=d.get("itemHeight"),xe=d.isSelected(a),ze=h.get("symbolRotate"),Re=h.get("symbolKeepAspect"),Ie=h.get("icon"),Ge=function ZM(o,r,t,a,l,h,d){function p(xe,ze){"auto"===xe.lineWidth&&(xe.lineWidth=ze.lineWidth>0?2:0),lg(xe,function(Re,Ie){"inherit"===xe[Ie]&&(xe[Ie]=ze[Ie])})}var y=r.getModel("itemStyle"),x=y.getItemStyle(),w=0===o.lastIndexOf("empty",0)?"fill":"stroke",z=y.getShallow("decal");x.decal=z&&"inherit"!==z?(0,d4.I)(z,d):a.decal,"inherit"===x.fill&&(x.fill=a[l]),"inherit"===x.stroke&&(x.stroke=a[w]),"inherit"===x.opacity&&(x.opacity=("fill"===l?a:t).opacity),p(x,a);var V=r.getModel("lineStyle"),k=V.getLineStyle();if(p(k,t),"auto"===x.fill&&(x.fill=a.fill),"auto"===x.stroke&&(x.stroke=a.fill),"auto"===k.stroke&&(k.stroke=a.fill),!h){var J=r.get("inactiveBorderWidth");x.lineWidth="auto"===J?a.lineWidth>0&&x[w]?2:0:x.lineWidth,x.fill=r.get("inactiveColor"),x.stroke=r.get("inactiveBorderColor"),k.stroke=V.get("inactiveColor"),k.lineWidth=V.get("inactiveWidth")}return{itemStyle:x,lineStyle:k}}(w=Ie||w||"roundRect",h,y,x,k,xe,V),Qe=new zf,$e=h.getModel("textStyle");if(!M.isFunction(t.getLegendIcon)||Ie&&"inherit"!==Ie){var ut="inherit"===Ie&&t.getData().getVisual("symbol")?"inherit"===ze?t.getData().getVisual("symbolRotate"):ze:0;Qe.add(function KM(o){var r=o.icon||"roundRect",t=(0,Pn.th)(r,0,0,o.itemWidth,o.itemHeight,o.itemStyle.fill,o.symbolKeepAspect);return t.setStyle(o.itemStyle),t.rotation=(o.iconRotate||0)*Math.PI/180,t.setOrigin([o.itemWidth/2,o.itemHeight/2]),r.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:J,itemHeight:ue,icon:w,iconRotate:ut,itemStyle:Ge.itemStyle,lineStyle:Ge.lineStyle,symbolKeepAspect:Re}))}else Qe.add(t.getLegendIcon({itemWidth:J,itemHeight:ue,icon:w,iconRotate:ze,itemStyle:Ge.itemStyle,lineStyle:Ge.lineStyle,symbolKeepAspect:Re}));var St="left"===p?J+5:-5,Pt=p,Vt=d.get("formatter"),kt=a;M.isString(Vt)&&Vt?kt=Vt.replace("{name}",a??""):M.isFunction(Vt)&&(kt=Vt(a));var en=h.get("inactiveColor");Qe.add(new Yt.ZP({style:(0,hr.Lr)($e,{text:kt,x:St,y:ue/2,fill:xe?$e.getTextColor():en,align:Pt,verticalAlign:"middle"})}));var un=new Ei.Z({shape:Qe.getBoundingRect(),invisible:!0}),vn=h.getModel("tooltip");return vn.get("show")&&dr.setTooltipConfig({el:un,componentModel:d,itemName:a,itemTooltipOption:vn.option}),Qe.add(un),Qe.eachChild(function(wn){wn.silent=!0}),un.silent=!z,this.getContentGroup().add(Qe),(0,er.vF)(Qe),Qe.__legendDataIndex=l,Qe},r.prototype.layoutInner=function(t,a,l,h,d,p){var y=this.getContentGroup(),x=this.getSelectorGroup();Vr.BZ(t.get("orient"),y,t.get("itemGap"),l.width,l.height);var w=y.getBoundingRect(),z=[-w.x,-w.y];if(x.markRedraw(),y.markRedraw(),d){Vr.BZ("horizontal",x,t.get("selectorItemGap",!0));var V=x.getBoundingRect(),k=[-V.x,-V.y],J=t.get("selectorButtonGap",!0),ue=t.getOrient().index,xe=0===ue?"width":"height",ze=0===ue?"height":"width",Re=0===ue?"y":"x";"end"===p?k[ue]+=w[xe]+J:z[ue]+=V[xe]+J,k[1-ue]+=w[ze]/2-V[ze]/2,x.x=k[0],x.y=k[1],y.x=z[0],y.y=z[1];var Ie={x:0,y:0};return Ie[xe]=w[xe]+J+V[xe],Ie[ze]=Math.max(w[ze],V[ze]),Ie[Re]=Math.min(0,V[Re]+k[1-ue]),Ie}return y.x=z[0],y.y=z[1],this.group.getBoundingRect()},r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},r.type="legend.plain",r}(xa.Z);function o_(o){var r=o.findComponents({mainType:"legend"});r&&r.length&&o.filterSeries(function(t){for(var a=0;a<r.length;a++)if(!r[a].isSelected(t.name))return!1;return!0})}function Af(o,r,t){var h,a={},l="toggleSelected"===o;return t.eachComponent("legend",function(d){l&&null!=h?d[h?"select":"unSelect"](r.name):"allSelect"===o||"inverseSelect"===o?d[o]():(d[o](r.name),h=d.isSelected(r.name));var p=d.getData();(0,M.each)(p,function(y){var x=y.get("name");if("\n"!==x&&""!==x){var w=d.isSelected(x);a[x]=a.hasOwnProperty(x)?a[x]&&w:w}})}),"allSelect"===o||"inverseSelect"===o?{selected:a}:{name:r.name,selected:a}}function l_(o){o.registerComponentModel(Z5),o.registerComponentView(v9),o.registerProcessor(o.PRIORITY.PROCESSOR.SERIES_FILTER,o_),o.registerSubTypeDefaulter("legend",function(){return"plain"}),function s_(o){o.registerAction("legendToggleSelect","legendselectchanged",(0,M.curry)(Af,"toggleSelected")),o.registerAction("legendAllSelect","legendselectall",(0,M.curry)(Af,"allSelect")),o.registerAction("legendInverseSelect","legendinverseselect",(0,M.curry)(Af,"inverseSelect")),o.registerAction("legendSelect","legendselected",(0,M.curry)(Af,"select")),o.registerAction("legendUnSelect","legendunselected",(0,M.curry)(Af,"unSelect"))}(o)}function p9(o,r,t){var l=[1,1];l[o.getOrient().index]=0,(0,Vr.dt)(r,t,{type:"box",ignoreSize:!!l})}const $M=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},r.prototype.init=function(t,a,l){var h=(0,Vr.tE)(t);o.prototype.init.call(this,t,a,l),p9(this,t,h)},r.prototype.mergeOption=function(t,a){o.prototype.mergeOption.call(this,t,a),p9(this,this.option,t)},r.type="legend.scroll",r.defaultOption=(0,uo.ZL)(Z5.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),r}(Z5);var g9=yn.Z,ug=["width","height"],m9=["x","y"];const K1=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.newlineDisabled=!0,t._currentIndex=0,t}return(0,st.ZT)(r,o),r.prototype.init=function(){o.prototype.init.call(this),this.group.add(this._containerGroup=new g9),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new g9)},r.prototype.resetInner=function(){o.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},r.prototype.renderInner=function(t,a,l,h,d,p,y){var x=this;o.prototype.renderInner.call(this,t,a,l,h,d,p,y);var w=this._controllerGroup,z=a.get("pageIconSize",!0),V=M.isArray(z)?z:[z,z];J("pagePrev",0);var k=a.getModel("pageTextStyle");function J(ue,xe){var ze=ue+"DataIndex",Re=dr.createIcon(a.get("pageIcons",!0)[a.getOrient().name][xe],{onclick:M.bind(x._pageGo,x,ze,a,h)},{x:-V[0]/2,y:-V[1]/2,width:V[0],height:V[1]});Re.name=ue,w.add(Re)}w.add(new Yt.ZP({name:"pageText",style:{text:"xx/xx",fill:k.getTextColor(),font:k.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),J("pageNext",1)},r.prototype.layoutInner=function(t,a,l,h,d,p){var y=this.getSelectorGroup(),x=t.getOrient().index,w=ug[x],z=m9[x],V=ug[1-x],k=m9[1-x];d&&Vr.BZ("horizontal",y,t.get("selectorItemGap",!0));var J=t.get("selectorButtonGap",!0),ue=y.getBoundingRect(),xe=[-ue.x,-ue.y],ze=M.clone(l);d&&(ze[w]=l[w]-ue[w]-J);var Re=this._layoutContentAndController(t,h,ze,x,w,V,k,z);if(d){if("end"===p)xe[x]+=Re[w]+J;else{var Ie=ue[w]+J;xe[x]-=Ie,Re[z]-=Ie}Re[w]+=ue[w]+J,xe[1-x]+=Re[k]+Re[V]/2-ue[V]/2,Re[V]=Math.max(Re[V],ue[V]),Re[k]=Math.min(Re[k],ue[k]+xe[1-x]),y.x=xe[0],y.y=xe[1],y.markRedraw()}return Re},r.prototype._layoutContentAndController=function(t,a,l,h,d,p,y,x){var w=this.getContentGroup(),z=this._containerGroup,V=this._controllerGroup;Vr.BZ(t.get("orient"),w,t.get("itemGap"),h?l.width:null,h?null:l.height),Vr.BZ("horizontal",V,t.get("pageButtonItemGap",!0));var k=w.getBoundingRect(),J=V.getBoundingRect(),ue=this._showController=k[d]>l[d],xe=[-k.x,-k.y];a||(xe[h]=w[x]);var ze=[0,0],Re=[-J.x,-J.y],Ie=M.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));ue&&("end"===t.get("pageButtonPosition",!0)?Re[h]+=l[d]-J[d]:ze[h]+=J[d]+Ie),Re[1-h]+=k[p]/2-J[p]/2,w.setPosition(xe),z.setPosition(ze),V.setPosition(Re);var Qe={x:0,y:0};if(Qe[d]=ue?l[d]:k[d],Qe[p]=Math.max(k[p],J[p]),Qe[y]=Math.min(0,J[y]+Re[1-h]),z.__rectSize=l[d],ue){var $e={x:0,y:0};$e[d]=Math.max(l[d]-J[d]-Ie,0),$e[p]=Qe[p],z.setClipPath(new Ei.Z({shape:$e})),z.__rectSize=$e[d]}else V.eachChild(function(St){St.attr({invisible:!0,silent:!0})});var ut=this._getPageInfo(t);return null!=ut.pageIndex&&Bn.D(w,{x:ut.contentPosition[0],y:ut.contentPosition[1]},ue?t:null),this._updatePageInfoView(t,ut),Qe},r.prototype._pageGo=function(t,a,l){var h=this._getPageInfo(a)[t];null!=h&&l.dispatchAction({type:"legendScroll",scrollDataIndex:h,legendId:a.id})},r.prototype._updatePageInfoView=function(t,a){var l=this._controllerGroup;M.each(["pagePrev","pageNext"],function(w){var V=null!=a[w+"DataIndex"],k=l.childOfName(w);k&&(k.setStyle("fill",t.get(V?"pageIconColor":"pageIconInactiveColor",!0)),k.cursor=V?"pointer":"default")});var h=l.childOfName("pageText"),d=t.get("pageFormatter"),p=a.pageIndex,y=null!=p?p+1:0,x=a.pageCount;h&&d&&h.setStyle("text",M.isString(d)?d.replace("{current}",null==y?"":y+"").replace("{total}",null==x?"":x+""):d({current:y,total:x}))},r.prototype._getPageInfo=function(t){var a=t.get("scrollDataIndex",!0),l=this.getContentGroup(),h=this._containerGroup.__rectSize,d=t.getOrient().index,p=ug[d],y=m9[d],x=this._findTargetItemIndex(a),w=l.children(),z=w[x],V=w.length,k=V?1:0,J={contentPosition:[l.x,l.y],pageCount:k,pageIndex:k-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!z)return J;var ue=Ge(z);J.contentPosition[d]=-ue.s;for(var xe=x+1,ze=ue,Re=ue,Ie=null;xe<=V;++xe)(!(Ie=Ge(w[xe]))&&Re.e>ze.s+h||Ie&&!Qe(Ie,ze.s))&&(ze=Re.i>ze.i?Re:Ie)&&(null==J.pageNextDataIndex&&(J.pageNextDataIndex=ze.i),++J.pageCount),Re=Ie;for(xe=x-1,ze=ue,Re=ue,Ie=null;xe>=-1;--xe)(!(Ie=Ge(w[xe]))||!Qe(Re,Ie.s))&&ze.i<Re.i&&(Re=ze,null==J.pagePrevDataIndex&&(J.pagePrevDataIndex=ze.i),++J.pageCount,++J.pageIndex),ze=Ie;return J;function Ge($e){if($e){var ut=$e.getBoundingRect(),St=ut[y]+$e[y];return{s:St,e:St+ut[p],i:$e.__legendDataIndex}}}function Qe($e,ut){return $e.e>=ut&&$e.s<=ut+h}},r.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(d,p){var y=d.__legendDataIndex;null==h&&null!=y&&(h=p),y===t&&(a=p)}),a??h):0;var a,h},r.type="legend.scroll",r}(v9);function QM(o){(0,_.D)(l_),o.registerComponentModel($M),o.registerComponentView(K1),function Pf(o){o.registerAction("legendScroll","legendscroll",function(r,t){var a=r.scrollDataIndex;null!=a&&t.eachComponent({mainType:"legend",subType:"scroll",query:r},function(l){l.setScrollDataIndex(a)})})}(o)}const cb=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="dataZoom.inside",r.defaultOption=(0,uo.ZL)(U2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),r}(U2);var d6=(0,Hr.Yf)();function u_(o,r){if(r){o.removeKey(r.model.uid);var t=r.controller;t&&t.dispose()}}function ex(o,r){o.isDisposed()||o.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:r})}function tx(o,r,t,a){return o.coordinateSystem.containPoint([t,a])}var d_=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return(0,st.ZT)(r,o),r.prototype.render=function(t,a,l){o.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function qM(o,r,t){d6(o).coordSysRecordMap.each(function(a){var l=a.dataZoomInfoMap.get(r.uid);l&&(l.getRange=t)})}(l,t,{pan:(0,M.bind)(M9.pan,this),zoom:(0,M.bind)(M9.zoom,this),scrollMove:(0,M.bind)(M9.scrollMove,this)}))},r.prototype.dispose=function(){this._clear(),o.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){(function y9(o,r){for(var t=d6(o).coordSysRecordMap,a=t.keys(),l=0;l<a.length;l++){var d=t.get(a[l]),p=d.dataZoomInfoMap;if(p){var y=r.uid;p.get(y)&&(p.removeKey(y),p.keys().length||u_(t,d))}}})(this.api,this.dataZoomModel),this.range=null},r.type="dataZoom.inside",r}(V5),M9={zoom:function(o,r,t,a){var l=this.range,h=l.slice(),d=o.axisModels[0];if(d){var p=X5[r](null,[a.originX,a.originY],d,t,o),y=(p.signal>0?p.pixelStart+p.pixelLength-p.pixel:p.pixel-p.pixelStart)/p.pixelLength*(h[1]-h[0])+h[0],x=Math.max(1/a.scale,0);h[0]=(h[0]-y)*x+y,h[1]=(h[1]-y)*x+y;var w=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ml(0,h,[0,100],0,w.minSpan,w.maxSpan),this.range=h,l[0]!==h[0]||l[1]!==h[1])return h}},pan:$5(function(o,r,t,a,l,h){var d=X5[a]([h.oldX,h.oldY],[h.newX,h.newY],r,l,t);return d.signal*(o[1]-o[0])*d.pixel/d.pixelLength}),scrollMove:$5(function(o,r,t,a,l,h){return X5[a]([0,0],[h.scrollDelta,h.scrollDelta],r,l,t).signal*(o[1]-o[0])*h.scrollDelta})};function $5(o){return function(r,t,a,l){var h=this.range,d=h.slice(),p=r.axisModels[0];if(p&&(Ml(o(d,p,r,t,a,l),d,[0,100],"all"),this.range=d,h[0]!==d[0]||h[1]!==d[1]))return d}}var X5={grid:function(o,r,t,a,l){var h=t.axis,d={},p=l.model.coordinateSystem.getRect();return o=o||[0,0],"x"===h.dim?(d.pixel=r[0]-o[0],d.pixelLength=p.width,d.pixelStart=p.x,d.signal=h.inverse?1:-1):(d.pixel=r[1]-o[1],d.pixelLength=p.height,d.pixelStart=p.y,d.signal=h.inverse?-1:1),d},polar:function(o,r,t,a,l){var h=t.axis,d={},p=l.model.coordinateSystem,y=p.getRadiusAxis().getExtent(),x=p.getAngleAxis().getExtent();return o=o?p.pointToCoord(o):[0,0],r=p.pointToCoord(r),"radiusAxis"===t.mainType?(d.pixel=r[0]-o[0],d.pixelLength=y[1]-y[0],d.pixelStart=y[0],d.signal=h.inverse?1:-1):(d.pixel=r[1]-o[1],d.pixelLength=x[1]-x[0],d.pixelStart=x[0],d.signal=h.inverse?-1:1),d},singleAxis:function(o,r,t,a,l){var h=t.axis,d=l.model.coordinateSystem.getRect(),p={};return o=o||[0,0],"horizontal"===h.orient?(p.pixel=r[0]-o[0],p.pixelLength=d.width,p.pixelStart=d.x,p.signal=h.inverse?1:-1):(p.pixel=r[1]-o[1],p.pixelLength=d.height,p.pixelStart=d.y,p.signal=h.inverse?-1:1),p}};const ub=d_;function x9(o){F(o),o.registerComponentModel(cb),o.registerComponentView(ub),function _9(o){o.registerProcessor(o.PRIORITY.PROCESSOR.FILTER,function(r,t){var a=d6(t),l=a.coordSysRecordMap||(a.coordSysRecordMap=(0,M.createHashMap)());l.each(function(h){h.dataZoomInfoMap=null}),r.eachComponent({mainType:"dataZoom",subType:"inside"},function(h){var d=bf(h);(0,M.each)(d.infoList,function(p){var y=p.model.uid,x=l.get(y)||l.set(y,function h_(o,r){var t={model:r,containsPoint:(0,M.curry)(tx,r),dispatchAction:(0,M.curry)(ex,o),dataZoomInfoMap:null,controller:null},a=t.controller=new s4(o.getZr());return(0,M.each)(["pan","zoom","scrollMove"],function(l){a.on(l,function(h){var d=[];t.dataZoomInfoMap.each(function(p){if(h.isAvailableBehavior(p.model.option)){var y=(p.getRange||{})[l],x=y&&y(p.dzReferCoordSysInfo,t.model.mainType,t.controller,h);!p.model.get("disabled",!0)&&x&&d.push({dataZoomId:p.model.id,start:x[0],end:x[1]})}}),d.length&&t.dispatchAction(d)})}),t}(t,p.model));(x.dataZoomInfoMap||(x.dataZoomInfoMap=(0,M.createHashMap)())).set(h.uid,{dzReferCoordSysInfo:p,model:h,getRange:null})})}),l.each(function(h){var p,d=h.controller,y=h.dataZoomInfoMap;if(y){var x=y.keys()[0];null!=x&&(p=y.get(x))}if(p){var w=function nx(o){var r,t="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},l=!0;return o.each(function(h){var d=h.model,p=!d.get("disabled",!0)&&(!d.get("zoomLock",!0)||"move");a[t+p]>a[t+r]&&(r=p),l=l&&d.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!l}}}(y);d.enable(w.controlType,w.opt),d.setPointerChecker(h.containsPoint),ho.T9(h,"dispatchAction",p.model.get("throttle",!0),"fixRate")}else u_(l,h)})})}(o)}const f_=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.type="dataZoom.slider",r.layoutMode="box",r.defaultOption=(0,uo.ZL)(U2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),r}(U2);var Y0=Ei.Z,J5="horizontal",g_="vertical",m_=["line","bar","candlestick","scatter"],y_={easing:"cubicOut",duration:100,delay:0};function b9(o){return"vertical"===o?"ns-resize":"ew-resize"}const ox=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._displayables={},t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){this.api=a,this._onBrush=(0,M.bind)(this._onBrush,this),this._onBrushEnd=(0,M.bind)(this._onBrushEnd,this)},r.prototype.render=function(t,a,l,h){if(o.prototype.render.apply(this,arguments),ho.T9(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!h||"dataZoom"!==h.type||h.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},r.prototype.dispose=function(){this._clear(),o.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){ho.ZH(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},r.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var a=this._displayables.sliderGroup=new yn.Z;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(a),this._positionGroup()},r.prototype._resetLocation=function(){var t=this.dataZoomModel,a=this.api,h=t.get("brushSelect")?7:0,d=this._findCoordRect(),p={width:a.getWidth(),height:a.getHeight()},y=this._orient===J5?{right:p.width-d.x-d.width,top:p.height-30-7-h,width:d.width,height:30}:{right:7,top:d.y,width:30,height:d.height},x=Vr.tE(t.option);(0,M.each)(["right","top","width","height"],function(z){"ph"===x[z]&&(x[z]=y[z])});var w=Vr.ME(x,p);this._location={x:w.x,y:w.y},this._size=[w.width,w.height],this._orient===g_&&this._size.reverse()},r.prototype._positionGroup=function(){var t=this.group,a=this._location,l=this._orient,h=this.dataZoomModel.getFirstTargetAxisModel(),d=h&&h.get("inverse"),p=this._displayables.sliderGroup,y=(this._dataShadowInfo||{}).otherAxisInverse;p.attr(l!==J5||d?l===J5&&d?{scaleY:y?1:-1,scaleX:-1}:l!==g_||d?{scaleY:y?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:y?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:y?1:-1,scaleX:1});var x=t.getBoundingRect([p]);t.x=a.x-x.x,t.y=a.y-x.y,t.markRedraw()},r.prototype._getViewExtent=function(){return[0,this._size[0]]},r.prototype._renderBackground=function(){var t=this.dataZoomModel,a=this._size,l=this._displayables.sliderGroup,h=t.get("brushSelect");l.add(new Y0({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var d=new Y0({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:(0,M.bind)(this._onClickPanel,this)}),p=this.api.getZr();h?(d.on("mousedown",this._onBrushStart,this),d.cursor="crosshair",p.on("mousemove",this._onBrush),p.on("mouseup",this._onBrushEnd)):(p.off("mousemove",this._onBrush),p.off("mouseup",this._onBrushEnd)),l.add(d)},r.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var a=this._size,l=this._shadowSize||[],h=t.series,d=h.getRawData(),p=h.getShadowDim&&h.getShadowDim(),y=p&&d.getDimensionInfo(p)?h.getShadowDim():t.otherDim;if(null!=y){var x=this._shadowPolygonPts,w=this._shadowPolylinePts;if(d!==this._shadowData||y!==this._shadowDim||a[0]!==l[0]||a[1]!==l[1]){var z=d.getDataExtent(y),V=.3*(z[1]-z[0]);z=[z[0]-V,z[1]+V];var Ge,k=[0,a[1]],ue=[[a[0],0],[0,0]],xe=[],ze=a[0]/(d.count()-1),Re=0,Ie=Math.round(d.count()/a[0]);d.each([y],function(Pt,Vt){if(Ie>0&&Vt%Ie)Re+=ze;else{var kt=null==Pt||isNaN(Pt)||""===Pt,en=kt?0:(0,In.NU)(Pt,z,k,!0);kt&&!Ge&&Vt?(ue.push([ue[ue.length-1][0],0]),xe.push([xe[xe.length-1][0],0])):!kt&&Ge&&(ue.push([Re,0]),xe.push([Re,0])),ue.push([Re,en]),xe.push([Re,en]),Re+=ze,Ge=kt}}),x=this._shadowPolygonPts=ue,w=this._shadowPolylinePts=xe}this._shadowData=d,this._shadowDim=y,this._shadowSize=[a[0],a[1]];for(var Vt,kt,en,un,Qe=this.dataZoomModel,ut=0;ut<3;ut++){var St=(Vt=void 0,kt=void 0,void 0,void 0,Vt=Qe.getModel(1===ut?"selectedDataBackground":"dataBackground"),kt=new yn.Z,en=new Ul.Z({shape:{points:x},segmentIgnoreThreshold:1,style:Vt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),un=new ft.Z({shape:{points:w},segmentIgnoreThreshold:1,style:Vt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),kt.add(en),kt.add(un),kt);this._displayables.sliderGroup.add(St),this._displayables.dataShadowSegs.push(St)}}}},r.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,a=t.get("showDataShadow");if(!1!==a){var l,h=this.ecModel;return t.eachTargetAxis(function(d,p){var y=t.getAxisProxy(d,p).getTargetSeriesModels();(0,M.each)(y,function(x){if(!(l||!0!==a&&(0,M.indexOf)(m_,x.get("type"))<0)){var V,w=h.getComponent($c(d),p).axis,z=function __(o){return{x:"y",y:"x",radius:"angle",angle:"radius"}[o]}(d),k=x.coordinateSystem;null!=z&&k.getOtherAxis&&(V=k.getOtherAxis(w).inverse),z=x.getData().mapDimension(z),l={thisAxis:w,series:x,thisDim:d,otherDim:z,otherAxisInverse:V}}},this)},this),l}},r.prototype._renderHandle=function(){var t=this.group,a=this._displayables,l=a.handles=[null,null],h=a.handleLabels=[null,null],d=this._displayables.sliderGroup,p=this._size,y=this.dataZoomModel,x=this.api,w=y.get("borderRadius")||0,z=y.get("brushSelect"),V=a.filler=new Y0({silent:z,style:{fill:y.get("fillerColor")},textConfig:{position:"inside"}});d.add(V),d.add(new Y0({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:p[0],height:p[1],r:w},style:{stroke:y.get("dataBackgroundColor")||y.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),(0,M.each)([0,1],function(Ie){var Ge=y.get("handleIcon");!Pn.Pw[Ge]&&Ge.indexOf("path://")<0&&Ge.indexOf("image://")<0&&(Ge="path://"+Ge);var Qe=(0,Pn.th)(Ge,-1,0,2,2,null,!0);Qe.attr({cursor:b9(this._orient),draggable:!0,drift:(0,M.bind)(this._onDragMove,this,Ie),ondragend:(0,M.bind)(this._onDragEnd,this),onmouseover:(0,M.bind)(this._showDataInfo,this,!0),onmouseout:(0,M.bind)(this._showDataInfo,this,!1),z2:5});var $e=Qe.getBoundingRect(),ut=y.get("handleSize");this._handleHeight=(0,In.GM)(ut,this._size[1]),this._handleWidth=$e.width/$e.height*this._handleHeight,Qe.setStyle(y.getModel("handleStyle").getItemStyle()),Qe.style.strokeNoScale=!0,Qe.rectHover=!0,Qe.ensureState("emphasis").style=y.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,er.vF)(Qe);var St=y.get("handleColor");null!=St&&(Qe.style.fill=St),d.add(l[Ie]=Qe);var Pt=y.getModel("textStyle");t.add(h[Ie]=new Yt.ZP({silent:!0,invisible:!0,style:(0,hr.Lr)(Pt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Pt.getTextColor(),font:Pt.getFont()}),z2:10}))},this);var k=V;if(z){var J=(0,In.GM)(y.get("moveHandleSize"),p[1]),ue=a.moveHandle=new Ei.Z({style:y.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:p[1]-.5,height:J}}),xe=.8*J,ze=a.moveHandleIcon=(0,Pn.th)(y.get("moveHandleIcon"),-xe/2,-xe/2,xe,xe,"#fff",!0);ze.silent=!0,ze.y=p[1]+J/2-.5,ue.ensureState("emphasis").style=y.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Re=Math.min(p[1]/2,Math.max(J,10));(k=a.moveZone=new Ei.Z({invisible:!0,shape:{y:p[1]-Re,height:J+Re}})).on("mouseover",function(){x.enterEmphasis(ue)}).on("mouseout",function(){x.leaveEmphasis(ue)}),d.add(ue),d.add(ze),d.add(k)}k.attr({draggable:!0,cursor:b9(this._orient),drift:(0,M.bind)(this._onDragMove,this,"all"),ondragstart:(0,M.bind)(this._showDataInfo,this,!0),ondragend:(0,M.bind)(this._onDragEnd,this),onmouseover:(0,M.bind)(this._showDataInfo,this,!0),onmouseout:(0,M.bind)(this._showDataInfo,this,!1)})},r.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[(0,In.NU)(t[0],[0,100],a,!0),(0,In.NU)(t[1],[0,100],a,!0)]},r.prototype._updateInterval=function(t,a){var l=this.dataZoomModel,h=this._handleEnds,d=this._getViewExtent(),p=l.findRepresentativeAxisProxy().getMinMaxSpan(),y=[0,100];Ml(a,h,d,l.get("zoomLock")?"all":t,null!=p.minSpan?(0,In.NU)(p.minSpan,y,d,!0):null,null!=p.maxSpan?(0,In.NU)(p.maxSpan,y,d,!0):null);var x=this._range,w=this._range=(0,In.dt)([(0,In.NU)(h[0],d,y,!0),(0,In.NU)(h[1],d,y,!0)]);return!x||x[0]!==w[0]||x[1]!==w[1]},r.prototype._updateView=function(t){var a=this._displayables,l=this._handleEnds,h=(0,In.dt)(l.slice()),d=this._size;(0,M.each)([0,1],function(k){var ue=this._handleHeight;a.handles[k].attr({scaleX:ue/2,scaleY:ue/2,x:l[k]+(k?-1:1),y:d[1]/2-ue/2})},this),a.filler.setShape({x:h[0],y:0,width:h[1]-h[0],height:d[1]});var p={x:h[0],width:h[1]-h[0]};a.moveHandle&&(a.moveHandle.setShape(p),a.moveZone.setShape(p),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",p.x+p.width/2));for(var y=a.dataShadowSegs,x=[0,h[0],h[1],d[0]],w=0;w<y.length;w++){var z=y[w],V=z.getClipPath();V||(V=new Ei.Z,z.setClipPath(V)),V.setShape({x:x[w],y:0,width:x[w+1]-x[w],height:d[1]})}this._updateDataInfo(t)},r.prototype._updateDataInfo=function(t){var a=this.dataZoomModel,l=this._displayables,h=l.handleLabels,d=this._orient,p=["",""];if(a.get("showDetail")){var y=a.findRepresentativeAxisProxy();if(y){var x=y.getAxisModel().axis,w=this._range,z=t?y.calculateDataWindow({start:w[0],end:w[1]}).valueWindow:y.getDataValueWindow();p=[this._formatLabel(z[0],x),this._formatLabel(z[1],x)]}}var V=(0,In.dt)(this._handleEnds.slice());function k(J){var ue=dr.getTransform(l.handles[J].parent,this.group),xe=dr.transformDirection(0===J?"right":"left",ue),ze=this._handleWidth/2+5,Re=dr.applyTransform([V[J]+(0===J?-ze:ze),this._size[1]/2],ue);h[J].setStyle({x:Re[0],y:Re[1],verticalAlign:d===J5?"middle":xe,align:d===J5?xe:"center",text:p[J]})}k.call(this,0),k.call(this,1)},r.prototype._formatLabel=function(t,a){var l=this.dataZoomModel,h=l.get("labelFormatter"),d=l.get("labelPrecision");(null==d||"auto"===d)&&(d=a.getPixelPrecision());var p=null==t||isNaN(t)?"":"category"===a.type||"time"===a.type?a.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(d,20));return(0,M.isFunction)(h)?h(t,p):(0,M.isString)(h)?h.replace("{value}",p):p},r.prototype._showDataInfo=function(t){var a=this._displayables,l=a.handleLabels;l[0].attr("invisible",!(t=this._dragging||t)),l[1].attr("invisible",!t),a.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](a.moveHandle,1)},r.prototype._onDragMove=function(t,a,l,h){this._dragging=!0,nl.sT(h.event);var d=this._displayables.sliderGroup.getLocalTransform(),p=dr.applyTransform([a,l],d,!0),y=this._updateInterval(t,p[0]),x=this.dataZoomModel.get("realtime");this._updateView(!x),y&&x&&this._dispatchZoomAction(!0)},r.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},r.prototype._onClickPanel=function(t){var a=this._size,l=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(l[0]<0||l[0]>a[0]||l[1]<0||l[1]>a[1])){var h=this._handleEnds,p=this._updateInterval("all",l[0]-(h[0]+h[1])/2);this._updateView(),p&&this._dispatchZoomAction(!1)}},r.prototype._onBrushStart=function(t){this._brushStart=new gt.Z(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},r.prototype._onBrushEnd=function(t){if(this._brushing){var a=this._displayables.brushRect;if(this._brushing=!1,a){a.attr("ignore",!0);var l=a.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(l.width)<5)){var d=this._getViewExtent(),p=[0,100];this._range=(0,In.dt)([(0,In.NU)(l.x,d,p,!0),(0,In.NU)(l.x+l.width,d,p,!0)]),this._handleEnds=[l.x,l.x+l.width],this._updateView(),this._dispatchZoomAction(!1)}}}},r.prototype._onBrush=function(t){this._brushing&&(nl.sT(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},r.prototype._updateBrushRect=function(t,a){var l=this._displayables,d=l.brushRect;d||(d=l.brushRect=new Y0({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),l.sliderGroup.add(d)),d.attr("ignore",!1);var p=this._brushStart,y=this._displayables.sliderGroup,x=y.transformCoordToLocal(t,a),w=y.transformCoordToLocal(p.x,p.y),z=this._size;x[0]=Math.max(Math.min(z[0],x[0]),0),d.setShape({x:w[0],y:0,width:x[0]-w[0],height:z[1]})},r.prototype._dispatchZoomAction=function(t){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?y_:null,start:a[0],end:a[1]})},r.prototype._findCoordRect=function(){var t,a=bf(this.dataZoomModel).infoList;if(!t&&a.length){var l=a[0].model.coordinateSystem;t=l.getRect&&l.getRect()}if(!t){var h=this.api.getWidth(),d=this.api.getHeight();t={x:.2*h,y:.2*d,width:.6*h,height:.6*d}}return t},r.type="dataZoom.slider",r}(V5);function M_(o){o.registerComponentModel(f_),o.registerComponentView(ox),F(o)}var sx={get:function(o,r,t){var a=M.clone((b_[o]||{})[r]);return t&&M.isArray(a)?a[a.length-1]:a}},b_={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const w9=sx;var S9=cs.mapVisual,w_=cs.eachVisual,lx=M.isArray,S_=M.each,db=In.dt,C_=In.NU;const C9=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a,l){this.mergeDefaultAndTheme(t,l)},r.prototype.optionUpdated=function(t,a){!a&&qm(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},r.prototype.resetVisual=function(t){var a=this.stateList;t=M.bind(t,this),this.controllerVisuals=Jm(this.option.controller,a,t),this.targetVisuals=Jm(this.option.target,a,t)},r.prototype.getItemSymbol=function(){return null},r.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,a=[];return null==t||"all"===t?this.ecModel.eachSeries(function(l,h){a.push(h)}):a=Hr.kF(t),a},r.prototype.eachTargetSeries=function(t,a){M.each(this.getTargetSeriesIndices(),function(l){var h=this.ecModel.getSeriesByIndex(l);h&&t.call(a,h)},this)},r.prototype.isTargetSeries=function(t){var a=!1;return this.eachTargetSeries(function(l){l===t&&(a=!0)}),a},r.prototype.formatValueText=function(t,a,l){var x,h=this.option,d=h.precision,p=this.dataBound,y=h.formatter;l=l||["<",">"],M.isArray(t)&&(t=t.slice(),x=!0);var w=a?t:x?[z(t[0]),z(t[1])]:z(t);return M.isString(y)?y.replace("{value}",x?w[0]:w).replace("{value2}",x?w[1]:w):M.isFunction(y)?x?y(t[0],t[1]):y(t):x?t[0]===p[0]?l[0]+" "+w[1]:t[1]===p[1]?l[1]+" "+w[0]:w[0]+" - "+w[1]:w;function z(V){return V===p[0]?"min":V===p[1]?"max":(+V).toFixed(Math.min(d,20))}},r.prototype.resetExtent=function(){var t=this.option,a=db([t.min,t.max]);this._dataExtent=a},r.prototype.getDataDimensionIndex=function(t){var a=this.option.dimension;if(null!=a)return t.getDimensionIndex(a);for(var l=t.dimensions,h=l.length-1;h>=0;h--){var p=t.getDimensionInfo(l[h]);if(!p.isCalculationCoord)return p.storeDimIndex}},r.prototype.getExtent=function(){return this._dataExtent.slice()},r.prototype.completeVisualOption=function(){var t=this.ecModel,a=this.option,l={inRange:a.inRange,outOfRange:a.outOfRange},h=a.target||(a.target={}),d=a.controller||(a.controller={});M.merge(h,l),M.merge(d,l);var p=this.isCategory();function y(z){lx(a.color)&&!z.inRange&&(z.inRange={color:a.color.slice().reverse()}),z.inRange=z.inRange||{color:t.get("gradientColor")}}y.call(this,h),y.call(this,d),function x(z,V,k){var J=z[V],ue=z[k];J&&!ue&&(ue=z[k]={},S_(J,function(xe,ze){if(cs.isValidType(ze)){var Re=w9.get(ze,"inactive",p);null!=Re&&(ue[ze]=Re,"color"===ze&&!ue.hasOwnProperty("opacity")&&!ue.hasOwnProperty("colorAlpha")&&(ue.opacity=[0,0]))}}))}.call(this,h,"inRange","outOfRange"),function w(z){var V=(z.inRange||{}).symbol||(z.outOfRange||{}).symbol,k=(z.inRange||{}).symbolSize||(z.outOfRange||{}).symbolSize,J=this.get("inactiveColor"),xe=this.getItemSymbol()||"roundRect";S_(this.stateList,function(ze){var Re=this.itemSize,Ie=z[ze];Ie||(Ie=z[ze]={color:p?J:[J]}),null==Ie.symbol&&(Ie.symbol=V&&M.clone(V)||(p?xe:[xe])),null==Ie.symbolSize&&(Ie.symbolSize=k&&M.clone(k)||(p?Re[0]:[Re[0],Re[0]])),Ie.symbol=S9(Ie.symbol,function($e){return"none"===$e?xe:$e});var Ge=Ie.symbolSize;if(null!=Ge){var Qe=-1/0;w_(Ge,function($e){$e>Qe&&(Qe=$e)}),Ie.symbolSize=S9(Ge,function($e){return C_($e,[0,Qe],[0,Re[0]],!0)})}},this)}.call(this,d)},r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},r.prototype.isCategory=function(){return!!this.option.categories},r.prototype.setSelected=function(t){},r.prototype.getSelected=function(){return null},r.prototype.getValueState=function(t){return null},r.prototype.getVisualMeta=function(t){return null},r.type="visualMap",r.dependencies=["series"],r.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},r}(va.Z);var cx=[20,140];function ux(o,r,t){if(t[0]===t[1])return t.slice();for(var l=(t[1]-t[0])/200,h=t[0],d=[],p=0;p<=200&&h<t[1];p++)d.push(h),h+=l;return d.push(t[1]),d}const pb=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.optionUpdated=function(t,a){o.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(l){l.mappingMethod="linear",l.dataExtent=this.getExtent()}),this._resetRange()},r.prototype.resetItemSize=function(){o.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=cx[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=cx[1])},r.prototype._resetRange=function(){var t=this.getExtent(),a=this.option.range;!a||a.auto?(t.auto=1,this.option.range=t):M.isArray(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],t[0]),a[1]=Math.min(a[1],t[1]))},r.prototype.completeVisualOption=function(){o.prototype.completeVisualOption.apply(this,arguments),M.each(this.stateList,function(t){var a=this.option.controller[t].symbolSize;a&&a[0]!==a[1]&&(a[0]=a[1]/3)},this)},r.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},r.prototype.getSelected=function(){var t=this.getExtent(),a=In.dt((this.get("range")||[]).slice());return a[0]>t[1]&&(a[0]=t[1]),a[1]>t[1]&&(a[1]=t[1]),a[0]<t[0]&&(a[0]=t[0]),a[1]<t[0]&&(a[1]=t[0]),a},r.prototype.getValueState=function(t){var a=this.option.range,l=this.getExtent();return(a[0]<=l[0]||a[0]<=t)&&(a[1]>=l[1]||t<=a[1])?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(t){var a=[];return this.eachTargetSeries(function(l){var h=[],d=l.getData();d.each(this.getDataDimensionIndex(d),function(p,y){t[0]<=p&&p<=t[1]&&h.push(y)},this),a.push({seriesId:l.id,dataIndex:h})},this),a},r.prototype.getVisualMeta=function(t){var a=ux(0,0,this.getExtent()),l=ux(0,0,this.option.range.slice()),h=[];function d(k,J){h.push({value:k,color:t(k,J)})}for(var p=0,y=0,x=l.length,w=a.length;y<w&&(!l.length||a[y]<=l[0]);y++)a[y]<l[p]&&d(a[y],"outOfRange");for(var z=1;p<x;p++,z=0)z&&h.length&&d(l[p],"outOfRange"),d(l[p],"inRange");for(z=1;y<w;y++)(!l.length||l[l.length-1]<a[y])&&(z&&(h.length&&d(h[h.length-1].value,"outOfRange"),z=0),d(a[y],"outOfRange"));var V=h.length;return{stops:h,outerColors:[V?h[0].color:"transparent",V?h[V-1].color:"transparent"]}},r.type="visualMap.continuous",r.defaultOption=(0,uo.ZL)(C9.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),r}(C9),hx=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return(0,st.ZT)(r,o),r.prototype.init=function(t,a){this.ecModel=t,this.api=a},r.prototype.render=function(t,a,l,h){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,a,l,h):this.group.removeAll()},r.prototype.renderBackground=function(t){var a=this.visualMapModel,l=Ia.MY(a.get("padding")||0),h=t.getBoundingRect();t.add(new Ei.Z({z2:-1,silent:!0,shape:{x:h.x-l[3],y:h.y-l[0],width:h.width+l[3]+l[1],height:h.height+l[0]+l[2]},style:{fill:a.get("backgroundColor"),stroke:a.get("borderColor"),lineWidth:a.get("borderWidth")}}))},r.prototype.getControllerVisual=function(t,a,l){var h=(l=l||{}).forceState,d=this.visualMapModel,p={};if("color"===a){var y=d.get("contentColor");p.color=y}function x(k){return p[k]}function w(k,J){p[k]=J}var z=d.controllerVisuals[h||d.getValueState(t)],V=cs.prepareVisualTypes(z);return M.each(V,function(k){var J=z[k];l.convertOpacityToAlpha&&"opacity"===k&&(k="colorAlpha",J=z.__alphaForOpacity),cs.dependsOn(k,a)&&J&&J.applyVisual(t,x,w)}),p[a]},r.prototype.positionGroup=function(t){var l=this.api;Vr.p$(t,this.visualMapModel.getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()})},r.prototype.doRender=function(t,a,l,h){},r.type="visualMap",r}(xa.Z);var dx=[["left","right","width"],["top","bottom","height"]];function T9(o,r,t){var a=o.option,l=a.align;if(null!=l&&"auto"!==l)return l;for(var h={width:r.getWidth(),height:r.getHeight()},d="horizontal"===a.orient?1:0,p=dx[d],y=[0,null,10],x={},w=0;w<3;w++)x[dx[1-d][w]]=y[w],x[p[w]]=2===w?t[0]:a[p[w]];var z=[["x","width",3],["y","height",0]][d],V=(0,Vr.ME)(x,h,a.padding);return p[(V.margin[z[2]]||0)+V[z[0]]+.5*V[z[1]]<.5*h[z[1]]?0:1]}function Lf(o,r){return M.each(o||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(r?r.componentIndex:"")}),o}var G2=In.NU,fx=M.each,q5=Math.min,D9=Math.max;function T_(o,r,t,a){return new Ul.Z({shape:{points:o},draggable:!!t,cursor:r,drift:t,onmousemove:function(l){nl.sT(l.event)},ondragend:a})}function px(o){return!!(o.get("hoverLinkOnHandle")??o.get("realtime"))}function E_(o){return"vertical"===o?"ns-resize":"ew-resize"}const gx=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return(0,st.ZT)(r,o),r.prototype.doRender=function(t,a,l,h){this._api=l,(!h||"selectDataRange"!==h.type||h.from!==this.uid)&&this._buildView()},r.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,a=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(a);var l=t.get("text");this._renderEndsText(a,l,0),this._renderEndsText(a,l,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},r.prototype._renderEndsText=function(t,a,l){if(a){var h=a[1-l];h=null!=h?h+"":"";var d=this.visualMapModel,p=d.get("textGap"),y=d.itemSize,x=this._shapes.mainGroup,w=this._applyTransform([y[0]/2,0===l?-p:y[1]+p],x),z=this._applyTransform(0===l?"bottom":"top",x),V=this._orient;this.group.add(new Yt.ZP({style:(0,hr.Lr)(this.visualMapModel.textStyleModel,{x:w[0],y:w[1],verticalAlign:"horizontal"===V?"middle":z,align:"horizontal"===V?z:"center",text:h})}))}},r.prototype._renderBar=function(t){var a=this.visualMapModel,l=this._shapes,h=a.itemSize,d=this._orient,p=this._useHandle,y=T9(a,this.api,h),x=l.mainGroup=this._createBarGroup(y),w=new yn.Z;x.add(w),w.add(l.outOfRange=T_()),w.add(l.inRange=T_(null,p?E_(this._orient):null,M.bind(this._dragHandle,this,"all",!1),M.bind(this._dragHandle,this,"all",!0))),w.setClipPath(new Ei.Z({shape:{x:0,y:0,width:h[0],height:h[1],r:3}}));var z=a.textStyleModel.getTextRect("\u56fd"),V=D9(z.width,z.height);p&&(l.handleThumbs=[],l.handleLabels=[],l.handleLabelPoints=[],this._createHandle(a,x,0,h,V,d),this._createHandle(a,x,1,h,V,d)),this._createIndicator(a,x,h,V,d),t.add(x)},r.prototype._createHandle=function(t,a,l,h,d,p){var y=M.bind(this._dragHandle,this,l,!1),x=M.bind(this._dragHandle,this,l,!0),w=(0,Me.GM)(t.get("handleSize"),h[0]),z=(0,Pn.th)(t.get("handleIcon"),-w/2,-w/2,w,w,null,!0),V=E_(this._orient);z.attr({cursor:V,draggable:!0,drift:y,ondragend:x,onmousemove:function(ze){nl.sT(ze.event)}}),z.x=h[0]/2,z.useStyle(t.getModel("handleStyle").getItemStyle()),z.setStyle({strokeNoScale:!0,strokeFirst:!0}),z.style.lineWidth*=2,z.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,er.Nj)(z,!0),a.add(z);var J=new Yt.ZP({cursor:V,draggable:!0,drift:y,onmousemove:function(ze){nl.sT(ze.event)},ondragend:x,style:(0,hr.Lr)(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});J.ensureState("blur").style={opacity:.1},J.stateTransition={duration:200},this.group.add(J);var ue=[w,0],xe=this._shapes;xe.handleThumbs[l]=z,xe.handleLabelPoints[l]=ue,xe.handleLabels[l]=J},r.prototype._createIndicator=function(t,a,l,h,d){var p=(0,Me.GM)(t.get("indicatorSize"),l[0]),y=(0,Pn.th)(t.get("indicatorIcon"),-p/2,-p/2,p,p,null,!0);y.attr({cursor:"move",invisible:!0,silent:!0,x:l[0]/2});var x=t.getModel("indicatorStyle").getItemStyle();if(y instanceof me.ZP){var w=y.style;y.useStyle(M.extend({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},x))}else y.useStyle(x);a.add(y);var V=new Yt.ZP({silent:!0,invisible:!0,style:(0,hr.Lr)(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(V);var k=[("horizontal"===d?h/2:6)+l[0]/2,0],J=this._shapes;J.indicator=y,J.indicatorLabel=V,J.indicatorLabelPoint=k,this._firstShowIndicator=!0},r.prototype._dragHandle=function(t,a,l,h){if(this._useHandle){if(this._dragging=!a,!a){var d=this._applyTransform([l,h],this._shapes.mainGroup,!0);this._updateInterval(t,d[1]),this._hideIndicator(),this._updateView()}a===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?!this._hovering&&this._clearHoverLinkToSeries():px(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},r.prototype._resetInterval=function(){var t=this.visualMapModel,a=this._dataInterval=t.getSelected(),l=t.getExtent(),h=[0,t.itemSize[1]];this._handleEnds=[G2(a[0],l,h,!0),G2(a[1],l,h,!0)]},r.prototype._updateInterval=function(t,a){var l=this.visualMapModel,h=this._handleEnds,d=[0,l.itemSize[1]];Ml(a=a||0,h,d,t,0);var p=l.getExtent();this._dataInterval=[G2(h[0],d,p,!0),G2(h[1],d,p,!0)]},r.prototype._updateView=function(t){var a=this.visualMapModel,l=a.getExtent(),h=this._shapes,d=[0,a.itemSize[1]],p=t?d:this._handleEnds,y=this._createBarVisual(this._dataInterval,l,p,"inRange"),x=this._createBarVisual(l,l,d,"outOfRange");h.inRange.setStyle({fill:y.barColor}).setShape("points",y.barPoints),h.outOfRange.setStyle({fill:x.barColor}).setShape("points",x.barPoints),this._updateHandle(p,y)},r.prototype._createBarVisual=function(t,a,l,h){var d={forceState:h,convertOpacityToAlpha:!0},p=this._makeColorGradient(t,d),y=[this.getControllerVisual(t[0],"symbolSize",d),this.getControllerVisual(t[1],"symbolSize",d)],x=this._createBarPoints(l,y);return{barColor:new Za.Z(0,0,0,1,p),barPoints:x,handlesColor:[p[0].color,p[p.length-1].color]}},r.prototype._makeColorGradient=function(t,a){var h=[],d=(t[1]-t[0])/100;h.push({color:this.getControllerVisual(t[0],"color",a),offset:0});for(var p=1;p<100;p++){var y=t[0]+d*p;if(y>t[1])break;h.push({color:this.getControllerVisual(y,"color",a),offset:p/100})}return h.push({color:this.getControllerVisual(t[1],"color",a),offset:1}),h},r.prototype._createBarPoints=function(t,a){var l=this.visualMapModel.itemSize;return[[l[0]-a[0],t[0]],[l[0],t[0]],[l[0],t[1]],[l[0]-a[1],t[1]]]},r.prototype._createBarGroup=function(t){var a=this._orient,l=this.visualMapModel.get("inverse");return new yn.Z("horizontal"!==a||l?"horizontal"===a&&l?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==a||l?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},r.prototype._updateHandle=function(t,a){if(this._useHandle){var l=this._shapes,h=this.visualMapModel,d=l.handleThumbs,p=l.handleLabels,y=h.itemSize,x=h.getExtent();fx([0,1],function(w){var z=d[w];z.setStyle("fill",a.handlesColor[w]),z.y=t[w];var V=G2(t[w],[0,y[1]],x,!0),k=this.getControllerVisual(V,"symbolSize");z.scaleX=z.scaleY=k/y[0],z.x=y[0]-k/2;var J=dr.applyTransform(l.handleLabelPoints[w],dr.getTransform(z,this.group));p[w].setStyle({x:J[0],y:J[1],text:h.formatValueText(this._dataInterval[w]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",l.mainGroup):"center"})},this)}},r.prototype._showIndicator=function(t,a,l,h){var d=this.visualMapModel,p=d.getExtent(),y=d.itemSize,x=[0,y[1]],w=this._shapes,z=w.indicator;if(z){z.attr("invisible",!1);var k=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),J=this.getControllerVisual(t,"symbolSize"),ue=G2(t,p,x,!0),xe=y[0]-J/2,ze={x:z.x,y:z.y};z.y=ue,z.x=xe;var Re=dr.applyTransform(w.indicatorLabelPoint,dr.getTransform(z,this.group)),Ie=w.indicatorLabel;Ie.attr("invisible",!1);var Ge=this._applyTransform("left",w.mainGroup),$e="horizontal"===this._orient;Ie.setStyle({text:(l||"")+d.formatValueText(a),verticalAlign:$e?Ge:"middle",align:$e?"center":Ge});var ut={x:xe,y:ue,style:{fill:k}},St={style:{x:Re[0],y:Re[1]}};if(d.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Pt={duration:100,easing:"cubicInOut",additive:!0};z.x=ze.x,z.y=ze.y,z.animateTo(ut,Pt),Ie.animateTo(St,Pt)}else z.attr(ut),Ie.attr(St);this._firstShowIndicator=!1;var Vt=this._shapes.handleLabels;if(Vt)for(var kt=0;kt<Vt.length;kt++)this._api.enterBlur(Vt[kt])}},r.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(a){if(t._hovering=!0,!t._dragging){var l=t.visualMapModel.itemSize,h=t._applyTransform([a.offsetX,a.offsetY],t._shapes.mainGroup,!0,!0);h[1]=q5(D9(0,h[1]),l[1]),t._doHoverLinkToSeries(h[1],0<=h[0]&&h[0]<=l[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},r.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},r.prototype._doHoverLinkToSeries=function(t,a){var l=this.visualMapModel;if(l.option.hoverLink){var d=[0,l.itemSize[1]],p=l.getExtent();t=q5(D9(d[0],t),d[1]);var y=function D_(o,r,t){var a=6,l=o.get("hoverLinkDataSize");return l&&(a=G2(l,r,t,!0)/2),a}(l,p,d),x=[t-y,t+y],w=G2(t,d,p,!0),z=[G2(x[0],d,p,!0),G2(x[1],d,p,!0)];x[0]<d[0]&&(z[0]=-1/0),x[1]>d[1]&&(z[1]=1/0),a&&(z[0]===-1/0?this._showIndicator(w,z[1],"< ",y):z[1]===1/0?this._showIndicator(w,z[0],"> ",y):this._showIndicator(w,w,"\u2248 ",y));var V=this._hoverLinkDataIndices,k=[];(a||px(l))&&(k=this._hoverLinkDataIndices=l.findTargetDataIndices(z));var J=Hr.XI(V,k);this._dispatchHighDown("downplay",Lf(J[0],l)),this._dispatchHighDown("highlight",Lf(J[1],l))}},r.prototype._hoverLinkFromSeriesMouseOver=function(t){var a;if((0,g4.o)(t.target,function(y){var x=(0,Qn.A)(y);if(null!=x.dataIndex)return a=x,!0},!0),a){var l=this.ecModel.getSeriesByIndex(a.seriesIndex),h=this.visualMapModel;if(h.isTargetSeries(l)){var d=l.getData(a.dataType),p=d.getStore().get(h.getDataDimensionIndex(d),a.dataIndex);isNaN(p)||this._showIndicator(p,p)}}},r.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var a=this._shapes.handleLabels;if(a)for(var l=0;l<a.length;l++)this._api.leaveBlur(a[l])},r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Lf(t,this.visualMapModel)),t.length=0},r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},r.prototype._applyTransform=function(t,a,l,h){var d=dr.getTransform(a,h?null:this.group);return M.isArray(t)?dr.applyTransform(t,d,l):dr.transformDirection(t,d,l)},r.prototype._dispatchHighDown=function(t,a){a&&a.length&&this.api.dispatchAction({type:t,batch:a})},r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.type="visualMap.continuous",r}(hx);var z_={type:"selectDataRange",event:"dataRangeSelected",update:"update"},mx=function(o,r){r.eachComponent({mainType:"visualMap",query:o},function(t){t.setSelected(o.selected)})},yx=[{createOnAllSeries:!0,reset:function(o,r){var t=[];return r.eachComponent("visualMap",function(a){var l=o.pipelineContext;!a.isTargetSeries(o)||l&&l.large||t.push(function _M(o,r,t,a){var l={};return M.each(o,function(h){var d=cs.prepareVisualTypes(r[h]);l[h]=d}),{progress:function(d,p){var y;function x(Qe){return(0,iu.Or)(p,z,Qe)}function w(Qe,$e){(0,iu.LZ)(p,z,Qe,$e)}null!=a&&(y=p.getDimensionIndex(a));for(var z,V=p.getStore();null!=(z=d.next());){var k=p.getRawDataItem(z);if(!k||!1!==k.visualMap)for(var J=null!=a?V.get(y,z):z,ue=t(J),xe=r[ue],ze=l[ue],Re=0,Ie=ze.length;Re<Ie;Re++){var Ge=ze[Re];xe[Ge]&&xe[Ge].applyVisual(J,x,w)}}}}}(a.stateList,a.targetVisuals,M.bind(a.getValueState,a),a.getDataDimensionIndex(o.getData())))}),t}},{createOnAllSeries:!0,reset:function(o,r){var t=o.getData(),a=[];r.eachComponent("visualMap",function(l){if(l.isTargetSeries(o)){var h=l.getVisualMeta(M.bind(_x,null,o,l))||{stops:[],outerColors:[]},d=l.getDataDimensionIndex(t);d>=0&&(h.dimension=d,a.push(h))}}),o.getData().setVisual("visualMeta",a)}}];function _x(o,r,t,a){for(var l=r.targetVisuals[a],h=cs.prepareVisualTypes(l),d={color:(0,iu.UL)(o.getData(),"color")},p=0,y=h.length;p<y;p++){var x=h[p],w=l["opacity"===x?"__alphaForOpacity":x];w&&w.applyVisual(t,z,V)}return d.color;function z(k){return d[k]}function V(k,J){d[k]=J}}var Mx=M.each;function xx(o){var r=o&&o.visualMap;M.isArray(r)||(r=r?[r]:[]),Mx(r,function(t){if(t){G0(t,"splitList")&&!G0(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var a=t.pieces;a&&M.isArray(a)&&Mx(a,function(l){M.isObject(l)&&(G0(l,"start")&&!G0(l,"min")&&(l.min=l.start),G0(l,"end")&&!G0(l,"max")&&(l.max=l.end))})}})}function G0(o,r){return o&&o.hasOwnProperty&&o.hasOwnProperty(r)}var ep=!1;function A_(o){ep||(ep=!0,o.registerSubTypeDefaulter("visualMap",function(r){return r.categories||(r.pieces?r.pieces.length>0:r.splitNumber>0)&&!r.calculable?"piecewise":"continuous"}),o.registerAction(z_,mx),(0,M.each)(yx,function(r){o.registerVisual(o.PRIORITY.VISUAL.COMPONENT,r)}),o.registerPreprocessor(xx))}function P_(o){o.registerComponentModel(pb),o.registerComponentView(gx),A_(o)}var bx=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t._pieceList=[],t}return(0,st.ZT)(r,o),r.prototype.optionUpdated=function(t,a){o.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var l=this._mode=this._determineMode();this._pieceList=[],Sx[this._mode].call(this,this._pieceList),this._resetSelected(t,a);var h=this.option.categories;this.resetVisual(function(d,p){"categories"===l?(d.mappingMethod="category",d.categories=M.clone(h)):(d.dataExtent=this.getExtent(),d.mappingMethod="piecewise",d.pieceList=M.map(this._pieceList,function(y){return y=M.clone(y),"inRange"!==p&&(y.visual=null),y}))})},r.prototype.completeVisualOption=function(){var t=this.option,a={},l=cs.listVisualTypes(),h=this.isCategory();function d(p,y,x){return p&&p[y]&&p[y].hasOwnProperty(x)}M.each(t.pieces,function(p){M.each(l,function(y){p.hasOwnProperty(y)&&(a[y]=1)})}),M.each(a,function(p,y){var x=!1;M.each(this.stateList,function(w){x=x||d(t,w,y)||d(t.target,w,y)},this),!x&&M.each(this.stateList,function(w){(t[w]||(t[w]={}))[y]=w9.get(y,"inRange"===w?"active":"inactive",h)})},this),o.prototype.completeVisualOption.apply(this,arguments)},r.prototype._resetSelected=function(t,a){var l=this.option,h=this._pieceList,d=(a?l:t).selected||{};if(l.selected=d,M.each(h,function(y,x){var w=this.getSelectedMapKey(y);d.hasOwnProperty(w)||(d[w]=!0)},this),"single"===l.selectedMode){var p=!1;M.each(h,function(y,x){var w=this.getSelectedMapKey(y);d[w]&&(p?d[w]=!1:p=!0)},this)}},r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},r.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},r.prototype.getPieceList=function(){return this._pieceList},r.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},r.prototype.setSelected=function(t){this.option.selected=M.clone(t)},r.prototype.getValueState=function(t){var a=cs.findPieceIndex(t,this._pieceList);return null!=a&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(t){var a=[],l=this._pieceList;return this.eachTargetSeries(function(h){var d=[],p=h.getData();p.each(this.getDataDimensionIndex(p),function(y,x){cs.findPieceIndex(y,l)===t&&d.push(x)},this),a.push({seriesId:h.id,dataIndex:d})},this),a},r.prototype.getRepresentValue=function(t){var a;if(this.isCategory())a=t.value;else if(null!=t.value)a=t.value;else{var l=t.interval||[];a=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return a},r.prototype.getVisualMeta=function(t){if(!this.isCategory()){var a=[],l=["",""],h=this,p=this._pieceList.slice();if(p.length){var y=p[0].interval[0];y!==-1/0&&p.unshift({interval:[-1/0,y]}),(y=p[p.length-1].interval[1])!==1/0&&p.push({interval:[y,1/0]})}else p.push({interval:[-1/0,1/0]});var x=-1/0;return M.each(p,function(w){var z=w.interval;z&&(z[0]>x&&d([x,z[0]],"outOfRange"),d(z.slice()),x=z[1])},this),{stops:a,outerColors:l}}function d(w,z){var V=h.getRepresentValue({interval:w});z||(z=h.getValueState(V));var k=t(V,z);w[0]===-1/0?l[0]=k:w[1]===1/0?l[1]=k:a.push({value:w[0],color:k},{value:w[1],color:k})}},r.type="visualMap.piecewise",r.defaultOption=(0,uo.ZL)(C9.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),r}(C9),Sx={splitNumber:function(o){var r=this.option,t=Math.min(r.precision,20),a=this.getExtent(),l=r.splitNumber;l=Math.max(parseInt(l,10),1),r.splitNumber=l;for(var h=(a[1]-a[0])/l;+h.toFixed(t)!==h&&t<5;)t++;r.precision=t,h=+h.toFixed(t),r.minOpen&&o.push({interval:[-1/0,a[0]],close:[0,0]});for(var d=0,p=a[0];d<l;p+=h,d++)o.push({interval:[p,d===l-1?a[1]:p+h],close:[1,1]});r.maxOpen&&o.push({interval:[a[1],1/0],close:[0,0]}),(0,In.nR)(o),M.each(o,function(x,w){x.index=w,x.text=this.formatValueText(x.interval)},this)},categories:function(o){var r=this.option;M.each(r.categories,function(t){o.push({text:this.formatValueText(t,!0),value:t})},this),L_(r,o)},pieces:function(o){var r=this.option;M.each(r.pieces,function(t,a){M.isObject(t)||(t={value:t});var l={text:"",index:a};if(null!=t.label&&(l.text=t.label),t.hasOwnProperty("value")){var h=l.value=t.value;l.interval=[h,h],l.close=[1,1]}else{for(var d=l.interval=[],p=l.close=[0,0],y=[1,0,1],x=[-1/0,1/0],w=[],z=0;z<2;z++){for(var V=[["gte","gt","min"],["lte","lt","max"]][z],k=0;k<3&&null==d[z];k++)d[z]=t[V[k]],p[z]=y[k],w[z]=2===k;null==d[z]&&(d[z]=x[z])}w[0]&&d[1]===1/0&&(p[0]=0),w[1]&&d[0]===-1/0&&(p[1]=0),d[0]===d[1]&&p[0]&&p[1]&&(l.value=d[0])}l.visual=cs.retrieveVisuals(t),o.push(l)},this),L_(r,o),(0,In.nR)(o),M.each(o,function(t){var a=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][a[1]],[">","\u2265"][a[0]]])},this)}};function L_(o,r){var t=o.inverse;("vertical"===o.orient?!t:t)&&r.reverse()}const Cx=bx,O_=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=r.type,t}return(0,st.ZT)(r,o),r.prototype.doRender=function(){var t=this.group;t.removeAll();var a=this.visualMapModel,l=a.get("textGap"),h=a.textStyleModel,d=h.getFont(),p=h.getTextColor(),y=this._getItemAlign(),x=a.itemSize,w=this._getViewData(),z=w.endsText,V=M.retrieve(a.get("showLabel",!0),!z);z&&this._renderEndsText(t,z[0],x,V,y),M.each(w.viewPieceList,function(k){var J=k.piece,ue=new yn.Z;ue.onclick=M.bind(this._onItemClick,this,J),this._enableHoverLink(ue,k.indexInModelPieceList);var xe=a.getRepresentValue(J);if(this._createItemSymbol(ue,xe,[0,0,x[0],x[1]]),V){var ze=this.visualMapModel.getValueState(xe);ue.add(new Yt.ZP({style:{x:"right"===y?-l:x[0]+l,y:x[1]/2,text:J.text,verticalAlign:"middle",align:y,font:d,fill:p,opacity:"outOfRange"===ze?.5:1}}))}t.add(ue)},this),z&&this._renderEndsText(t,z[1],x,V,y),Vr.BZ(a.get("orient"),t,a.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},r.prototype._enableHoverLink=function(t,a){var l=this;t.on("mouseover",function(){return h("highlight")}).on("mouseout",function(){return h("downplay")});var h=function(d){var p=l.visualMapModel;p.option.hoverLink&&l.api.dispatchAction({type:d,batch:Lf(p.findTargetDataIndices(a),p)})}},r.prototype._getItemAlign=function(){var t=this.visualMapModel,a=t.option;if("vertical"===a.orient)return T9(t,this.api,t.itemSize);var l=a.align;return(!l||"auto"===l)&&(l="left"),l},r.prototype._renderEndsText=function(t,a,l,h,d){if(a){var p=new yn.Z;p.add(new Yt.ZP({style:(0,hr.Lr)(this.visualMapModel.textStyleModel,{x:h?"right"===d?l[0]:0:l[0]/2,y:l[1]/2,verticalAlign:"middle",align:h?d:"center",text:a})})),t.add(p)}},r.prototype._getViewData=function(){var t=this.visualMapModel,a=M.map(t.getPieceList(),function(p,y){return{piece:p,indexInModelPieceList:y}}),l=t.get("text"),h=t.get("orient"),d=t.get("inverse");return("horizontal"===h?d:!d)?a.reverse():l&&(l=l.slice().reverse()),{viewPieceList:a,endsText:l}},r.prototype._createItemSymbol=function(t,a,l){t.add((0,Pn.th)(this.getControllerVisual(a,"symbol"),l[0],l[1],l[2],l[3],this.getControllerVisual(a,"color")))},r.prototype._onItemClick=function(t){var a=this.visualMapModel,l=a.option,h=l.selectedMode;if(h){var d=M.clone(l.selected),p=a.getSelectedMapKey(t);"single"===h||!0===h?(d[p]=!0,M.each(d,function(y,x){d[x]=x===p})):d[p]=!d[p],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}},r.type="visualMap.piecewise",r}(hx);function I_(o){o.registerComponentModel(Cx),o.registerComponentView(O_),A_(o)}var Ex={label:{enabled:!0},decal:{show:!1}},R_=(0,Hr.Yf)(),zx={};function Ax(o,r){var t=o.getModel("aria");if(t.get("enabled")){var a=M.clone(Ex);M.merge(a.label,o.getLocaleModel().get("aria"),!1),M.merge(t.option,a,!1),function l(){if(t.getModel("decal").get("show")){var z=M.createHashMap();o.eachSeries(function(V){if(!V.isColorBySeries()){var k=z.get(V.type);k||z.set(V.type,k={}),R_(V).scope=k}}),o.eachRawSeries(function(V){if(!o.isSeriesFiltered(V))if(M.isFunction(V.enableAriaDecal))V.enableAriaDecal();else{var k=V.getData();if(V.isColorBySeries()){var Re=(0,ah.i)(V.ecModel,V.name,zx,o.getSeriesCount()),Ie=k.getVisual("decal");k.setVisual("decal",Ge(Ie,Re))}else{var J=V.getRawData(),ue={},xe=R_(V).scope;k.each(function(Qe){var $e=k.getRawIndex(Qe);ue[$e]=Qe});var ze=J.count();J.each(function(Qe){var $e=ue[Qe],ut=J.getName(Qe)||Qe+"",St=(0,ah.i)(V.ecModel,ut,xe,ze),Pt=k.getItemVisual($e,"decal");k.setItemVisual($e,"decal",Ge(Pt,St))})}}function Ge(Qe,$e){var ut=Qe?M.extend(M.extend({},$e),Qe):$e;return ut.dirty=!0,ut}})}}(),function h(){var x=o.getLocaleModel().get("aria"),w=t.getModel("label");if(w.option=M.defaults(w.option,x),w.get("enabled")){var z=r.getZr().dom;if(w.get("description"))return void z.setAttribute("aria-label",w.get("description"));var xe,V=o.getSeriesCount(),k=w.get(["data","maxCount"])||10,J=w.get(["series","maxCount"])||10,ue=Math.min(V,J);if(!(V<1)){var ze=function p(){var x=o.get("title");return x&&x.length&&(x=x[0]),x&&x.text}();xe=ze?d(w.get(["general","withTitle"]),{title:ze}):w.get(["general","withoutTitle"]);var Ie=[];xe+=d(w.get(V>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:V}),o.eachSeries(function(St,Pt){if(Pt<ue){var Vt=void 0,en=St.get("name")?"withName":"withoutName";Vt=d(Vt=w.get(V>1?["series","multiple",en]:["series","single",en]),{seriesId:St.seriesIndex,seriesName:St.get("name"),seriesType:y(St.subType)});var un=St.getData();un.count()>k?Vt+=d(w.get(["data","partialData"]),{displayCnt:k}):Vt+=w.get(["data","allData"]);for(var wn=w.get(["data","separator","middle"]),Zn=w.get(["data","separator","end"]),ur=[],or=0;or<un.count();or++)if(or<k){var kr=un.getName(or),oi=un.getValues(or),ii=w.get(["data",kr?"withName":"withoutName"]);ur.push(d(ii,{name:kr,value:oi.join(wn)}))}Vt+=ur.join(wn)+Zn,Ie.push(Vt)}});var Qe=w.getModel(["series","multiple","separator"]),$e=Qe.get("middle"),ut=Qe.get("end");xe+=Ie.join($e)+ut,z.setAttribute("aria-label",xe)}}}()}function d(x,w){if(!M.isString(x))return x;var z=x;return M.each(w,function(V,k){z=z.replace(new RegExp("\\{\\s*"+k+"\\s*\\}","g"),V)}),z}function y(x){return o.getLocaleModel().get(["series","typeNames"])[x]||"\u81ea\u5b9a\u4e49\u56fe"}}function Px(o){if(o&&o.aria){var r=o.aria;null!=r.show&&(r.enabled=r.show),r.label=r.label||{},M.each(["description","general","series","data"],function(t){null!=r[t]&&(r.label[t]=r[t])})}}var V_={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Ox=function(){function o(r){null==(this._condVal=(0,M.isString)(r)?new RegExp(r):(0,M.isRegExp)(r)?r:null)&&(0,_o._y)("")}return o.prototype.evaluate=function(r){var t=typeof r;return(0,M.isString)(t)?this._condVal.test(r):!!(0,M.isNumber)(t)&&this._condVal.test(r+"")},o}(),Ix=function(){function o(){}return o.prototype.evaluate=function(){return this.value},o}(),Rx=function(){function o(){}return o.prototype.evaluate=function(){for(var r=this.children,t=0;t<r.length;t++)if(!r[t].evaluate())return!1;return!0},o}(),Vx=function(){function o(){}return o.prototype.evaluate=function(){for(var r=this.children,t=0;t<r.length;t++)if(r[t].evaluate())return!0;return!1},o}(),H_=function(){function o(){}return o.prototype.evaluate=function(){return!this.child.evaluate()},o}(),E9=function(){function o(){}return o.prototype.evaluate=function(){for(var r=!!this.valueParser,a=(0,this.getValue)(this.valueGetterParam),l=r?this.valueParser(a):null,h=0;h<this.subCondList.length;h++)if(!this.subCondList[h].evaluate(r?l:a))return!1;return!0},o}();function z9(o,r){if(!0===o||!1===o){var t=new Ix;return t.value=o,t}return Hx(o)||(0,_o._y)(""),o.and?N_("and",o,r):o.or?N_("or",o,r):o.not?function B_(o,r){var t=o.not;Hx(t)||(0,_o._y)("");var l=new H_;return l.child=z9(t,r),l.child||(0,_o._y)(""),l}(o,r):function k_(o,r){for(var a=r.prepareGetValue(o),l=[],h=(0,M.keys)(o),d=o.parser,p=d?(0,z8.o2)(d):null,y=0;y<h.length;y++){var x=h[y];if("parser"!==x&&!r.valueGetterAttrMap.get(x)){var w=(0,M.hasOwn)(V_,x)?V_[x]:x,z=o[x],V=p?p(z):z,k=(0,z8.tR)(w,V)||"reg"===w&&new Ox(V);k||(0,_o._y)(""),l.push(k)}}l.length||(0,_o._y)("");var J=new E9;return J.valueGetterParam=a,J.valueParser=p,J.getValue=r.getValue,J.subCondList=l,J}(o,r)}function N_(o,r,t){var a=r[o];(0,M.isArray)(a)||(0,_o._y)(""),a.length||(0,_o._y)("");var h="and"===o?new Rx:new Vx;return h.children=(0,M.map)(a,function(d){return z9(d,t)}),h.children.length||(0,_o._y)(""),h}function Hx(o){return(0,M.isObject)(o)&&!(0,M.isArrayLike)(o)}var $1=function(){function o(r,t){this._cond=z9(r,t)}return o.prototype.evaluate=function(){return this._cond.evaluate()},o}(),U_={type:"echarts:filter",transform:function(o){for(var t,r=o.upstream,a=function F_(o,r){return new $1(o,r)}(o.config,{valueGetterAttrMap:(0,M.createHashMap)({dimension:!0}),prepareGetValue:function(p){var x=p.dimension;(0,M.hasOwn)(p,"dimension")||(0,_o._y)("");var w=r.getDimensionInfo(x);return w||(0,_o._y)(""),{dimIdx:w.index}},getValue:function(p){return r.retrieveValueFromItem(t,p.dimIdx)}}),l=[],h=0,d=r.count();h<d;h++)t=r.getRawDataItem(h),a.evaluate()&&l.push(t);return{data:l}}},Y_={type:"echarts:sort",transform:function(o){var r=o.upstream,a="",l=(0,Hr.kF)(o.config);l.length||(0,_o._y)(a);var h=[];(0,M.each)(l,function(w){var z=w.dimension,V=w.order,k=w.parser,J=w.incomparable;null==z&&(0,_o._y)(a),"asc"!==V&&"desc"!==V&&(0,_o._y)(a),J&&"min"!==J&&"max"!==J&&(0,_o._y)(""),"asc"!==V&&"desc"!==V&&(0,_o._y)("");var ze=r.getDimensionInfo(z);ze||(0,_o._y)(a);var Re=k?(0,z8.o2)(k):null;k&&!Re&&(0,_o._y)(a),h.push({dimIdx:ze.index,parser:Re,comparator:new z8.ID(V,J)})});var d=r.sourceFormat;d!==lc.XD&&d!==lc.qb&&(0,_o._y)(a);for(var p=[],y=0,x=r.count();y<x;y++)p.push(r.getRawDataItem(y));return p.sort(function(w,z){for(var V=0;V<h.length;V++){var k=h[V],J=r.retrieveValueFromItem(w,k.dimIdx),ue=r.retrieveValueFromItem(z,k.dimIdx);k.parser&&(J=k.parser(J),ue=k.parser(ue));var xe=k.comparator.evaluate(J,ue);if(0!==xe)return xe}return 0}),{data:p}}},A9=C(583),Ql=Se.Z.CMD;function f6(o,r){return Math.abs(o-r)<1e-5}function tp(o){var l,un,vn,wn,Zn,ur,or,kr,oi,ii,Gi,Fi,Ci,wa,Ti,qa,Ha,no,r=o.data,t=o.len(),a=[],h=0,d=0,p=0,y=0;function x(un,vn){l&&l.length>2&&a.push(l),l=[un,vn]}function w(un,vn,wn,Zn){f6(un,wn)&&f6(vn,Zn)||l.push(un,vn,wn,Zn,wn,Zn)}for(var V,k,J,ue,xe=0;xe<t;){var ze=r[xe++],Re=1===xe;switch(Re&&(p=h=r[xe],y=d=r[xe+1],(ze===Ql.L||ze===Ql.C||ze===Ql.Q)&&(l=[p,y])),ze){case Ql.M:h=p=r[xe++],d=y=r[xe++],x(p,y);break;case Ql.L:w(h,d,V=r[xe++],k=r[xe++]),h=V,d=k;break;case Ql.C:l.push(r[xe++],r[xe++],r[xe++],r[xe++],h=r[xe++],d=r[xe++]);break;case Ql.Q:V=r[xe++],k=r[xe++],J=r[xe++],ue=r[xe++],l.push(h+2/3*(V-h),d+2/3*(k-d),J+2/3*(V-J),ue+2/3*(k-ue),J,ue),h=J,d=ue;break;case Ql.A:var Ie=r[xe++],Ge=r[xe++],Qe=r[xe++],$e=r[xe++],ut=r[xe++],St=r[xe++]+ut;xe+=1;var Pt=!r[xe++];V=Math.cos(ut)*Qe+Ie,k=Math.sin(ut)*$e+Ge,Re?x(p=V,y=k):w(h,d,V,k),h=Math.cos(St)*Qe+Ie,d=Math.sin(St)*$e+Ge;for(var Vt=(Pt?-1:1)*Math.PI/2,kt=ut;Pt?kt>St:kt<St;kt+=Vt){un=kt,vn=Pt?Math.max(kt+Vt,St):Math.min(kt+Vt,St),wn=Ie,Zn=Ge,ur=Qe,or=$e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,kr=Math.abs(vn-un),oi=4*Math.tan(kr/4)/3,ii=vn<un?-1:1,Gi=Math.cos(un),Fi=Math.sin(un),Ci=Math.cos(vn),wa=Math.sin(vn),l.push(Gi*ur+wn-(Ha=ur*oi*ii)*Fi,Fi*or+Zn+(no=or*oi*ii)*Gi,(Ti=Ci*ur+wn)+Ha*wa,(qa=wa*or+Zn)-no*Ci,Ti,qa)}break;case Ql.R:p=h=r[xe++],y=d=r[xe++],V=p+r[xe++],k=y+r[xe++],x(V,y),w(V,y,V,k),w(V,k,p,k),w(p,k,p,y),w(p,y,V,y);break;case Ql.Z:l&&w(h,d,p,y),h=p,d=y}}return l&&l.length>2&&a.push(l),a}function np(o,r,t,a,l,h,d,p,y,x){if(f6(o,t)&&f6(r,a)&&f6(l,d)&&f6(h,p))y.push(d,p);else{var w=2/x,z=w*w,V=d-o,k=p-r,J=Math.sqrt(V*V+k*k);V/=J,k/=J;var ue=t-o,xe=a-r,ze=l-d,Re=h-p,Ie=ue*ue+xe*xe,Ge=ze*ze+Re*Re;if(Ie<z&&Ge<z)y.push(d,p);else{var Qe=V*ue+k*xe,$e=-V*ze-k*Re;if(Ie-Qe*Qe<z&&Qe>=0&&Ge-$e*$e<z&&$e>=0)y.push(d,p);else{var Pt=[],Vt=[];(0,po.Vz)(o,t,l,d,.5,Pt),(0,po.Vz)(r,a,h,p,.5,Vt),np(Pt[0],Vt[0],Pt[1],Vt[1],Pt[2],Vt[2],Pt[3],Vt[3],y,x),np(Pt[4],Vt[4],Pt[5],Vt[5],Pt[6],Vt[6],Pt[7],Vt[7],y,x)}}}}function kx(o,r,t){var h=Math.abs(o[r]/o[1-r]),d=Math.ceil(Math.sqrt(h*t)),p=Math.floor(t/d);0===p&&(p=1,d=t);for(var y=[],x=0;x<d;x++)y.push(p);var z=t-d*p;if(z>0)for(x=0;x<z;x++)y[x%d]+=1;return y}function P9(o,r,t){for(var a=o.r0,l=o.r,h=o.startAngle,p=Math.abs(o.endAngle-h),y=p*l,x=l-a,w=y>Math.abs(x),z=kx([y,x],w?0:1,r),V=(w?p:x)/z.length,k=0;k<z.length;k++)for(var J=(w?x:p)/z[k],ue=0;ue<z[k];ue++){var xe={};w?(xe.startAngle=h+V*k,xe.endAngle=h+V*(k+1),xe.r0=a+J*ue,xe.r=a+J*(ue+1)):(xe.startAngle=h+J*ue,xe.endAngle=h+J*(ue+1),xe.r0=a+V*k,xe.r=a+V*(k+1)),xe.clockwise=o.clockwise,xe.cx=o.cx,xe.cy=o.cy,t.push(xe)}}function Ux(o,r,t,a){return o*a-t*r}function Yx(o,r,t,a,l,h,d,p){var y=t-o,x=a-r,w=d-l,z=p-h,V=Ux(w,z,y,x);if(Math.abs(V)<1e-6)return null;var ue=Ux(o-l,r-h,w,z)/V;return ue<0||ue>1?null:new gt.Z(ue*y+o,ue*x+r)}function Gx(o,r,t){var a=new gt.Z;gt.Z.sub(a,t,r),a.normalize();var l=new gt.Z;return gt.Z.sub(l,o,r),l.dot(a)}function v6(o,r){var t=o[o.length-1];t&&t[0]===r[0]&&t[1]===r[1]||o.push(r)}function L9(o){var r=o.points,t=[],a=[];(0,v3.zk)(r,t,a);var l=new _r.Z(t[0],t[1],a[0]-t[0],a[1]-t[1]),h=l.width,d=l.height,p=l.x,y=l.y,x=new gt.Z,w=new gt.Z;return h>d?(x.x=w.x=p+h/2,x.y=y,w.y=y+d):(x.y=w.y=y+d/2,x.x=p,w.x=p+h),function Mb(o,r,t){for(var a=o.length,l=[],h=0;h<a;h++){var d=o[h],p=o[(h+1)%a],y=Yx(d[0],d[1],p[0],p[1],r.x,r.y,t.x,t.y);y&&l.push({projPt:Gx(y,r,t),pt:y,idx:h})}if(l.length<2)return[{points:o},{points:o}];l.sort(function(xe,ze){return xe.projPt-ze.projPt});var x=l[0],w=l[l.length-1];if(w.idx<x.idx){var z=x;x=w,w=z}var V=[x.pt.x,x.pt.y],k=[w.pt.x,w.pt.y],J=[V],ue=[k];for(h=x.idx+1;h<=w.idx;h++)v6(J,o[h].slice());for(v6(J,k),v6(J,V),h=w.idx+1;h<=x.idx+a;h++)v6(ue,o[h%a].slice());return v6(ue,V),v6(ue,k),[{points:J},{points:ue}]}(r,x,w)}function hg(o,r,t,a){if(1===t)a.push(r);else{var l=Math.floor(t/2),h=o(r);hg(o,h[0],l,a),hg(o,h[1],t-l,a)}return a}function xb(o,r){r.setStyle(o.style),r.z=o.z,r.z2=o.z2,r.zlevel=o.zlevel}function W_(o,r){var t=o.length,a=r.length;if(t===a)return[o,r];for(var l=[],h=[],d=t<a?o:r,p=Math.min(t,a),y=Math.abs(a-t)/6,w=Math.ceil(y/((p-2)/6))+1,z=[d[0],d[1]],V=y,k=2;k<p;){var J=d[k-2],ue=d[k-1],xe=d[k++],ze=d[k++],Re=d[k++],Ie=d[k++],Ge=d[k++],Qe=d[k++];if(V<=0)z.push(xe,ze,Re,Ie,Ge,Qe);else{for(var $e=Math.min(V,w-1)+1,ut=1;ut<=$e;ut++){var St=ut/$e;(0,po.Vz)(J,xe,Re,Ge,St,l),(0,po.Vz)(ue,ze,Ie,Qe,St,h),z.push(l[1],h[1],l[2],h[2],J=l[3],ue=h[3]),xe=l[5],ze=h[5],Re=l[6],Ie=h[6]}V-=$e-1}}return d===o?[z,r]:[o,z]}function Z_(o,r){for(var t=o.length,a=o[t-2],l=o[t-1],h=[],d=0;d<r.length;)h[d++]=a,h[d++]=l;return h}function I9(o){for(var r=0,t=0,a=0,l=o.length,h=0,d=l-2;h<l;d=h,h+=2){var p=o[d],y=o[d+1],x=o[h],w=o[h+1],z=p*w-x*y;r+=z,t+=(p+x)*z,a+=(y+w)*z}return 0===r?[o[0]||0,o[1]||0]:[t/r/3,a/r/3,r]}function Of(o,r,t,a){for(var l=(o.length-2)/6,h=1/0,d=0,p=o.length,y=p-2,x=0;x<l;x++){for(var w=6*x,z=0,V=0;V<p;V+=2){var k=0===V?w:(w+V-2)%y+2,Re=r[V]-a[0]-(o[k]-t[0]),Ie=r[V+1]-a[1]-(o[k+1]-t[1]);z+=Re*Re+Ie*Ie}z<h&&(h=z,d=x)}return d}function dg(o){for(var r=[],t=o.length,a=0;a<t;a+=2)r[a]=o[t-a-2],r[a+1]=o[t-a-1];return r}function rp(o){return o.__isCombineMorphing}var X_="__mOriginal_";function R9(o,r,t){var a=X_+r,l=o[a]||o[r];o[a]||(o[a]=o[r]);var h=t.replace,d=t.after,p=t.before;o[r]=function(){var x,y=arguments;return p&&p.apply(this,y),x=h?h.apply(this,y):l.apply(this,y),d&&d.apply(this,y),x}}function If(o,r){var t=X_+r;o[t]&&(o[r]=o[t],o[t]=null)}function Q_(o,r){for(var t=0;t<o.length;t++)for(var a=o[t],l=0;l<a.length;){var h=a[l],d=a[l+1];a[l++]=r[0]*h+r[2]*d+r[4],a[l++]=r[1]*h+r[3]*d+r[5]}}function ip(o,r){var t=o.getUpdatedPathProxy(),a=r.getUpdatedPathProxy(),l=function K_(o,r){for(var t,a,l,h=[],d=[],p=0;p<Math.max(o.length,r.length);p++){var y=o[p],x=r[p],w=void 0,z=void 0;y?x?(a=w=(t=W_(y,x))[0],l=z=t[1]):(z=Z_(l||y,y),w=y):(w=Z_(a||x,x),z=x),h.push(w),d.push(z)}return[h,d]}(tp(t),tp(a)),h=l[0],d=l[1],p=o.getComputedTransform(),y=r.getComputedTransform();p&&Q_(h,p),y&&Q_(d,y),R9(r,"updateTransform",{replace:function x(){this.transform=null}}),r.transform=null;var w=function $_(o,r,t,a){for(var h,l=[],d=0;d<o.length;d++){var p=o[d],y=r[d],x=I9(p),w=I9(y);null==h&&(h=x[2]<0!=w[2]<0);var z=[],V=[],k=0,J=1/0,ue=[],xe=p.length;h&&(p=dg(p));for(var ze=6*Of(p,y,x,w),Re=xe-2,Ie=0;Ie<Re;Ie+=2){var Ge=(ze+Ie)%Re+2;z[Ie+2]=p[Ge]-x[0],z[Ie+3]=p[Ge+1]-x[1]}if(z[0]=p[ze]-x[0],z[1]=p[ze+1]-x[1],t>0)for(var Qe=a/t,$e=-a/2;$e<=a/2;$e+=Qe){var ut=Math.sin($e),St=Math.cos($e),Pt=0;for(Ie=0;Ie<p.length;Ie+=2){var Vt=z[Ie],kt=z[Ie+1],en=y[Ie]-w[0],un=y[Ie+1]-w[1],vn=en*St-un*ut,wn=en*ut+un*St;ue[Ie]=vn,ue[Ie+1]=wn;var Zn=vn-Vt,ur=wn-kt;Pt+=Zn*Zn+ur*ur}if(Pt<J){J=Pt,k=$e;for(var or=0;or<ue.length;or++)V[or]=ue[or]}}else for(var kr=0;kr<xe;kr+=2)V[kr]=y[kr]-w[0],V[kr+1]=y[kr+1]-w[1];l.push({from:z,to:V,fromCp:x,toCp:w,rotation:-k})}return l}(h,d,10,Math.PI),z=[];R9(r,"buildPath",{replace:function(V){for(var k=r.__morphT,J=1-k,ue=[],xe=0;xe<w.length;xe++){var ze=w[xe],Re=ze.from,Ie=ze.to,Ge=ze.rotation*k,Qe=ze.fromCp,$e=ze.toCp,ut=Math.sin(Ge),St=Math.cos(Ge);(0,Jr.lerp)(ue,Qe,$e,k);for(var Pt=0;Pt<Re.length;Pt+=2){var vn=Re[Pt]*J+(en=Ie[Pt])*k,wn=Re[Pt+1]*J+(un=Ie[Pt+1])*k;z[Pt]=vn*St-wn*ut+ue[0],z[Pt+1]=vn*ut+wn*St+ue[1]}var Zn=z[0],ur=z[1];for(V.moveTo(Zn,ur),Pt=2;Pt<Re.length;){var en=z[Pt++],un=z[Pt++],or=z[Pt++],kr=z[Pt++],oi=z[Pt++],ii=z[Pt++];Zn===en&&ur===un&&or===oi&&kr===ii?V.lineTo(oi,ii):V.bezierCurveTo(en,un,or,kr,oi,ii),Zn=oi,ur=ii}}}})}function V9(o,r,t){if(!o||!r)return r;var a=t.done,l=t.during;return ip(o,r),r.__morphT=0,r.animateTo({__morphT:1},(0,M.defaults)({during:function(d){r.dirtyShape(),l&&l(d)},done:function(){(function h(){If(r,"buildPath"),If(r,"updateTransform"),r.__morphT=-1,r.createPathProxy(),r.dirtyShape()})(),a&&a()}},t)),r}function jx(o,r,t,a,l,h){o=l===t?0:Math.round(32767*(o-t)/(l-t)),r=h===a?0:Math.round(32767*(r-a)/(h-a));for(var y,p=0,x=32768;x>0;x/=2){var w=0,z=0;(o&x)>0&&(w=1),(r&x)>0&&(z=1),p+=x*x*(3*w^z),0===z&&(1===w&&(o=x-1-o,r=x-1-r),y=o,o=r,r=y)}return p}function fg(o){var r=1/0,t=1/0,a=-1/0,l=-1/0,h=(0,M.map)(o,function(p){var y=p.getBoundingRect(),x=p.getComputedTransform(),w=y.x+y.width/2+(x?x[4]:0),z=y.y+y.height/2+(x?x[5]:0);return r=Math.min(w,r),t=Math.min(z,t),a=Math.max(w,a),l=Math.max(z,l),[w,z]});return(0,M.map)(h,function(p,y){return{cp:p,z:jx(p[0],p[1],r,t,a,l),path:o[y]}}).sort(function(p,y){return p.z-y.z}).map(function(p){return p.path})}function Wx(o){return function j_(o,r){var l,t=[],a=o.shape;switch(o.type){case"rect":(function Fx(o,r,t){for(var a=o.width,l=o.height,h=a>l,d=kx([a,l],h?0:1,r),p=h?"width":"height",y=h?"height":"width",x=h?"x":"y",w=h?"y":"x",z=o[p]/d.length,V=0;V<d.length;V++)for(var k=o[y]/d[V],J=0;J<d[V];J++){var ue={};ue[x]=V*z,ue[w]=J*k,ue[p]=z,ue[y]=k,ue.x+=o.x,ue.y+=o.y,t.push(ue)}})(a,r,t),l=Ei.Z;break;case"sector":P9(a,r,t),l=gi.C;break;case"circle":P9({r0:0,r:a.r,startAngle:0,endAngle:2*Math.PI,cx:a.cx,cy:a.cy},r,t),l=gi.C;break;default:var h=o.getComputedTransform(),d=h?Math.sqrt(Math.max(h[0]*h[0]+h[1]*h[1],h[2]*h[2]+h[3]*h[3])):1,p=(0,M.map)(function Bx(o,r){var t=tp(o),a=[];r=r||1;for(var l=0;l<t.length;l++){var h=t[l],d=[],p=h[0],y=h[1];d.push(p,y);for(var x=2;x<h.length;){var w=h[x++],z=h[x++],V=h[x++],k=h[x++],J=h[x++],ue=h[x++];np(p,y,w,z,V,k,J,ue,d,r),p=J,y=ue}a.push(d)}return a}(o.getUpdatedPathProxy(),d),function(ze){return function O9(o){for(var r=[],t=0;t<o.length;)r.push([o[t++],o[t++]]);return r}(ze)}),y=p.length;if(0===y)hg(L9,{points:p[0]},r,t);else if(y===r)for(var x=0;x<y;x++)t.push({points:p[x]});else{var w=0,z=(0,M.map)(p,function(ze){var Re=[],Ie=[];(0,v3.zk)(ze,Re,Ie);var Ge=(Ie[1]-Re[1])*(Ie[0]-Re[0]);return w+=Ge,{poly:ze,area:Ge}});z.sort(function(ze,Re){return Re.area-ze.area});var V=r;for(x=0;x<y;x++){var k=z[x];if(V<=0)break;var J=x===y-1?V:Math.ceil(k.area/w*r);J<0||(hg(L9,{points:k.poly},J,t),V-=J)}}l=Ul.Z}if(!l)return function G_(o,r){for(var t=[],a=0;a<r;a++)t.push((0,e0.U5)(o));return t}(o,r);var ue=[];for(x=0;x<t.length;x++){var xe=new l;xe.setShape(t[x]),xb(o,xe),ue.push(xe)}return ue}(o.path,o.count)}function Zx(o){return(0,M.isArray)(o[0])}function Kx(o,r){for(var t=[],a=o.length,l=0;l<a;l++)t.push({one:o[l],many:[]});for(l=0;l<r.length;l++){var h=r[l].length,d=void 0;for(d=0;d<h;d++)t[d%a].many.push(r[l][d])}var p=0;for(l=a-1;l>=0;l--)if(!t[l].many.length){var y=t[p].many;if(y.length<=1){if(!p)return t;p=0}h=y.length;var x=Math.ceil(h/2);t[l].many=y.slice(x,h),t[p].many=y.slice(0,x),p++}return t}var Sb={clone:function(o){for(var r=[],t=1-Math.pow(1-o.path.style.opacity,1/o.count),a=0;a<o.count;a++){var l=(0,e0.U5)(o.path);l.setStyle("opacity",t),r.push(l)}return r},split:null};function eM(o,r,t,a,l,h){if(o.length&&r.length){var d=(0,Bn.ke)("update",a,l);if(d&&d.duration>0){var x,w,p=a.getModel("universalTransition").get("delay"),y=Object.assign({setToFinal:!0},d);Zx(o)&&(x=o,w=r),Zx(r)&&(x=r,w=o);for(var V=x?x===o:o.length>r.length,k=x?Kx(w,x):Kx(V?r:o,[V?o:r]),J=0,ue=0;ue<k.length;ue++)J+=k[ue].many.length;var xe=0;for(ue=0;ue<k.length;ue++)z(k[ue],V,xe,J),xe+=k[ue].many.length}}function z(ze,Re,Ie,Ge,Qe){var $e=ze.many,ut=ze.one;if(1!==$e.length||Qe)for(var kt=(0,M.defaults)({dividePath:Sb[t],individualDelay:p&&function(ur,or,kr,oi){return p(ur+Ie,Ge)}},y),en=Re?function q_(o,r,t){var a=[];!function l(Qe){for(var $e=0;$e<Qe.length;$e++){var ut=Qe[$e];rp(ut)?l(ut.childrenRef()):ut instanceof pe.ZP&&a.push(ut)}}(o);var h=a.length;if(!h)return{fromIndividuals:[],toIndividuals:[],count:0};var p=(t.dividePath||Wx)({path:r,count:h});if(p.length!==h)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};a=fg(a),p=fg(p);for(var y=t.done,x=t.during,w=t.individualDelay,z=new Ce.ZP,V=0;V<h;V++){var k=a[V],J=p[V];J.parent=r,J.copyTransform(z),w||ip(k,J)}function ue(Qe){for(var $e=0;$e<p.length;$e++)p[$e].addSelfToZr(Qe)}function xe(){r.__isCombineMorphing=!1,r.__morphT=-1,r.childrenRef=null,If(r,"addSelfToZr"),If(r,"removeSelfFromZr")}r.__isCombineMorphing=!0,r.childrenRef=function(){return p},R9(r,"addSelfToZr",{after:function(Qe){ue(Qe)}}),R9(r,"removeSelfFromZr",{after:function(Qe){for(var $e=0;$e<p.length;$e++)p[$e].removeSelfFromZr(Qe)}});var ze=p.length;if(w){var Re=ze,Ie=function(){0==--Re&&(xe(),y&&y())};for(V=0;V<ze;V++){var Ge=w?(0,M.defaults)({delay:(t.delay||0)+w(V,ze,a[V],p[V]),done:Ie},t):t;V9(a[V],p[V],Ge)}}else r.__morphT=0,r.animateTo({__morphT:1},(0,M.defaults)({during:function(Qe){for(var $e=0;$e<ze;$e++){var ut=p[$e];ut.__morphT=r.__morphT,ut.dirtyShape()}x&&x(Qe)},done:function(){xe();for(var Qe=0;Qe<o.length;Qe++)If(o[Qe],"updateTransform");y&&y()}},t));return r.__zr&&ue(r.__zr),{fromIndividuals:a,toIndividuals:p,count:ze}}($e,ut,kt):function wb(o,r,t){var a=r.length,l=[],h=t.dividePath||Wx;if(rp(o)){!function d(k){for(var J=0;J<k.length;J++){var ue=k[J];rp(ue)?d(ue.childrenRef()):ue instanceof pe.ZP&&l.push(ue)}}(o.childrenRef());var p=l.length;if(p<a)for(var y=0,x=p;x<a;x++)l.push((0,e0.U5)(l[y++%p]));l.length=a}else{l=h({path:o,count:a});var w=o.getComputedTransform();for(x=0;x<l.length;x++)l[x].setLocalTransform(w);if(l.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}l=fg(l),r=fg(r);var z=t.individualDelay;for(x=0;x<a;x++){var V=z?(0,M.defaults)({delay:(t.delay||0)+z(x,a,l[x],r[x])},t):t;V9(l[x],r[x],V)}return{fromIndividuals:l,toIndividuals:r,count:r.length}}(ut,$e,kt),un=en.fromIndividuals,vn=en.toIndividuals,wn=un.length,Zn=0;Zn<wn;Zn++)Vt=p?(0,M.defaults)({delay:p(Zn,wn)},y):y,h(un[Zn],vn[Zn],Re?$e[Zn]:ze.one,Re?ze.one:$e[Zn],Vt);else{var Vt,St=Re?$e[0]:ut,Pt=Re?ut:$e[0];rp(St)?z({many:[St],one:Pt},!0,Ie,Ge,!0):(V9(St,Pt,Vt=p?(0,M.defaults)({delay:p(Ie,Ge)},y):y),h(St,Pt,St,Pt,Vt))}}}function p6(o){if(!o)return[];if((0,M.isArray)(o)){for(var r=[],t=0;t<o.length;t++)r.push(p6(o[t]));return r}var a=[];return o.traverse(function(l){l instanceof pe.ZP&&!l.disableMorphing&&!l.invisible&&!l.ignore&&a.push(l)}),a}var ap=1e4,$x=(0,Hr.Yf)();function H9(o){var r=[];return(0,M.each)(o,function(t){var a=t.data;if(!(a.count()>ap))for(var l=a.getIndices(),h=function Xx(o){for(var r=o.dimensions,t=0;t<r.length;t++){var a=o.getDimensionInfo(r[t]);if(a&&0===a.otherDims.itemGroupId)return r[t]}}(a),d=0;d<l.length;d++)r.push({dataGroupId:t.dataGroupId,data:a,dim:t.dim||h,divide:t.divide,dataIndex:d})}),r}function su(o,r,t){o.traverse(function(a){a instanceof pe.ZP&&(0,Bn.KZ)(a,{style:{opacity:0}},r,{dataIndex:t,isFrom:!0})})}function vg(o){if(o.parent){var r=o.getComputedTransform();o.setLocalTransform(r),o.parent.remove(o)}}function L8(o){o.stopAnimation(),o.isGroup&&o.traverse(function(r){r.stopAnimation()})}function pg(o,r,t){var a=H9(o),l=H9(r);function h(ze,Re,Ie,Ge,Qe){(Ie||ze)&&Re.animateFrom({style:Ie&&Ie!==ze?(0,M.extend)((0,M.extend)({},Ie.style),ze.style):ze.style},Qe)}function d(ze){for(var Re=0;Re<ze.length;Re++)if(ze[Re].dim)return ze[Re].dim}var p=d(a),y=d(l),x=!1;function w(ze,Re){return function(Ie){var Ge=Ie.data,Qe=Ie.dataIndex;if(Re)return Ge.getId(Qe);var $e=Ie.dataGroupId,ut=ze?p||y:y||p,St=ut&&Ge.getDimensionInfo(ut),Pt=St&&St.ordinalMeta;if(St){var Vt=Ge.get(St.name,Qe);return Pt&&Pt.categories[Vt]||Vt+""}var kt=Ge.getRawDataItem(Qe);return kt&&kt.groupId?kt.groupId+"":$e||Ge.getId(Qe)}}var z=function Qx(o,r){var t=o.length;if(t!==r.length)return!1;for(var a=0;a<t;a++){var l=o[a],h=r[a];if(l.data.getId(l.dataIndex)!==h.data.getId(h.dataIndex))return!1}return!0}(a,l),V={};if(!z)for(var k=0;k<l.length;k++){var J=l[k],ue=J.data.getItemGraphicEl(J.dataIndex);ue&&(V[ue.id]=!0)}function xe(ze,Re){var Ie=a[Re],Ge=l[ze],Qe=Ge.data.hostModel,$e=Ie.data.getItemGraphicEl(Ie.dataIndex),ut=Ge.data.getItemGraphicEl(Ge.dataIndex);$e!==ut?$e&&V[$e.id]||ut&&(L8(ut),$e?(L8($e),vg($e),x=!0,eM(p6($e),p6(ut),Ge.divide,Qe,ze,h)):su(ut,Qe,ze)):ut&&function N9(o,r,t){var a=(0,Bn.ke)("update",t,r);a&&o.traverse(function(l){if(l instanceof d2.ZP){var h=(0,Bn._W)(l);h&&l.animateFrom({style:h},a)}})}(ut,Ge.dataIndex,Qe)}new di.Z(a,l,w(!0,z),w(!1,z),null,"multiple").update(xe).updateManyToOne(function(ze,Re){var Ie=l[ze],Ge=Ie.data,Qe=Ge.hostModel,$e=Ge.getItemGraphicEl(Ie.dataIndex),ut=(0,M.filter)((0,M.map)(Re,function(St){return a[St].data.getItemGraphicEl(a[St].dataIndex)}),function(St){return St&&St!==$e&&!V[St.id]});$e&&(L8($e),ut.length?((0,M.each)(ut,function(St){L8(St),vg(St)}),x=!0,eM(p6(ut),p6($e),Ie.divide,Qe,ze,h)):su($e,Qe,Ie.dataIndex))}).updateOneToMany(function(ze,Re){var Ie=a[Re],Ge=Ie.data.getItemGraphicEl(Ie.dataIndex);if(!Ge||!V[Ge.id]){var Qe=(0,M.filter)((0,M.map)(ze,function(ut){return l[ut].data.getItemGraphicEl(l[ut].dataIndex)}),function(ut){return ut&&ut!==Ge}),$e=l[ze[0]].data.hostModel;Qe.length&&((0,M.each)(Qe,function(ut){return L8(ut)}),Ge?(L8(Ge),vg(Ge),x=!0,eM(p6(Ge),p6(Qe),Ie.divide,$e,ze[0],h)):(0,M.each)(Qe,function(ut){return su(ut,$e,ze[0])}))}}).updateManyToMany(function(ze,Re){new di.Z(Re,ze,function(Ie){return a[Ie].data.getId(a[Ie].dataIndex)},function(Ie){return l[Ie].data.getId(l[Ie].dataIndex)}).update(function(Ie,Ge){xe(ze[Ie],Re[Ge])}).execute()}).execute(),x&&(0,M.each)(r,function(ze){var Ie=ze.data.hostModel,Ge=Ie&&t.getViewOfSeriesModel(Ie),Qe=(0,Bn.ke)("update",Ie,0);Ge&&Ie.isAnimationEnabled()&&Qe&&Qe.duration>0&&Ge.group.traverse(function($e){$e instanceof pe.ZP&&!$e.animators.length&&$e.animateFrom({style:{opacity:0}},Qe)})})}function gg(o){return o.getModel("universalTransition").get("seriesKey")||o.id}function op(o){return(0,M.isArray)(o)?o.sort().join(","):o}function g6(o){if(o.hostModel)return o.hostModel.getModel("universalTransition").get("divideShape")}function Jx(o,r){for(var t=0;t<o.length;t++)if(null!=r.seriesIndex&&r.seriesIndex===o[t].seriesIndex||null!=r.seriesId&&r.seriesId===o[t].id)return t}var Tb=C(5906);(0,_.D)([Y.N]),(0,_.D)([function rn(o){o.registerPainter("svg",ei)}]),(0,_.D)([function go(o){o.registerChartView(Sa),o.registerSeriesModel(li),o.registerLayout(ts("line",!0)),o.registerVisual({seriesType:"line",reset:function(r){var t=r.getData(),a=r.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,hl("line"))},function Xs(o){o.registerChartView(Hs),o.registerSeriesModel(ns),o.registerLayout(o.PRIORITY.VISUAL.LAYOUT,M.curry(Ws.bK,"bar")),o.registerLayout(o.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ws.Bk)("bar")),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,hl("bar")),o.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(r,t){t.eachComponent({mainType:r.componentType||"series",query:r},function(l){r.sortInfo&&l.axis.setCategorySortInfo(r.sortInfo)})})},function Nt(o){o.registerChartView(Sn),o.registerSeriesModel(Fe),(0,Qs.y)("pie",o.registerAction),o.registerLayout((0,M.curry)(z1,"pie")),o.registerProcessor(dl("pie")),o.registerProcessor(function et(o){return{seriesType:o,reset:function(r,t){var a=r.getData();a.filterSelf(function(l){var h=a.mapDimension("value"),d=a.get(h,l);return!((0,M.isNumber)(d)&&!isNaN(d)&&d<0)})}}}("pie"))},function Hf(o){(0,_.D)(Aa),o.registerSeriesModel($n),o.registerChartView(Fa),o.registerLayout(ts("scatter"))},function H8(o){(0,_.D)(S6),o.registerChartView(r4),o.registerSeriesModel(cu),o.registerLayout(y6),o.registerProcessor(dl("radar")),o.registerPreprocessor(x6)},function p2(o){(0,_.D)(V6),o.registerChartView(fu),o.registerSeriesModel(Xf),o.registerLayout(os),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,f4),(0,Qs.y)("map",o.registerAction)},function y2(o){o.registerChartView(tv),o.registerSeriesModel(k6),o.registerLayout(ih),o.registerVisual(U6),function Y6(o){o.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(r,t){t.eachComponent({mainType:"series",subType:"tree",query:r},function(a){var l=r.dataIndex,d=a.getData().tree.getNodeByDataIndex(l);d.isExpand=!d.isExpand})}),o.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(r,t,a){t.eachComponent({mainType:"series",subType:"tree",query:r},function(l){var d=X8(l.coordinateSystem,r,void 0,a);l.setCenter&&l.setCenter(d.center),l.setZoom&&l.setZoom(d.zoom)})})}(o)},function _1(o){o.registerSeriesModel(Wr),o.registerChartView(Qi),o.registerVisual(Gl),o.registerLayout(Wi),function ss(o){for(var r=0;r<g3.length;r++)o.registerAction({type:g3[r],update:"updateView"},M.noop);o.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,a){a.eachComponent({mainType:"series",subType:"treemap",query:t},function l(h,d){var y=m4(t,["treemapZoomToNode","treemapRootToNode"],h);if(y){var x=h.getViewRoot();x&&(t.direction=Rl(x,y.node)?"rollUp":"drillDown"),h.resetViewRoot(y.node)}})})}(o)},function pp(o){o.registerChartView(bh),o.registerSeriesModel(vp),o.registerProcessor(ha),o.registerVisual(X6),o.registerVisual(w4),o.registerLayout(Au),o.registerLayout(o.PRIORITY.VISUAL.POST_CHART_LAYOUT,w3),o.registerLayout(oc),o.registerCoordinateSystem("graphView",{dimensions:u3.dimensions,create:w2}),o.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},M.noop),o.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},M.noop),o.registerAction(ov,function(r,t,a){t.eachComponent({mainType:"series",query:r},function(l){var d=X8(l.coordinateSystem,r,void 0,a);l.setCenter&&l.setCenter(d.center),l.setZoom&&l.setZoom(d.zoom)})})},function lv(o){o.registerChartView(wh),o.registerSeriesModel(Hu)},function hv(o){o.registerChartView(yg),o.registerSeriesModel(id),o.registerLayout(uv),o.registerProcessor(dl("funnel"))},function Cd(o){(0,_.D)(Sd),o.registerChartView(C2),o.registerSeriesModel(cd),o.registerVisual(o.PRIORITY.VISUAL.BRUSH,mv)},function Hh(o){o.registerChartView(Ev),o.registerSeriesModel(xg),o.registerLayout(Td),o.registerVisual(T0),o.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(r,t){t.eachComponent({mainType:"series",subType:"sankey",query:r},function(a){a.setNodePosition(r.dataIndex,[r.localX,r.localY])})})},function B3(o){o.registerSeriesModel(Lp),o.registerChartView(Ld),o.registerLayout(N4),o.registerTransform(Od)},function Tg(o){o.registerChartView(w1),o.registerSeriesModel(D0),o.registerPreprocessor(Uh),o.registerVisual(Ov),o.registerLayout(Vp)},function t8(o){o.registerChartView(Hp),o.registerSeriesModel(Yh),o.registerLayout(ts("effectScatter"))},function ds(o){o.registerChartView(Vg),o.registerSeriesModel(B4),o.registerLayout(Hd),o.registerVisual(kg)},function n8(o){o.registerChartView(Gg),o.registerSeriesModel(kp)},function Fd(o){o.registerChartView(Kp),o.registerSeriesModel(Kg),o.registerLayout(o.PRIORITY.VISUAL.LAYOUT,(0,M.curry)(Ws.bK,"pictorialBar")),o.registerLayout(o.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ws.Bk)("pictorialBar"))},function Wh(o){o.registerChartView(a8),o.registerSeriesModel(Qg),o.registerLayout(Jg),o.registerProcessor(dl("themeRiver"))},function u8(o){o.registerChartView(l8),o.registerSeriesModel(O2),o.registerLayout((0,M.curry)(Cs,"sunburst")),o.registerProcessor((0,M.curry)(dl,"sunburst")),o.registerVisual(c8),function cc(o){o.registerAction({type:Jo,update:"updateView"},function(r,t){t.eachComponent({mainType:"series",subType:"sunburst",query:r},function a(l,h){var d=m4(r,[Jo],l);if(d){var p=l.getViewRoot();p&&(r.direction=Rl(p,d.node)?"rollUp":"drillDown"),l.resetViewRoot(d.node)}})}),o.registerAction({type:A0,update:"none"},function(r,t,a){r=(0,M.extend)({},r),t.eachComponent({mainType:"series",subType:"sunburst",query:r},function l(h){var d=m4(r,[A0],h);d&&(r.dataIndex=d.node.dataIndex)}),a.dispatchAction((0,M.extend)(r,{type:"highlight"}))}),o.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(r,t,a){r=(0,M.extend)({},r),a.dispatchAction((0,M.extend)(r,{type:"downplay"}))})}(o)},function I0(o){o.registerChartView(am),o.registerSeriesModel(Wd)}]),(0,_.D)(function _7(o){(0,_.D)(Aa),(0,_.D)(_8)}),(0,_.D)(function z7(o){(0,_.D)(_8),tt.registerAxisPointerClass("PolarAxisPointer",mm),o.registerCoordinateSystem("polar",C7),o.registerComponentModel(M7),o.registerComponentView(E7),gl(o,"angle",ym,D7),gl(o,"radius",_m,w5),o.registerComponentView(Kc),o.registerComponentView(b5),o.registerLayout((0,M.curry)(wm,"bar"))}),(0,_.D)(V6),(0,_.D)(function nu(o){(0,_.D)(_8),tt.registerAxisPointerClass("SingleAxisPointer",D5),o.registerComponentView(L7),o.registerComponentView(C5),o.registerComponentModel(a6),gl(o,"single",a6,a6.defaultOption),o.registerCoordinateSystem("single",Tm)}),(0,_.D)(Sd),(0,_.D)(function V7(o){o.registerComponentModel(z5),o.registerComponentView(Am),o.registerCoordinateSystem("calendar",Es)}),(0,_.D)(function C8(o){o.registerComponentModel(Z9),o.registerComponentView(zs),o.registerPreprocessor(function(r){var t=r.graphic;(0,M.isArray)(t)?r.graphic=t[0]&&t[0].elements?[r.graphic[0]]:[{elements:t}]:t&&!t.elements&&(r.graphic=[{elements:[t]}])})}),(0,_.D)(function ry(o){o.registerComponentModel(vt),o.registerComponentView(sn),Oe("saveAsImage",An),Oe("magicType",Mr),Oe("dataView",ja),Oe("dataZoom",oM),Oe("restore",K9),(0,_.D)(le)}),(0,_.D)(function yy(o){(0,_.D)(_8),o.registerComponentModel(sM),o.registerComponentView(my),o.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},M.noop),o.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},M.noop)}),(0,_.D)(_8),(0,_.D)(function Ry(o){o.registerComponentView(xM),o.registerComponentModel(Py),o.registerPreprocessor(My),o.registerVisual(o.PRIORITY.VISUAL.BRUSH,Cy),o.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(r,t){t.eachComponent({mainType:"brush",query:r},function(a){a.setAreas(r.areas)})}),o.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},M.noop),o.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},M.noop),Oe("brush",Iy)}),(0,_.D)(function Ny(o){o.registerComponentModel(Vy),o.registerComponentView(Hy)}),(0,_.D)(function q7(o){o.registerComponentModel(By),o.registerComponentView(Uy),o.registerSubTypeDefaulter("timeline",function(){return"slider"}),function EM(o){o.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,t,a){var l=t.getComponent("timeline");return l&&null!=r.currentIndex&&(l.setCurrentIndex(r.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.getPlayState()&&(l.setPlayState(!1),a.dispatchAction({type:"timelinePlayChange",playState:!1,from:r.from}))),t.resetOption("timeline",{replaceMerge:l.get("replaceMerge",!0)}),(0,M.defaults)({currentIndex:l.option.currentIndex},r)}),o.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,t){var a=t.getComponent("timeline");a&&null!=r.playState&&a.setPlayState(r.playState)})}(o),o.registerPreprocessor(zM)}),(0,_.D)(function NM(o){o.registerComponentModel(AM),o.registerComponentView(HM),o.registerPreprocessor(function(r){eg(r.series,"markPoint")&&(r.markPoint=r.markPoint||{})})}),(0,_.D)(function UM(o){o.registerComponentModel(kM),o.registerComponentView(e_),o.registerPreprocessor(function(r){eg(r.series,"markLine")&&(r.markLine=r.markLine||{})})}),(0,_.D)(function jM(o){o.registerComponentModel(sb),o.registerComponentView(GM),o.registerPreprocessor(function(r){eg(r.series,"markArea")&&(r.markArea=r.markArea||{})})}),(0,_.D)(function JM(o){(0,_.D)(l_),(0,_.D)(QM)}),(0,_.D)(function x_(o){(0,_.D)(x9),(0,_.D)(M_)}),(0,_.D)(x9),(0,_.D)(M_),(0,_.D)(function Dx(o){(0,_.D)(P_),(0,_.D)(I_)}),(0,_.D)(P_),(0,_.D)(I_),(0,_.D)(function Lx(o){o.registerPreprocessor(Px),o.registerVisual(o.PRIORITY.VISUAL.ARIA,Ax)}),(0,_.D)(function Nx(o){o.registerTransform(U_),o.registerTransform(Y_)}),(0,_.D)(A9.N),(0,_.D)(function eb(o){o.registerUpdateLifecycle("series:beforeupdate",function(r,t,a){(0,M.each)((0,Hr.kF)(a.seriesTransition),function(l){(0,M.each)((0,Hr.kF)(l.to),function(h){for(var d=a.updatedSeries,p=0;p<d.length;p++)(null!=h.seriesIndex&&h.seriesIndex===d[p].seriesIndex||null!=h.seriesId&&h.seriesId===d[p].id)&&(d[p][xn.V]=!0)})})}),o.registerUpdateLifecycle("series:transition",function(r,t,a){var l=$x(t);if(l.oldSeries&&a.updatedSeries&&a.optionChanged){var h=a.seriesTransition;if(h)(0,M.each)((0,Hr.kF)(h),function(k){!function qx(o,r,t,a){var l=[],h=[];(0,M.each)((0,Hr.kF)(o.from),function(d){var p=Jx(r.oldSeries,d);p>=0&&l.push({dataGroupId:r.oldDataGroupIds[p],data:r.oldData[p],divide:g6(r.oldData[p]),dim:d.dimension})}),(0,M.each)((0,Hr.kF)(o.to),function(d){var p=Jx(t.updatedSeries,d);if(p>=0){var y=t.updatedSeries[p].getData();h.push({dataGroupId:r.oldDataGroupIds[p],data:y,divide:g6(y),dim:d.dimension})}}),l.length>0&&h.length>0&&pg(l,h,a)}(k,l,a,t)});else{var d=function Cb(o,r){var t=(0,M.createHashMap)(),a=(0,M.createHashMap)(),l=(0,M.createHashMap)();return(0,M.each)(o.oldSeries,function(d,p){var y=o.oldDataGroupIds[p],x=o.oldData[p],w=gg(d),z=op(w);a.set(z,{dataGroupId:y,data:x}),(0,M.isArray)(w)&&(0,M.each)(w,function(V){l.set(V,{key:z,dataGroupId:y,data:x})})}),(0,M.each)(r.updatedSeries,function(d){if(d.isUniversalTransitionEnabled()&&d.isAnimationEnabled()){var p=d.get("dataGroupId"),y=d.getData(),x=gg(d),w=op(x),z=a.get(w);if(z)t.set(w,{oldSeries:[{dataGroupId:z.dataGroupId,divide:g6(z.data),data:z.data}],newSeries:[{dataGroupId:p,divide:g6(y),data:y}]});else if((0,M.isArray)(x)){var V=[];(0,M.each)(x,function(ue){var xe=a.get(ue);xe.data&&V.push({dataGroupId:xe.dataGroupId,divide:g6(xe.data),data:xe.data})}),V.length&&t.set(w,{oldSeries:V,newSeries:[{dataGroupId:p,data:y,divide:g6(y)}]})}else{var k=l.get(x);if(k){var J=t.get(k.key);J||(J={oldSeries:[{dataGroupId:k.dataGroupId,data:k.data,divide:g6(k.data)}],newSeries:[]},t.set(k.key,J)),J.newSeries.push({dataGroupId:p,data:y,divide:g6(y)})}}}}),t}(l,a);(0,M.each)(d.keys(),function(k){var J=d.get(k);pg(J.oldSeries,J.newSeries,t)})}(0,M.each)(a.updatedSeries,function(k){k[xn.V]&&(k[xn.V]=!1)})}for(var p=r.getSeries(),y=l.oldSeries=[],x=l.oldDataGroupIds=[],w=l.oldData=[],z=0;z<p.length;z++){var V=p[z].getData();V.count()<ap&&(y.push(p[z]),x.push(p[z].get("dataGroupId")),w.push(V))}})}),(0,_.D)(Tb.T)},5271:($t,We,C)=>{"use strict";C.d(We,{D:()=>me,KZ:()=>Me,XD:()=>Q,Zi:()=>W,_W:()=>re,bX:()=>G,eq:()=>de,ke:()=>ie});var _=C(4404),Y=(0,C(6496).Yf)();function ie(te,q,oe,M,se){var ge;if(q&&q.ecModel){var K=q.ecModel.getUpdatePayload();ge=K&&K.animation}var $="update"===te;if(q&&q.isAnimationEnabled()){var X=void 0,ce=void 0,U=void 0;return M?(X=(0,_.retrieve2)(M.duration,200),ce=(0,_.retrieve2)(M.easing,"cubicOut"),U=0):(X=q.getShallow($?"animationDurationUpdate":"animationDuration"),ce=q.getShallow($?"animationEasingUpdate":"animationEasing"),U=q.getShallow($?"animationDelayUpdate":"animationDelay")),ge&&(null!=ge.duration&&(X=ge.duration),null!=ge.easing&&(ce=ge.easing),null!=ge.delay&&(U=ge.delay)),(0,_.isFunction)(U)&&(U=U(oe,se)),(0,_.isFunction)(X)&&(X=X(oe)),{duration:X||0,delay:U,easing:ce}}return null}function pe(te,q,oe,M,se,ge,K){var $,ve=!1;(0,_.isFunction)(se)?(K=ge,ge=se,se=null):(0,_.isObject)(se)&&(ge=se.cb,K=se.during,ve=se.isFrom,$=se.removeOpt,se=se.dataIndex);var X="leave"===te;X||q.stopAnimation("leave");var ce=ie(te,M,se,X?$||{}:null,M&&M.getAnimationDelayParams?M.getAnimationDelayParams(q,se):null);if(ce&&ce.duration>0){var B={duration:ce.duration,delay:ce.delay||0,easing:ce.easing,done:ge,force:!!ge||!!K,setToFinal:!X,scope:te,during:K};ve?q.animateFrom(oe,B):q.animateTo(oe,B)}else q.stopAnimation(),!ve&&q.attr(oe),K&&K(1),ge&&ge()}function me(te,q,oe,M,se,ge){pe("update",te,q,oe,M,se,ge)}function Me(te,q,oe,M,se,ge){pe("enter",te,q,oe,M,se,ge)}function de(te){if(!te.__zr)return!0;for(var q=0;q<te.animators.length;q++)if("leave"===te.animators[q].scope)return!0;return!1}function G(te,q,oe,M,se,ge){de(te)||pe("leave",te,q,oe,M,se,ge)}function Z(te,q,oe,M){te.removeTextContent(),te.removeTextGuideLine(),G(te,{style:{opacity:0}},q,oe,M)}function Q(te,q,oe){function M(){te.parent&&te.parent.remove(te)}te.isGroup?te.traverse(function(se){se.isGroup||Z(se,q,oe,M)}):Z(te,q,oe,M)}function W(te){Y(te).oldStyle=te.style}function re(te){return Y(te).oldStyle}},3649:($t,We,C)=>{"use strict";C.d(We,{Z:()=>T});var _=C(6496);function T(){var Y=(0,_.Yf)();return function(ie){var pe=Y(ie),me=ie.pipelineContext,Me=!!pe.large,de=!!pe.progressiveRender,G=pe.large=!(!me||!me.large),Z=pe.progressiveRender=!(!me||!me.progressiveRender);return(Me!==G||de!==Z)&&"reset"}}},5982:($t,We,C)=>{"use strict";C.d(We,{Z:()=>K});var _=C(4404),T=C(3040),Y=C(2596),ie=C(3121),pe=C(6496),me=C(1255),Me=function ve($){this.coordSysDims=[],this.axisMap=(0,_.createHashMap)(),this.categoryAxisMap=(0,_.createHashMap)(),this.coordSysName=$},G={cartesian2d:function(ve,$,X,ce){var U=ve.getReferringComponents("xAxis",pe.C6).models[0],L=ve.getReferringComponents("yAxis",pe.C6).models[0];$.coordSysDims=["x","y"],X.set("x",U),X.set("y",L),Z(U)&&(ce.set("x",U),$.firstCategoryDimIndex=0),Z(L)&&(ce.set("y",L),null==$.firstCategoryDimIndex&&($.firstCategoryDimIndex=1))},singleAxis:function(ve,$,X,ce){var U=ve.getReferringComponents("singleAxis",pe.C6).models[0];$.coordSysDims=["single"],X.set("single",U),Z(U)&&(ce.set("single",U),$.firstCategoryDimIndex=0)},polar:function(ve,$,X,ce){var U=ve.getReferringComponents("polar",pe.C6).models[0],L=U.findAxisModel("radiusAxis"),E=U.findAxisModel("angleAxis");$.coordSysDims=["radius","angle"],X.set("radius",L),X.set("angle",E),Z(L)&&(ce.set("radius",L),$.firstCategoryDimIndex=0),Z(E)&&(ce.set("angle",E),null==$.firstCategoryDimIndex&&($.firstCategoryDimIndex=1))},geo:function(ve,$,X,ce){$.coordSysDims=["lng","lat"]},parallel:function(ve,$,X,ce){var U=ve.ecModel,L=U.getComponent("parallel",ve.get("parallelIndex")),E=$.coordSysDims=L.dimensions.slice();(0,_.each)(L.parallelAxisIndex,function(B,H){var A=U.getComponent("parallelAxis",B),O=E[H];X.set(O,A),Z(A)&&(ce.set(O,A),null==$.firstCategoryDimIndex&&($.firstCategoryDimIndex=H))})}};function Z(ve){return"category"===ve.get("type")}var Q=C(4453),W=C(6018),re=C(9475),te=C(2956);const K=function M(ve,$,X){X=X||{};var U,ce=$.getSourceManager(),L=!1;ve?(L=!0,U=(0,Q.nx)(ve)):L=(U=ce.getSource()).sourceFormat===te.cy;var E=function de(ve){var $=ve.get("coordinateSystem"),X=new Me($),ce=G[$];if(ce)return ce(ve,X,X.axisMap,X.categoryAxisMap),X}($),B=function q(ve,$){var U,X=ve.get("coordinateSystem"),ce=me.Z.get(X);return $&&$.coordSysDims&&(U=_.map($.coordSysDims,function(L){var E={name:L},B=$.axisMap.get(L);if(B){var H=B.get("type");E.type=(0,ie.T)(H)}return E})),U||(U=ce&&(ce.getDimensionsInfo?ce.getDimensionsInfo():ce.dimensions.slice())||["x","y"]),U}($,E),H=X.useEncodeDefaulter,A=_.isFunction(H)?H:H?_.curry(re.pY,B,$):null,O={coordDimensions:B,generateCoord:X.generateCoord,encodeDefine:$.getEncode(),encodeDefaulter:A,canOmitUnusedDimensions:!L},I=(0,Y.Z)(U,O),N=function oe(ve,$,X){var ce,U;return X&&_.each(ve,function(L,E){var H=X.categoryAxisMap.get(L.coordDim);H&&(null==ce&&(ce=E),L.ordinalMeta=H.getOrdinalMeta(),$&&(L.createInvertedIndices=!0)),null!=L.otherDims.itemName&&(U=!0)}),!U&&null!=ce&&(ve[ce].otherDims.itemName=0),ce}(I.dimensions,X.createInvertedIndices,E),ee=L?null:ce.getSharedDataStore(I),j=(0,W.BM)($,{schema:I,store:ee}),ae=new T.Z(I,$);ae.setCalculationInfo(j);var fe=null!=N&&function se(ve){if(ve.sourceFormat===te.cy){var $=function ge(ve){for(var $=0;$<ve.length&&null==ve[$];)$++;return ve[$]}(ve.data||[]);return!_.isArray((0,pe.C4)($))}}(U)?function(he,Ce,Se,ye){return ye===N?Se:this.defaultDimValueGetter(he,Ce,Se,ye)}:null;return ae.hasItemOption=!1,ae.initData(L?U:ee,null,fe),ae}},583:($t,We,C)=>{"use strict";C.d(We,{N:()=>de});var _=C(8299),T=C(562),Y=C(907),ie=C(2956),pe=C(528),me=function(G){function Z(){var Q=null!==G&&G.apply(this,arguments)||this;return Q.type="dataset",Q}return(0,_.ZT)(Z,G),Z.prototype.init=function(Q,W,re){G.prototype.init.call(this,Q,W,re),this._sourceManager=new pe.U(this),(0,pe.t)(this)},Z.prototype.mergeOption=function(Q,W){G.prototype.mergeOption.call(this,Q,W),(0,pe.t)(this)},Z.prototype.optionUpdated=function(){this._sourceManager.dirty()},Z.prototype.getSourceManager=function(){return this._sourceManager},Z.type="dataset",Z.defaultOption={seriesLayoutBy:ie.fY},Z}(T.Z),Me=function(G){function Z(){var Q=null!==G&&G.apply(this,arguments)||this;return Q.type="dataset",Q}return(0,_.ZT)(Z,G),Z.type="dataset",Z}(Y.Z);function de(G){G.registerComponentModel(me),G.registerComponentView(Me)}},4655:($t,We,C)=>{"use strict";C.d(We,{w:()=>pe});var _=C(4404),T=C(5735),Y=C(5941),ie=C(6496);function pe(Me){var M,se,ge,K,de=Me.series,G=Me.dataIndex,Z=Me.multipleSeries,Q=de.getData(),W=Q.mapDimensionsAll("defaultedTooltip"),re=W.length,te=de.getRawValue(G),q=(0,_.isArray)(te),oe=(0,T.jT)(de,G);if(re>1||q&&!re){var ve=function me(Me,de,G,Z,Q){var W=de.getData(),re=(0,_.reduce)(Me,function(se,ge,K){var ve=W.getDimensionInfo(K);return se||ve&&!1!==ve.tooltip&&null!=ve.displayName},!1),te=[],q=[],oe=[];function M(se,ge){var K=W.getDimensionInfo(ge);!K||!1===K.otherDims.tooltip||(re?oe.push((0,T.TX)("nameValue",{markerType:"subItem",markerColor:Q,name:K.displayName,value:se,valueType:K.type})):(te.push(se),q.push(K.type)))}return Z.length?(0,_.each)(Z,function(se){M((0,Y.hk)(W,G,se),se)}):(0,_.each)(Me,M),{inlineValues:te,inlineValueTypes:q,blocks:oe}}(te,de,G,W,oe);M=ve.inlineValues,se=ve.inlineValueTypes,ge=ve.blocks,K=ve.inlineValues[0]}else if(re){var $=Q.getDimensionInfo(W[0]);K=M=(0,Y.hk)(Q,G,W[0]),se=$.type}else K=M=q?te[0]:te;var X=(0,ie.yu)(de),ce=X&&de.name||"",U=Q.getName(G),L=Z?ce:U;return(0,T.TX)("section",{header:ce,noHeader:Z||!X,sortParam:K,blocks:[(0,T.TX)("nameValue",{markerType:"item",markerColor:oe,name:L,noName:!(0,_.trim)(L),value:M,valueType:se})].concat(ge||[])})}},5735:($t,We,C)=>{"use strict";C.d(We,{BY:()=>oe,TX:()=>Z,d_:()=>ce,iv:()=>U,jT:()=>X});var _=C(9626),T=C(8597),Y=C(4404),ie=C(8186),pe=C(2862),me="line-height:1";function Me(L,E){var B=L.color||"#6e7079",H=L.fontSize||12,A=L.fontWeight||"400",O=L.color||"#464646",I=L.fontSize||14,N=L.fontWeight||"900";return"html"===E?{nameStyle:"font-size:"+(0,_.F1)(H+"")+"px;color:"+(0,_.F1)(B)+";font-weight:"+(0,_.F1)(A+""),valueStyle:"font-size:"+(0,_.F1)(I+"")+"px;color:"+(0,_.F1)(O)+";font-weight:"+(0,_.F1)(N+"")}:{nameStyle:{fontSize:H,fill:B,fontWeight:A},valueStyle:{fontSize:I,fill:O,fontWeight:N}}}var de=[0,10,20,30],G=["","\n","\n\n","\n\n\n"];function Z(L,E){return E.type=L,E}function Q(L){return"section"===L.type}function W(L){return Q(L)?te:q}function re(L){if(Q(L)){var E=0,B=L.blocks.length,H=B>1||B>0&&!L.noHeader;return(0,Y.each)(L.blocks,function(A){var O=re(A);O>=E&&(E=O+ +(H&&(!O||Q(A)&&!A.noHeader)))}),E}return 0}function te(L,E,B,H){var A=E.noHeader,O=function M(L){return{html:de[L],richText:G[L]}}(re(E)),I=[],N=E.blocks||[];(0,Y.assert)(!N||(0,Y.isArray)(N)),N=N||[];var ee=L.orderMode;if(E.sortBlocks&&ee){N=N.slice();var j={valueAsc:"asc",valueDesc:"desc"};if((0,Y.hasOwn)(j,ee)){var ae=new ie.ID(j[ee],null);N.sort(function(Se,ye){return ae.evaluate(Se.sortParam,ye.sortParam)})}else"seriesDesc"===ee&&N.reverse()}(0,Y.each)(N,function(Se,ye){var we=E.valueFormatter,Ae=W(Se)(we?(0,Y.extend)((0,Y.extend)({},L),{valueFormatter:we}):L,Se,ye>0?O.html:0,H);null!=Ae&&I.push(Ae)});var fe="richText"===L.renderMode?I.join(O.richText):se(I.join(""),A?B:O.html);if(A)return fe;var he=(0,T.uX)(E.header,"ordinal",L.useUTC),Ce=Me(H,L.renderMode).nameStyle;return"richText"===L.renderMode?ve(L,he,Ce)+O.richText+fe:se('<div style="'+Ce+";"+me+';">'+(0,_.F1)(he)+"</div>"+fe,B)}function q(L,E,B,H){var A=L.renderMode,O=E.noName,I=E.noValue,N=!E.markerType,ee=E.name,j=L.useUTC,ae=E.valueFormatter||L.valueFormatter||function(Je){return Je=(0,Y.isArray)(Je)?Je:[Je],(0,Y.map)(Je,function(at,nt){return(0,T.uX)(at,(0,Y.isArray)(Ce)?Ce[nt]:Ce,j)})};if(!O||!I){var fe=N?"":L.markupStyleCreator.makeTooltipMarker(E.markerType,E.markerColor||"#333",A),he=O?"":(0,T.uX)(ee,"ordinal",j),Ce=E.valueType,Se=I?[]:ae(E.value),ye=!N||!O,we=!N&&O,Ae=Me(H,A),Ne=Ae.nameStyle,Le=Ae.valueStyle;return"richText"===A?(N?"":fe)+(O?"":ve(L,he,Ne))+(I?"":function $(L,E,B,H,A){var O=[A];return B&&O.push({padding:[0,0,0,H?10:20],align:"right"}),L.markupStyleCreator.wrapRichTextStyle((0,Y.isArray)(E)?E.join("  "):E,O)}(L,Se,ye,we,Le)):se((N?"":fe)+(O?"":function ge(L,E,B){return'<span style="'+B+";"+(E?"margin-left:2px":"")+'">'+(0,_.F1)(L)+"</span>"}(he,!N,Ne))+(I?"":function K(L,E,B,H){var O=E?"float:right;margin-left:"+(B?"10px":"20px"):"";return L=(0,Y.isArray)(L)?L:[L],'<span style="'+O+";"+H+'">'+(0,Y.map)(L,function(I){return(0,_.F1)(I)}).join("&nbsp;&nbsp;")+"</span>"}(Se,ye,we,Le)),B)}}function oe(L,E,B,H,A,O){if(L)return W(L)({useUTC:A,renderMode:B,orderMode:H,markupStyleCreator:E,valueFormatter:L.valueFormatter},L,0,O)}function se(L,E){return'<div style="margin: '+E+"px 0 0;"+me+';">'+L+'<div style="clear:both"></div></div>'}function ve(L,E,B){return L.markupStyleCreator.wrapRichTextStyle(E,B)}function X(L,E){var B=L.getData().getItemVisual(E,"style");return(0,T.Lz)(B[L.visualDrawType])}function ce(L,E){return L.get("padding")??("richText"===E?[8,10]:10)}var U=function(){function L(){this.richTextStyles={},this._nextStyleNameId=(0,pe.jj)()}return L.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},L.prototype.makeTooltipMarker=function(E,B,H){var A="richText"===H?this._generateStyleName():null,O=(0,T.A0)({color:B,type:E,renderMode:H,markerId:A});return(0,Y.isString)(O)?O:(this.richTextStyles[A]=O.style,O.content)},L.prototype.wrapRichTextStyle=function(E,B){var H={};(0,Y.isArray)(B)?(0,Y.each)(B,function(O){return(0,Y.extend)(H,O)}):(0,Y.extend)(H,B);var A=this._generateStyleName();return this.richTextStyles[A]=H,"{"+A+"|"+E+"}"},L}()},838:($t,We,C)=>{"use strict";C.d(We,{Z:()=>U});var _=C(4404),T=C(2862),Y=C(4981),ie=C(6496),pe=C(5353),me=(0,ie.Yf)();function Z(L,E){var O,I,B=re(L,"labels"),H=(0,pe.rk)(E);return te(B,H)||(_.isFunction(H)?O=K(L,H):(I="auto"===H?function oe(L){return me(L).autoInterval??(me(L).autoInterval=L.calculateCategoryInterval())}(L):H,O=ge(L,I)),q(B,H,{labels:O,labelCategoryInterval:I}))}function re(L,E){return me(L)[E]||(me(L)[E]=[])}function te(L,E){for(var B=0;B<L.length;B++)if(L[B].key===E)return L[B].value}function q(L,E,B){return L.push({key:E,value:B}),B}function ge(L,E,B){var H=(0,pe.J9)(L),A=L.scale,O=A.getExtent(),I=L.getLabelModel(),N=[],ee=Math.max((E||0)+1,1),j=O[0],ae=A.count();0!==j&&ee>1&&ae/ee>2&&(j=Math.round(Math.ceil(j/ee)*ee));var fe=(0,pe.WY)(L),he=I.get("showMinLabel")||fe,Ce=I.get("showMaxLabel")||fe;he&&j!==O[0]&&ye(O[0]);for(var Se=j;Se<=O[1];Se+=ee)ye(Se);function ye(we){var Ae={value:we};N.push(B?we:{formattedLabel:H(Ae),rawLabel:A.getLabel(Ae),tickValue:we})}return Ce&&Se-ee!==O[1]&&ye(O[1]),N}function K(L,E,B){var H=L.scale,A=(0,pe.J9)(L),O=[];return _.each(H.getTicks(),function(I){var N=H.getLabel(I),ee=I.value;E(I.value,N)&&O.push(B?ee:{formattedLabel:A(I),rawLabel:N,tickValue:ee})}),O}var ve=[0,1];function X(L,E){var A=(L[1]-L[0])/E/2;L[0]+=A,L[1]-=A}const U=function(){function L(E,B,H){this.onBand=!1,this.inverse=!1,this.dim=E,this.scale=B,this._extent=H||[0,0]}return L.prototype.contain=function(E){var B=this._extent,H=Math.min(B[0],B[1]),A=Math.max(B[0],B[1]);return E>=H&&E<=A},L.prototype.containData=function(E){return this.scale.contain(E)},L.prototype.getExtent=function(){return this._extent.slice()},L.prototype.getPixelPrecision=function(E){return(0,T.M9)(E||this.scale.getExtent(),this._extent)},L.prototype.setExtent=function(E,B){var H=this._extent;H[0]=E,H[1]=B},L.prototype.dataToCoord=function(E,B){var H=this._extent,A=this.scale;return E=A.normalize(E),this.onBand&&"ordinal"===A.type&&X(H=H.slice(),A.count()),(0,T.NU)(E,ve,H,B)},L.prototype.coordToData=function(E,B){var H=this._extent,A=this.scale;this.onBand&&"ordinal"===A.type&&X(H=H.slice(),A.count());var O=(0,T.NU)(E,H,ve,B);return this.scale.scale(O)},L.prototype.pointToData=function(E,B){},L.prototype.getTicksCoords=function(E){var B=(E=E||{}).tickModel||this.getTickModel(),H=function de(L,E){return"category"===L.type?function Q(L,E){var O,I,B=re(L,"ticks"),H=(0,pe.rk)(E),A=te(B,H);if(A)return A;if((!E.get("show")||L.scale.isBlank())&&(O=[]),_.isFunction(H))O=K(L,H,!0);else if("auto"===H){var N=Z(L,L.getLabelModel());I=N.labelCategoryInterval,O=_.map(N.labels,function(ee){return ee.tickValue})}else O=ge(L,I=H,!0);return q(B,H,{ticks:O,tickCategoryInterval:I})}(L,E):{ticks:_.map(L.scale.getTicks(),function(B){return B.value})}}(this,B),O=(0,_.map)(H.ticks,function(N){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(N):N),tickValue:N}},this);return function ce(L,E,B,H){var A=E.length;if(L.onBand&&!B&&A){var I,O=L.getExtent();if(1===A)E[0].coord=O[0],I=E[1]={coord:O[0]};else{var j=(E[A-1].coord-E[0].coord)/(E[A-1].tickValue-E[0].tickValue);(0,_.each)(E,function(Ce){Ce.coord-=j/2});var ae=L.scale.getExtent();E.push(I={coord:E[A-1].coord+j*(1+ae[1]-E[A-1].tickValue)})}var fe=O[0]>O[1];he(E[0].coord,O[0])&&(H?E[0].coord=O[0]:E.shift()),H&&he(O[0],E[0].coord)&&E.unshift({coord:O[0]}),he(O[1],I.coord)&&(H?I.coord=O[1]:E.pop()),H&&he(I.coord,O[1])&&E.push({coord:O[1]})}function he(Ce,Se){return Ce=(0,T.NM)(Ce),Se=(0,T.NM)(Se),fe?Ce>Se:Ce<Se}}(this,O,B.get("alignWithLabel"),E.clamp),O},L.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var B=this.model.getModel("minorTick").get("splitNumber");B>0&&B<100||(B=5);var H=this.scale.getMinorTicks(B);return(0,_.map)(H,function(O){return(0,_.map)(O,function(I){return{coord:this.dataToCoord(I),tickValue:I}},this)},this)},L.prototype.getViewLabels=function(){return function Me(L){return"category"===L.type?function G(L){var E=L.getLabelModel(),B=Z(L,E);return!E.get("show")||L.scale.isBlank()?{labels:[],labelCategoryInterval:B.labelCategoryInterval}:B}(L):function W(L){var E=L.scale.getTicks(),B=(0,pe.J9)(L);return{labels:_.map(E,function(H,A){return{level:H.level,formattedLabel:B(H,A),rawLabel:L.scale.getLabel(H),tickValue:H.value}})}}(L)}(this).labels},L.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},L.prototype.getTickModel=function(){return this.model.getModel("axisTick")},L.prototype.getBandWidth=function(){var E=this._extent,B=this.scale.getExtent(),H=B[1]-B[0]+(this.onBand?1:0);0===H&&(H=1);var A=Math.abs(E[1]-E[0]);return Math.abs(A)/H},L.prototype.calculateCategoryInterval=function(){return function M(L){var E=function se(L){var E=L.getLabelModel();return{axisRotate:L.getRotate?L.getRotate():L.isHorizontal&&!L.isHorizontal()?90:0,labelRotate:E.get("rotate")||0,font:E.getFont()}}(L),B=(0,pe.J9)(L),H=(E.axisRotate-E.labelRotate)/180*Math.PI,A=L.scale,O=A.getExtent(),I=A.count();if(O[1]-O[0]<1)return 0;var N=1;I>40&&(N=Math.max(1,Math.floor(I/40)));for(var ee=O[0],j=L.dataToCoord(ee+1)-L.dataToCoord(ee),ae=Math.abs(j*Math.cos(H)),fe=Math.abs(j*Math.sin(H)),he=0,Ce=0;ee<=O[1];ee+=N){var ye,we=Y.lP(B({value:ee}),E.font,"center","top");ye=1.3*we.height,he=Math.max(he,1.3*we.width,7),Ce=Math.max(Ce,ye,7)}var Ae=he/ae,Ne=Ce/fe;isNaN(Ae)&&(Ae=1/0),isNaN(Ne)&&(Ne=1/0);var Le=Math.max(0,Math.floor(Math.min(Ae,Ne))),Je=me(L.model),at=L.getExtent(),nt=Je.lastAutoInterval,dt=Je.lastTickCount;return null!=nt&&null!=dt&&Math.abs(nt-Le)<=1&&Math.abs(dt-I)<=1&&nt>Le&&Je.axisExtent0===at[0]&&Je.axisExtent1===at[1]?Le=nt:(Je.lastTickCount=I,Je.lastAutoInterval=Le,Je.axisExtent0=at[0],Je.axisExtent1=at[1]),Le}(this)},L}()},5353:($t,We,C)=>{"use strict";C.d(We,{aG:()=>E,Do:()=>O,DX:()=>A,PY:()=>j,rk:()=>N,Xv:()=>ce,Yb:()=>B,J9:()=>H,Jk:()=>L,WY:()=>ee,AH:()=>ae});var _=C(4404),T=C(3666),Y=C(9099),ie=C(2114),pe=C(4611),me=C(3066),Me=C(7759),de=C(8299),G=C(2862),Z=C(9367),Q=ie.Z.prototype,W=Y.Z.prototype,re=G.NM,te=Math.floor,q=Math.ceil,oe=Math.pow,M=Math.log,se=function(fe){function he(){var Ce=null!==fe&&fe.apply(this,arguments)||this;return Ce.type="log",Ce.base=10,Ce._originalScale=new Y.Z,Ce._interval=0,Ce}return(0,de.ZT)(he,fe),he.prototype.getTicks=function(Ce){var ye=this._extent,we=this._originalScale.getExtent(),Ae=W.getTicks.call(this,Ce);return _.map(Ae,function(Ne){var Le=Ne.value,Je=G.NM(oe(this.base,Le));return Je=Le===ye[0]&&this._fixMin?K(Je,we[0]):Je,{value:Je=Le===ye[1]&&this._fixMax?K(Je,we[1]):Je}},this)},he.prototype.setExtent=function(Ce,Se){var ye=M(this.base);Ce=M(Math.max(0,Ce))/ye,Se=M(Math.max(0,Se))/ye,W.setExtent.call(this,Ce,Se)},he.prototype.getExtent=function(){var Ce=this.base,Se=Q.getExtent.call(this);Se[0]=oe(Ce,Se[0]),Se[1]=oe(Ce,Se[1]);var we=this._originalScale.getExtent();return this._fixMin&&(Se[0]=K(Se[0],we[0])),this._fixMax&&(Se[1]=K(Se[1],we[1])),Se},he.prototype.unionExtent=function(Ce){this._originalScale.unionExtent(Ce);var Se=this.base;Ce[0]=M(Ce[0])/M(Se),Ce[1]=M(Ce[1])/M(Se),Q.unionExtent.call(this,Ce)},he.prototype.unionExtentFromData=function(Ce,Se){this.unionExtent(Ce.getApproximateExtent(Se))},he.prototype.calcNiceTicks=function(Ce){Ce=Ce||10;var Se=this._extent,ye=Se[1]-Se[0];if(!(ye===1/0||ye<=0)){var we=G.Xd(ye);for(Ce/ye*we<=.5&&(we*=10);!isNaN(we)&&Math.abs(we)<1&&Math.abs(we)>0;)we*=10;var Ne=[G.NM(q(Se[0]/we)*we),G.NM(te(Se[1]/we)*we)];this._interval=we,this._niceExtent=Ne}},he.prototype.calcNiceExtent=function(Ce){W.calcNiceExtent.call(this,Ce),this._fixMin=Ce.fixMin,this._fixMax=Ce.fixMax},he.prototype.parse=function(Ce){return Ce},he.prototype.contain=function(Ce){return Ce=M(Ce)/M(this.base),Z.XS(Ce,this._extent)},he.prototype.normalize=function(Ce){return Ce=M(Ce)/M(this.base),Z.Fv(Ce,this._extent)},he.prototype.scale=function(Ce){return Ce=Z.bA(Ce,this._extent),oe(this.base,Ce)},he.type="log",he}(ie.Z),ge=se.prototype;function K(fe,he){return re(fe,G.p8(he))}ge.getMinorTicks=W.getMinorTicks,ge.getLabel=W.getLabel,ie.Z.registerClass(se);const ve=se;var $=C(6018),X=C(612);function ce(fe,he){var Ce=fe.type,Se=(0,X.Qw)(fe,he,fe.getExtent()).calculate();fe.setBlank(Se.isBlank);var ye=Se.min,we=Se.max,Ae=he.ecModel;if(Ae&&"time"===Ce){var Ne=(0,pe.Ge)("bar",Ae),Le=!1;if(_.each(Ne,function(nt){Le=Le||nt.getBaseAxis()===he.axis}),Le){var Je=(0,pe.My)(Ne),at=function U(fe,he,Ce,Se){var ye=Ce.axis.getExtent(),we=ye[1]-ye[0],Ae=(0,pe.G_)(Se,Ce.axis);if(void 0===Ae)return{min:fe,max:he};var Ne=1/0;_.each(Ae,function(It){Ne=Math.min(It.offset,Ne)});var Le=-1/0;_.each(Ae,function(It){Le=Math.max(It.offset+It.width,Le)}),Ne=Math.abs(Ne),Le=Math.abs(Le);var Je=Ne+Le,at=he-fe,dt=at/(1-(Ne+Le)/we)-at;return{min:fe-=dt*(Ne/Je),max:he+=dt*(Le/Je)}}(ye,we,he,Je);ye=at.min,we=at.max}}return{extent:[ye,we],fixMin:Se.minFixed,fixMax:Se.maxFixed}}function L(fe,he){var Ce=he,Se=ce(fe,Ce),ye=Se.extent,we=Ce.get("splitNumber");fe instanceof ve&&(fe.base=Ce.get("logBase"));var Ae=fe.type,Ne=Ce.get("interval"),Le="interval"===Ae||"time"===Ae;fe.setExtent(ye[0],ye[1]),fe.calcNiceExtent({splitNumber:we,fixMin:Se.fixMin,fixMax:Se.fixMax,minInterval:Le?Ce.get("minInterval"):null,maxInterval:Le?Ce.get("maxInterval"):null}),null!=Ne&&fe.setInterval&&fe.setInterval(Ne)}function E(fe,he){if(he=he||fe.get("type"))switch(he){case"category":return new T.Z({ordinalMeta:fe.getOrdinalMeta?fe.getOrdinalMeta():fe.getCategories(),extent:[1/0,-1/0]});case"time":return new Me.Z({locale:fe.ecModel.getLocaleModel(),useUTC:fe.ecModel.get("useUTC")});default:return new(ie.Z.getClass(he)||Y.Z)}}function B(fe){var he=fe.scale.getExtent(),Ce=he[0],Se=he[1];return!(Ce>0&&Se>0||Ce<0&&Se<0)}function H(fe){var Se,he=fe.getLabelModel().get("formatter"),Ce="category"===fe.type?fe.scale.getExtent()[0]:null;return"time"===fe.scale.type?(Se=he,function(ye,we){return fe.scale.getFormattedLabel(ye,we,Se)}):_.isString(he)?function(Se){return function(ye){var we=fe.scale.getLabel(ye);return Se.replace("{value}",we??"")}}(he):_.isFunction(he)?function(Se){return function(ye,we){return null!=Ce&&(we=ye.value-Ce),Se(A(fe,ye),we,null!=ye.level?{level:ye.level}:null)}}(he):function(Se){return fe.scale.getLabel(Se)}}function A(fe,he){return"category"===fe.type?fe.scale.getLabel(he):he.value}function O(fe){var Ce=fe.scale;if(fe.model.get(["axisLabel","show"])&&!Ce.isBlank()){var Se,ye,we=Ce.getExtent();ye=Ce instanceof T.Z?Ce.count():(Se=Ce.getTicks()).length;var Le,Ae=fe.getLabelModel(),Ne=H(fe),Je=1;ye>40&&(Je=Math.ceil(ye/40));for(var at=0;at<ye;at+=Je){var dt=Ne(Se?Se[at]:{value:we[0]+at},at),an=I(Ae.getTextRect(dt),Ae.get("rotate")||0);Le?Le.union(an):Le=an}return Le}}function I(fe,he){var Ce=he*Math.PI/180,Se=fe.width,ye=fe.height,we=Se*Math.abs(Math.cos(Ce))+Math.abs(ye*Math.sin(Ce)),Ae=Se*Math.abs(Math.sin(Ce))+Math.abs(ye*Math.cos(Ce));return new me.Z(fe.x,fe.y,we,Ae)}function N(fe){return fe.get("interval")??"auto"}function ee(fe){return"category"===fe.type&&0===N(fe.getLabelModel())}function j(fe,he){var Ce={};return _.each(fe.mapDimensionsAll(he),function(Se){Ce[(0,$.IR)(fe,Se)]=!0}),_.keys(Ce)}function ae(fe,he,Ce){he&&_.each(j(he,Ce),function(Se){var ye=he.getApproximateExtent(Se);ye[0]<fe[0]&&(fe[0]=ye[0]),ye[1]>fe[1]&&(fe[1]=ye[1])})}},6129:($t,We,C)=>{"use strict";C.d(We,{W:()=>_});var _=function(){function T(){}return T.prototype.getNeedCrossZero=function(){return!this.option.scale},T.prototype.getCoordSysModel=function(){},T}()},7070:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Y});var _=C(4404);const Y=function(){function ie(pe){this.type="cartesian",this._dimList=[],this._axes={},this.name=pe||""}return ie.prototype.getAxis=function(pe){return this._axes[pe]},ie.prototype.getAxes=function(){return _.map(this._dimList,function(pe){return this._axes[pe]},this)},ie.prototype.getAxesByScale=function(pe){return pe=pe.toLowerCase(),_.filter(this.getAxes(),function(me){return me.scale.type===pe})},ie.prototype.addAxis=function(pe){var me=pe.dim;this._axes[me]=pe,this._dimList.push(me)},ie}()},5199:($t,We,C)=>{"use strict";C.d(We,{Im:()=>q,Ni:()=>te,Qh:()=>W,jM:()=>re});var _=C(8299),T=C(3066),Y=C(8060),ie=C(7157),pe=C(1751),me=C(4404),Me=[];function de(oe,M){for(var se=0;se<oe.length;se++)Y.applyTransform(oe[se],oe[se],M)}function G(oe,M,se,ge){for(var K=0;K<oe.length;K++){var ve=oe[K];ge&&(ve=ge.project(ve)),ve&&isFinite(ve[0])&&isFinite(ve[1])&&(Y.min(M,M,ve),Y.max(se,se,ve))}}var Q=function(){function oe(M){this.name=M}return oe.prototype.setCenter=function(M){this._center=M},oe.prototype.getCenter=function(){var M=this._center;return M||(M=this._center=this.calcCenter()),M},oe}(),W=function oe(M,se){this.type="polygon",this.exterior=M,this.interiors=se},re=function oe(M){this.type="linestring",this.points=M},te=function(oe){function M(se,ge,K){var ve=oe.call(this,se)||this;return ve.type="geoJSON",ve.geometries=ge,ve._center=K&&[K[0],K[1]],ve}return(0,_.ZT)(M,oe),M.prototype.calcCenter=function(){for(var ge,se=this.geometries,K=0,ve=0;ve<se.length;ve++){var $=se[ve],X=$.exterior,ce=X&&X.length;ce>K&&(ge=$,K=ce)}if(ge)return function Z(oe){for(var M=0,se=0,ge=0,K=oe.length,ve=oe[K-1][0],$=oe[K-1][1],X=0;X<K;X++){var ce=oe[X][0],U=oe[X][1],L=ve*U-ce*$;M+=L,se+=(ve+ce)*L,ge+=($+U)*L,ve=ce,$=U}return M?[se/M/3,ge/M/3,M]:[oe[0][0]||0,oe[0][1]||0]}(ge.exterior);var U=this.getBoundingRect();return[U.x+U.width/2,U.y+U.height/2]},M.prototype.getBoundingRect=function(se){var ge=this._rect;if(ge&&!se)return ge;var K=[1/0,1/0],ve=[-1/0,-1/0];return(0,me.each)(this.geometries,function(X){"polygon"===X.type?G(X.exterior,K,ve,se):(0,me.each)(X.points,function(ce){G(ce,K,ve,se)})}),isFinite(K[0])&&isFinite(K[1])&&isFinite(ve[0])&&isFinite(ve[1])||(K[0]=K[1]=ve[0]=ve[1]=0),ge=new T.Z(K[0],K[1],ve[0]-K[0],ve[1]-K[1]),se||(this._rect=ge),ge},M.prototype.contain=function(se){var ge=this.getBoundingRect(),K=this.geometries;if(!ge.contain(se[0],se[1]))return!1;e:for(var ve=0,$=K.length;ve<$;ve++){var X=K[ve];if("polygon"===X.type){var U=X.interiors;if(ie.X(X.exterior,se[0],se[1])){for(var L=0;L<(U?U.length:0);L++)if(ie.X(U[L],se[0],se[1]))continue e;return!0}}}return!1},M.prototype.transformTo=function(se,ge,K,ve){var $=this.getBoundingRect(),X=$.width/$.height;K?ve||(ve=K/X):K=X*ve;for(var ce=new T.Z(se,ge,K,ve),U=$.calculateTransform(ce),L=this.geometries,E=0;E<L.length;E++){var B=L[E];"polygon"===B.type?(de(B.exterior,U),(0,me.each)(B.interiors,function(H){de(H,U)})):(0,me.each)(B.points,function(H){de(H,U)})}($=this._rect).copy(ce),this._center=[$.x+$.width/2,$.y+$.height/2]},M.prototype.cloneShallow=function(se){null==se&&(se=this.name);var ge=new M(se,this.geometries,this._center);return ge._rect=this._rect,ge.transformTo=null,ge},M}(Q),q=function(oe){function M(se,ge){var K=oe.call(this,se)||this;return K.type="geoSVG",K._elOnlyForCalculate=ge,K}return(0,_.ZT)(M,oe),M.prototype.calcCenter=function(){for(var se=this._elOnlyForCalculate,ge=se.getBoundingRect(),K=[ge.x+ge.width/2,ge.y+ge.height/2],ve=pe.identity(Me),$=se;$&&!$.isGeoSVGGraphicRoot;)pe.mul(ve,$.getLocalTransform(),ve),$=$.parent;return pe.invert(ve,ve),Y.applyTransform(K,K,ve),K},M}(Q)},3593:($t,We,C)=>{"use strict";C.d(We,{Z:()=>T});var _={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]};function T(Y,ie){if("china"===Y){var pe=_[ie.name];if(pe){var me=ie.getCenter();me[0]+=pe[0]/10.5,me[1]+=-pe[1]/14,ie.setCenter(me)}}}},5529:($t,We,C)=>{"use strict";C.d(We,{Z:()=>me});var _=C(4404),T=C(5199);function ie(Me,de,G){for(var Z=0;Z<Me.length;Z++)Me[Z]=pe(Me[Z],de[Z],G)}function pe(Me,de,G){for(var Z=[],Q=de[0],W=de[1],re=0;re<Me.length;re+=2){var te=Me.charCodeAt(re)-64,q=Me.charCodeAt(re+1)-64;te=te>>1^-(1&te),q=q>>1^-(1&q),Q=te+=Q,W=q+=W,Z.push([te/G,q/G])}return Z}function me(Me,de){return Me=function Y(Me){if(!Me.UTF8Encoding)return Me;var de=Me,G=de.UTF8Scale;return null==G&&(G=1024),_.each(de.features,function(Q){var W=Q.geometry,re=W.encodeOffsets,te=W.coordinates;if(re)switch(W.type){case"LineString":W.coordinates=pe(te,re,G);break;case"Polygon":case"MultiLineString":ie(te,re,G);break;case"MultiPolygon":_.each(te,function(q,oe){return ie(q,re[oe],G)})}}),de.UTF8Encoding=!1,de}(Me),_.map(_.filter(Me.features,function(G){return G.geometry&&G.properties&&G.geometry.coordinates.length>0}),function(G){var Z=G.properties,Q=G.geometry,W=[];switch(Q.type){case"Polygon":var re=Q.coordinates;W.push(new T.Qh(re[0],re.slice(1)));break;case"MultiPolygon":_.each(Q.coordinates,function(q){q[0]&&W.push(new T.Qh(q[0],q.slice(1)))});break;case"LineString":W.push(new T.jM([Q.coordinates]));break;case"MultiLineString":W.push(new T.jM(Q.coordinates))}var te=new T.Ni(Z[de||"name"],W,Z.cp);return te.properties=Z,te})}},612:($t,We,C)=>{"use strict";C.d(We,{Qw:()=>me});var _=C(4404),T=C(4981),Y=function(){function de(G,Z,Q){this._prepareParams(G,Z,Q)}return de.prototype._prepareParams=function(G,Z,Q){Q[1]<Q[0]&&(Q=[NaN,NaN]),this._dataMin=Q[0],this._dataMax=Q[1];var W=this._isOrdinal="ordinal"===G.type;this._needCrossZero="interval"===G.type&&Z.getNeedCrossZero&&Z.getNeedCrossZero();var re=this._modelMinRaw=Z.get("min",!0);(0,_.isFunction)(re)?this._modelMinNum=Me(G,re({min:Q[0],max:Q[1]})):"dataMin"!==re&&(this._modelMinNum=Me(G,re));var te=this._modelMaxRaw=Z.get("max",!0);if((0,_.isFunction)(te)?this._modelMaxNum=Me(G,te({min:Q[0],max:Q[1]})):"dataMax"!==te&&(this._modelMaxNum=Me(G,te)),W)this._axisDataLen=Z.getCategories().length;else{var q=Z.get("boundaryGap"),oe=(0,_.isArray)(q)?q:[q||0,q||0];this._boundaryGapInner="boolean"==typeof oe[0]||"boolean"==typeof oe[1]?[0,0]:[(0,T.GM)(oe[0],1),(0,T.GM)(oe[1],1)]}},de.prototype.calculate=function(){var G=this._isOrdinal,Z=this._dataMin,Q=this._dataMax,W=this._axisDataLen,re=this._boundaryGapInner,te=G?null:Q-Z||Math.abs(Z),q="dataMin"===this._modelMinRaw?Z:this._modelMinNum,oe="dataMax"===this._modelMaxRaw?Q:this._modelMaxNum,M=null!=q,se=null!=oe;null==q&&(q=G?W?0:NaN:Z-re[0]*te),null==oe&&(oe=G?W?W-1:NaN:Q+re[1]*te),(null==q||!isFinite(q))&&(q=NaN),(null==oe||!isFinite(oe))&&(oe=NaN);var ge=(0,_.eqNaN)(q)||(0,_.eqNaN)(oe)||G&&!W;this._needCrossZero&&(q>0&&oe>0&&!M&&(q=0),q<0&&oe<0&&!se&&(oe=0));var K=this._determinedMin,ve=this._determinedMax;return null!=K&&(q=K,M=!0),null!=ve&&(oe=ve,se=!0),{min:q,max:oe,minFixed:M,maxFixed:se,isBlank:ge}},de.prototype.modifyDataMinMax=function(G,Z){this[pe[G]]=Z},de.prototype.setDeterminedMinMax=function(G,Z){this[ie[G]]=Z},de.prototype.freeze=function(){this.frozen=!0},de}(),ie={min:"_determinedMin",max:"_determinedMax"},pe={min:"_dataMin",max:"_dataMax"};function me(de,G,Z){var Q=de.rawExtentInfo;return Q||(Q=new Y(de,G,Z),de.rawExtentInfo=Q,Q)}function Me(de,G){return null==G?null:(0,_.eqNaN)(G)?NaN:de.parse(G)}},1255:($t,We,C)=>{"use strict";C.d(We,{Z:()=>ie});var _=C(4404),T={};const ie=function(){function pe(){this._coordinateSystems=[]}return pe.prototype.create=function(me,Me){var de=[];_.each(T,function(G,Z){var Q=G.create(me,Me);de=de.concat(Q||[])}),this._coordinateSystems=de},pe.prototype.update=function(me,Me){_.each(this._coordinateSystems,function(de){de.update&&de.update(me,Me)})},pe.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},pe.register=function(me,Me){T[me]=Me},pe.get=function(me){return T[me]},pe}()},2235:($t,We,C)=>{"use strict";C.d(We,{Hr:()=>Ko,$j:()=>Rs,Ok:()=>dl,HO:()=>ps,eU:()=>Vs,zP:()=>Mi,B9:()=>Oo,wL:()=>mc,JE:()=>zl,rp:()=>bi,FU:()=>Ms,S1:()=>wo,zl:()=>mo,RS:()=>_s,qR:()=>Hs,yn:()=>s1,I2:()=>ql.I2,je:()=>yc,sq:()=>Ra,Br:()=>o1,ds:()=>Qc,Pu:()=>a1,aW:()=>Nl,OB:()=>z1,YK:()=>$s,Og:()=>Xs,jQ:()=>E1,i8:()=>No});var _=C(8299),T=C(8555),Y=C(4404),ie=C(8519),pe=C(8098),me=C(7481),Me=C(6496),de=C(2590),G=C(562),Z="";typeof navigator<"u"&&(Z=navigator.platform||"");var Q="rgba(0, 0, 0, 0.2)";const W={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Q,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Q,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Q,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Q,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Q,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Q,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Z.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var oe,M,se,re=C(9475),te=C(6374),q=C(7595),ge="\0_ec_inner",U=function(ft){function gt(){return null!==ft&&ft.apply(this,arguments)||this}return(0,_.ZT)(gt,ft),gt.prototype.init=function(rt,mt,Dt,Bt,ln,Kn){Bt=Bt||{},this.option=null,this._theme=new de.Z(Bt),this._locale=new de.Z(ln),this._optionManager=Kn},gt.prototype.setOption=function(rt,mt,Dt){var Bt=A(mt);this._optionManager.setOption(rt,Dt,Bt),this._resetOption(null,Bt)},gt.prototype.resetOption=function(rt,mt){return this._resetOption(rt,A(mt))},gt.prototype._resetOption=function(rt,mt){var Dt=!1,Bt=this._optionManager;if(!rt||"recreate"===rt){var ln=Bt.mountOption("recreate"===rt);this.option&&"recreate"!==rt?(this.restoreData(),this._mergeOption(ln,mt)):se(this,ln),Dt=!0}if(("timeline"===rt||"media"===rt)&&this.restoreData(),!rt||"recreate"===rt||"timeline"===rt){var Kn=Bt.getTimelineOption(this);Kn&&(Dt=!0,this._mergeOption(Kn,mt))}if(!rt||"recreate"===rt||"media"===rt){var Yn=Bt.getMediaOption(this);Yn.length&&(0,Y.each)(Yn,function(Sr){Dt=!0,this._mergeOption(Sr,mt)},this)}return Dt},gt.prototype.mergeOption=function(rt){this._mergeOption(rt,null)},gt.prototype._mergeOption=function(rt,mt){var Dt=this.option,Bt=this._componentsMap,ln=this._componentsCount,Kn=[],Yn=(0,Y.createHashMap)(),Sr=mt&&mt.replaceMergeMainTypeMap;(0,re.md)(this),(0,Y.each)(rt,function(qt,Sn){null!=qt&&(G.Z.hasClass(Sn)?Sn&&(Kn.push(Sn),Yn.set(Sn,!0)):Dt[Sn]=null==Dt[Sn]?(0,Y.clone)(qt):(0,Y.merge)(Dt[Sn],qt,!0))}),Sr&&Sr.each(function(qt,Sn){G.Z.hasClass(Sn)&&!Yn.get(Sn)&&(Kn.push(Sn),Yn.set(Sn,!0))}),G.Z.topologicalTravel(Kn,G.Z.getAllClassMainTypes(),function Yr(qt){var Sn=(0,te.R)(this,qt,Me.kF(rt[qt])),fn=Bt.get(qt),Hn=fn?Sr&&Sr.get(qt)?"replaceMerge":"normalMerge":"replaceAll",nr=Me.ab(fn,Sn,Hn);Me.O0(nr,qt,G.Z),Dt[qt]=null,Bt.set(qt,null),ln.set(qt,0);var De,pr=[],Dr=[],jr=0;(0,Y.each)(nr,function(Fe,et){var Nt=Fe.existing,Rn=Fe.newOption;if(Rn){var _r=G.Z.getClass(qt,Fe.keyInfo.subType,!("series"===qt));if(!_r)return;if("tooltip"===qt){if(De)return;De=!0}if(Nt&&Nt.constructor===_r)Nt.name=Fe.keyInfo.name,Nt.mergeOption(Rn,this),Nt.optionUpdated(Rn,!1);else{var fa=(0,Y.extend)({componentIndex:et},Fe.keyInfo);Nt=new _r(Rn,this,this,fa),(0,Y.extend)(Nt,fa),Fe.brandNew&&(Nt.__requireNewView=!0),Nt.init(Rn,this,this),Nt.optionUpdated(null,!0)}}else Nt&&(Nt.mergeOption({},this),Nt.optionUpdated({},!1));Nt?(pr.push(Nt.option),Dr.push(Nt),jr++):(pr.push(void 0),Dr.push(void 0))},this),Dt[qt]=pr,Bt.set(qt,Dr),ln.set(qt,jr),"series"===qt&&oe(this)},this),this._seriesIndices||oe(this)},gt.prototype.getOption=function(){var rt=(0,Y.clone)(this.option);return(0,Y.each)(rt,function(mt,Dt){if(G.Z.hasClass(Dt)){for(var Bt=Me.kF(mt),ln=Bt.length,Kn=!1,Yn=ln-1;Yn>=0;Yn--)Bt[Yn]&&!Me.lY(Bt[Yn])?Kn=!0:(Bt[Yn]=null,!Kn&&ln--);Bt.length=ln,rt[Dt]=Bt}}),delete rt[ge],rt},gt.prototype.getTheme=function(){return this._theme},gt.prototype.getLocaleModel=function(){return this._locale},gt.prototype.setUpdatePayload=function(rt){this._payload=rt},gt.prototype.getUpdatePayload=function(){return this._payload},gt.prototype.getComponent=function(rt,mt){var Dt=this._componentsMap.get(rt);if(Dt){var Bt=Dt[mt||0];if(Bt)return Bt;if(null==mt)for(var ln=0;ln<Dt.length;ln++)if(Dt[ln])return Dt[ln]}},gt.prototype.queryComponents=function(rt){var mt=rt.mainType;if(!mt)return[];var Yn,Dt=rt.index,Bt=rt.id,ln=rt.name,Kn=this._componentsMap.get(mt);return Kn&&Kn.length?(null!=Dt?(Yn=[],(0,Y.each)(Me.kF(Dt),function(Sr){Kn[Sr]&&Yn.push(Kn[Sr])})):Yn=null!=Bt?B("id",Bt,Kn):null!=ln?B("name",ln,Kn):(0,Y.filter)(Kn,function(Sr){return!!Sr}),H(Yn,rt)):[]},gt.prototype.findComponents=function(rt){var Dt=rt.mainType,Bt=function Kn(Sr){var Yr=Dt+"Index",qt=Dt+"Id",Sn=Dt+"Name";return!Sr||null==Sr[Yr]&&null==Sr[qt]&&null==Sr[Sn]?null:{mainType:Dt,index:Sr[Yr],id:Sr[qt],name:Sr[Sn]}}(rt.query);return function Yn(Sr){return rt.filter?(0,Y.filter)(Sr,rt.filter):Sr}(H(Bt?this.queryComponents(Bt):(0,Y.filter)(this._componentsMap.get(Dt),function(Sr){return!!Sr}),rt))},gt.prototype.eachComponent=function(rt,mt,Dt){var Bt=this._componentsMap;if((0,Y.isFunction)(rt)){var ln=mt,Kn=rt;Bt.each(function(qt,Sn){for(var fn=0;qt&&fn<qt.length;fn++){var Hn=qt[fn];Hn&&Kn.call(ln,Sn,Hn,Hn.componentIndex)}})}else for(var Yn=(0,Y.isString)(rt)?Bt.get(rt):(0,Y.isObject)(rt)?this.findComponents(rt):null,Sr=0;Yn&&Sr<Yn.length;Sr++){var Yr=Yn[Sr];Yr&&mt.call(Dt,Yr,Yr.componentIndex)}},gt.prototype.getSeriesByName=function(rt){var mt=Me.U5(rt,null);return(0,Y.filter)(this._componentsMap.get("series"),function(Dt){return!!Dt&&null!=mt&&Dt.name===mt})},gt.prototype.getSeriesByIndex=function(rt){return this._componentsMap.get("series")[rt]},gt.prototype.getSeriesByType=function(rt){return(0,Y.filter)(this._componentsMap.get("series"),function(mt){return!!mt&&mt.subType===rt})},gt.prototype.getSeries=function(){return(0,Y.filter)(this._componentsMap.get("series"),function(rt){return!!rt})},gt.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},gt.prototype.eachSeries=function(rt,mt){M(this),(0,Y.each)(this._seriesIndices,function(Dt){var Bt=this._componentsMap.get("series")[Dt];rt.call(mt,Bt,Dt)},this)},gt.prototype.eachRawSeries=function(rt,mt){(0,Y.each)(this._componentsMap.get("series"),function(Dt){Dt&&rt.call(mt,Dt,Dt.componentIndex)})},gt.prototype.eachSeriesByType=function(rt,mt,Dt){M(this),(0,Y.each)(this._seriesIndices,function(Bt){var ln=this._componentsMap.get("series")[Bt];ln.subType===rt&&mt.call(Dt,ln,Bt)},this)},gt.prototype.eachRawSeriesByType=function(rt,mt,Dt){return(0,Y.each)(this.getSeriesByType(rt),mt,Dt)},gt.prototype.isSeriesFiltered=function(rt){return M(this),null==this._seriesIndicesMap.get(rt.componentIndex)},gt.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},gt.prototype.filterSeries=function(rt,mt){M(this);var Dt=[];(0,Y.each)(this._seriesIndices,function(Bt){var ln=this._componentsMap.get("series")[Bt];rt.call(mt,ln,Bt)&&Dt.push(Bt)},this),this._seriesIndices=Dt,this._seriesIndicesMap=(0,Y.createHashMap)(Dt)},gt.prototype.restoreData=function(rt){oe(this);var mt=this._componentsMap,Dt=[];mt.each(function(Bt,ln){G.Z.hasClass(ln)&&Dt.push(ln)}),G.Z.topologicalTravel(Dt,G.Z.getAllClassMainTypes(),function(Bt){(0,Y.each)(mt.get(Bt),function(ln){ln&&("series"!==Bt||!function L(ft,gt){if(gt){var rt=gt.seriesIndex,mt=gt.seriesId,Dt=gt.seriesName;return null!=rt&&ft.componentIndex!==rt||null!=mt&&ft.id!==mt||null!=Dt&&ft.name!==Dt}}(ln,rt))&&ln.restoreData()})})},gt.internalField=(oe=function(rt){var mt=rt._seriesIndices=[];(0,Y.each)(rt._componentsMap.get("series"),function(Dt){Dt&&mt.push(Dt.componentIndex)}),rt._seriesIndicesMap=(0,Y.createHashMap)(mt)},M=function(rt){},void(se=function(rt,mt){rt.option={},rt.option[ge]=1,rt._componentsMap=(0,Y.createHashMap)({series:[]}),rt._componentsCount=(0,Y.createHashMap)();var Dt=mt.aria;(0,Y.isObject)(Dt)&&null==Dt.enabled&&(Dt.enabled=!0),function E(ft,gt){var rt=ft.color&&!ft.colorLayer;(0,Y.each)(gt,function(mt,Dt){"colorLayer"===Dt&&rt||G.Z.hasClass(Dt)||("object"==typeof mt?ft[Dt]=ft[Dt]?(0,Y.merge)(ft[Dt],mt,!1):(0,Y.clone)(mt):null==ft[Dt]&&(ft[Dt]=mt))})}(mt,rt._theme.option),(0,Y.merge)(mt,W,!1),rt._mergeOption(mt,null)})),gt}(de.Z);function B(ft,gt,rt){if((0,Y.isArray)(gt)){var mt=(0,Y.createHashMap)();return(0,Y.each)(gt,function(Bt){null!=Bt&&null!=Me.U5(Bt,null)&&mt.set(Bt,!0)}),(0,Y.filter)(rt,function(Bt){return Bt&&mt.get(Bt[ft])})}var Dt=Me.U5(gt,null);return(0,Y.filter)(rt,function(Bt){return Bt&&null!=Dt&&Bt[ft]===Dt})}function H(ft,gt){return gt.hasOwnProperty("subType")?(0,Y.filter)(ft,function(rt){return rt&&rt.subType===gt.subType}):ft}function A(ft){var gt=(0,Y.createHashMap)();return ft&&(0,Y.each)(Me.kF(ft.replaceMerge),function(rt){gt.set(rt,!0)}),{replaceMergeMainTypeMap:gt}}(0,Y.mixin)(U,q._);const O=U;var I=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const ee=function ft(gt){Y.each(I,function(rt){this[rt]=Y.bind(gt[rt],gt)},this)};var j=C(1255),ae=/^(min|max)?(.+)$/;function Ce(ft,gt,rt){var mt={width:gt,height:rt,aspectratio:gt/rt},Dt=!0;return(0,Y.each)(ft,function(Bt,ln){var Kn=ln.match(ae);if(Kn&&Kn[1]&&Kn[2]){var Yn=Kn[1],Sr=Kn[2].toLowerCase();(function Se(ft,gt,rt){return"min"===rt?ft>=gt:"max"===rt?ft<=gt:ft===gt})(mt[Sr],Bt,Yn)||(Dt=!1)}}),Dt}const we=function(){function ft(gt){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=gt}return ft.prototype.setOption=function(gt,rt,mt){gt&&((0,Y.each)((0,Me.kF)(gt.series),function(ln){ln&&ln.data&&(0,Y.isTypedArray)(ln.data)&&(0,Y.setAsPrimitive)(ln.data)}),(0,Y.each)((0,Me.kF)(gt.dataset),function(ln){ln&&ln.source&&(0,Y.isTypedArray)(ln.source)&&(0,Y.setAsPrimitive)(ln.source)})),gt=(0,Y.clone)(gt);var Dt=this._optionBackup,Bt=function he(ft,gt,rt){var Dt,Bt,mt=[],ln=ft.baseOption,Kn=ft.timeline,Yn=ft.options,Sr=ft.media,Yr=!!ft.media,qt=!!(Yn||Kn||ln&&ln.timeline);function Sn(fn){(0,Y.each)(gt,function(Hn){Hn(fn,rt)})}return ln?(Bt=ln).timeline||(Bt.timeline=Kn):((qt||Yr)&&(ft.options=ft.media=null),Bt=ft),Yr&&(0,Y.isArray)(Sr)&&(0,Y.each)(Sr,function(fn){fn&&fn.option&&(fn.query?mt.push(fn):Dt||(Dt=fn))}),Sn(Bt),(0,Y.each)(Yn,function(fn){return Sn(fn)}),(0,Y.each)(mt,function(fn){return Sn(fn.option)}),{baseOption:Bt,timelineOptions:Yn||[],mediaDefault:Dt,mediaList:mt}}(gt,rt,!Dt);this._newBaseOption=Bt.baseOption,Dt?(Bt.timelineOptions.length&&(Dt.timelineOptions=Bt.timelineOptions),Bt.mediaList.length&&(Dt.mediaList=Bt.mediaList),Bt.mediaDefault&&(Dt.mediaDefault=Bt.mediaDefault)):this._optionBackup=Bt},ft.prototype.mountOption=function(gt){var rt=this._optionBackup;return this._timelineOptions=rt.timelineOptions,this._mediaList=rt.mediaList,this._mediaDefault=rt.mediaDefault,this._currentMediaIndices=[],(0,Y.clone)(gt?rt.baseOption:this._newBaseOption)},ft.prototype.getTimelineOption=function(gt){var rt,mt=this._timelineOptions;if(mt.length){var Dt=gt.getComponent("timeline");Dt&&(rt=(0,Y.clone)(mt[Dt.getCurrentIndex()]))}return rt},ft.prototype.getMediaOption=function(gt){var rt=this._api.getWidth(),mt=this._api.getHeight(),Dt=this._mediaList,Bt=this._mediaDefault,ln=[],Kn=[];if(!Dt.length&&!Bt)return Kn;for(var Yn=0,Sr=Dt.length;Yn<Sr;Yn++)Ce(Dt[Yn].query,rt,mt)&&ln.push(Yn);return!ln.length&&Bt&&(ln=[-1]),ln.length&&!function ye(ft,gt){return ft.join(",")===gt.join(",")}(ln,this._currentMediaIndices)&&(Kn=(0,Y.map)(ln,function(Yr){return(0,Y.clone)(-1===Yr?Bt.option:Dt[Yr].option)})),this._currentMediaIndices=ln,Kn},ft}();var Ae=Y.each,Ne=Y.isObject,Le=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Je(ft){var gt=ft&&ft.itemStyle;if(gt)for(var rt=0,mt=Le.length;rt<mt;rt++){var Dt=Le[rt],Bt=gt.normal,ln=gt.emphasis;Bt&&Bt[Dt]&&(ft[Dt]=ft[Dt]||{},ft[Dt].normal?Y.merge(ft[Dt].normal,Bt[Dt]):ft[Dt].normal=Bt[Dt],Bt[Dt]=null),ln&&ln[Dt]&&(ft[Dt]=ft[Dt]||{},ft[Dt].emphasis?Y.merge(ft[Dt].emphasis,ln[Dt]):ft[Dt].emphasis=ln[Dt],ln[Dt]=null)}}function at(ft,gt,rt){if(ft&&ft[gt]&&(ft[gt].normal||ft[gt].emphasis)){var mt=ft[gt].normal,Dt=ft[gt].emphasis;mt&&(rt?(ft[gt].normal=ft[gt].emphasis=null,Y.defaults(ft[gt],mt)):ft[gt]=mt),Dt&&(ft.emphasis=ft.emphasis||{},ft.emphasis[gt]=Dt,Dt.focus&&(ft.emphasis.focus=Dt.focus),Dt.blurScope&&(ft.emphasis.blurScope=Dt.blurScope))}}function nt(ft){at(ft,"itemStyle"),at(ft,"lineStyle"),at(ft,"areaStyle"),at(ft,"label"),at(ft,"labelLine"),at(ft,"upperLabel"),at(ft,"edgeLabel")}function dt(ft,gt){var rt=Ne(ft)&&ft[gt],mt=Ne(rt)&&rt.textStyle;if(mt)for(var Dt=0,Bt=Me.Td.length;Dt<Bt;Dt++){var ln=Me.Td[Dt];mt.hasOwnProperty(ln)&&(rt[ln]=mt[ln])}}function It(ft){ft&&(nt(ft),dt(ft,"label"),ft.emphasis&&dt(ft.emphasis,"label"))}function Yt(ft){return Y.isArray(ft)?ft:ft?[ft]:[]}function mn(ft){return(Y.isArray(ft)?ft[0]:ft)||{}}function Fn(ft){ft&&(0,Y.each)(Rr,function(gt){gt[0]in ft&&!(gt[1]in ft)&&(ft[gt[1]]=ft[gt[0]])})}var Rr=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],hn=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],ot=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Et(ft){var gt=ft&&ft.itemStyle;if(gt)for(var rt=0;rt<ot.length;rt++){var mt=ot[rt][1];null!=gt[mt]&&(gt[ot[rt][0]]=gt[mt])}}function Tt(ft){ft&&"edge"===ft.alignTo&&null!=ft.margin&&null==ft.edgeDistance&&(ft.edgeDistance=ft.margin)}function Xt(ft){ft&&ft.downplay&&!ft.blur&&(ft.blur=ft.downplay)}function Dn(ft,gt){if(ft)for(var rt=0;rt<ft.length;rt++)gt(ft[rt]),ft[rt]&&Dn(ft[rt].children,gt)}function Ln(ft,gt){(function Cn(ft,gt){Ae(Yt(ft.series),function(mt){Ne(mt)&&function an(ft){if(Ne(ft)){Je(ft),nt(ft),dt(ft,"label"),dt(ft,"upperLabel"),dt(ft,"edgeLabel"),ft.emphasis&&(dt(ft.emphasis,"label"),dt(ft.emphasis,"upperLabel"),dt(ft.emphasis,"edgeLabel"));var gt=ft.markPoint;gt&&(Je(gt),It(gt));var rt=ft.markLine;rt&&(Je(rt),It(rt));var mt=ft.markArea;mt&&It(mt);var Dt=ft.data;if("graph"===ft.type){Dt=Dt||ft.nodes;var Bt=ft.links||ft.edges;if(Bt&&!Y.isTypedArray(Bt))for(var ln=0;ln<Bt.length;ln++)It(Bt[ln]);Y.each(ft.categories,function(Sr){nt(Sr)})}if(Dt&&!Y.isTypedArray(Dt))for(ln=0;ln<Dt.length;ln++)It(Dt[ln]);if((gt=ft.markPoint)&&gt.data){var Kn=gt.data;for(ln=0;ln<Kn.length;ln++)It(Kn[ln])}if((rt=ft.markLine)&&rt.data){var Yn=rt.data;for(ln=0;ln<Yn.length;ln++)Y.isArray(Yn[ln])?(It(Yn[ln][0]),It(Yn[ln][1])):It(Yn[ln])}"gauge"===ft.type?(dt(ft,"axisLabel"),dt(ft,"title"),dt(ft,"detail")):"treemap"===ft.type?(at(ft.breadcrumb,"itemStyle"),Y.each(ft.levels,function(Sr){nt(Sr)})):"tree"===ft.type&&nt(ft.leaves)}}(mt)});var rt=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];gt&&rt.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ae(rt,function(mt){Ae(Yt(ft[mt]),function(Dt){Dt&&(dt(Dt,"axisLabel"),dt(Dt.axisPointer,"label"))})}),Ae(Yt(ft.parallel),function(mt){var Dt=mt&&mt.parallelAxisDefault;dt(Dt,"axisLabel"),dt(Dt&&Dt.axisPointer,"label")}),Ae(Yt(ft.calendar),function(mt){at(mt,"itemStyle"),dt(mt,"dayLabel"),dt(mt,"monthLabel"),dt(mt,"yearLabel")}),Ae(Yt(ft.radar),function(mt){dt(mt,"name"),mt.name&&null==mt.axisName&&(mt.axisName=mt.name,delete mt.name),null!=mt.nameGap&&null==mt.axisNameGap&&(mt.axisNameGap=mt.nameGap,delete mt.nameGap)}),Ae(Yt(ft.geo),function(mt){Ne(mt)&&(It(mt),Ae(Yt(mt.regions),function(Dt){It(Dt)}))}),Ae(Yt(ft.timeline),function(mt){It(mt),at(mt,"label"),at(mt,"itemStyle"),at(mt,"controlStyle",!0);var Dt=mt.data;Y.isArray(Dt)&&Y.each(Dt,function(Bt){Y.isObject(Bt)&&(at(Bt,"label"),at(Bt,"itemStyle"))})}),Ae(Yt(ft.toolbox),function(mt){at(mt,"iconStyle"),Ae(mt.feature,function(Dt){at(Dt,"iconStyle")})}),dt(mn(ft.axisPointer),"label"),dt(mn(ft.tooltip).axisPointer,"label")})(ft,gt),ft.series=(0,Me.kF)(ft.series),(0,Y.each)(ft.series,function(rt){if((0,Y.isObject)(rt)){var mt=rt.type;if("line"===mt)null!=rt.clipOverflow&&(rt.clip=rt.clipOverflow);else if("pie"===mt||"gauge"===mt){if(null!=rt.clockWise&&(rt.clockwise=rt.clockWise),Tt(rt.label),(Dt=rt.data)&&!(0,Y.isTypedArray)(Dt))for(var Bt=0;Bt<Dt.length;Bt++)Tt(Dt[Bt]);null!=rt.hoverOffset&&(rt.emphasis=rt.emphasis||{},(rt.emphasis.scaleSize=null)&&(rt.emphasis.scaleSize=rt.hoverOffset))}else if("gauge"===mt){var ln=function Gn(ft,gt){for(var rt=gt.split(","),mt=ft,Dt=0;Dt<rt.length&&null!=(mt=mt&&mt[rt[Dt]]);Dt++);return mt}(rt,"pointer.color");null!=ln&&function Wn(ft,gt,rt,mt){for(var ln,Dt=gt.split(","),Bt=ft,Kn=0;Kn<Dt.length-1;Kn++)null==Bt[ln=Dt[Kn]]&&(Bt[ln]={}),Bt=Bt[ln];(mt||null==Bt[Dt[Kn]])&&(Bt[Dt[Kn]]=rt)}(rt,"itemStyle.color",ln)}else if("bar"===mt){var Dt;if(Et(rt),Et(rt.backgroundStyle),Et(rt.emphasis),(Dt=rt.data)&&!(0,Y.isTypedArray)(Dt))for(Bt=0;Bt<Dt.length;Bt++)"object"==typeof Dt[Bt]&&(Et(Dt[Bt]),Et(Dt[Bt]&&Dt[Bt].emphasis))}else if("sunburst"===mt){var Kn=rt.highlightPolicy;Kn&&(rt.emphasis=rt.emphasis||{},rt.emphasis.focus||(rt.emphasis.focus=Kn)),Xt(rt),Dn(rt.data,Xt)}else"graph"===mt||"sankey"===mt?function Wt(ft){ft&&null!=ft.focusNodeAdjacency&&(ft.emphasis=ft.emphasis||{},null==ft.emphasis.focus&&(ft.emphasis.focus="adjacency"))}(rt):"map"===mt&&(rt.mapType&&!rt.map&&(rt.map=rt.mapType),rt.mapLocation&&(0,Y.defaults)(rt,rt.mapLocation));null!=rt.hoverAnimation&&(rt.emphasis=rt.emphasis||{},rt.emphasis&&null==rt.emphasis.scale&&(rt.emphasis.scale=rt.hoverAnimation)),Fn(rt)}}),ft.dataRange&&(ft.visualMap=ft.dataRange),(0,Y.each)(hn,function(rt){var mt=ft[rt];mt&&((0,Y.isArray)(mt)||(mt=[mt]),(0,Y.each)(mt,function(Dt){Fn(Dt)}))})}var xr=C(2862);function ct(ft){(0,Y.each)(ft,function(gt,rt){var mt=[],Dt=[NaN,NaN],Bt=[gt.stackResultDimension,gt.stackedOverDimension],ln=gt.data,Kn=gt.isStackedByIndex,Yn=gt.seriesModel.get("stackStrategy")||"samesign";ln.modify(Bt,function(Sr,Yr,qt){var fn,Hn,Sn=ln.get(gt.stackedDimension,qt);if(isNaN(Sn))return Dt;Kn?Hn=ln.getRawIndex(qt):fn=ln.get(gt.stackedByDimension,qt);for(var nr=NaN,pr=rt-1;pr>=0;pr--){var Dr=ft[pr];if(Kn||(Hn=Dr.data.rawIndexOf(Dr.stackedByDimension,fn)),Hn>=0){var jr=Dr.data.getByRawIndex(Dr.stackResultDimension,Hn);if("all"===Yn||"positive"===Yn&&jr>0||"negative"===Yn&&jr<0||"samesign"===Yn&&Sn>=0&&jr>0||"samesign"===Yn&&Sn<=0&&jr<0){Sn=(0,xr.S$)(Sn,jr),nr=jr;break}}}return mt[0]=Sn,mt[1]=nr,mt})})}var Ft=C(8736),Un=C(907),Gt=C(2752),_t=C(2501),Xe=C(1959),Ye=C(5271),ke=C(649),Ct=C(9133),Mt=C(6499),Jt=C(9724),bn=C(8202),ar=C(2585),Ar=C(7794),Gr=(0,Me.Yf)(),Mn={itemStyle:(0,bn.Z)(ar.t,!0),lineStyle:(0,bn.Z)(Ar.v,!0)},on={lineStyle:"stroke",itemStyle:"fill"};function Ht(ft,gt){return ft.visualStyleMapper||Mn[gt]||(console.warn("Unknown style type '"+gt+"'."),Mn.itemStyle)}function tn(ft,gt){return ft.visualDrawType||on[gt]||(console.warn("Unknown style type '"+gt+"'."),"fill")}var Xn={createOnAllSeries:!0,performRawSeries:!0,reset:function(ft,gt){var rt=ft.getData(),mt=ft.visualStyleAccessPath||"itemStyle",Dt=ft.getModel(mt),ln=Ht(ft,mt)(Dt),Kn=Dt.getShallow("decal");Kn&&(rt.setVisual("decal",Kn),Kn.dirty=!0);var Yn=tn(ft,mt),Sr=ln[Yn],Yr=(0,Y.isFunction)(Sr)?Sr:null;if(!ln[Yn]||Yr||"auto"===ln.fill||"auto"===ln.stroke){var Sn=ft.getColorFromPalette(ft.name,null,gt.getSeriesCount());ln[Yn]||(ln[Yn]=Sn,rt.setVisual("colorFromPalette",!0)),ln.fill="auto"===ln.fill||(0,Y.isFunction)(ln.fill)?Sn:ln.fill,ln.stroke="auto"===ln.stroke||(0,Y.isFunction)(ln.stroke)?Sn:ln.stroke}if(rt.setVisual("style",ln),rt.setVisual("drawType",Yn),!gt.isSeriesFiltered(ft)&&Yr)return rt.setVisual("colorFromPalette",!1),{dataEach:function(fn,Hn){var nr=ft.getDataParams(Hn),pr=(0,Y.extend)({},ln);pr[Yn]=Yr(nr),fn.setItemVisual(Hn,"style",pr)}}}},Lr=new de.Z,Br={createOnAllSeries:!0,performRawSeries:!0,reset:function(ft,gt){if(!ft.ignoreStyleOnData&&!gt.isSeriesFiltered(ft)){var rt=ft.getData(),mt=ft.visualStyleAccessPath||"itemStyle",Dt=Ht(ft,mt),Bt=rt.getVisual("drawType");return{dataEach:rt.hasItemOption?function(ln,Kn){var Yn=ln.getRawDataItem(Kn);if(Yn&&Yn[mt]){Lr.option=Yn[mt];var Sr=Dt(Lr),Yr=ln.ensureUniqueItemVisual(Kn,"style");(0,Y.extend)(Yr,Sr),Lr.option.decal&&(ln.setItemVisual(Kn,"decal",Lr.option.decal),Lr.option.decal.dirty=!0),Bt in Sr&&ln.setItemVisual(Kn,"colorFromPalette",!1)}}:null}}}},vi={performRawSeries:!0,overallReset:function(ft){var gt=(0,Y.createHashMap)();ft.eachSeries(function(rt){var mt=rt.getColorBy();if(!rt.isColorBySeries()){var Dt=rt.type+"-"+mt,Bt=gt.get(Dt);Bt||gt.set(Dt,Bt={}),Gr(rt).scope=Bt}}),ft.eachSeries(function(rt){if(!rt.isColorBySeries()&&!ft.isSeriesFiltered(rt)){var mt=rt.getRawData(),Dt={},Bt=rt.getData(),ln=Gr(rt).scope,Yn=tn(rt,rt.visualStyleAccessPath||"itemStyle");Bt.each(function(Sr){var Yr=Bt.getRawIndex(Sr);Dt[Yr]=Sr}),mt.each(function(Sr){var Yr=Dt[Sr];if(Bt.getItemVisual(Yr,"colorFromPalette")){var Sn=Bt.ensureUniqueItemVisual(Yr,"style"),fn=mt.getName(Sr)||Sr+"",Hn=mt.count();Sn[Yn]=rt.getColorFromPalette(fn,ln,Hn)}})}})}},Hi=C(4271),$i=C(2054),Pa=C(8972),On=Math.PI,qe=C(5096),it=C(7692),pt=function(){function ft(gt,rt,mt,Dt){this._stageTaskMap=(0,Y.createHashMap)(),this.ecInstance=gt,this.api=rt,mt=this._dataProcessorHandlers=mt.slice(),Dt=this._visualHandlers=Dt.slice(),this._allHandlers=mt.concat(Dt)}return ft.prototype.restoreData=function(gt,rt){gt.restoreData(rt),this._stageTaskMap.each(function(mt){var Dt=mt.overallTask;Dt&&Dt.dirty()})},ft.prototype.getPerformArgs=function(gt,rt){if(gt.__pipeline){var mt=this._pipelineMap.get(gt.__pipeline.id),Dt=mt.context,ln=!rt&&mt.progressiveEnabled&&(!Dt||Dt.progressiveRender)&&gt.__idxInPipeline>mt.blockIndex?mt.step:null,Kn=Dt&&Dt.modDataCount;return{step:ln,modBy:null!=Kn?Math.ceil(Kn/ln):null,modDataCount:Kn}}},ft.prototype.getPipeline=function(gt){return this._pipelineMap.get(gt)},ft.prototype.updateStreamModes=function(gt,rt){var mt=this._pipelineMap.get(gt.uid),Bt=gt.getData().count(),ln=mt.progressiveEnabled&&rt.incrementalPrepareRender&&Bt>=mt.threshold,Kn=gt.get("large")&&Bt>=gt.get("largeThreshold"),Yn="mod"===gt.get("progressiveChunkMode")?Bt:null;gt.pipelineContext=mt.context={progressiveRender:ln,modDataCount:Yn,large:Kn}},ft.prototype.restorePipelines=function(gt){var rt=this,mt=rt._pipelineMap=(0,Y.createHashMap)();gt.eachSeries(function(Dt){var Bt=Dt.getProgressive(),ln=Dt.uid;mt.set(ln,{id:ln,head:null,tail:null,threshold:Dt.getProgressiveThreshold(),progressiveEnabled:Bt&&!(Dt.preventIncremental&&Dt.preventIncremental()),blockIndex:-1,step:Math.round(Bt||700),count:0}),rt._pipe(Dt,Dt.dataTask)})},ft.prototype.prepareStageTasks=function(){var gt=this._stageTaskMap,rt=this.api.getModel(),mt=this.api;(0,Y.each)(this._allHandlers,function(Dt){var Bt=gt.get(Dt.uid)||gt.set(Dt.uid,{});(0,Y.assert)(!(Dt.reset&&Dt.overallReset),""),Dt.reset&&this._createSeriesStageTask(Dt,Bt,rt,mt),Dt.overallReset&&this._createOverallStageTask(Dt,Bt,rt,mt)},this)},ft.prototype.prepareView=function(gt,rt,mt,Dt){var Bt=gt.renderTask,ln=Bt.context;ln.model=rt,ln.ecModel=mt,ln.api=Dt,Bt.__block=!gt.incrementalPrepareRender,this._pipe(rt,Bt)},ft.prototype.performDataProcessorTasks=function(gt,rt){this._performStageTasks(this._dataProcessorHandlers,gt,rt,{block:!0})},ft.prototype.performVisualTasks=function(gt,rt,mt){this._performStageTasks(this._visualHandlers,gt,rt,mt)},ft.prototype._performStageTasks=function(gt,rt,mt,Dt){Dt=Dt||{};var Bt=!1,ln=this;function Kn(Yn,Sr){return Yn.setDirty&&(!Yn.dirtyMap||Yn.dirtyMap.get(Sr.__pipeline.id))}(0,Y.each)(gt,function(Yn,Sr){if(!Dt.visualType||Dt.visualType===Yn.visualType){var Yr=ln._stageTaskMap.get(Yn.uid),qt=Yr.seriesTaskMap,Sn=Yr.overallTask;if(Sn){var fn,Hn=Sn.agentStubMap;Hn.each(function(pr){Kn(Dt,pr)&&(pr.dirty(),fn=!0)}),fn&&Sn.dirty(),ln.updatePayload(Sn,mt);var nr=ln.getPerformArgs(Sn,Dt.block);Hn.each(function(pr){pr.perform(nr)}),Sn.perform(nr)&&(Bt=!0)}else qt&&qt.each(function(pr,Dr){Kn(Dt,pr)&&pr.dirty();var jr=ln.getPerformArgs(pr,Dt.block);jr.skip=!Yn.performRawSeries&&rt.isSeriesFiltered(pr.context.model),ln.updatePayload(pr,mt),pr.perform(jr)&&(Bt=!0)})}}),this.unfinished=Bt||this.unfinished},ft.prototype.performSeriesTasks=function(gt){var rt;gt.eachSeries(function(mt){rt=mt.dataTask.perform()||rt}),this.unfinished=rt||this.unfinished},ft.prototype.plan=function(){this._pipelineMap.each(function(gt){var rt=gt.tail;do{if(rt.__block){gt.blockIndex=rt.__idxInPipeline;break}rt=rt.getUpstream()}while(rt)})},ft.prototype.updatePayload=function(gt,rt){"remain"!==rt&&(gt.context.payload=rt)},ft.prototype._createSeriesStageTask=function(gt,rt,mt,Dt){var Bt=this,ln=rt.seriesTaskMap,Kn=rt.seriesTaskMap=(0,Y.createHashMap)(),Yn=gt.seriesType,Sr=gt.getTargetSeries;function Yr(qt){var Sn=qt.uid,fn=Kn.set(Sn,ln&&ln.get(Sn)||(0,qe.v)({plan:Qr,reset:Nr,count:st}));fn.context={model:qt,ecModel:mt,api:Dt,useClearVisual:gt.isVisual&&!gt.isLayout,plan:gt.plan,reset:gt.reset,scheduler:Bt},Bt._pipe(qt,fn)}gt.createOnAllSeries?mt.eachRawSeries(Yr):Yn?mt.eachRawSeriesByType(Yn,Yr):Sr&&Sr(mt,Dt).each(Yr)},ft.prototype._createOverallStageTask=function(gt,rt,mt,Dt){var Bt=this,ln=rt.overallTask=rt.overallTask||(0,qe.v)({reset:jt});ln.context={ecModel:mt,api:Dt,overallReset:gt.overallReset,scheduler:Bt};var Kn=ln.agentStubMap,Yn=ln.agentStubMap=(0,Y.createHashMap)(),Sr=gt.seriesType,Yr=gt.getTargetSeries,qt=!0,Sn=!1;function Hn(nr){var pr=nr.uid,Dr=Yn.set(pr,Kn&&Kn.get(pr)||(Sn=!0,(0,qe.v)({reset:Nn,onDirty:br})));Dr.context={model:nr,overallProgress:qt},Dr.agent=ln,Dr.__block=qt,Bt._pipe(nr,Dr)}(0,Y.assert)(!gt.createOnAllSeries,""),Sr?mt.eachRawSeriesByType(Sr,Hn):Yr?Yr(mt,Dt).each(Hn):(qt=!1,(0,Y.each)(mt.getSeries(),Hn)),Sn&&ln.dirty()},ft.prototype._pipe=function(gt,rt){var Dt=this._pipelineMap.get(gt.uid);!Dt.head&&(Dt.head=rt),Dt.tail&&Dt.tail.pipe(rt),Dt.tail=rt,rt.__idxInPipeline=Dt.count++,rt.__pipeline=Dt},ft.wrapStageHandler=function(gt,rt){return(0,Y.isFunction)(gt)&&(gt={overallReset:gt,seriesType:Qt(gt)}),gt.uid=(0,it.Kr)("stageHandler"),rt&&(gt.visualType=rt),gt},ft}();function jt(ft){ft.overallReset(ft.ecModel,ft.api,ft.payload)}function Nn(ft){return ft.overallProgress&&jn}function jn(){this.agent.dirty(),this.getDownstream().dirty()}function br(){this.agent&&this.agent.dirty()}function Qr(ft){return ft.plan?ft.plan(ft.model,ft.ecModel,ft.api,ft.payload):null}function Nr(ft){ft.useClearVisual&&ft.data.clearAllVisual();var gt=ft.resetDefines=(0,Me.kF)(ft.reset(ft.model,ft.ecModel,ft.api,ft.payload));return gt.length>1?(0,Y.map)(gt,function(rt,mt){return rn(mt)}):ei}var ei=rn(0);function rn(ft){return function(gt,rt){var mt=rt.data,Dt=rt.resetDefines[ft];if(Dt&&Dt.dataEach)for(var Bt=gt.start;Bt<gt.end;Bt++)Dt.dataEach(mt,Bt);else Dt&&Dt.progress&&Dt.progress(gt,mt)}}function st(ft){return ft.data.count()}function Qt(ft){yn=null;try{ft(xn,Pn)}catch{}return yn}var yn,xn={},Pn={};function mr(ft,gt){for(var rt in gt.prototype)ft[rt]=Y.noop}mr(xn,O),mr(Pn,ee),xn.eachSeriesByType=xn.eachRawSeriesByType=function(ft){yn=ft},xn.eachComponent=function(ft){"series"===ft.mainType&&ft.subType&&(yn=ft.subType)};const li=pt;var Bn=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const dr={color:Bn,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Bn]};var Qn="#B9B8CE",er="#100C2A",Di=function(){return{axisLine:{lineStyle:{color:Qn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},aa=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Ui={darkMode:!0,color:aa,backgroundColor:er,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Qn}},textStyle:{color:Qn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Qn}},dataZoom:{borderColor:"#71708A",textStyle:{color:Qn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Qn}},timeline:{lineStyle:{color:Qn},label:{color:Qn},controlStyle:{color:Qn,borderColor:Qn}},calendar:{itemStyle:{color:er},dayLabel:{color:Qn},monthLabel:{color:Qn},yearLabel:{color:Qn}},timeAxis:Di(),logAxis:Di(),valueAxis:Di(),categoryAxis:Di(),line:{symbol:"circle"},graph:{color:aa},gauge:{title:{color:Qn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Qn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Ui.categoryAxis.splitLine.show=!1;const hr=Ui;var ai=C(394),Ba=function(){function ft(){}return ft.prototype.normalizeQuery=function(gt){var rt={},mt={},Dt={};if(Y.isString(gt)){var Bt=(0,ai.u9)(gt);rt.mainType=Bt.main||null,rt.subType=Bt.sub||null}else{var ln=["Index","Name","Id"],Kn={name:1,dataIndex:1,dataType:1};Y.each(gt,function(Yn,Sr){for(var Yr=!1,qt=0;qt<ln.length;qt++){var Sn=ln[qt],fn=Sr.lastIndexOf(Sn);if(fn>0&&fn===Sr.length-Sn.length){var Hn=Sr.slice(0,fn);"data"!==Hn&&(rt.mainType=Hn,rt[Sn.toLowerCase()]=Yn,Yr=!0)}}Kn.hasOwnProperty(Sr)&&(mt[Sr]=Yn,Yr=!0),Yr||(Dt[Sr]=Yn)})}return{cptQuery:rt,dataQuery:mt,otherQuery:Dt}},ft.prototype.filter=function(gt,rt){var mt=this.eventInfo;if(!mt)return!0;var Dt=mt.targetEl,Bt=mt.packedEvent,ln=mt.model,Kn=mt.view;if(!ln||!Kn)return!0;var Yn=rt.cptQuery,Sr=rt.dataQuery;return Yr(Yn,ln,"mainType")&&Yr(Yn,ln,"subType")&&Yr(Yn,ln,"index","componentIndex")&&Yr(Yn,ln,"name")&&Yr(Yn,ln,"id")&&Yr(Sr,Bt,"name")&&Yr(Sr,Bt,"dataIndex")&&Yr(Sr,Bt,"dataType")&&(!Kn.filterForExposedEvent||Kn.filterForExposedEvent(gt,rt.otherQuery,Dt,Bt));function Yr(qt,Sn,fn,Hn){return null==qt[fn]||Sn[Hn||fn]===qt[fn]}},ft.prototype.afterTrigger=function(){this.eventInfo=null},ft}(),bo=["symbol","symbolSize","symbolRotate","symbolOffset"],ni=bo.concat(["symbolKeepAspect"]),wr={createOnAllSeries:!0,performRawSeries:!0,reset:function(ft,gt){var rt=ft.getData();if(ft.legendIcon&&rt.setVisual("legendIcon",ft.legendIcon),ft.hasSymbolVisual){for(var mt={},Dt={},Bt=!1,ln=0;ln<bo.length;ln++){var Kn=bo[ln],Yn=ft.get(Kn);(0,Y.isFunction)(Yn)?(Bt=!0,Dt[Kn]=Yn):mt[Kn]=Yn}if(mt.symbol=mt.symbol||ft.defaultSymbol,rt.setVisual((0,Y.extend)({legendIcon:ft.legendIcon||mt.symbol,symbolKeepAspect:ft.get("symbolKeepAspect")},mt)),!gt.isSeriesFiltered(ft)){var Sr=(0,Y.keys)(Dt);return{dataEach:Bt?function Yr(qt,Sn){for(var fn=ft.getRawValue(Sn),Hn=ft.getDataParams(Sn),nr=0;nr<Sr.length;nr++){var pr=Sr[nr];qt.setItemVisual(Sn,pr,Dt[pr](fn,Hn))}}:null}}}}},$r={createOnAllSeries:!0,performRawSeries:!0,reset:function(ft,gt){if(ft.hasSymbolVisual&&!gt.isSeriesFiltered(ft))return{dataEach:ft.getData().hasItemOption?function mt(Dt,Bt){for(var ln=Dt.getItemModel(Bt),Kn=0;Kn<ni.length;Kn++){var Yn=ni[Kn],Sr=ln.getShallow(Yn,!0);null!=Sr&&Dt.setItemVisual(Bt,Yn,Sr)}}:null}}},Tr=C(7248),yi=C(2693),Oa=C(1101),vs=C(4513),ql=C(6953),Po=C(3437),Sl=C(9128);const Za=new me.Z;var Hr=C(1240),po=C(6984),No="5.4.2",ps={zrender:"5.4.3"},gs=2e3,Oi=1e3,In=3e3,Ko={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:Oi,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:In,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Ea="__flagInMainProcess",ga="__pendingUpdate",Ni="__needsUpdateStatus",t1=/^[a-zA-Z0-9_]+$/,co="__connectUpdateStatus";function ul(ft){return function(){for(var gt=[],rt=0;rt<arguments.length;rt++)gt[rt]=arguments[rt];if(!this.isDisposed())return dn(this,ft,gt)}}function Ut(ft){return function(){for(var gt=[],rt=0;rt<arguments.length;rt++)gt[rt]=arguments[rt];return dn(this,ft,gt)}}function dn(ft,gt,rt){return rt[0]=rt[0]&&rt[0].toLowerCase(),me.Z.prototype[gt].apply(ft,rt)}var Ze=function(ft){function gt(){return null!==ft&&ft.apply(this,arguments)||this}return(0,_.ZT)(gt,ft),gt}(me.Z),yt=Ze.prototype;yt.on=Ut("on"),yt.off=Ut("off");var Lt,En,Ir,hi,Sa,ma,ts,Lo,ko,hl,go,Ws,Is,$a,uo,Dl,ns,ho,r1=function(ft){function gt(rt,mt,Dt){var Bt=ft.call(this,new Ba)||this;Bt._chartsViews=[],Bt._chartsMap={},Bt._componentsViews=[],Bt._componentsMap={},Bt._pendingActions=[],Dt=Dt||{},(0,Y.isString)(mt)&&(mt=pc[mt]),Bt._dom=rt;var qt=Bt._zr=T.init(rt,{renderer:Dt.renderer||"canvas",devicePixelRatio:Dt.devicePixelRatio,width:Dt.width,height:Dt.height,ssr:Dt.ssr,useDirtyRect:(0,Y.retrieve2)(Dt.useDirtyRect,!1),useCoarsePointer:(0,Y.retrieve2)(Dt.useCoarsePointer,"auto"),pointerSize:Dt.pointerSize});Bt._ssr=Dt.ssr,Bt._throttledZrFlush=(0,Jt.P2)((0,Y.bind)(qt.flush,qt),17),(mt=(0,Y.clone)(mt))&&Ln(mt,!0),Bt._theme=mt,Bt._locale=(0,ql.D0)(Dt.locale||ql.sO),Bt._coordSysMgr=new j.Z;var Sn=Bt._api=uo(Bt);function fn(Hn,nr){return Hn.__prio-nr.__prio}return(0,pe.Z)(El,fn),(0,pe.Z)(Ks,fn),Bt._scheduler=new li(Bt,Sn,Ks,El),Bt._messageCenter=new Ze,Bt._initEvents(),Bt.resize=(0,Y.bind)(Bt.resize,Bt),qt.animation.on("frame",Bt._onframe,Bt),hl(qt,Bt),go(qt,Bt),(0,Y.setAsPrimitive)(Bt),Bt}return(0,_.ZT)(gt,ft),gt.prototype._onframe=function(){if(!this._disposed){ho(this);var rt=this._scheduler;if(this[ga]){var mt=this[ga].silent;this[Ea]=!0;try{Lt(this),hi.update.call(this,null,this[ga].updateParams)}catch(Yn){throw this[Ea]=!1,this[ga]=null,Yn}this._zr.flush(),this[Ea]=!1,this[ga]=null,Lo.call(this,mt),ko.call(this,mt)}else if(rt.unfinished){var Dt=1,Bt=this._model,ln=this._api;rt.unfinished=!1;do{var Kn=+new Date;rt.performSeriesTasks(Bt),rt.performDataProcessorTasks(Bt),ma(this,Bt),rt.performVisualTasks(Bt),$a(this,this._model,ln,"remain",{}),Dt-=+new Date-Kn}while(Dt>0&&rt.unfinished);rt.unfinished||this._zr.flush()}}},gt.prototype.getDom=function(){return this._dom},gt.prototype.getId=function(){return this.id},gt.prototype.getZr=function(){return this._zr},gt.prototype.isSSR=function(){return this._ssr},gt.prototype.setOption=function(rt,mt,Dt){if(!this[Ea]){if(this._disposed)return;var Bt,ln,Kn;if((0,Y.isObject)(mt)&&(Dt=mt.lazyUpdate,Bt=mt.silent,ln=mt.replaceMerge,Kn=mt.transition,mt=mt.notMerge),this[Ea]=!0,!this._model||mt){var Yn=new we(this._api),Sr=this._theme,Yr=this._model=new O;Yr.scheduler=this._scheduler,Yr.ssr=this._ssr,Yr.init(null,null,null,Sr,this._locale,Yn)}this._model.setOption(rt,{replaceMerge:ln},rs);var qt={seriesTransition:Kn,optionChanged:!0};if(Dt)this[ga]={silent:Bt,updateParams:qt},this[Ea]=!1,this.getZr().wakeUp();else{try{Lt(this),hi.update.call(this,null,qt)}catch(Sn){throw this[ga]=null,this[Ea]=!1,Sn}this._ssr||this._zr.flush(),this[ga]=null,this[Ea]=!1,Lo.call(this,Bt),ko.call(this,Bt)}}},gt.prototype.setTheme=function(){(0,yi.Sh)("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},gt.prototype.getModel=function(){return this._model},gt.prototype.getOption=function(){return this._model&&this._model.getOption()},gt.prototype.getWidth=function(){return this._zr.getWidth()},gt.prototype.getHeight=function(){return this._zr.getHeight()},gt.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ie.Z.hasGlobalWindow&&window.devicePixelRatio||1},gt.prototype.getRenderedCanvas=function(rt){return this.renderToCanvas(rt)},gt.prototype.renderToCanvas=function(rt){return this._zr.painter.getRenderedCanvas({backgroundColor:(rt=rt||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:rt.pixelRatio||this.getDevicePixelRatio()})},gt.prototype.renderToSVGString=function(rt){return this._zr.painter.renderToString({useViewBox:(rt=rt||{}).useViewBox})},gt.prototype.getSvgDataURL=function(){if(ie.Z.svgSupported){var rt=this._zr,mt=rt.storage.getDisplayList();return(0,Y.each)(mt,function(Dt){Dt.stopAnimation(null,!0)}),rt.painter.toDataURL()}},gt.prototype.getDataURL=function(rt){if(!this._disposed){var Dt=this._model,Bt=[],ln=this;(0,Y.each)((rt=rt||{}).excludeComponents,function(Yn){Dt.eachComponent({mainType:Yn},function(Sr){var Yr=ln._componentsMap[Sr.__viewId];Yr.group.ignore||(Bt.push(Yr),Yr.group.ignore=!0)})});var Kn="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(rt).toDataURL("image/"+(rt&&rt.type||"png"));return(0,Y.each)(Bt,function(Yn){Yn.group.ignore=!1}),Kn}},gt.prototype.getConnectedDataURL=function(rt){if(!this._disposed){var mt="svg"===rt.type,Dt=this.group,Bt=Math.min,ln=Math.max,Kn=1/0;if(Or[Dt]){var Yn=Kn,Sr=Kn,Yr=-Kn,qt=-Kn,Sn=[],fn=rt&&rt.pixelRatio||this.getDevicePixelRatio();(0,Y.each)(za,function(De,lt){if(De.group===Dt){var Fe=mt?De.getZr().painter.getSvgDom().innerHTML:De.renderToCanvas((0,Y.clone)(rt)),et=De.getDom().getBoundingClientRect();Yn=Bt(et.left,Yn),Sr=Bt(et.top,Sr),Yr=ln(et.right,Yr),qt=ln(et.bottom,qt),Sn.push({dom:Fe,left:et.left,top:et.top})}});var Hn=(Yr*=fn)-(Yn*=fn),nr=(qt*=fn)-(Sr*=fn),pr=Hr.qW.createCanvas(),Dr=T.init(pr,{renderer:mt?"svg":"canvas"});if(Dr.resize({width:Hn,height:nr}),mt){var jr="";return(0,Y.each)(Sn,function(De){jr+='<g transform="translate('+(De.left-Yn)+","+(De.top-Sr)+')">'+De.dom+"</g>"}),Dr.painter.getSvgRoot().innerHTML=jr,rt.connectedBackgroundColor&&Dr.painter.setBackgroundColor(rt.connectedBackgroundColor),Dr.refreshImmediately(),Dr.painter.toDataURL()}return rt.connectedBackgroundColor&&Dr.add(new _t.Z({shape:{x:0,y:0,width:Hn,height:nr},style:{fill:rt.connectedBackgroundColor}})),(0,Y.each)(Sn,function(De){var lt=new Xe.ZP({style:{x:De.left*fn-Yn,y:De.top*fn-Sr,image:De.dom}});Dr.add(lt)}),Dr.refreshImmediately(),pr.toDataURL("image/"+(rt&&rt.type||"png"))}return this.getDataURL(rt)}},gt.prototype.convertToPixel=function(rt,mt){return Sa(this,"convertToPixel",rt,mt)},gt.prototype.convertFromPixel=function(rt,mt){return Sa(this,"convertFromPixel",rt,mt)},gt.prototype.containPixel=function(rt,mt){if(!this._disposed){var Bt,ln=Me.pm(this._model,rt);return(0,Y.each)(ln,function(Kn,Yn){Yn.indexOf("Models")>=0&&(0,Y.each)(Kn,function(Sr){var Yr=Sr.coordinateSystem;if(Yr&&Yr.containPoint)Bt=Bt||!!Yr.containPoint(mt);else if("seriesModels"===Yn){var qt=this._chartsMap[Sr.__viewId];qt&&qt.containPoint&&(Bt=Bt||qt.containPoint(mt,Sr))}},this)},this),!!Bt}},gt.prototype.getVisual=function(rt,mt){var Bt=Me.pm(this._model,rt,{defaultMainType:"series"}),Kn=Bt.seriesModel.getData(),Yn=Bt.hasOwnProperty("dataIndexInside")?Bt.dataIndexInside:Bt.hasOwnProperty("dataIndex")?Kn.indexOfRawIndex(Bt.dataIndex):null;return null!=Yn?(0,Tr.Or)(Kn,Yn,mt):(0,Tr.UL)(Kn,mt)},gt.prototype.getViewOfComponentModel=function(rt){return this._componentsMap[rt.__viewId]},gt.prototype.getViewOfSeriesModel=function(rt){return this._chartsMap[rt.__viewId]},gt.prototype._initEvents=function(){var rt=this;(0,Y.each)(La,function(mt){var Dt=function(Bt){var Yn,ln=rt.getModel(),Kn=Bt.target;if("globalout"===mt?Yn={}:Kn&&(0,Po.o)(Kn,function(Hn){var nr=(0,Ct.A)(Hn);if(nr&&null!=nr.dataIndex){var pr=nr.dataModel||ln.getSeriesByIndex(nr.seriesIndex);return Yn=pr&&pr.getDataParams(nr.dataIndex,nr.dataType)||{},!0}if(nr.eventData)return Yn=(0,Y.extend)({},nr.eventData),!0},!0),Yn){var Yr=Yn.componentType,qt=Yn.componentIndex;("markLine"===Yr||"markPoint"===Yr||"markArea"===Yr)&&(Yr="series",qt=Yn.seriesIndex);var Sn=Yr&&null!=qt&&ln.getComponent(Yr,qt),fn=Sn&&rt["series"===Sn.mainType?"_chartsMap":"_componentsMap"][Sn.__viewId];Yn.event=Bt,Yn.type=mt,rt._$eventProcessor.eventInfo={targetEl:Kn,packedEvent:Yn,model:Sn,view:fn},rt.trigger(mt,Yn)}};Dt.zrEventfulCallAtLast=!0,rt._zr.on(mt,Dt,rt)}),(0,Y.each)(Xa,function(mt,Dt){rt._messageCenter.on(Dt,function(Bt){this.trigger(Dt,Bt)},rt)}),(0,Y.each)(["selectchanged"],function(mt){rt._messageCenter.on(mt,function(Dt){this.trigger(mt,Dt)},rt)}),(0,Oa.s)(this._messageCenter,this,this._api)},gt.prototype.isDisposed=function(){return this._disposed},gt.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},gt.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&Me.P$(this.getDom(),ys,"");var mt=this,Dt=mt._api,Bt=mt._model;(0,Y.each)(mt._componentsViews,function(ln){ln.dispose(Bt,Dt)}),(0,Y.each)(mt._chartsViews,function(ln){ln.dispose(Bt,Dt)}),mt._zr.dispose(),mt._dom=mt._model=mt._chartsMap=mt._componentsMap=mt._chartsViews=mt._componentsViews=mt._scheduler=mt._api=mt._zr=mt._throttledZrFlush=mt._theme=mt._coordSysMgr=mt._messageCenter=null,delete za[mt.id]}},gt.prototype.resize=function(rt){if(!this[Ea]){if(this._disposed)return;this._zr.resize(rt);var mt=this._model;if(this._loadingFX&&this._loadingFX.resize(),mt){var Dt=mt.resetOption("media"),Bt=rt&&rt.silent;this[ga]&&(null==Bt&&(Bt=this[ga].silent),Dt=!0,this[ga]=null),this[Ea]=!0;try{Dt&&Lt(this),hi.update.call(this,{type:"resize",animation:(0,Y.extend)({duration:0},rt&&rt.animation)})}catch(ln){throw this[Ea]=!1,ln}this[Ea]=!1,Lo.call(this,Bt),ko.call(this,Bt)}}},gt.prototype.showLoading=function(rt,mt){if(!this._disposed&&((0,Y.isObject)(rt)&&(mt=rt,rt=""),rt=rt||"default",this.hideLoading(),gc[rt])){var Dt=gc[rt](this._api,mt),Bt=this._zr;this._loadingFX=Dt,Bt.add(Dt)}},gt.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},gt.prototype.makeActionFromEvent=function(rt){var mt=(0,Y.extend)({},rt);return mt.type=Xa[rt.type],mt},gt.prototype.dispatchAction=function(rt,mt){if(!this._disposed&&((0,Y.isObject)(mt)||(mt={silent:!!mt}),Zs[rt.type]&&this._model)){if(this[Ea])return void this._pendingActions.push(rt);var Dt=mt.silent;ts.call(this,rt,Dt);var Bt=mt.flush;Bt?this._zr.flush():!1!==Bt&&ie.Z.browser.weChat&&this._throttledZrFlush(),Lo.call(this,Dt),ko.call(this,Dt)}},gt.prototype.updateLabelLayout=function(){Za.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},gt.prototype.appendData=function(rt){if(!this._disposed){var mt=rt.seriesIndex;this.getModel().getSeriesByIndex(mt).appendData(rt),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},gt.internalField=function(){function rt(qt){qt.clearColorPalette(),qt.eachSeries(function(Sn){Sn.clearColorPalette()})}function Dt(qt){for(var Sn=[],fn=qt.currentStates,Hn=0;Hn<fn.length;Hn++){var nr=fn[Hn];"emphasis"===nr||"blur"===nr||"select"===nr||Sn.push(nr)}qt.selected&&qt.states.select&&Sn.push("select"),qt.hoverState===Mt.wU&&qt.states.emphasis?Sn.push("emphasis"):qt.hoverState===Mt.CX&&qt.states.blur&&Sn.push("blur"),qt.useStates(Sn)}function Kn(qt,Sn){if(!qt.preventAutoZ){var fn=qt.get("z")||0,Hn=qt.get("zlevel")||0;Sn.eachRendered(function(nr){return Yn(nr,fn,Hn,-1/0),!0})}}function Yn(qt,Sn,fn,Hn){var nr=qt.getTextContent(),pr=qt.getTextGuideLine();if(qt.isGroup)for(var jr=qt.childrenRef(),De=0;De<jr.length;De++)Hn=Math.max(Yn(jr[De],Sn,fn,Hn),Hn);else qt.z=Sn,qt.zlevel=fn,Hn=Math.max(qt.z2,Hn);if(nr&&(nr.z=Sn,nr.zlevel=fn,isFinite(Hn)&&(nr.z2=Hn+2)),pr){var lt=qt.textGuideLineConfig;pr.z=Sn,pr.zlevel=fn,isFinite(Hn)&&(pr.z2=Hn+(lt&&lt.showAbove?1:-1))}return Hn}function Sr(qt,Sn){Sn.eachRendered(function(fn){if(!Ye.eq(fn)){var Hn=fn.getTextContent(),nr=fn.getTextGuideLine();fn.stateTransition&&(fn.stateTransition=null),Hn&&Hn.stateTransition&&(Hn.stateTransition=null),nr&&nr.stateTransition&&(nr.stateTransition=null),fn.hasState()?(fn.prevStates=fn.currentStates,fn.clearStates()):fn.prevStates&&(fn.prevStates=null)}})}function Yr(qt,Sn){var fn=qt.getModel("stateAnimation"),Hn=qt.isAnimationEnabled(),nr=fn.get("duration"),pr=nr>0?{duration:nr,delay:fn.get("delay"),easing:fn.get("easing")}:null;Sn.eachRendered(function(Dr){if(Dr.states&&Dr.states.emphasis){if(Ye.eq(Dr))return;if(Dr instanceof ke.ZP&&(0,Mt.e9)(Dr),Dr.__dirty){var jr=Dr.prevStates;jr&&Dr.useStates(jr)}if(Hn){Dr.stateTransition=pr;var De=Dr.getTextContent(),lt=Dr.getTextGuideLine();De&&(De.stateTransition=pr),lt&&(lt.stateTransition=pr)}Dr.__dirty&&Dt(Dr)}})}Lt=function(qt){var Sn=qt._scheduler;Sn.restorePipelines(qt._model),Sn.prepareStageTasks(),En(qt,!0),En(qt,!1),Sn.plan()},En=function(qt,Sn){for(var fn=qt._model,Hn=qt._scheduler,nr=Sn?qt._componentsViews:qt._chartsViews,pr=Sn?qt._componentsMap:qt._chartsMap,Dr=qt._zr,jr=qt._api,De=0;De<nr.length;De++)nr[De].__alive=!1;function lt(et){var Nt=et.__requireNewView;et.__requireNewView=!1;var Rn="_ec_"+et.id+"_"+et.type,$n=!Nt&&pr[Rn];if(!$n){var _r=(0,ai.u9)(et.type);($n=new(Sn?Un.Z.getClass(_r.main,_r.sub):Gt.Z.getClass(_r.sub))).init(fn,jr),pr[Rn]=$n,nr.push($n),Dr.add($n.group)}et.__viewId=$n.__id=Rn,$n.__alive=!0,$n.__model=et,$n.group.__ecComponentInfo={mainType:et.mainType,index:et.componentIndex},!Sn&&Hn.prepareView($n,et,fn,jr)}for(Sn?fn.eachComponent(function(et,Nt){"series"!==et&&lt(Nt)}):fn.eachSeries(lt),De=0;De<nr.length;){var Fe=nr[De];Fe.__alive?De++:(!Sn&&Fe.renderTask.dispose(),Dr.remove(Fe.group),Fe.dispose(fn,jr),nr.splice(De,1),pr[Fe.__id]===Fe&&delete pr[Fe.__id],Fe.__id=Fe.group.__ecComponentInfo=null)}},Ir=function(qt,Sn,fn,Hn,nr){var pr=qt._model;if(pr.setUpdatePayload(fn),Hn){var Dr={};Dr[Hn+"Id"]=fn[Hn+"Id"],Dr[Hn+"Index"]=fn[Hn+"Index"],Dr[Hn+"Name"]=fn[Hn+"Name"];var jr={mainType:Hn,query:Dr};nr&&(jr.subType=nr);var lt,De=fn.excludeSeriesId;null!=De&&(lt=(0,Y.createHashMap)(),(0,Y.each)(Me.kF(De),function(et){var Nt=Me.U5(et,null);null!=Nt&&lt.set(Nt,!0)})),pr&&pr.eachComponent(jr,function(et){if(!lt||null==lt.get(et.id))if((0,Mt.xp)(fn))if(et instanceof Ft.Z)fn.type===Mt.Ki&&!fn.notBlur&&!et.get(["emphasis","disabled"])&&(0,Mt.UL)(et,fn,qt._api);else{var Rn=(0,Mt.oJ)(et.mainType,et.componentIndex,fn.name,qt._api),_r=Rn.dispatchers;fn.type===Mt.Ki&&Rn.focusSelf&&!fn.notBlur&&(0,Mt.zI)(et.mainType,et.componentIndex,qt._api),_r&&(0,Y.each)(_r,function(Ri){fn.type===Mt.Ki?(0,Mt.fD)(Ri):(0,Mt.Mh)(Ri)})}else(0,Mt.aG)(fn)&&et instanceof Ft.Z&&((0,Mt.og)(et,fn,qt._api),(0,Mt.ci)(et),ns(qt))},qt),pr&&pr.eachComponent(jr,function(et){lt&&null!=lt.get(et.id)||Fe(qt["series"===Hn?"_chartsMap":"_componentsMap"][et.__viewId])},qt)}else(0,Y.each)([].concat(qt._componentsViews).concat(qt._chartsViews),Fe);function Fe(et){et&&et.__alive&&et[Sn]&&et[Sn](et.__model,pr,qt._api,fn)}},hi={prepareAndUpdate:function(qt){Lt(this),hi.update.call(this,qt,{optionChanged:null!=qt.newOption})},update:function(qt,Sn){var fn=this._model,Hn=this._api,nr=this._zr,pr=this._coordSysMgr,Dr=this._scheduler;if(fn){fn.setUpdatePayload(qt),Dr.restoreData(fn,qt),Dr.performSeriesTasks(fn),pr.create(fn,Hn),Dr.performDataProcessorTasks(fn,qt),ma(this,fn),pr.update(fn,Hn),rt(fn),Dr.performVisualTasks(fn,qt),Ws(this,fn,Hn,qt,Sn);var jr=fn.get("backgroundColor")||"transparent",De=fn.get("darkMode");nr.setBackgroundColor(jr),null!=De&&"auto"!==De&&nr.setDarkMode(De),Za.trigger("afterupdate",fn,Hn)}},updateTransform:function(qt){var Sn=this,fn=this._model,Hn=this._api;if(fn){fn.setUpdatePayload(qt);var nr=[];fn.eachComponent(function(Dr,jr){if("series"!==Dr){var De=Sn.getViewOfComponentModel(jr);if(De&&De.__alive)if(De.updateTransform){var lt=De.updateTransform(jr,fn,Hn,qt);lt&&lt.update&&nr.push(De)}else nr.push(De)}});var pr=(0,Y.createHashMap)();fn.eachSeries(function(Dr){var jr=Sn._chartsMap[Dr.__viewId];if(jr.updateTransform){var De=jr.updateTransform(Dr,fn,Hn,qt);De&&De.update&&pr.set(Dr.uid,1)}else pr.set(Dr.uid,1)}),rt(fn),this._scheduler.performVisualTasks(fn,qt,{setDirty:!0,dirtyMap:pr}),$a(this,fn,Hn,qt,{},pr),Za.trigger("afterupdate",fn,Hn)}},updateView:function(qt){var Sn=this._model;Sn&&(Sn.setUpdatePayload(qt),Gt.Z.markUpdateMethod(qt,"updateView"),rt(Sn),this._scheduler.performVisualTasks(Sn,qt,{setDirty:!0}),Ws(this,Sn,this._api,qt,{}),Za.trigger("afterupdate",Sn,this._api))},updateVisual:function(qt){var Sn=this,fn=this._model;fn&&(fn.setUpdatePayload(qt),fn.eachSeries(function(Hn){Hn.getData().clearAllVisual()}),Gt.Z.markUpdateMethod(qt,"updateVisual"),rt(fn),this._scheduler.performVisualTasks(fn,qt,{visualType:"visual",setDirty:!0}),fn.eachComponent(function(Hn,nr){if("series"!==Hn){var pr=Sn.getViewOfComponentModel(nr);pr&&pr.__alive&&pr.updateVisual(nr,fn,Sn._api,qt)}}),fn.eachSeries(function(Hn){Sn._chartsMap[Hn.__viewId].updateVisual(Hn,fn,Sn._api,qt)}),Za.trigger("afterupdate",fn,this._api))},updateLayout:function(qt){hi.update.call(this,qt)}},Sa=function(qt,Sn,fn,Hn){if(!qt._disposed)for(var Dr,nr=qt._model,pr=qt._coordSysMgr.getCoordinateSystems(),jr=Me.pm(nr,fn),De=0;De<pr.length;De++){var lt=pr[De];if(lt[Sn]&&null!=(Dr=lt[Sn](nr,jr,Hn)))return Dr}},ma=function(qt,Sn){var fn=qt._chartsMap,Hn=qt._scheduler;Sn.eachSeries(function(nr){Hn.updateStreamModes(nr,fn[nr.__viewId])})},ts=function(qt,Sn){var fn=this,Hn=this.getModel(),nr=qt.type,pr=qt.escapeConnect,Dr=Zs[nr],jr=Dr.actionInfo,De=(jr.update||"update").split(":"),lt=De.pop(),Fe=null!=De[0]&&(0,ai.u9)(De[0]);this[Ea]=!0;var et=[qt],Nt=!1;qt.batch&&(Nt=!0,et=(0,Y.map)(qt.batch,function(mi){return(mi=(0,Y.defaults)((0,Y.extend)({},mi),qt)).batch=null,mi}));var $n,Rn=[],_r=(0,Mt.aG)(qt),Ri=(0,Mt.xp)(qt);if(Ri&&(0,Mt.T5)(this._api),(0,Y.each)(et,function(mi){if(($n=($n=Dr.action(mi,fn._model,fn._api))||(0,Y.extend)({},mi)).type=jr.event||$n.type,Rn.push($n),Ri){var ka=Me.zH(qt),xa=ka.mainTypeSpecified?ka.queryOptionMap.keys()[0]:"series";Ir(fn,lt,mi,xa),ns(fn)}else _r?(Ir(fn,lt,mi,"series"),ns(fn)):Fe&&Ir(fn,lt,mi,Fe.main,Fe.sub)}),"none"!==lt&&!Ri&&!_r&&!Fe)try{this[ga]?(Lt(this),hi.update.call(this,qt),this[ga]=null):hi[lt].call(this,qt)}catch(mi){throw this[Ea]=!1,mi}if($n=Nt?{type:jr.event||nr,escapeConnect:pr,batch:Rn}:Rn[0],this[Ea]=!1,!Sn){var da=this._messageCenter;if(da.trigger($n.type,$n),_r){var fa={type:"selectchanged",escapeConnect:pr,selected:(0,Mt.C5)(Hn),isFromClick:qt.isFromClick||!1,fromAction:qt.type,fromActionPayload:qt};da.trigger(fa.type,fa)}}},Lo=function(qt){for(var Sn=this._pendingActions;Sn.length;){var fn=Sn.shift();ts.call(this,fn,qt)}},ko=function(qt){!qt&&this.trigger("updated")},hl=function(qt,Sn){qt.on("rendered",function(fn){Sn.trigger("rendered",fn),qt.animation.isFinished()&&!Sn[ga]&&!Sn._scheduler.unfinished&&!Sn._pendingActions.length&&Sn.trigger("finished")})},go=function(qt,Sn){qt.on("mouseover",function(fn){var nr=(0,Po.o)(fn.target,Mt.Av);nr&&((0,Mt.$l)(nr,fn,Sn._api),ns(Sn))}).on("mouseout",function(fn){var nr=(0,Po.o)(fn.target,Mt.Av);nr&&((0,Mt.xr)(nr,fn,Sn._api),ns(Sn))}).on("click",function(fn){var nr=(0,Po.o)(fn.target,function(jr){return null!=(0,Ct.A)(jr).dataIndex},!0);if(nr){var pr=nr.selected?"unselect":"select",Dr=(0,Ct.A)(nr);Sn._api.dispatchAction({type:pr,dataType:Dr.dataType,dataIndexInside:Dr.dataIndex,seriesIndex:Dr.seriesIndex,isFromClick:!0})}})},Ws=function(qt,Sn,fn,Hn,nr){(function mt(qt){var Sn=[],fn=[],Hn=!1;if(qt.eachComponent(function(jr,De){var lt=De.get("zlevel")||0,Fe=De.get("z")||0,et=De.getZLevelKey();Hn=Hn||!!et,("series"===jr?fn:Sn).push({zlevel:lt,z:Fe,idx:De.componentIndex,type:jr,key:et})}),Hn){var pr,Dr,nr=Sn.concat(fn);(0,pe.Z)(nr,function(jr,De){return jr.zlevel===De.zlevel?jr.z-De.z:jr.zlevel-De.zlevel}),(0,Y.each)(nr,function(jr){var De=qt.getComponent(jr.type,jr.idx),lt=jr.zlevel,Fe=jr.key;null!=pr&&(lt=Math.max(pr,lt)),Fe?(lt===pr&&Fe!==Dr&&lt++,Dr=Fe):Dr&&(lt===pr&&lt++,Dr=""),pr=lt,De.setZLevel(lt)})}})(Sn),Is(qt,Sn,fn,Hn,nr),(0,Y.each)(qt._chartsViews,function(pr){pr.__alive=!1}),$a(qt,Sn,fn,Hn,nr),(0,Y.each)(qt._chartsViews,function(pr){pr.__alive||pr.remove(Sn,fn)})},Is=function(qt,Sn,fn,Hn,nr,pr){(0,Y.each)(pr||qt._componentsViews,function(Dr){var jr=Dr.__model;Sr(0,Dr),Dr.render(jr,Sn,fn,Hn),Kn(jr,Dr),Yr(jr,Dr)})},$a=function(qt,Sn,fn,Hn,nr,pr){var Dr=qt._scheduler;nr=(0,Y.extend)(nr||{},{updatedSeries:Sn.getSeries()}),Za.trigger("series:beforeupdate",Sn,fn,nr);var jr=!1;Sn.eachSeries(function(De){var lt=qt._chartsMap[De.__viewId];lt.__alive=!0;var Fe=lt.renderTask;Dr.updatePayload(Fe,Hn),Sr(0,lt),pr&&pr.get(De.uid)&&Fe.dirty(),Fe.perform(Dr.getPerformArgs(Fe))&&(jr=!0),lt.group.silent=!!De.get("silent"),function ln(qt,Sn){var fn=qt.get("blendMode")||null;Sn.eachRendered(function(Hn){Hn.isGroup||(Hn.style.blend=fn)})}(De,lt),(0,Mt.ci)(De)}),Dr.unfinished=jr||Dr.unfinished,Za.trigger("series:layoutlabels",Sn,fn,nr),Za.trigger("series:transition",Sn,fn,nr),Sn.eachSeries(function(De){var lt=qt._chartsMap[De.__viewId];Kn(De,lt),Yr(De,lt)}),function Bt(qt,Sn){var nr=0;qt._zr.storage.traverse(function(pr){pr.isGroup||nr++}),nr>Sn.get("hoverLayerThreshold")&&!ie.Z.node&&!ie.Z.worker&&Sn.eachSeries(function(pr){if(!pr.preventUsingHoverLayer){var Dr=qt._chartsMap[pr.__viewId];Dr.__alive&&Dr.eachRendered(function(jr){jr.states.emphasis&&(jr.states.emphasis.hoverLayer=!0)})}})}(qt,Sn),Za.trigger("series:afterupdate",Sn,fn,nr)},ns=function(qt){qt[Ni]=!0,qt.getZr().wakeUp()},ho=function(qt){qt[Ni]&&(qt.getZr().storage.traverse(function(Sn){Ye.eq(Sn)||Dt(Sn)}),qt[Ni]=!1)},uo=function(qt){return new(function(Sn){function fn(){return null!==Sn&&Sn.apply(this,arguments)||this}return(0,_.ZT)(fn,Sn),fn.prototype.getCoordinateSystems=function(){return qt._coordSysMgr.getCoordinateSystems()},fn.prototype.getComponentByElement=function(Hn){for(;Hn;){var nr=Hn.__ecComponentInfo;if(null!=nr)return qt._model.getComponent(nr.mainType,nr.index);Hn=Hn.parent}},fn.prototype.enterEmphasis=function(Hn,nr){(0,Mt.fD)(Hn,nr),ns(qt)},fn.prototype.leaveEmphasis=function(Hn,nr){(0,Mt.Mh)(Hn,nr),ns(qt)},fn.prototype.enterBlur=function(Hn){(0,Mt.SX)(Hn),ns(qt)},fn.prototype.leaveBlur=function(Hn){(0,Mt.VP)(Hn),ns(qt)},fn.prototype.enterSelect=function(Hn){(0,Mt.XX)(Hn),ns(qt)},fn.prototype.leaveSelect=function(Hn){(0,Mt.SJ)(Hn),ns(qt)},fn.prototype.getModel=function(){return qt.getModel()},fn.prototype.getViewOfComponentModel=function(Hn){return qt.getViewOfComponentModel(Hn)},fn.prototype.getViewOfSeriesModel=function(Hn){return qt.getViewOfSeriesModel(Hn)},fn}(ee))(qt)},Dl=function(qt){function Sn(fn,Hn){for(var nr=0;nr<fn.length;nr++)fn[nr][co]=Hn}(0,Y.each)(Xa,function(fn,Hn){qt._messageCenter.on(Hn,function(nr){if(Or[qt.group]&&0!==qt[co]){if(nr&&nr.escapeConnect)return;var pr=qt.makeActionFromEvent(nr),Dr=[];(0,Y.each)(za,function(jr){jr!==qt&&jr.group===qt.group&&Dr.push(jr)}),Sn(Dr,0),(0,Y.each)(Dr,function(jr){1!==jr[co]&&jr.dispatchAction(pr)}),Sn(Dr,2)}})})}}(),gt}(me.Z),Vi=r1.prototype;Vi.on=ul("on"),Vi.off=ul("off"),Vi.one=function(ft,gt,rt){var mt=this;(0,yi.Sh)("ECharts#one is deprecated."),this.on.call(this,ft,function Dt(){for(var Bt=[],ln=0;ln<arguments.length;ln++)Bt[ln]=arguments[ln];gt&&gt.apply&&gt.apply(this,Bt),mt.off(ft,Dt)},rt)};var La=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Zs={},Xa={},Ks=[],rs=[],El=[],pc={},gc={},za={},Or={},_i=+new Date-0,Ii=+new Date-0,ys="_echarts_instance_";function wo(ft,gt,rt){var mt=!(rt&&rt.ssr);if(mt){var Dt=zl(ft);if(Dt)return Dt}var Bt=new r1(ft,gt,rt);return Bt.id="ec_"+_i++,za[Bt.id]=Bt,mt&&Me.P$(ft,ys,Bt.id),Dl(Bt),Za.trigger("afterinit",Bt),Bt}function Rs(ft){if((0,Y.isArray)(ft)){var gt=ft;ft=null,(0,Y.each)(gt,function(rt){null!=rt.group&&(ft=rt.group)}),ft=ft||"g_"+Ii++,(0,Y.each)(gt,function(rt){rt.group=ft})}return Or[ft]=!0,ft}function Vs(ft){Or[ft]=!1}var Mi=Vs;function Oo(ft){(0,Y.isString)(ft)?ft=za[ft]:ft instanceof r1||(ft=zl(ft)),ft instanceof r1&&!ft.isDisposed()&&ft.dispose()}function zl(ft){return za[Me.IL(ft,ys)]}function bi(ft){return za[ft]}function Nl(ft,gt){pc[ft]=gt}function Qc(ft){(0,Y.indexOf)(rs,ft)<0&&rs.push(ft)}function a1(ft,gt){Vr(Ks,ft,gt,gs)}function Ra(ft){$s("afterinit",ft)}function o1(ft){$s("afterupdate",ft)}function $s(ft,gt){Za.on(ft,gt)}function mo(ft,gt,rt){(0,Y.isFunction)(gt)&&(rt=gt,gt="");var mt=(0,Y.isObject)(ft)?ft.type:[ft,ft={event:gt}][0];ft.event=(ft.event||mt).toLowerCase(),!Xa[gt=ft.event]&&((0,Y.assert)(t1.test(mt)&&t1.test(gt)),Zs[mt]||(Zs[mt]={action:rt,actionInfo:ft}),Xa[gt]=mt)}function _s(ft,gt){j.Z.register(ft,gt)}function mc(ft){var gt=j.Z.get(ft);if(gt)return gt.getDimensionsInfo?gt.getDimensionsInfo():gt.dimensions.slice()}function Hs(ft,gt){Vr(El,ft,gt,Oi,"layout")}function Xs(ft,gt){Vr(El,ft,gt,In,"visual")}var Qs=[];function Vr(ft,gt,rt,mt,Dt){if(((0,Y.isFunction)(gt)||(0,Y.isObject)(gt))&&(rt=gt,gt=mt),!((0,Y.indexOf)(Qs,rt)>=0)){Qs.push(rt);var Bt=li.wrapStageHandler(rt,Dt);Bt.__prio=gt,Bt.__raw=rt,ft.push(Bt)}}function s1(ft,gt){gc[ft]=gt}function E1(ft){(0,Hr.g2)({createCanvas:ft})}function yc(ft,gt,rt){var mt=(0,po.C)("registerMap");mt&&mt(ft,gt,rt)}function Ms(ft){var gt=(0,po.C)("getMap");return gt&&gt(ft)}var z1=vs.DA;Xs(2e3,Xn),Xs(4500,Br),Xs(4500,vi),Xs(2e3,wr),Xs(4500,$r),Xs(7e3,function Xc(ft,gt){ft.eachRawSeries(function(rt){if(!ft.isSeriesFiltered(rt)){var mt=rt.getData();mt.hasItemVisual()&&mt.each(function(ln){var Kn=mt.getItemVisual(ln,"decal");Kn&&(mt.ensureUniqueItemVisual(ln,"style").decal=(0,Sl.I)(Kn,gt))});var Dt=mt.getVisual("decal");Dt&&(mt.getVisual("style").decal=(0,Sl.I)(Dt,gt))}})}),Qc(Ln),a1(900,function lr(ft){var gt=(0,Y.createHashMap)();ft.eachSeries(function(rt){var mt=rt.get("stack");if(mt){var Dt=gt.get(mt)||gt.set(mt,[]),Bt=rt.getData(),ln={stackResultDimension:Bt.getCalculationInfo("stackResultDimension"),stackedOverDimension:Bt.getCalculationInfo("stackedOverDimension"),stackedDimension:Bt.getCalculationInfo("stackedDimension"),stackedByDimension:Bt.getCalculationInfo("stackedByDimension"),isStackedByIndex:Bt.getCalculationInfo("isStackedByIndex"),data:Bt,seriesModel:rt};if(!ln.stackedDimension||!ln.isStackedByIndex&&!ln.stackedByDimension)return;Dt.length&&Bt.setCalculationInfo("stackedOnSeries",Dt[Dt.length-1].seriesModel),Dt.push(ln)}}),gt.each(ct)}),s1("default",function xt(ft,gt){Y.defaults(gt=gt||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var rt=new Hi.Z,mt=new _t.Z({style:{fill:gt.maskColor},zlevel:gt.zlevel,z:1e4});rt.add(mt);var ln,Dt=new $i.ZP({style:{text:gt.text,fill:gt.textColor,fontSize:gt.fontSize,fontWeight:gt.fontWeight,fontStyle:gt.fontStyle,fontFamily:gt.fontFamily},zlevel:gt.zlevel,z:10001}),Bt=new _t.Z({style:{fill:"none"},textContent:Dt,textConfig:{position:"right",distance:10},zlevel:gt.zlevel,z:10001});return rt.add(Bt),gt.showSpinner&&((ln=new Pa.Z({shape:{startAngle:-On/2,endAngle:-On/2+.1,r:gt.spinnerRadius},style:{stroke:gt.color,lineCap:"round",lineWidth:gt.lineWidth},zlevel:gt.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*On/2}).start("circularInOut"),ln.animateShape(!0).when(1e3,{startAngle:3*On/2}).delay(300).start("circularInOut"),rt.add(ln)),rt.resize=function(){var Kn=Dt.getBoundingRect().width,Yn=gt.showSpinner?gt.spinnerRadius:0,Sr=(ft.getWidth()-2*Yn-(gt.showSpinner&&Kn?10:0)-Kn)/2-(gt.showSpinner&&Kn?0:5+Kn/2)+(gt.showSpinner?0:Kn/2)+(Kn?0:Yn),Yr=ft.getHeight()/2;gt.showSpinner&&ln.setShape({cx:Sr,cy:Yr}),Bt.setShape({x:Sr-Yn,y:Yr-Yn,width:2*Yn,height:2*Yn}),mt.setShape({x:0,y:0,width:ft.getWidth(),height:ft.getHeight()})},rt.resize(),rt}),mo({type:Mt.Ki,event:Mt.Ki,update:Mt.Ki},Y.noop),mo({type:Mt.yx,event:Mt.yx,update:Mt.yx},Y.noop),mo({type:Mt.Hg,event:Mt.Hg,update:Mt.Hg},Y.noop),mo({type:Mt.JQ,event:Mt.JQ,update:Mt.JQ},Y.noop),mo({type:Mt.iK,event:Mt.iK,update:Mt.iK},Y.noop),Nl("light",dr),Nl("dark",hr);var dl={}},6984:($t,We,C)=>{"use strict";C.d(We,{C:()=>Y,M:()=>T});var _={};function T(ie,pe){_[ie]=pe}function Y(ie){return _[ie]}},6953:($t,We,C)=>{"use strict";C.d(We,{sO:()=>Q,D0:()=>re,Li:()=>q,G8:()=>te,I2:()=>W});var _=C(2590),T=C(8519),pe=C(4404),me="ZH",Me="EN",de=Me,G={},Z={},Q=T.Z.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(me)>-1?me:de;function W(oe,M){oe=oe.toUpperCase(),Z[oe]=new _.Z(M),G[oe]=M}function re(oe){if((0,pe.isString)(oe)){var M=G[oe.toUpperCase()]||{};return oe===me||oe===Me?(0,pe.clone)(M):(0,pe.merge)((0,pe.clone)(M),(0,pe.clone)(G[de]),!1)}return(0,pe.merge)((0,pe.clone)(oe),(0,pe.clone)(G[de]),!1)}function te(oe){return Z[oe]}function q(){return Z[de]}W(Me,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),W(me,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}})},5096:($t,We,C)=>{"use strict";C.d(We,{v:()=>T});var _=C(4404);function T(pe){return new Y(pe)}var Y=function(){function pe(me){this._reset=(me=me||{}).reset,this._plan=me.plan,this._count=me.count,this._onDirty=me.onDirty,this._dirty=!0}return pe.prototype.perform=function(me){var Z,Me=this._upstream,de=me&&me.skip;if(this._dirty&&Me){var G=this.context;G.data=G.outputData=Me.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!de&&(Z=this._plan(this.context));var oe,Q=q(this._modBy),W=this._modDataCount||0,re=q(me&&me.modBy),te=me&&me.modDataCount||0;function q(X){return!(X>=1)&&(X=1),X}(Q!==re||W!==te)&&(Z="reset"),(this._dirty||"reset"===Z)&&(this._dirty=!1,oe=this._doReset(de)),this._modBy=re,this._modDataCount=te;var M=me&&me.step;if(this._dueEnd=Me?Me._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var se=this._dueIndex,ge=Math.min(null!=M?this._dueIndex+M:1/0,this._dueEnd);if(!de&&(oe||se<ge)){var K=this._progress;if((0,_.isArray)(K))for(var ve=0;ve<K.length;ve++)this._doProgress(K[ve],se,ge,re,te);else this._doProgress(K,se,ge,re,te)}this._dueIndex=ge,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:ge}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},pe.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},pe.prototype._doProgress=function(me,Me,de,G,Z){ie.reset(Me,de,G,Z),this._callingProgress=me,this._callingProgress({start:Me,end:de,count:de-Me,next:ie.next},this.context)},pe.prototype._doReset=function(me){var Me,de;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!me&&this._reset&&((Me=this._reset(this.context))&&Me.progress&&(de=Me.forceFirstProgress,Me=Me.progress),(0,_.isArray)(Me)&&!Me.length&&(Me=null)),this._progress=Me,this._modBy=this._modDataCount=null;var G=this._downstream;return G&&G.dirty(),de},pe.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},pe.prototype.pipe=function(me){(this._downstream!==me||this._dirty)&&(this._downstream=me,me._upstream=this,me.dirty())},pe.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},pe.prototype.getUpstream=function(){return this._upstream},pe.prototype.getDownstream=function(){return this._downstream},pe.prototype.setOutputEnd=function(me){this._outputDueEnd=this._settedOutputEnd=me},pe}(),ie=function(){var pe,me,Me,de,G,Z={reset:function(re,te,q,oe){me=re,pe=te,Me=q,de=oe,G=Math.ceil(de/Me),Z.next=Me>1&&de>0?W:Q}};return Z;function Q(){return me<pe?me++:null}function W(){var re=me%G*Me+Math.ceil(me/G),te=me>=pe?null:re<de?re:me;return me++,te}}()},8173:($t,We,C)=>{"use strict";function _(pe){return null==pe?0:pe.length||1}function T(pe){return pe}C.d(We,{Z:()=>ie});const ie=function(){function pe(me,Me,de,G,Z,Q){this._old=me,this._new=Me,this._oldKeyGetter=de||T,this._newKeyGetter=G||T,this.context=Z,this._diffModeMultiple="multiple"===Q}return pe.prototype.add=function(me){return this._add=me,this},pe.prototype.update=function(me){return this._update=me,this},pe.prototype.updateManyToOne=function(me){return this._updateManyToOne=me,this},pe.prototype.updateOneToMany=function(me){return this._updateOneToMany=me,this},pe.prototype.updateManyToMany=function(me){return this._updateManyToMany=me,this},pe.prototype.remove=function(me){return this._remove=me,this},pe.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},pe.prototype._executeOneToOne=function(){var me=this._old,Me=this._new,de={},G=new Array(me.length),Z=new Array(Me.length);this._initIndexMap(me,null,G,"_oldKeyGetter"),this._initIndexMap(Me,de,Z,"_newKeyGetter");for(var Q=0;Q<me.length;Q++){var W=G[Q],re=de[W],te=_(re);if(te>1){var q=re.shift();1===re.length&&(de[W]=re[0]),this._update&&this._update(q,Q)}else 1===te?(de[W]=null,this._update&&this._update(re,Q)):this._remove&&this._remove(Q)}this._performRestAdd(Z,de)},pe.prototype._executeMultiple=function(){var Me=this._new,de={},G={},Z=[],Q=[];this._initIndexMap(this._old,de,Z,"_oldKeyGetter"),this._initIndexMap(Me,G,Q,"_newKeyGetter");for(var W=0;W<Z.length;W++){var re=Z[W],te=de[re],q=G[re],oe=_(te),M=_(q);if(oe>1&&1===M)this._updateManyToOne&&this._updateManyToOne(q,te),G[re]=null;else if(1===oe&&M>1)this._updateOneToMany&&this._updateOneToMany(q,te),G[re]=null;else if(1===oe&&1===M)this._update&&this._update(q,te),G[re]=null;else if(oe>1&&M>1)this._updateManyToMany&&this._updateManyToMany(q,te),G[re]=null;else if(oe>1)for(var se=0;se<oe;se++)this._remove&&this._remove(te[se]);else this._remove&&this._remove(te)}this._performRestAdd(Q,G)},pe.prototype._performRestAdd=function(me,Me){for(var de=0;de<me.length;de++){var G=me[de],Z=Me[G],Q=_(Z);if(Q>1)for(var W=0;W<Q;W++)this._add&&this._add(Z[W]);else 1===Q&&this._add&&this._add(Z);Me[G]=null}},pe.prototype._initIndexMap=function(me,Me,de,G){for(var Z=this._diffModeMultiple,Q=0;Q<me.length;Q++){var W="_ec_"+this[G](me[Q],Q);if(Z||(de[Q]=W),Me){var re=Me[W],te=_(re);0===te?(Me[W]=Q,Z&&de.push(W)):1===te?Me[W]=[re,Q]:re.push(Q)}}},pe}()},2658:($t,We,C)=>{"use strict";C.d(We,{ZP:()=>oe,hG:()=>Me});var Z,_=C(4404),T=C(8186),Y=C(4453),ie="undefined",pe=typeof Uint32Array===ie?Array:Uint32Array,me=typeof Uint16Array===ie?Array:Uint16Array,Me=typeof Int32Array===ie?Array:Int32Array,de=typeof Float64Array===ie?Array:Float64Array,G={float:de,int:Me,ordinal:Array,number:Array,time:de};function Q(M){return M>65535?pe:me}function re(M){var se=M.constructor;return se===Array?M.slice():new se(M)}function te(M,se,ge,K,ve){var $=G[ge||"float"];if(ve){var X=M[se],ce=X&&X.length;if(ce!==K){for(var U=new $(K),L=0;L<ce;L++)U[L]=X[L];M[se]=U}}else M[se]=new $(K)}const oe=function(){function M(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,_.createHashMap)()}return M.prototype.initData=function(se,ge,K){this._provider=se,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var ve=se.getSource(),$=this.defaultDimValueGetter=Z[ve.sourceFormat];this._dimValueGetter=K||$,this._rawExtent=[],(0,Y.QY)(ve),this._dimensions=(0,_.map)(ge,function(ce){return{type:ce.type,property:ce.property}}),this._initDataFromProvider(0,se.count())},M.prototype.getProvider=function(){return this._provider},M.prototype.getSource=function(){return this._provider.getSource()},M.prototype.ensureCalculationDimension=function(se,ge){var K=this._calcDimNameToIdx,ve=this._dimensions,$=K.get(se);if(null!=$){if(ve[$].type===ge)return $}else $=ve.length;return ve[$]={type:ge},K.set(se,$),this._chunks[$]=new G[ge||"float"](this._rawCount),this._rawExtent[$]=[1/0,-1/0],$},M.prototype.collectOrdinalMeta=function(se,ge){var K=this._chunks[se],ve=this._dimensions[se],$=this._rawExtent,X=ve.ordinalOffset||0,ce=K.length;0===X&&($[se]=[1/0,-1/0]);for(var U=$[se],L=X;L<ce;L++){var E=K[L]=ge.parseAndCollect(K[L]);isNaN(E)||(U[0]=Math.min(E,U[0]),U[1]=Math.max(E,U[1]))}ve.ordinalMeta=ge,ve.ordinalOffset=ce,ve.type="ordinal"},M.prototype.getOrdinalMeta=function(se){return this._dimensions[se].ordinalMeta},M.prototype.getDimensionProperty=function(se){var ge=this._dimensions[se];return ge&&ge.property},M.prototype.appendData=function(se){var ge=this._provider,K=this.count();ge.appendData(se);var ve=ge.count();return ge.persistent||(ve+=K),K<ve&&this._initDataFromProvider(K,ve,!0),[K,ve]},M.prototype.appendValues=function(se,ge){for(var K=this._chunks,ve=this._dimensions,$=ve.length,X=this._rawExtent,ce=this.count(),U=ce+Math.max(se.length,ge||0),L=0;L<$;L++)te(K,L,ve[L].type,U,!0);for(var B=[],H=ce;H<U;H++)for(var A=H-ce,O=0;O<$;O++){var I=Z.arrayRows.call(this,se[A]||B,ve[O].property,A,O);K[O][H]=I;var N=X[O];I<N[0]&&(N[0]=I),I>N[1]&&(N[1]=I)}return this._rawCount=this._count=U,{start:ce,end:U}},M.prototype._initDataFromProvider=function(se,ge,K){for(var ve=this._provider,$=this._chunks,X=this._dimensions,ce=X.length,U=this._rawExtent,L=(0,_.map)(X,function(j){return j.property}),E=0;E<ce;E++){var B=X[E];U[E]||(U[E]=[1/0,-1/0]),te($,E,B.type,ge,K)}if(ve.fillStorage)ve.fillStorage(se,ge,$,U);else for(var H=[],A=se;A<ge;A++){H=ve.getItem(A,H);for(var O=0;O<ce;O++){var I=$[O],N=this._dimValueGetter(H,L[O],A,O);I[A]=N;var ee=U[O];N<ee[0]&&(ee[0]=N),N>ee[1]&&(ee[1]=N)}}!ve.persistent&&ve.clean&&ve.clean(),this._rawCount=this._count=ge,this._extent=[]},M.prototype.count=function(){return this._count},M.prototype.get=function(se,ge){if(!(ge>=0&&ge<this._count))return NaN;var K=this._chunks[se];return K?K[this.getRawIndex(ge)]:NaN},M.prototype.getValues=function(se,ge){var K=[],ve=[];if(null==ge){ge=se,se=[];for(var $=0;$<this._dimensions.length;$++)ve.push($)}else ve=se;$=0;for(var X=ve.length;$<X;$++)K.push(this.get(ve[$],ge));return K},M.prototype.getByRawIndex=function(se,ge){if(!(ge>=0&&ge<this._rawCount))return NaN;var K=this._chunks[se];return K?K[ge]:NaN},M.prototype.getSum=function(se){var K=0;if(this._chunks[se])for(var ve=0,$=this.count();ve<$;ve++){var X=this.get(se,ve);isNaN(X)||(K+=X)}return K},M.prototype.getMedian=function(se){var ge=[];this.each([se],function($){isNaN($)||ge.push($)});var K=ge.sort(function($,X){return $-X}),ve=this.count();return 0===ve?0:ve%2==1?K[(ve-1)/2]:(K[ve/2]+K[ve/2-1])/2},M.prototype.indexOfRawIndex=function(se){if(se>=this._rawCount||se<0)return-1;if(!this._indices)return se;var ge=this._indices,K=ge[se];if(null!=K&&K<this._count&&K===se)return se;for(var ve=0,$=this._count-1;ve<=$;){var X=(ve+$)/2|0;if(ge[X]<se)ve=X+1;else{if(!(ge[X]>se))return X;$=X-1}}return-1},M.prototype.indicesOfNearest=function(se,ge,K){var $=this._chunks[se],X=[];if(!$)return X;null==K&&(K=1/0);for(var ce=1/0,U=-1,L=0,E=0,B=this.count();E<B;E++){var A=ge-$[this.getRawIndex(E)],O=Math.abs(A);O<=K&&((O<ce||O===ce&&A>=0&&U<0)&&(ce=O,U=A,L=0),A===U&&(X[L++]=E))}return X.length=L,X},M.prototype.getIndices=function(){var se,ge=this._indices;if(ge){var ve=this._count;if((K=ge.constructor)===Array){se=new K(ve);for(var $=0;$<ve;$++)se[$]=ge[$]}else se=new K(ge.buffer,0,ve)}else{var K;for(se=new(K=Q(this._rawCount))(this.count()),$=0;$<se.length;$++)se[$]=$}return se},M.prototype.filter=function(se,ge){if(!this._count)return this;for(var K=this.clone(),ve=K.count(),X=new(Q(K._rawCount))(ve),ce=[],U=se.length,L=0,E=se[0],B=K._chunks,H=0;H<ve;H++){var A=void 0,O=K.getRawIndex(H);if(0===U)A=ge(H);else if(1===U)A=ge(B[E][O],H);else{for(var N=0;N<U;N++)ce[N]=B[se[N]][O];ce[N]=H,A=ge.apply(null,ce)}A&&(X[L++]=O)}return L<ve&&(K._indices=X),K._count=L,K._extent=[],K._updateGetRawIdx(),K},M.prototype.selectRange=function(se){var ge=this.clone(),K=ge._count;if(!K)return this;var ve=(0,_.keys)(se),$=ve.length;if(!$)return this;var X=ge.count(),U=new(Q(ge._rawCount))(X),L=0,E=ve[0],B=se[E][0],H=se[E][1],A=ge._chunks,O=!1;if(!ge._indices){var I=0;if(1===$){for(var N=A[ve[0]],ee=0;ee<K;ee++)((j=N[ee])>=B&&j<=H||isNaN(j))&&(U[L++]=I),I++;O=!0}else if(2===$){N=A[ve[0]];var ae=A[ve[1]],fe=se[ve[1]][0],he=se[ve[1]][1];for(ee=0;ee<K;ee++){var Ce=ae[ee];((j=N[ee])>=B&&j<=H||isNaN(j))&&(Ce>=fe&&Ce<=he||isNaN(Ce))&&(U[L++]=I),I++}O=!0}}if(!O)if(1===$)for(ee=0;ee<X;ee++){var Se=ge.getRawIndex(ee);((j=A[ve[0]][Se])>=B&&j<=H||isNaN(j))&&(U[L++]=Se)}else for(ee=0;ee<X;ee++){for(var ye=!0,we=(Se=ge.getRawIndex(ee),0);we<$;we++){var j,Ae=ve[we];((j=A[Ae][Se])<se[Ae][0]||j>se[Ae][1])&&(ye=!1)}ye&&(U[L++]=ge.getRawIndex(ee))}return L<X&&(ge._indices=U),ge._count=L,ge._extent=[],ge._updateGetRawIdx(),ge},M.prototype.map=function(se,ge){var K=this.clone(se);return this._updateDims(K,se,ge),K},M.prototype.modify=function(se,ge){this._updateDims(this,se,ge)},M.prototype._updateDims=function(se,ge,K){for(var ve=se._chunks,$=[],X=ge.length,ce=se.count(),U=[],L=se._rawExtent,E=0;E<ge.length;E++)L[ge[E]]=[1/0,-1/0];for(var B=0;B<ce;B++){for(var H=se.getRawIndex(B),A=0;A<X;A++)U[A]=ve[ge[A]][H];U[X]=B;var O=K&&K.apply(null,U);if(null!=O)for("object"!=typeof O&&($[0]=O,O=$),E=0;E<O.length;E++){var I=ge[E],N=O[E],ee=L[I],j=ve[I];j&&(j[H]=N),N<ee[0]&&(ee[0]=N),N>ee[1]&&(ee[1]=N)}}},M.prototype.lttbDownSample=function(se,ge){var E,B,H,K=this.clone([se],!0),$=K._chunks[se],X=this.count(),ce=0,U=Math.floor(1/ge),L=this.getRawIndex(0),A=new(Q(this._rawCount))(Math.min(2*(Math.ceil(X/U)+2),X));A[ce++]=L;for(var O=1;O<X-1;O+=U){for(var I=Math.min(O+U,X-1),N=Math.min(O+2*U,X),ee=(N+I)/2,j=0,ae=I;ae<N;ae++){var he=$[fe=this.getRawIndex(ae)];isNaN(he)||(j+=he)}j/=N-I;var Ce=O,Se=Math.min(O+U,X),ye=O-1,we=$[L];E=-1,H=Ce;var Ae=-1,Ne=0;for(ae=Ce;ae<Se;ae++){var fe;he=$[fe=this.getRawIndex(ae)],isNaN(he)?(Ne++,Ae<0&&(Ae=fe)):(B=Math.abs((ye-ee)*(he-we)-(ye-ae)*(j-we)))>E&&(E=B,H=fe)}Ne>0&&Ne<Se-Ce&&(A[ce++]=Math.min(Ae,H),H=Math.max(Ae,H)),A[ce++]=H,L=H}return A[ce++]=this.getRawIndex(X-1),K._count=ce,K._indices=A,K.getRawIndex=this._getRawIdx,K},M.prototype.downSample=function(se,ge,K,ve){for(var $=this.clone([se],!0),X=$._chunks,ce=[],U=Math.floor(1/ge),L=X[se],E=this.count(),B=$._rawExtent[se]=[1/0,-1/0],H=new(Q(this._rawCount))(Math.ceil(E/U)),A=0,O=0;O<E;O+=U){U>E-O&&(ce.length=U=E-O);for(var I=0;I<U;I++){var N=this.getRawIndex(O+I);ce[I]=L[N]}var ee=K(ce),j=this.getRawIndex(Math.min(O+ve(ce,ee)||0,E-1));L[j]=ee,ee<B[0]&&(B[0]=ee),ee>B[1]&&(B[1]=ee),H[A++]=j}return $._count=A,$._indices=H,$._updateGetRawIdx(),$},M.prototype.each=function(se,ge){if(this._count)for(var K=se.length,ve=this._chunks,$=0,X=this.count();$<X;$++){var ce=this.getRawIndex($);switch(K){case 0:ge($);break;case 1:ge(ve[se[0]][ce],$);break;case 2:ge(ve[se[0]][ce],ve[se[1]][ce],$);break;default:for(var U=0,L=[];U<K;U++)L[U]=ve[se[U]][ce];L[U]=$,ge.apply(null,L)}}},M.prototype.getDataExtent=function(se){var ge=this._chunks[se],K=[1/0,-1/0];if(!ge)return K;var X,ve=this.count();if(!this._indices)return this._rawExtent[se].slice();if(X=this._extent[se])return X.slice();for(var ce=(X=K)[0],U=X[1],L=0;L<ve;L++){var B=ge[this.getRawIndex(L)];B<ce&&(ce=B),B>U&&(U=B)}return this._extent[se]=X=[ce,U],X},M.prototype.getRawDataItem=function(se){var ge=this.getRawIndex(se);if(this._provider.persistent)return this._provider.getItem(ge);for(var K=[],ve=this._chunks,$=0;$<ve.length;$++)K.push(ve[$][ge]);return K},M.prototype.clone=function(se,ge){var K=new M,ve=this._chunks,$=se&&(0,_.reduce)(se,function(ce,U){return ce[U]=!0,ce},{});if($)for(var X=0;X<ve.length;X++)K._chunks[X]=$[X]?re(ve[X]):ve[X];else K._chunks=ve;return this._copyCommonProps(K),ge||(K._indices=this._cloneIndices()),K._updateGetRawIdx(),K},M.prototype._copyCommonProps=function(se){se._count=this._count,se._rawCount=this._rawCount,se._provider=this._provider,se._dimensions=this._dimensions,se._extent=(0,_.clone)(this._extent),se._rawExtent=(0,_.clone)(this._rawExtent)},M.prototype._cloneIndices=function(){if(this._indices){var se=this._indices.constructor,ge=void 0;if(se===Array){var K=this._indices.length;ge=new se(K);for(var ve=0;ve<K;ve++)ge[ve]=this._indices[ve]}else ge=new se(this._indices);return ge}return null},M.prototype._getRawIdxIdentity=function(se){return se},M.prototype._getRawIdx=function(se){return se<this._count&&se>=0?this._indices[se]:-1},M.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},M.internalField=function(){function se(ge,K,ve,$){return(0,T.yQ)(ge[$],this._dimensions[$])}Z={arrayRows:se,objectRows:function(ge,K,ve,$){return(0,T.yQ)(ge[K],this._dimensions[$])},keyedColumns:se,original:function(ge,K,ve,$){var X=ge&&(null==ge.value?ge:ge.value);return(0,T.yQ)(X instanceof Array?X[$]:X,this._dimensions[$])},typedArray:function(ge,K,ve,$){return ge[$]}}}(),M}()},1927:($t,We,C)=>{"use strict";C.d(We,{ZP:()=>Me});var _=C(4404);function T(de){return"_EC_"+de}var Y=function(){function de(G){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=G||!1}return de.prototype.isDirected=function(){return this._directed},de.prototype.addNode=function(G,Z){var Q=this._nodesMap;if(!Q[T(G=null==G?""+Z:""+G)]){var W=new ie(G,Z);return W.hostGraph=this,this.nodes.push(W),Q[T(G)]=W,W}},de.prototype.getNodeByIndex=function(G){var Z=this.data.getRawIndex(G);return this.nodes[Z]},de.prototype.getNodeById=function(G){return this._nodesMap[T(G)]},de.prototype.addEdge=function(G,Z,Q){var W=this._nodesMap,re=this._edgesMap;if(_.isNumber(G)&&(G=this.nodes[G]),_.isNumber(Z)&&(Z=this.nodes[Z]),G instanceof ie||(G=W[T(G)]),Z instanceof ie||(Z=W[T(Z)]),G&&Z){var te=G.id+"-"+Z.id,q=new pe(G,Z,Q);return q.hostGraph=this,this._directed&&(G.outEdges.push(q),Z.inEdges.push(q)),G.edges.push(q),G!==Z&&Z.edges.push(q),this.edges.push(q),re[te]=q,q}},de.prototype.getEdgeByIndex=function(G){var Z=this.edgeData.getRawIndex(G);return this.edges[Z]},de.prototype.getEdge=function(G,Z){G instanceof ie&&(G=G.id),Z instanceof ie&&(Z=Z.id);var Q=this._edgesMap;return this._directed?Q[G+"-"+Z]:Q[G+"-"+Z]||Q[Z+"-"+G]},de.prototype.eachNode=function(G,Z){for(var Q=this.nodes,W=Q.length,re=0;re<W;re++)Q[re].dataIndex>=0&&G.call(Z,Q[re],re)},de.prototype.eachEdge=function(G,Z){for(var Q=this.edges,W=Q.length,re=0;re<W;re++)Q[re].dataIndex>=0&&Q[re].node1.dataIndex>=0&&Q[re].node2.dataIndex>=0&&G.call(Z,Q[re],re)},de.prototype.breadthFirstTraverse=function(G,Z,Q,W){if(Z instanceof ie||(Z=this._nodesMap[T(Z)]),Z){for(var re="out"===Q?"outEdges":"in"===Q?"inEdges":"edges",te=0;te<this.nodes.length;te++)this.nodes[te].__visited=!1;if(!G.call(W,Z,null))for(var q=[Z];q.length;){var oe=q.shift(),M=oe[re];for(te=0;te<M.length;te++){var se=M[te],ge=se.node1===oe?se.node2:se.node1;if(!ge.__visited){if(G.call(W,ge,oe))return;q.push(ge),ge.__visited=!0}}}}},de.prototype.update=function(){for(var G=this.data,Z=this.edgeData,Q=this.nodes,W=this.edges,re=0,te=Q.length;re<te;re++)Q[re].dataIndex=-1;for(re=0,te=G.count();re<te;re++)Q[G.getRawIndex(re)].dataIndex=re;for(Z.filterSelf(function(q){var oe=W[Z.getRawIndex(q)];return oe.node1.dataIndex>=0&&oe.node2.dataIndex>=0}),re=0,te=W.length;re<te;re++)W[re].dataIndex=-1;for(re=0,te=Z.count();re<te;re++)W[Z.getRawIndex(re)].dataIndex=re},de.prototype.clone=function(){for(var G=new de(this._directed),Z=this.nodes,Q=this.edges,W=0;W<Z.length;W++)G.addNode(Z[W].id,Z[W].dataIndex);for(W=0;W<Q.length;W++){var re=Q[W];G.addEdge(re.node1.id,re.node2.id,re.dataIndex)}return G},de}(),ie=function(){function de(G,Z){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=G??"",this.dataIndex=Z??-1}return de.prototype.degree=function(){return this.edges.length},de.prototype.inDegree=function(){return this.inEdges.length},de.prototype.outDegree=function(){return this.outEdges.length},de.prototype.getModel=function(G){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(G)},de.prototype.getAdjacentDataIndices=function(){for(var G={edge:[],node:[]},Z=0;Z<this.edges.length;Z++){var Q=this.edges[Z];Q.dataIndex<0||(G.edge.push(Q.dataIndex),G.node.push(Q.node1.dataIndex,Q.node2.dataIndex))}return G},de}(),pe=function(){function de(G,Z,Q){this.dataIndex=-1,this.node1=G,this.node2=Z,this.dataIndex=Q??-1}return de.prototype.getModel=function(G){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(G)},de.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},de}();function me(de,G){return{getValue:function(Z){var Q=this[de][G];return Q.getStore().get(Q.getDimensionIndex(Z||"value"),this.dataIndex)},setVisual:function(Z,Q){this.dataIndex>=0&&this[de][G].setItemVisual(this.dataIndex,Z,Q)},getVisual:function(Z){return this[de][G].getItemVisual(this.dataIndex,Z)},setLayout:function(Z,Q){this.dataIndex>=0&&this[de][G].setItemLayout(this.dataIndex,Z,Q)},getLayout:function(){return this[de][G].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[de][G].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[de][G].getRawIndex(this.dataIndex)}}}_.mixin(ie,me("hostGraph","data")),_.mixin(pe,me("hostGraph","edgeData"));const Me=Y},4532:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=C(4404),T=0;function ie(me){return(0,_.isObject)(me)&&null!=me.value?me.value:me+""}const pe=function(){function me(Me){this.categories=Me.categories||[],this._needCollect=Me.needCollect,this._deduplication=Me.deduplication,this.uid=++T}return me.createByAxisModel=function(Me){var de=Me.option,G=de.data,Z=G&&(0,_.map)(G,ie);return new me({categories:Z,needCollect:!Z,deduplication:!1!==de.dedplication})},me.prototype.getOrdinal=function(Me){return this._getOrCreateMap().get(Me)},me.prototype.parseAndCollect=function(Me){var de,G=this._needCollect;if(!(0,_.isString)(Me)&&!G)return Me;if(G&&!this._deduplication)return this.categories[de=this.categories.length]=Me,de;var Z=this._getOrCreateMap();return null==(de=Z.get(Me))&&(G?(this.categories[de=this.categories.length]=Me,Z.set(Me,de)):de=NaN),de},me.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,_.createHashMap)(this.categories))},me}()},3040:($t,We,C)=>{"use strict";C.d(We,{Z:()=>B});var K,ve,$,X,ce,U,L,_=C(4404),T=C(2590),Y=C(8173),ie=C(5941),pe=C(3121),me=C(4069),Me=C(2956),de=C(6496),G=C(9133),Z=C(4453),Q=C(2658),W=C(8708),re=_.isObject,te=_.map,q=typeof Int32Array>"u"?Array:Int32Array,se=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ge=["_approximateExtent"];const B=function(){function H(A,O){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var I,N=!1;(0,W.bB)(A)?(I=A.dimensions,this._dimOmitted=A.isDimensionOmitted(),this._schema=A):(N=!0,I=A),I=I||["x","y"];for(var ee={},j=[],ae={},fe=!1,he={},Ce=0;Ce<I.length;Ce++){var Se=I[Ce],ye=_.isString(Se)?new me.Z({name:Se}):Se instanceof me.Z?Se:new me.Z(Se),we=ye.name;ye.type=ye.type||"float",ye.coordDim||(ye.coordDim=we,ye.coordDimIndex=0);var Ae=ye.otherDims=ye.otherDims||{};j.push(we),ee[we]=ye,null!=he[we]&&(fe=!0),ye.createInvertedIndices&&(ae[we]=[]),0===Ae.itemName&&(this._nameDimIdx=Ce),0===Ae.itemId&&(this._idDimIdx=Ce),N&&(ye.storeDimIndex=Ce)}if(this.dimensions=j,this._dimInfos=ee,this._initGetDimensionInfo(fe),this.hostModel=O,this._invertedIndicesMap=ae,this._dimOmitted){var Ne=this._dimIdxToName=_.createHashMap();_.each(j,function(Le){Ne.set(ee[Le].storeDimIndex,Le)})}}return H.prototype.getDimension=function(A){var O=this._recognizeDimIndex(A);if(null==O)return A;if(O=A,!this._dimOmitted)return this.dimensions[O];var I=this._dimIdxToName.get(O);if(null!=I)return I;var N=this._schema.getSourceDimension(O);return N?N.name:void 0},H.prototype.getDimensionIndex=function(A){var O=this._recognizeDimIndex(A);if(null!=O)return O;if(null==A)return-1;var I=this._getDimInfo(A);return I?I.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(A):-1},H.prototype._recognizeDimIndex=function(A){if(_.isNumber(A)||null!=A&&!isNaN(A)&&!this._getDimInfo(A)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(A)<0))return+A},H.prototype._getStoreDimIndex=function(A){return this.getDimensionIndex(A)},H.prototype.getDimensionInfo=function(A){return this._getDimInfo(this.getDimension(A))},H.prototype._initGetDimensionInfo=function(A){var O=this._dimInfos;this._getDimInfo=A?function(I){return O.hasOwnProperty(I)?O[I]:void 0}:function(I){return O[I]}},H.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},H.prototype.mapDimension=function(A,O){var I=this._dimSummary;if(null==O)return I.encodeFirstDimNotExtra[A];var N=I.encode[A];return N?N[O]:null},H.prototype.mapDimensionsAll=function(A){return(this._dimSummary.encode[A]||[]).slice()},H.prototype.getStore=function(){return this._store},H.prototype.initData=function(A,O,I){var ee,N=this;if(A instanceof Q.ZP&&(ee=A),!ee){var j=this.dimensions,ae=(0,Z.Ld)(A)||_.isArrayLike(A)?new ie.Pl(A,j.length):A;ee=new Q.ZP;var fe=te(j,function(he){return{type:N._dimInfos[he].type,property:he}});ee.initData(ae,fe,I)}this._store=ee,this._nameList=(O||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,ee.count()),this._dimSummary=(0,pe.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},H.prototype.appendData=function(A){var O=this._store.appendData(A);this._doInit(O[0],O[1])},H.prototype.appendValues=function(A,O){var I=this._store.appendValues(A,O.length),N=I.start,ee=I.end,j=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),O)for(var ae=N;ae<ee;ae++)this._nameList[ae]=O[ae-N],j&&L(this,ae)},H.prototype._updateOrdinalMeta=function(){for(var A=this._store,O=this.dimensions,I=0;I<O.length;I++){var N=this._dimInfos[O[I]];N.ordinalMeta&&A.collectOrdinalMeta(N.storeDimIndex,N.ordinalMeta)}},H.prototype._shouldMakeIdFromName=function(){var A=this._store.getProvider();return null==this._idDimIdx&&A.getSource().sourceFormat!==Me.J5&&!A.fillStorage},H.prototype._doInit=function(A,O){if(!(A>=O)){var N=this._store.getProvider();this._updateOrdinalMeta();var ee=this._nameList,j=this._idList;if(N.getSource().sourceFormat===Me.cy&&!N.pure)for(var he=[],Ce=A;Ce<O;Ce++){var Se=N.getItem(Ce,he);if(!this.hasItemOption&&(0,de.Co)(Se)&&(this.hasItemOption=!0),Se){var ye=Se.name;null==ee[Ce]&&null!=ye&&(ee[Ce]=(0,de.U5)(ye,null));var we=Se.id;null==j[Ce]&&null!=we&&(j[Ce]=(0,de.U5)(we,null))}}if(this._shouldMakeIdFromName())for(Ce=A;Ce<O;Ce++)L(this,Ce);K(this)}},H.prototype.getApproximateExtent=function(A){return this._approximateExtent[A]||this._store.getDataExtent(this._getStoreDimIndex(A))},H.prototype.setApproximateExtent=function(A,O){O=this.getDimension(O),this._approximateExtent[O]=A.slice()},H.prototype.getCalculationInfo=function(A){return this._calculationInfo[A]},H.prototype.setCalculationInfo=function(A,O){re(A)?_.extend(this._calculationInfo,A):this._calculationInfo[A]=O},H.prototype.getName=function(A){var O=this.getRawIndex(A),I=this._nameList[O];return null==I&&null!=this._nameDimIdx&&(I=$(this,this._nameDimIdx,O)),null==I&&(I=""),I},H.prototype._getCategory=function(A,O){var I=this._store.get(A,O),N=this._store.getOrdinalMeta(A);return N?N.categories[I]:I},H.prototype.getId=function(A){return ve(this,this.getRawIndex(A))},H.prototype.count=function(){return this._store.count()},H.prototype.get=function(A,O){var N=this._dimInfos[A];if(N)return this._store.get(N.storeDimIndex,O)},H.prototype.getByRawIndex=function(A,O){var N=this._dimInfos[A];if(N)return this._store.getByRawIndex(N.storeDimIndex,O)},H.prototype.getIndices=function(){return this._store.getIndices()},H.prototype.getDataExtent=function(A){return this._store.getDataExtent(this._getStoreDimIndex(A))},H.prototype.getSum=function(A){return this._store.getSum(this._getStoreDimIndex(A))},H.prototype.getMedian=function(A){return this._store.getMedian(this._getStoreDimIndex(A))},H.prototype.getValues=function(A,O){var I=this,N=this._store;return _.isArray(A)?N.getValues(te(A,function(ee){return I._getStoreDimIndex(ee)}),O):N.getValues(A)},H.prototype.hasValue=function(A){for(var O=this._dimSummary.dataDimIndicesOnCoord,I=0,N=O.length;I<N;I++)if(isNaN(this._store.get(O[I],A)))return!1;return!0},H.prototype.indexOfName=function(A){for(var O=0,I=this._store.count();O<I;O++)if(this.getName(O)===A)return O;return-1},H.prototype.getRawIndex=function(A){return this._store.getRawIndex(A)},H.prototype.indexOfRawIndex=function(A){return this._store.indexOfRawIndex(A)},H.prototype.rawIndexOf=function(A,O){var N=(A&&this._invertedIndicesMap[A])[O];return null==N||isNaN(N)?-1:N},H.prototype.indicesOfNearest=function(A,O,I){return this._store.indicesOfNearest(this._getStoreDimIndex(A),O,I)},H.prototype.each=function(A,O,I){_.isFunction(A)&&(I=O,O=A,A=[]);var N=I||this,ee=te(X(A),this._getStoreDimIndex,this);this._store.each(ee,N?_.bind(O,N):O)},H.prototype.filterSelf=function(A,O,I){_.isFunction(A)&&(I=O,O=A,A=[]);var N=I||this,ee=te(X(A),this._getStoreDimIndex,this);return this._store=this._store.filter(ee,N?_.bind(O,N):O),this},H.prototype.selectRange=function(A){var O=this,I={},N=_.keys(A),ee=[];return _.each(N,function(j){var ae=O._getStoreDimIndex(j);I[ae]=A[j],ee.push(ae)}),this._store=this._store.selectRange(I),this},H.prototype.mapArray=function(A,O,I){_.isFunction(A)&&(I=O,O=A,A=[]);var N=[];return this.each(A,function(){N.push(O&&O.apply(this,arguments))},I=I||this),N},H.prototype.map=function(A,O,I,N){var ee=I||N||this,j=te(X(A),this._getStoreDimIndex,this),ae=U(this);return ae._store=this._store.map(j,ee?_.bind(O,ee):O),ae},H.prototype.modify=function(A,O,I,N){var j=I||N||this,ae=te(X(A),this._getStoreDimIndex,this);this._store.modify(ae,j?_.bind(O,j):O)},H.prototype.downSample=function(A,O,I,N){var ee=U(this);return ee._store=this._store.downSample(this._getStoreDimIndex(A),O,I,N),ee},H.prototype.lttbDownSample=function(A,O){var I=U(this);return I._store=this._store.lttbDownSample(this._getStoreDimIndex(A),O),I},H.prototype.getRawDataItem=function(A){return this._store.getRawDataItem(A)},H.prototype.getItemModel=function(A){var O=this.hostModel,I=this.getRawDataItem(A);return new T.Z(I,O,O&&O.ecModel)},H.prototype.diff=function(A){var O=this;return new Y.Z(A?A.getStore().getIndices():[],this.getStore().getIndices(),function(I){return ve(A,I)},function(I){return ve(O,I)})},H.prototype.getVisual=function(A){var O=this._visual;return O&&O[A]},H.prototype.setVisual=function(A,O){this._visual=this._visual||{},re(A)?_.extend(this._visual,A):this._visual[A]=O},H.prototype.getItemVisual=function(A,O){var I=this._itemVisuals[A];return(I&&I[O])??this.getVisual(O)},H.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},H.prototype.ensureUniqueItemVisual=function(A,O){var I=this._itemVisuals,N=I[A];N||(N=I[A]={});var ee=N[O];return null==ee&&(ee=this.getVisual(O),_.isArray(ee)?ee=ee.slice():re(ee)&&(ee=_.extend({},ee)),N[O]=ee),ee},H.prototype.setItemVisual=function(A,O,I){var N=this._itemVisuals[A]||{};this._itemVisuals[A]=N,re(O)?_.extend(N,O):N[O]=I},H.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},H.prototype.setLayout=function(A,O){re(A)?_.extend(this._layout,A):this._layout[A]=O},H.prototype.getLayout=function(A){return this._layout[A]},H.prototype.getItemLayout=function(A){return this._itemLayouts[A]},H.prototype.setItemLayout=function(A,O,I){this._itemLayouts[A]=I?_.extend(this._itemLayouts[A]||{},O):O},H.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},H.prototype.setItemGraphicEl=function(A,O){(0,G.Q)(this.hostModel&&this.hostModel.seriesIndex,this.dataType,A,O),this._graphicEls[A]=O},H.prototype.getItemGraphicEl=function(A){return this._graphicEls[A]},H.prototype.eachItemGraphicEl=function(A,O){_.each(this._graphicEls,function(I,N){I&&A&&A.call(O,I,N)})},H.prototype.cloneShallow=function(A){return A||(A=new H(this._schema?this._schema:te(this.dimensions,this._getDimInfo,this),this.hostModel)),ce(A,this),A._store=this._store,A},H.prototype.wrapMethod=function(A,O){var I=this[A];_.isFunction(I)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(A),this[A]=function(){var N=I.apply(this,arguments);return O.apply(this,[N].concat(_.slice(arguments)))})},H.internalField=(K=function(A){var O=A._invertedIndicesMap;_.each(O,function(I,N){var ee=A._dimInfos[N],j=ee.ordinalMeta,ae=A._store;if(j){I=O[N]=new q(j.categories.length);for(var fe=0;fe<I.length;fe++)I[fe]=-1;for(fe=0;fe<ae.count();fe++)I[ae.get(ee.storeDimIndex,fe)]=fe}})},$=function(A,O,I){return(0,de.U5)(A._getCategory(O,I),null)},ve=function(A,O){var I=A._idList[O];return null==I&&null!=A._idDimIdx&&(I=$(A,A._idDimIdx,O)),null==I&&(I="e\0\0"+O),I},X=function(A){return _.isArray(A)||(A=null!=A?[A]:[]),A},U=function(A){var O=new H(A._schema?A._schema:te(A.dimensions,A._getDimInfo,A),A.hostModel);return ce(O,A),O},ce=function(A,O){_.each(se.concat(O.__wrappedMethods||[]),function(I){O.hasOwnProperty(I)&&(A[I]=O[I])}),A.__wrappedMethods=O.__wrappedMethods,_.each(ge,function(I){A[I]=_.clone(O[I])}),A._calculationInfo=_.extend({},O._calculationInfo)},void(L=function(A,O){var I=A._nameList,N=A._idList,ee=A._nameDimIdx,j=A._idDimIdx,ae=I[O],fe=N[O];if(null==ae&&null!=ee&&(I[O]=ae=$(A,ee,O)),null==fe&&null!=j&&(N[O]=fe=$(A,j,O)),null==fe&&null!=ae){var he=A._nameRepeatCount,Ce=he[ae]=(he[ae]||0)+1;fe=ae,Ce>1&&(fe+="__ec__"+Ce),N[O]=fe}})),H}()},4069:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Y});var _=C(4404);const Y=function ie(pe){this.otherDims={},null!=pe&&_.extend(this,pe)}},4453:($t,We,C)=>{"use strict";C.d(We,{Kp:()=>Z,Ld:()=>me,ML:()=>G,QY:()=>q,_P:()=>Me,nx:()=>de});var _=C(4404),T=C(2956),Y=C(6496),ie=C(9475),pe=function oe(M){this.data=M.data||(M.sourceFormat===T.hL?{}:[]),this.sourceFormat=M.sourceFormat||T.RA,this.seriesLayoutBy=M.seriesLayoutBy||T.fY,this.startIndex=M.startIndex||0,this.dimensionsDetectedCount=M.dimensionsDetectedCount,this.metaRawOption=M.metaRawOption;var se=this.dimensionsDefine=M.dimensionsDefine;if(se)for(var ge=0;ge<se.length;ge++){var K=se[ge];null==K.type&&(0,ie.u7)(this,ge)===ie.Dq.Must&&(K.type="ordinal")}};function me(oe){return oe instanceof pe}function Me(oe,M,se){se=se||Z(oe);var ge=M.seriesLayoutBy,K=function Q(oe,M,se,ge,K){var ve,$;if(!oe)return{dimensionsDefine:re(K),startIndex:$,dimensionsDetectedCount:ve};if(M===T.XD){var X=oe;"auto"===ge||null==ge?te(function(U){null!=U&&"-"!==U&&((0,_.isString)(U)?null==$&&($=1):$=0)},se,X,10):$=(0,_.isNumber)(ge)?ge:ge?1:0,!K&&1===$&&(K=[],te(function(U,L){K[L]=null!=U?U+"":""},se,X,1/0)),ve=K?K.length:se===T.Wc?X.length:X[0]?X[0].length:null}else if(M===T.qb)K||(K=function W(oe){for(var se,M=0;M<oe.length&&!(se=oe[M++]););if(se)return(0,_.keys)(se)}(oe));else if(M===T.hL)K||(K=[],(0,_.each)(oe,function(U,L){K.push(L)}));else if(M===T.cy){var ce=(0,Y.C4)(oe[0]);ve=(0,_.isArray)(ce)&&ce.length||1}return{startIndex:$,dimensionsDefine:re(K),dimensionsDetectedCount:ve}}(oe,se,ge,M.sourceHeader,M.dimensions);return new pe({data:oe,sourceFormat:se,seriesLayoutBy:ge,dimensionsDefine:K.dimensionsDefine,startIndex:K.startIndex,dimensionsDetectedCount:K.dimensionsDetectedCount,metaRawOption:(0,_.clone)(M)})}function de(oe){return new pe({data:oe,sourceFormat:(0,_.isTypedArray)(oe)?T.J5:T.cy})}function G(oe){return new pe({data:oe.data,sourceFormat:oe.sourceFormat,seriesLayoutBy:oe.seriesLayoutBy,dimensionsDefine:(0,_.clone)(oe.dimensionsDefine),startIndex:oe.startIndex,dimensionsDetectedCount:oe.dimensionsDetectedCount})}function Z(oe){var M=T.RA;if((0,_.isTypedArray)(oe))M=T.J5;else if((0,_.isArray)(oe)){0===oe.length&&(M=T.XD);for(var se=0,ge=oe.length;se<ge;se++){var K=oe[se];if(null!=K){if((0,_.isArray)(K)){M=T.XD;break}if((0,_.isObject)(K)){M=T.qb;break}}}}else if((0,_.isObject)(oe))for(var ve in oe)if((0,_.hasOwn)(oe,ve)&&(0,_.isArrayLike)(oe[ve])){M=T.hL;break}return M}function re(oe){if(oe){var M=(0,_.createHashMap)();return(0,_.map)(oe,function(se,ge){var K={name:(se=(0,_.isObject)(se)?se:{name:se}).name,displayName:se.displayName,type:se.type};if(null==K.name)return K;K.name+="",null==K.displayName&&(K.displayName=K.name);var ve=M.get(K.name);return ve?K.name+="-"+ve.count++:M.set(K.name,{count:1}),K})}}function te(oe,M,se,ge){if(M===T.Wc)for(var K=0;K<se.length&&K<ge;K++)oe(se[K]?se[K][0]:null,K);else{var ve=se[0]||[];for(K=0;K<ve.length&&K<ge;K++)oe(ve[K],K)}}function q(oe){var M=oe.sourceFormat;return M===T.qb||M===T.hL}},8708:($t,We,C)=>{"use strict";C.d(We,{Eo:()=>me,Jj:()=>G,Jl:()=>Z,bB:()=>Me,v5:()=>de});var _=C(4404),T=C(6496),Y=C(4453),ie=(0,T.Yf)(),pe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},me=function(){function Q(W){this.dimensions=W.dimensions,this._dimOmitted=W.dimensionOmitted,this.source=W.source,this._fullDimCount=W.fullDimensionCount,this._updateDimOmitted(W.dimensionOmitted)}return Q.prototype.isDimensionOmitted=function(){return this._dimOmitted},Q.prototype._updateDimOmitted=function(W){this._dimOmitted=W,W&&(this._dimNameMap||(this._dimNameMap=G(this.source)))},Q.prototype.getSourceDimensionIndex=function(W){return(0,_.retrieve2)(this._dimNameMap.get(W),-1)},Q.prototype.getSourceDimension=function(W){var re=this.source.dimensionsDefine;if(re)return re[W]},Q.prototype.makeStoreSchema=function(){for(var W=this._fullDimCount,re=(0,Y.QY)(this.source),te=!Z(W),q="",oe=[],M=0,se=0;M<W;M++){var ge=void 0,K=void 0,ve=void 0,$=this.dimensions[se];if($&&$.storeDimIndex===M)ge=re?$.name:null,K=$.type,ve=$.ordinalMeta,se++;else{var X=this.getSourceDimension(M);X&&(ge=re?X.name:null,K=X.type)}oe.push({property:ge,type:K,ordinalMeta:ve}),re&&null!=ge&&(!$||!$.isCalculationCoord)&&(q+=te?ge.replace(/\`/g,"`1").replace(/\$/g,"`2"):ge),q+="$",q+=pe[K]||"f",ve&&(q+=ve.uid),q+="$"}var ce=this.source;return{dimensions:oe,hash:[ce.seriesLayoutBy,ce.startIndex,q].join("$$")}},Q.prototype.makeOutputDimensionNames=function(){for(var W=[],re=0,te=0;re<this._fullDimCount;re++){var q=void 0,oe=this.dimensions[te];if(oe&&oe.storeDimIndex===re)oe.isCalculationCoord||(q=oe.name),te++;else{var M=this.getSourceDimension(re);M&&(q=M.name)}W.push(q)}return W},Q.prototype.appendCalculationDimension=function(W){this.dimensions.push(W),W.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Q}();function Me(Q){return Q instanceof me}function de(Q){for(var W=(0,_.createHashMap)(),re=0;re<(Q||[]).length;re++){var te=Q[re],q=(0,_.isObject)(te)?te.name:te;null!=q&&null==W.get(q)&&W.set(q,re)}return W}function G(Q){var W=ie(Q);return W.dimNameMap||(W.dimNameMap=de(Q.dimensionsDefine))}function Z(Q){return Q>30}},2596:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Z,q:()=>G});var _=C(2956),T=C(4069),Y=C(4404),ie=C(4453),pe=C(2658),me=C(6496),Me=C(9475),de=C(8708);function G(te,q){return Z(te,q).dimensions}function Z(te,q){(0,ie.Ld)(te)||(te=(0,ie.nx)(te));var oe=(q=q||{}).coordDimensions||[],M=q.dimensionsDefine||te.dimensionsDefine||[],se=(0,Y.createHashMap)(),ge=[],K=function W(te,q,oe,M){var se=Math.max(te.dimensionsDetectedCount||1,q.length,oe.length,M||0);return(0,Y.each)(q,function(ge){var K;(0,Y.isObject)(ge)&&(K=ge.dimsDef)&&(se=Math.max(se,K.length))}),se}(te,oe,M,q.dimensionsCount),ve=q.canOmitUnusedDimensions&&(0,de.Jl)(K),$=M===te.dimensionsDefine,X=$?(0,de.Jj)(te):(0,de.v5)(M),ce=q.encodeDefine;!ce&&q.encodeDefaulter&&(ce=q.encodeDefaulter(te,K));for(var U=(0,Y.createHashMap)(ce),L=new pe.hG(K),E=0;E<L.length;E++)L[E]=-1;function B(Ce){var Se=L[Ce];if(Se<0){var ye=M[Ce],we=(0,Y.isObject)(ye)?ye:{name:ye},Ae=new T.Z,Ne=we.name;return null!=Ne&&null!=X.get(Ne)&&(Ae.name=Ae.displayName=Ne),null!=we.type&&(Ae.type=we.type),null!=we.displayName&&(Ae.displayName=we.displayName),L[Ce]=ge.length,Ae.storeDimIndex=Ce,ge.push(Ae),Ae}return ge[Se]}if(!ve)for(E=0;E<K;E++)B(E);U.each(function(Ce,Se){var ye=(0,me.kF)(Ce).slice();if(1===ye.length&&!(0,Y.isString)(ye[0])&&ye[0]<0)U.set(Se,!1);else{var we=U.set(Se,[]);(0,Y.each)(ye,function(Ae,Ne){var Le=(0,Y.isString)(Ae)?X.get(Ae):Ae;null!=Le&&Le<K&&(we[Ne]=Le,A(B(Le),Se,Ne))})}});var H=0;function A(Ce,Se,ye){null!=_.f7.get(Se)?Ce.otherDims[Se]=ye:(Ce.coordDim=Se,Ce.coordDimIndex=ye,se.set(Se,!0))}(0,Y.each)(oe,function(Ce){var Se,ye,we,Ae;if((0,Y.isString)(Ce))Se=Ce,Ae={};else{Se=(Ae=Ce).name;var Ne=Ae.ordinalMeta;Ae.ordinalMeta=null,(Ae=(0,Y.extend)({},Ae)).ordinalMeta=Ne,ye=Ae.dimsDef,we=Ae.otherDims,Ae.name=Ae.coordDim=Ae.coordDimIndex=Ae.dimsDef=Ae.otherDims=null}var Le=U.get(Se);if(!1!==Le){if(!(Le=(0,me.kF)(Le)).length)for(var Je=0;Je<(ye&&ye.length||1);Je++){for(;H<K&&null!=B(H).coordDim;)H++;H<K&&Le.push(H++)}(0,Y.each)(Le,function(at,nt){var dt=B(at);if($&&null!=Ae.type&&(dt.type=Ae.type),A((0,Y.defaults)(dt,Ae),Se,nt),null==dt.name&&ye){var It=ye[nt];!(0,Y.isObject)(It)&&(It={name:It}),dt.name=dt.displayName=It.name,dt.defaultTooltip=It.defaultTooltip}we&&(0,Y.defaults)(dt.otherDims,we)})}});var O=q.generateCoord,I=q.generateCoordCount,N=null!=I;I=O?I||1:0;var ee=O||"value";function j(Ce){null==Ce.name&&(Ce.name=Ce.coordDim)}if(ve)(0,Y.each)(ge,function(Ce){j(Ce)}),ge.sort(function(Ce,Se){return Ce.storeDimIndex-Se.storeDimIndex});else for(var ae=0;ae<K;ae++){var fe=B(ae);null==fe.coordDim&&(fe.coordDim=re(ee,se,N),fe.coordDimIndex=0,(!O||I<=0)&&(fe.isExtraCoord=!0),I--),j(fe),null==fe.type&&((0,Me.u7)(te,ae)===Me.Dq.Must||fe.isExtraCoord&&(null!=fe.otherDims.itemName||null!=fe.otherDims.seriesName))&&(fe.type="ordinal")}return function Q(te){for(var q=(0,Y.createHashMap)(),oe=0;oe<te.length;oe++){var M=te[oe],se=M.name,ge=q.get(se)||0;ge>0&&(M.name=se+(ge-1)),ge++,q.set(se,ge)}}(ge),new de.Eo({source:te,dimensions:ge,fullDimensionCount:K,dimensionOmitted:ve})}function re(te,q,oe){if(oe||q.hasKey(te)){for(var M=0;q.hasKey(te+M);)M++;te+=M}return q.set(te,!0),te}},5941:($t,We,C)=>{"use strict";C.d(We,{Pl:()=>Z,_j:()=>re,a:()=>oe,hk:()=>ve,tB:()=>ge});var pe,me,Me,de,G,_=C(4404),T=C(6496),Y=C(4453),ie=C(2956),Z=function(){function X(ce,U){var L=(0,Y.Ld)(ce)?ce:(0,Y.nx)(ce);this._source=L;var E=this._data=L.data;L.sourceFormat===ie.J5&&(this._offset=0,this._dimSize=U,this._data=E),G(this,E,L)}return X.prototype.getSource=function(){return this._source},X.prototype.count=function(){return 0},X.prototype.getItem=function(ce,U){},X.prototype.appendData=function(ce){},X.prototype.clean=function(){},X.protoInitialize=((ce=X.prototype).pure=!1,void(ce.persistent=!0)),X.internalField=function(){var ce;G=function(H,A,O){var I=O.sourceFormat,N=O.seriesLayoutBy,ee=O.startIndex,j=O.dimensionsDefine,ae=de[K(I,N)];if((0,_.extend)(H,ae),I===ie.J5)H.getItem=U,H.count=E,H.fillStorage=L;else{var fe=re(I,N);H.getItem=(0,_.bind)(fe,null,A,ee,j);var he=oe(I,N);H.count=(0,_.bind)(he,null,A,ee,j)}};var U=function(H,A){A=A||[];for(var O=this._data,I=this._dimSize,N=I*(H-=this._offset),ee=0;ee<I;ee++)A[ee]=O[N+ee];return A},L=function(H,A,O,I){for(var N=this._data,ee=this._dimSize,j=0;j<ee;j++){for(var ae=I[j],fe=null==ae[0]?1/0:ae[0],he=null==ae[1]?-1/0:ae[1],Ce=A-H,Se=O[j],ye=0;ye<Ce;ye++){var we=N[ye*ee+j];Se[H+ye]=we,we<fe&&(fe=we),we>he&&(he=we)}ae[0]=fe,ae[1]=he}},E=function(){return this._data?this._data.length/this._dimSize:0};function B(H){for(var A=0;A<H.length;A++)this._data.push(H[A])}(ce={})[ie.XD+"_"+ie.fY]={pure:!0,appendData:B},ce[ie.XD+"_"+ie.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},ce[ie.qb]={pure:!0,appendData:B},ce[ie.hL]={pure:!0,appendData:function(H){var A=this._data;(0,_.each)(H,function(O,I){for(var N=A[I]||(A[I]=[]),ee=0;ee<(O||[]).length;ee++)N.push(O[ee])})}},ce[ie.cy]={appendData:B},ce[ie.J5]={persistent:!1,pure:!0,appendData:function(H){this._data=H},clean:function(){this._offset+=this.count(),this._data=null}},de=ce}(),X;var ce}(),Q=function(X,ce,U,L){return X[L]},W=((pe={})[ie.XD+"_"+ie.fY]=function(X,ce,U,L){return X[L+ce]},pe[ie.XD+"_"+ie.Wc]=function(X,ce,U,L,E){L+=ce;for(var B=E||[],H=X,A=0;A<H.length;A++){var O=H[A];B[A]=O?O[L]:null}return B},pe[ie.qb]=Q,pe[ie.hL]=function(X,ce,U,L,E){for(var B=E||[],H=0;H<U.length;H++){var O=X[U[H].name];B[H]=O?O[L]:null}return B},pe[ie.cy]=Q,pe);function re(X,ce){return W[K(X,ce)]}var te=function(X,ce,U){return X.length},q=((me={})[ie.XD+"_"+ie.fY]=function(X,ce,U){return Math.max(0,X.length-ce)},me[ie.XD+"_"+ie.Wc]=function(X,ce,U){var L=X[0];return L?Math.max(0,L.length-ce):0},me[ie.qb]=te,me[ie.hL]=function(X,ce,U){var E=X[U[0].name];return E?E.length:0},me[ie.cy]=te,me);function oe(X,ce){return q[K(X,ce)]}var M=function(X,ce,U){return X[ce]},se=((Me={})[ie.XD]=M,Me[ie.qb]=function(X,ce,U){return X[U]},Me[ie.hL]=M,Me[ie.cy]=function(X,ce,U){var L=(0,T.C4)(X);return L instanceof Array?L[ce]:L},Me[ie.J5]=M,Me);function ge(X){return se[X]}function K(X,ce){return X===ie.XD?X+"_"+ce:X}function ve(X,ce,U){if(X){var L=X.getRawDataItem(ce);if(null!=L){var E=X.getStore(),B=E.getSource().sourceFormat;if(null!=U){var H=X.getDimensionIndex(U),A=E.getDimensionProperty(H);return ge(B)(L,H,A)}var O=L;return B===ie.cy&&(O=(0,T.C4)(L)),O}}}},6018:($t,We,C)=>{"use strict";C.d(We,{BM:()=>Y,IR:()=>me,M:()=>pe});var _=C(4404),T=C(8708);function Y(Me,de,G){var W,re,te,Z=(G=G||{}).byIndex,Q=G.stackedCoordDimension;!function ie(Me){return!(0,T.bB)(Me.schema)}(de)?(W=(re=de.schema).dimensions,te=de.store):W=de;var oe,M,se,ge,q=!(!Me||!Me.get("stack"));if((0,_.each)(W,function(U,L){(0,_.isString)(U)&&(W[L]=U={name:U}),q&&!U.isExtraCoord&&(!Z&&!oe&&U.ordinalMeta&&(oe=U),!M&&"ordinal"!==U.type&&"time"!==U.type&&(!Q||Q===U.coordDim)&&(M=U))}),M&&!Z&&!oe&&(Z=!0),M){se="__\0ecstackresult_"+Me.id,ge="__\0ecstackedover_"+Me.id,oe&&(oe.createInvertedIndices=!0);var K=M.coordDim,ve=M.type,$=0;(0,_.each)(W,function(U){U.coordDim===K&&$++});var X={name:se,coordDim:K,coordDimIndex:$,type:ve,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:W.length},ce={name:ge,coordDim:ge,coordDimIndex:$+1,type:ve,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:W.length+1};re?(te&&(X.storeDimIndex=te.ensureCalculationDimension(ge,ve),ce.storeDimIndex=te.ensureCalculationDimension(se,ve)),re.appendCalculationDimension(X),re.appendCalculationDimension(ce)):(W.push(X),W.push(ce))}return{stackedDimension:M&&M.name,stackedByDimension:oe&&oe.name,isStackedByIndex:Z,stackedOverDimension:ge,stackResultDimension:se}}function pe(Me,de){return!!de&&de===Me.getCalculationInfo("stackedDimension")}function me(Me,de){return pe(Me,de)?Me.getCalculationInfo("stackResultDimension"):de}},8186:($t,We,C)=>{"use strict";C.d(We,{ID:()=>G,o2:()=>me,tR:()=>Q,yQ:()=>ie});var _=C(2862),T=C(4404),Y=C(2693);function ie(W,re){var te=re&&re.type;return"ordinal"===te?W:("time"===te&&!(0,T.isNumber)(W)&&null!=W&&"-"!==W&&(W=+(0,_.sG)(W)),null==W||""===W?NaN:+W)}var pe=(0,T.createHashMap)({number:function(W){return parseFloat(W)},time:function(W){return+(0,_.sG)(W)},trim:function(W){return(0,T.isString)(W)?(0,T.trim)(W):W}});function me(W){return pe.get(W)}var Me={lt:function(W,re){return W<re},lte:function(W,re){return W<=re},gt:function(W,re){return W>re},gte:function(W,re){return W>=re}},de=function(){function W(re,te){(0,T.isNumber)(te)||(0,Y._y)(""),this._opFn=Me[re],this._rvalFloat=(0,_.FK)(te)}return W.prototype.evaluate=function(re){return(0,T.isNumber)(re)?this._opFn(re,this._rvalFloat):this._opFn((0,_.FK)(re),this._rvalFloat)},W}(),G=function(){function W(re,te){var q="desc"===re;this._resultLT=q?1:-1,null==te&&(te=q?"min":"max"),this._incomparable="min"===te?-1/0:1/0}return W.prototype.evaluate=function(re,te){var q=(0,T.isNumber)(re)?re:(0,_.FK)(re),oe=(0,T.isNumber)(te)?te:(0,_.FK)(te),M=isNaN(q),se=isNaN(oe);if(M&&(q=this._incomparable),se&&(oe=this._incomparable),M&&se){var ge=(0,T.isString)(re),K=(0,T.isString)(te);ge&&(q=K?re:0),K&&(oe=ge?te:0)}return q<oe?this._resultLT:q>oe?-this._resultLT:0},W}(),Z=function(){function W(re,te){this._rval=te,this._isEQ=re,this._rvalTypeof=typeof te,this._rvalFloat=(0,_.FK)(te)}return W.prototype.evaluate=function(re){var te=re===this._rval;if(!te){var q=typeof re;q!==this._rvalTypeof&&("number"===q||"number"===this._rvalTypeof)&&(te=(0,_.FK)(re)===this._rvalFloat)}return this._isEQ?te:!te},W}();function Q(W,re){return"eq"===W||"ne"===W?new Z("eq"===W,re):(0,T.hasOwn)(Me,W)?new de(W,re):null}},3121:($t,We,C)=>{"use strict";C.d(We,{T:()=>me,y:()=>ie});var _=C(4404),T=C(2956),Y=function(){function de(G,Z){this._encode=G,this._schema=Z}return de.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},de.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},de}();function ie(de,G){var Z={},Q=Z.encode={},W=(0,_.createHashMap)(),re=[],te=[],q={};(0,_.each)(de.dimensions,function(K){var ve=de.getDimensionInfo(K),$=ve.coordDim;if($){var X=ve.coordDimIndex;pe(Q,$)[X]=K,ve.isExtraCoord||(W.set($,1),function Me(de){return!("ordinal"===de||"time"===de)}(ve.type)&&(re[0]=K),pe(q,$)[X]=de.getDimensionIndex(ve.name)),ve.defaultTooltip&&te.push(K)}T.f7.each(function(ce,U){var L=pe(Q,U),E=ve.otherDims[U];null!=E&&!1!==E&&(L[E]=ve.name)})});var oe=[],M={};W.each(function(K,ve){var $=Q[ve];M[ve]=$[0],oe=oe.concat($)}),Z.dataDimsOnCoord=oe,Z.dataDimIndicesOnCoord=(0,_.map)(oe,function(K){return de.getDimensionInfo(K).storeDimIndex}),Z.encodeFirstDimNotExtra=M;var se=Q.label;se&&se.length&&(re=se.slice());var ge=Q.tooltip;return ge&&ge.length?te=ge.slice():te.length||(te=re.slice()),Q.defaultedLabel=re,Q.defaultedTooltip=te,Z.userOutput=new Y(q,G),Z}function pe(de,G){return de.hasOwnProperty(G)||(de[G]=[]),de[G]}function me(de){return"category"===de?"ordinal":"time"===de?"time":"float"}},2959:($t,We,C)=>{"use strict";C.d(We,{Z:()=>re});var _=C(4404),Y=(0,C(6496).Yf)();function pe(te,q){if(function Z(te){return Y(te).mainData===te}(this)){var oe=(0,_.extend)({},Y(this).datas);oe[this.dataType]=q,Q(q,oe,te)}else W(q,this.dataType,Y(this).mainData,te);return q}function me(te,q){return te.struct&&te.struct.update(),q}function Me(te,q){return(0,_.each)(Y(q).datas,function(oe,M){oe!==q&&W(oe.cloneShallow(),M,q,te)}),q}function de(te){var q=Y(this).mainData;return null==te||null==q?q:Y(q).datas[te]}function G(){var te=Y(this).mainData;return null==te?[{data:te}]:(0,_.map)((0,_.keys)(Y(te).datas),function(q){return{type:q,data:Y(te).datas[q]}})}function Q(te,q,oe){Y(te).datas={},(0,_.each)(q,function(M,se){W(M,se,te,oe)})}function W(te,q,oe,M){Y(oe).datas[q]=te,Y(te).mainData=oe,te.dataType=q,M.struct&&(te[M.structAttr]=M.struct,M.struct[M.datasAttr[q]]=te),te.getLinkedData=de,te.getLinkedDataAll=G}const re=function ie(te){var q=te.mainData,oe=te.datas;oe||(oe={main:q},te.datasAttr={main:"data"}),te.datas=te.mainData=null,Q(q,oe,te),(0,_.each)(oe,function(M){(0,_.each)(q.TRANSFERABLE_METHODS,function(se){M.wrapMethod(se,(0,_.curry)(pe,te))})}),q.wrapMethod("cloneShallow",(0,_.curry)(Me,te)),(0,_.each)(q.CHANGABLE_METHODS,function(M){q.wrapMethod(M,(0,_.curry)(me,te))}),(0,_.assert)(oe[q.dataType]===q)}},9475:($t,We,C)=>{"use strict";C.d(We,{Dq:()=>ie,JT:()=>Z,Ss:()=>de,Wd:()=>G,md:()=>me,pY:()=>Me,u7:()=>Q});var _=C(6496),T=C(4404),Y=C(2956),ie={Must:1,Might:2,Not:3},pe=(0,_.Yf)();function me(re){pe(re).datasetMap=(0,T.createHashMap)()}function Me(re,te,q){var oe={},M=G(te);if(!M||!re)return oe;var X,ce,se=[],ge=[],ve=pe(te.ecModel).datasetMap,$=M.uid+"_"+q.seriesLayoutBy;re=re.slice(),(0,T.each)(re,function(B,H){var A=(0,T.isObject)(B)?B:re[H]={name:B};"ordinal"===A.type&&null==X&&(X=H,ce=E(A)),oe[A.name]=[]});var U=ve.get($)||ve.set($,{categoryWayDim:ce,valueWayDim:0});function L(B,H,A){for(var O=0;O<A;O++)B.push(H+O)}function E(B){var H=B.dimsDef;return H?H.length:1}return(0,T.each)(re,function(B,H){var A=B.name,O=E(B);if(null==X)L(oe[A],I=U.valueWayDim,O),L(ge,I,O),U.valueWayDim+=O;else if(X===H)L(oe[A],0,O),L(se,0,O);else{var I;L(oe[A],I=U.categoryWayDim,O),L(ge,I,O),U.categoryWayDim+=O}}),se.length&&(oe.itemName=se),ge.length&&(oe.seriesName=ge),oe}function de(re,te,q){var oe={};if(!G(re))return oe;var K,se=te.sourceFormat,ge=te.dimensionsDefine;(se===Y.qb||se===Y.hL)&&(0,T.each)(ge,function(X,ce){"name"===((0,T.isObject)(X)?X.name:X)&&(K=ce)});var ve=function(){for(var X={},ce={},U=[],L=0,E=Math.min(5,q);L<E;L++){var B=W(te.data,se,te.seriesLayoutBy,ge,te.startIndex,L);U.push(B);var H=B===ie.Not;if(H&&null==X.v&&L!==K&&(X.v=L),(null==X.n||X.n===X.v||!H&&U[X.n]===ie.Not)&&(X.n=L),A(X)&&U[X.n]!==ie.Not)return X;H||(B===ie.Might&&null==ce.v&&L!==K&&(ce.v=L),(null==ce.n||ce.n===ce.v)&&(ce.n=L))}function A(O){return null!=O.v&&null!=O.n}return A(X)?X:A(ce)?ce:null}();if(ve){oe.value=[ve.v];var $=K??ve.n;oe.itemName=[$],oe.seriesName=[$]}return oe}function G(re){if(!re.get("data",!0))return(0,_.HZ)(re.ecModel,"dataset",{index:re.get("datasetIndex",!0),id:re.get("datasetId",!0)},_.C6).models[0]}function Z(re){return re.get("transform",!0)||re.get("fromTransformResult",!0)?(0,_.HZ)(re.ecModel,"dataset",{index:re.get("fromDatasetIndex",!0),id:re.get("fromDatasetId",!0)},_.C6).models:[]}function Q(re,te){return W(re.data,re.sourceFormat,re.seriesLayoutBy,re.dimensionsDefine,re.startIndex,te)}function W(re,te,q,oe,M,se){var ge,ve,$;if((0,T.isTypedArray)(re))return ie.Not;if(oe){var X=oe[se];(0,T.isObject)(X)?(ve=X.name,$=X.type):(0,T.isString)(X)&&(ve=X)}if(null!=$)return"ordinal"===$?ie.Must:ie.Not;if(te===Y.XD){var ce=re;if(q===Y.Wc){for(var U=ce[se],L=0;L<(U||[]).length&&L<5;L++)if(null!=(ge=N(U[M+L])))return ge}else for(L=0;L<ce.length&&L<5;L++){var E=ce[M+L];if(E&&null!=(ge=N(E[se])))return ge}}else if(te===Y.qb){var B=re;if(!ve)return ie.Not;for(L=0;L<B.length&&L<5;L++)if((H=B[L])&&null!=(ge=N(H[ve])))return ge}else if(te===Y.hL){if(!ve)return ie.Not;if(!(U=re[ve])||(0,T.isTypedArray)(U))return ie.Not;for(L=0;L<U.length&&L<5;L++)if(null!=(ge=N(U[L])))return ge}else if(te===Y.cy){var O=re;for(L=0;L<O.length&&L<5;L++){var H,I=(0,_.C4)(H=O[L]);if(!(0,T.isArray)(I))return ie.Not;if(null!=(ge=N(I[se])))return ge}}function N(ee){var j=(0,T.isString)(ee);return null!=ee&&isFinite(ee)&&""!==ee?j?ie.Might:ie.Not:j&&"-"!==ee?ie.Must:void 0}return ie.Not}},528:($t,We,C)=>{"use strict";C.d(We,{U:()=>de,t:()=>G});var _=C(4404),T=C(4453),Y=C(2956),ie=C(9475),pe=C(4513),me=C(2658),Me=C(5941),de=function(){function W(re){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=re}return W.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},W.prototype._setLocalSource=function(re,te){this._sourceList=re,this._upstreamSignList=te,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},W.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},W.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},W.prototype._createSource=function(){this._setLocalSource([],[]);var oe,M,re=this._sourceHost,te=this._getUpstreamSourceManagers(),q=!!te.length;if(Z(re)){var se=re,ge=void 0,K=void 0,ve=void 0;if(q){var $=te[0];$.prepareSource(),ge=(ve=$.getSource()).data,K=ve.sourceFormat,M=[$._getVersionSign()]}else ge=se.get("data",!0),K=(0,_.isTypedArray)(ge)?Y.J5:Y.cy,M=[];var X=this._getSourceMetaRawOption()||{},ce=ve&&ve.metaRawOption||{},U=(0,_.retrieve2)(X.seriesLayoutBy,ce.seriesLayoutBy)||null,L=(0,_.retrieve2)(X.sourceHeader,ce.sourceHeader),E=(0,_.retrieve2)(X.dimensions,ce.dimensions);oe=U!==ce.seriesLayoutBy||!!L!=!!ce.sourceHeader||E?[(0,T._P)(ge,{seriesLayoutBy:U,sourceHeader:L,dimensions:E},K)]:[]}else{var H=re;if(q){var A=this._applyTransform(te);oe=A.sourceList,M=A.upstreamSignList}else{var O=H.get("source",!0);oe=[(0,T._P)(O,this._getSourceMetaRawOption(),null)],M=[]}}this._setLocalSource(oe,M)},W.prototype._applyTransform=function(re){var te=this._sourceHost,q=te.get("transform",!0),oe=te.get("fromTransformResult",!0);null!=oe&&1!==re.length&&Q("");var se,ge=[],K=[];return(0,_.each)(re,function(ve){ve.prepareSource();var $=ve.getSource(oe||0);null!=oe&&!$&&Q(""),ge.push($),K.push(ve._getVersionSign())}),q?se=(0,pe.vK)(q,ge,{datasetIndex:te.componentIndex}):null!=oe&&(se=[(0,T.ML)(ge[0])]),{sourceList:se,upstreamSignList:K}},W.prototype._isDirty=function(){if(this._dirty)return!0;for(var re=this._getUpstreamSourceManagers(),te=0;te<re.length;te++){var q=re[te];if(q._isDirty()||this._upstreamSignList[te]!==q._getVersionSign())return!0}},W.prototype.getSource=function(re){var te=this._sourceList[re=re||0];if(!te){var q=this._getUpstreamSourceManagers();return q[0]&&q[0].getSource(re)}return te},W.prototype.getSharedDataStore=function(re){var te=re.makeStoreSchema();return this._innerGetDataStore(te.dimensions,re.source,te.hash)},W.prototype._innerGetDataStore=function(re,te,q){var M=this._storeList,se=M[0];se||(se=M[0]={});var ge=se[q];if(!ge){var K=this._getUpstreamSourceManagers()[0];Z(this._sourceHost)&&K?ge=K._innerGetDataStore(re,te,q):(ge=new me.ZP).initData(new Me.Pl(te,re.length),re),se[q]=ge}return ge},W.prototype._getUpstreamSourceManagers=function(){var re=this._sourceHost;if(Z(re)){var te=(0,ie.Wd)(re);return te?[te.getSourceManager()]:[]}return(0,_.map)((0,ie.JT)(re),function(q){return q.getSourceManager()})},W.prototype._getSourceMetaRawOption=function(){var te,q,oe,re=this._sourceHost;if(Z(re))te=re.get("seriesLayoutBy",!0),q=re.get("sourceHeader",!0),oe=re.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var M=re;te=M.get("seriesLayoutBy",!0),q=M.get("sourceHeader",!0),oe=M.get("dimensions",!0)}return{seriesLayoutBy:te,sourceHeader:q,dimensions:oe}},W}();function G(W){W.option.transform&&(0,_.setAsPrimitive)(W.option.transform)}function Z(W){return"series"===W.mainType}function Q(W){throw new Error(W)}},4513:($t,We,C)=>{"use strict";C.d(We,{DA:()=>q,vK:()=>oe});var _=C(2956),T=C(6496),Y=C(4404),ie=C(5941),pe=C(8186),me=C(2693),Me=C(4453),de=function(){function ge(){}return ge.prototype.getRawData=function(){throw new Error("not supported")},ge.prototype.getRawDataItem=function(K){throw new Error("not supported")},ge.prototype.cloneRawData=function(){},ge.prototype.getDimensionInfo=function(K){},ge.prototype.cloneAllDimensionInfo=function(){},ge.prototype.count=function(){},ge.prototype.retrieveValue=function(K,ve){},ge.prototype.retrieveValueFromItem=function(K,ve){},ge.prototype.convertValue=function(K,ve){return(0,pe.yQ)(K,ve)},ge}();function Z(ge){return se(ge.sourceFormat)||(0,me._y)(""),ge.data}function Q(ge){var K=ge.sourceFormat,ve=ge.data;if(se(K)||(0,me._y)(""),K===_.XD){for(var X=[],ce=0,U=ve.length;ce<U;ce++)X.push(ve[ce].slice());return X}if(K===_.qb){for(X=[],ce=0,U=ve.length;ce<U;ce++)X.push((0,Y.extend)({},ve[ce]));return X}}function W(ge,K,ve){if(null!=ve){if((0,Y.isNumber)(ve)||!isNaN(ve)&&!(0,Y.hasOwn)(K,ve))return ge[ve];if((0,Y.hasOwn)(K,ve))return K[ve]}}function re(ge){return(0,Y.clone)(ge)}var te=(0,Y.createHashMap)();function q(ge){var K=(ge=(0,Y.clone)(ge)).type;K||(0,me._y)("");var $=K.split(":");2!==$.length&&(0,me._y)("");var X=!1;"echarts"===$[0]&&(K=$[1],X=!0),ge.__isBuiltIn=X,te.set(K,ge)}function oe(ge,K,ve){var $=(0,T.kF)(ge),X=$.length;X||(0,me._y)("");for(var U=0,L=X;U<L;U++)K=M($[U],K),U!==L-1&&(K.length=Math.max(K.length,1));return K}function M(ge,K,ve,$){K.length||(0,me._y)(""),(0,Y.isObject)(ge)||(0,me._y)("");var U=te.get(ge.type);U||(0,me._y)("");var L=(0,Y.map)(K,function(H){return function G(ge,K){var ve=new de,$=ge.data,X=ve.sourceFormat=ge.sourceFormat,ce=ge.startIndex;ge.seriesLayoutBy!==_.fY&&(0,me._y)("");var L=[],E={},B=ge.dimensionsDefine;if(B)(0,Y.each)(B,function(ee,j){var ae=ee.name,fe={index:j,name:ae,displayName:ee.displayName};L.push(fe),null!=ae&&((0,Y.hasOwn)(E,ae)&&(0,me._y)(""),E[ae]=fe)});else for(var H=0;H<ge.dimensionsDetectedCount;H++)L.push({index:H});var A=(0,ie._j)(X,_.fY);K.__isBuiltIn&&(ve.getRawDataItem=function(ee){return A($,ce,L,ee)},ve.getRawData=(0,Y.bind)(Z,null,ge)),ve.cloneRawData=(0,Y.bind)(Q,null,ge);var O=(0,ie.a)(X,_.fY);ve.count=(0,Y.bind)(O,null,$,ce,L);var I=(0,ie.tB)(X);ve.retrieveValue=function(ee,j){var ae=A($,ce,L,ee);return N(ae,j)};var N=ve.retrieveValueFromItem=function(ee,j){if(null!=ee){var ae=L[j];if(ae)return I(ee,j,ae.name)}};return ve.getDimensionInfo=(0,Y.bind)(W,null,L,E),ve.cloneAllDimensionInfo=(0,Y.bind)(re,null,L),ve}(H,U)}),E=(0,T.kF)(U.transform({upstream:L[0],upstreamList:L,config:(0,Y.clone)(ge.config)}));return(0,Y.map)(E,function(H,A){(0,Y.isObject)(H)||(0,me._y)(""),H.data||(0,me._y)(""),se((0,Me.Kp)(H.data))||(0,me._y)("");var N,ee=K[0];if(ee&&0===A&&!H.dimensions){var j=ee.startIndex;j&&(H.data=ee.data.slice(0,j).concat(H.data)),N={seriesLayoutBy:_.fY,sourceHeader:j,dimensions:ee.metaRawOption.dimensions}}else N={seriesLayoutBy:_.fY,sourceHeader:0,dimensions:H.dimensions};return(0,Me._P)(H.data,N,null)})}function se(ge){return ge===_.XD||ge===_.qb}},659:($t,We,C)=>{"use strict";C.d(We,{RD:()=>Dn.Z,TA:()=>Q.Z,tF:()=>de.Z,Ir:()=>G.Z,aV:()=>W.Z,Hn:()=>$.Z,Hr:()=>Me.Hr,wJ:()=>Z.Z,$_:()=>M,$j:()=>Me.$j,Ok:()=>Me.Ok,HO:()=>Me.HO,eU:()=>Me.eU,zP:()=>Me.zP,B9:()=>Me.B9,OB:()=>Wt.Z,Zy:()=>Ft,tv:()=>xr,Sp:()=>lr,Zr:()=>ct,WU:()=>pe,wL:()=>Me.wL,JE:()=>Me.JE,rp:()=>Me.rp,FU:()=>Me.FU,Q:()=>ie,_y:()=>_,S1:()=>Me.S1,z$:()=>Ln.RV,pI:()=>te,Rx:()=>T,Nu:()=>fe.Z,pQ:()=>fe.Z,zl:()=>Me.zl,RS:()=>Me.RS,qR:()=>Me.qR,yn:()=>Me.yn,I2:()=>Me.I2,je:()=>Me.je,sq:()=>Me.sq,Br:()=>Me.Br,ds:()=>Me.ds,Pu:()=>Me.Pu,aW:()=>Me.aW,rV:()=>Me.OB,YK:()=>Me.YK,Og:()=>Me.Og,jQ:()=>Me.jQ,g2:()=>ae.g2,P2:()=>se.P2,XV:()=>Y,D$:()=>j.D,D5:()=>me,xr:()=>q,i8:()=>Me.i8,gf:()=>oe,x_:()=>re});var _={};C.r(_),C.d(_,{createDimensions:()=>E.q,createList:()=>A,createScale:()=>I,createSymbol:()=>B.th,createTextStyle:()=>ee,dataStack:()=>O,enableHoverEmphasis:()=>H.vF,getECData:()=>U.A,getLayoutRect:()=>X.ME,mixinAxisModelCommonMethods:()=>N});var T={};C.r(T),C.d(T,{MAX_SAFE_INTEGER:()=>he.YM,asc:()=>he.dt,getPercentWithPrecision:()=>he.eJ,getPixelPrecision:()=>he.M9,getPrecision:()=>he.p8,getPrecisionSafe:()=>he.ZB,isNumeric:()=>he.kE,isRadianAroundZero:()=>he.mW,linearMap:()=>he.NU,nice:()=>he.kx,numericToNumber:()=>he.FK,parseDate:()=>he.sG,quantile:()=>he.VR,quantity:()=>he.Xd,quantityExponent:()=>he.xW,reformIntervals:()=>he.nR,remRadian:()=>he.wW,round:()=>he.NM});var Y={};C.r(Y),C.d(Y,{format:()=>Ce.WU,parse:()=>he.sG});var ie={};C.r(ie),C.d(ie,{Arc:()=>Cn.Z,BezierCurve:()=>mn.Z,BoundingRect:()=>hn.Z,Circle:()=>Le.Z,CompoundPath:()=>Wn.Z,Ellipse:()=>Je.Z,Group:()=>we.Z,Image:()=>Ae.ZP,IncrementalDisplayable:()=>Gn.Z,Line:()=>Yt.Z,LinearGradient:()=>Fn.Z,Polygon:()=>dt.Z,Polyline:()=>It.Z,RadialGradient:()=>Rr.Z,Rect:()=>an.Z,Ring:()=>nt.Z,Sector:()=>at.C,Text:()=>Ne.ZP,clipPointsByRect:()=>Se.clipPointsByRect,clipRectByRect:()=>Se.clipRectByRect,createIcon:()=>Se.createIcon,extendPath:()=>Se.extendPath,extendShape:()=>Se.extendShape,getShapeClass:()=>Se.getShapeClass,getTransform:()=>Se.getTransform,initProps:()=>ye.KZ,makeImage:()=>Se.makeImage,makePath:()=>Se.makePath,mergePath:()=>Se.mergePath,registerShape:()=>Se.registerShape,resizePath:()=>Se.resizePath,updateProps:()=>ye.D});var pe={};C.r(pe),C.d(pe,{addCommas:()=>ot.OD,capitalFirst:()=>ot.ew,encodeHTML:()=>Et.F1,formatTime:()=>ot.mr,formatTpl:()=>ot.kF,getTextRect:()=>Xt,getTooltipMarker:()=>ot.A0,normalizeCssArray:()=>ot.MY,toCamelCase:()=>ot.zW,truncateText:()=>Tt.aF});var me={};C.r(me),C.d(me,{bind:()=>oe.bind,clone:()=>oe.clone,curry:()=>oe.curry,defaults:()=>oe.defaults,each:()=>oe.each,extend:()=>oe.extend,filter:()=>oe.filter,indexOf:()=>oe.indexOf,inherits:()=>oe.inherits,isArray:()=>oe.isArray,isFunction:()=>oe.isFunction,isObject:()=>oe.isObject,isString:()=>oe.isString,map:()=>oe.map,merge:()=>oe.merge,reduce:()=>oe.reduce});var Me=C(2235),de=C(562),G=C(907),Z=C(8736),Q=C(2752),W=C(3040),re=C(8555),te=C(1751),q=C(8060),oe=C(4404),M=C(2),se=C(9724),ge=C(5982),K=C(5353),ve=C(6129),$=C(2590),X=C(7436),ce=C(6018),U=C(9133),L=C(4258),E=C(2596),B=C(4869),H=C(6499);function A(Gt){return(0,ge.Z)(null,Gt)}var O={isDimensionStacked:ce.M,enableDataStack:ce.BM,getStackedDimension:ce.IR};function I(Gt,_t){var Xe=_t;_t instanceof $.Z||(Xe=new $.Z(_t));var Ye=K.aG(Xe);return Ye.setExtent(Gt[0],Gt[1]),K.Jk(Ye,Xe),Ye}function N(Gt){oe.mixin(Gt,ve.W)}function ee(Gt,_t){return(0,L.Lr)(Gt,null,null,"normal"!==(_t=_t||{}).state)}var j=C(7230),ae=C(1240),fe=C(5529),he=C(2862),Ce=C(7445),Se=C(2285),ye=C(5271),we=C(4271),Ae=C(1959),Ne=C(2054),Le=C(1283),Je=C(1462),at=C(117),nt=C(1576),dt=C(9213),It=C(2459),an=C(2501),Yt=C(2139),mn=C(6830),Cn=C(8972),Gn=C(464),Wn=C(50),Fn=C(2920),Rr=C(1592),hn=C(3066),ot=C(8597),Et=C(9626),Tt=C(1310);function Xt(Gt,_t,Xe,Ye,ke,Ct,Mt,Jt){return new Ne.ZP({style:{text:Gt,font:_t,align:Xe,verticalAlign:Ye,padding:ke,rich:Ct,overflow:Mt?"truncate":null,lineHeight:Jt}}).getBoundingRect()}var Wt=C(8519),Dn=C(838),Ln=C(4301);function xr(Gt){var _t=de.Z.extend(Gt);return de.Z.registerClass(_t),_t}function lr(Gt){var _t=G.Z.extend(Gt);return G.Z.registerClass(_t),_t}function ct(Gt){var _t=Z.Z.extend(Gt);return Z.Z.registerClass(_t),_t}function Ft(Gt){var _t=Q.Z.extend(Gt);return Q.Z.registerClass(_t),_t}var Un=C(5906);(0,j.D)(Un.T)},7230:($t,We,C)=>{"use strict";C.d(We,{D:()=>Q});var _=C(2235),T=C(907),Y=C(2752),ie=C(562),pe=C(8736),me=C(4404),Me=C(6984),de=C(8555),G=[],Z={registerPreprocessor:_.ds,registerProcessor:_.Pu,registerPostInit:_.sq,registerPostUpdate:_.Br,registerUpdateLifecycle:_.YK,registerAction:_.zl,registerCoordinateSystem:_.RS,registerLayout:_.qR,registerVisual:_.Og,registerTransform:_.OB,registerLoading:_.yn,registerMap:_.je,registerImpl:Me.M,PRIORITY:_.Hr,ComponentModel:ie.Z,ComponentView:T.Z,SeriesModel:pe.Z,ChartView:Y.Z,registerComponentModel:function(W){ie.Z.registerClass(W)},registerComponentView:function(W){T.Z.registerClass(W)},registerSeriesModel:function(W){pe.Z.registerClass(W)},registerChartView:function(W){Y.Z.registerClass(W)},registerSubTypeDefaulter:function(W,re){ie.Z.registerSubTypeDefaulter(W,re)},registerPainter:function(W,re){(0,de.registerPainter)(W,re)}};function Q(W){(0,me.isArray)(W)?(0,me.each)(W,function(re){Q(re)}):(0,me.indexOf)(G,W)>=0||(G.push(W),(0,me.isFunction)(W)&&(W={install:W}),W.install(Z))}},5906:($t,We,C)=>{"use strict";C.d(We,{T:()=>$});var _=C(6496),T=C(3066),Y=C(5271),ie=C(9133),pe=C(2862),me=C(2353),Me=C(8673),de=C(4404),G=C(1508),Z=C(4258);function Q(X){if(X){for(var ce=[],U=0;U<X.length;U++)ce.push(X[U].slice());return ce}}function W(X,ce){var U=X.label,L=ce&&ce.getTextGuideLine();return{dataIndex:X.dataIndex,dataType:X.dataType,seriesIndex:X.seriesModel.seriesIndex,text:X.label.style.text,rect:X.hostRect,labelRect:X.rect,align:U.style.align,verticalAlign:U.style.verticalAlign,labelLinePoints:Q(L&&L.shape.points)}}var re=["align","verticalAlign","width","height","fontSize"],te=new me.ZP,q=(0,_.Yf)(),oe=(0,_.Yf)();function M(X,ce,U){for(var L=0;L<U.length;L++){var E=U[L];null!=ce[E]&&(X[E]=ce[E])}}var se=["x","y","rotation"];const K=function(){function X(){this._labelList=[],this._chartViewList=[]}return X.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},X.prototype._addLabel=function(ce,U,L,E,B){var H=E.style,O=E.__hostTarget.textConfig||{},I=E.getComputedTransform(),N=E.getBoundingRect().plain();T.Z.applyTransform(N,N,I),I?te.setLocalTransform(I):(te.x=te.y=te.rotation=te.originX=te.originY=0,te.scaleX=te.scaleY=1);var j,ee=E.__hostTarget;if(ee){j=ee.getBoundingRect().plain();var ae=ee.getComputedTransform();T.Z.applyTransform(j,j,ae)}var fe=j&&ee.getTextGuideLine();this._labelList.push({label:E,labelLine:fe,seriesModel:L,dataIndex:ce,dataType:U,layoutOption:B,computedLayoutOption:null,rect:N,hostRect:j,priority:j?j.width*j.height:0,defaultAttr:{ignore:E.ignore,labelGuideIgnore:fe&&fe.ignore,x:te.x,y:te.y,scaleX:te.scaleX,scaleY:te.scaleY,rotation:te.rotation,style:{x:H.x,y:H.y,align:H.align,verticalAlign:H.verticalAlign,width:H.width,height:H.height,fontSize:H.fontSize},cursor:E.cursor,attachedPos:O.position,attachedRot:O.rotation}})},X.prototype.addLabelsOfSeries=function(ce){var U=this;this._chartViewList.push(ce);var L=ce.__model,E=L.get("labelLayout");((0,de.isFunction)(E)||(0,de.keys)(E).length)&&ce.group.traverse(function(B){if(B.ignore)return!0;var H=B.getTextContent(),A=(0,ie.A)(B);H&&!H.disableLabelLayout&&U._addLabel(A.dataIndex,A.dataType,L,H,E)})},X.prototype.updateLayoutConfig=function(ce){var U=ce.getWidth(),L=ce.getHeight();function E(we,Ae){return function(){(0,Me.d)(we,Ae)}}for(var B=0;B<this._labelList.length;B++){var H=this._labelList[B],A=H.label,O=A.__hostTarget,I=H.defaultAttr,N=void 0;N=(0,de.isFunction)(H.layoutOption)?H.layoutOption(W(H,O)):H.layoutOption,H.computedLayoutOption=N=N||{};var ee=Math.PI/180;O&&O.setTextConfig({local:!1,position:null!=N.x||null!=N.y?null:I.attachedPos,rotation:null!=N.rotate?N.rotate*ee:I.attachedRot,offset:[N.dx||0,N.dy||0]});var j=!1;if(null!=N.x?(A.x=(0,pe.GM)(N.x,U),A.setStyle("x",0),j=!0):(A.x=I.x,A.setStyle("x",I.style.x)),null!=N.y?(A.y=(0,pe.GM)(N.y,L),A.setStyle("y",0),j=!0):(A.y=I.y,A.setStyle("y",I.style.y)),N.labelLinePoints){var ae=O.getTextGuideLine();ae&&(ae.setShape({points:N.labelLinePoints}),j=!1)}q(A).needsUpdateLabelLine=j,A.rotation=null!=N.rotate?N.rotate*ee:I.rotation,A.scaleX=I.scaleX,A.scaleY=I.scaleY;for(var he=0;he<re.length;he++){var Ce=re[he];A.setStyle(Ce,null!=N[Ce]?N[Ce]:I.style[Ce])}if(N.draggable){if(A.draggable=!0,A.cursor="move",O){var Se=H.seriesModel;null!=H.dataIndex&&(Se=H.seriesModel.getData(H.dataType).getItemModel(H.dataIndex)),A.on("drag",E(O,Se.getModel("labelLine")))}}else A.off("drag"),A.cursor=I.cursor}},X.prototype.layout=function(ce){var U=ce.getWidth(),L=ce.getHeight(),E=(0,G.VT)(this._labelList),B=(0,de.filter)(E,function(O){return"shiftX"===O.layoutOption.moveOverlap}),H=(0,de.filter)(E,function(O){return"shiftY"===O.layoutOption.moveOverlap});(0,G.WE)(B,0,U),(0,G.GI)(H,0,L);var A=(0,de.filter)(E,function(O){return O.layoutOption.hideOverlap});(0,G.yl)(A)},X.prototype.processLabelsOverall=function(){var ce=this;(0,de.each)(this._chartViewList,function(U){var L=U.__model,E=U.ignoreLabelLineUpdate,B=L.isAnimationEnabled();U.group.traverse(function(H){if(H.ignore&&!H.forceLabelAnimation)return!0;var A=!E,O=H.getTextContent();!A&&O&&(A=q(O).needsUpdateLabelLine),A&&ce._updateLabelLine(H,L),B&&ce._animateLabels(H,L)})})},X.prototype._updateLabelLine=function(ce,U){var L=ce.getTextContent(),E=(0,ie.A)(ce),B=E.dataIndex;if(L&&null!=B){var H=U.getData(E.dataType),A=H.getItemModel(B),O={},I=H.getItemVisual(B,"style"),N=H.getVisual("drawType");O.stroke=I[N];var ee=A.getModel("labelLine");(0,Me.Iu)(ce,(0,Me.$x)(A),O),(0,Me.d)(ce,ee)}},X.prototype._animateLabels=function(ce,U){var L=ce.getTextContent(),E=ce.getTextGuideLine();if(L&&(ce.forceLabelAnimation||!L.ignore&&!L.invisible&&!ce.disableLabelAnimation&&!(0,Y.eq)(ce))){var H=(B=q(L)).oldLayout,A=(0,ie.A)(ce),O=A.dataIndex,I={x:L.x,y:L.y,rotation:L.rotation},N=U.getData(A.dataType);if(H){L.attr(H);var j=ce.prevStates;j&&((0,de.indexOf)(j,"select")>=0&&L.attr(B.oldLayoutSelect),(0,de.indexOf)(j,"emphasis")>=0&&L.attr(B.oldLayoutEmphasis)),(0,Y.D)(L,I,U,O)}else if(L.attr(I),!(0,Z.qA)(L).valueAnimation){var ee=(0,de.retrieve2)(L.style.opacity,1);L.style.opacity=0,(0,Y.KZ)(L,{style:{opacity:ee}},U,O)}if(B.oldLayout=I,L.states.select){var ae=B.oldLayoutSelect={};M(ae,I,se),M(ae,L.states.select,se)}if(L.states.emphasis){var fe=B.oldLayoutEmphasis={};M(fe,I,se),M(fe,L.states.emphasis,se)}(0,Z.tD)(L,O,N,U,U)}if(E&&!E.ignore&&!E.invisible){var B=oe(E),he={points:E.shape.points};(H=B.oldLayout)?(E.attr({shape:H}),(0,Y.D)(E,{shape:he},U)):(E.setShape(he),E.style.strokePercent=0,(0,Y.KZ)(E,{style:{strokePercent:1}},U)),B.oldLayout=he}},X}();var ve=(0,_.Yf)();function $(X){X.registerUpdateLifecycle("series:beforeupdate",function(ce,U,L){var E=ve(U).labelManager;E||(E=ve(U).labelManager=new K),E.clearLabels()}),X.registerUpdateLifecycle("series:layoutlabels",function(ce,U,L){var E=ve(U).labelManager;L.updatedSeries.forEach(function(B){E.addLabelsOfSeries(U.getViewOfSeriesModel(B))}),E.updateLayoutConfig(U),E.layout(U),E.processLabelsOverall()})}},8673:($t,We,C)=>{"use strict";C.d(We,{$x:()=>ee,Iu:()=>N,_A:()=>A,d:()=>L,qK:()=>H});var _=C(7881),T=C(649),Y=C(2459),ie=C(7062),pe=C(3144),me=C(3645),Me=C(4404),de=C(1751),G=C(8060),Z=C(6499),Q=2*Math.PI,W=ie.Z.CMD,re=["top","right","bottom","left"];function te(j,ae,fe,he,Ce){var Se=fe.width,ye=fe.height;switch(j){case"top":he.set(fe.x+Se/2,fe.y-ae),Ce.set(0,-1);break;case"bottom":he.set(fe.x+Se/2,fe.y+ye+ae),Ce.set(0,1);break;case"left":he.set(fe.x-ae,fe.y+ye/2),Ce.set(-1,0);break;case"right":he.set(fe.x+Se+ae,fe.y+ye/2),Ce.set(1,0)}}function q(j,ae,fe,he,Ce,Se,ye,we,Ae){ye-=j,we-=ae;var Ne=Math.sqrt(ye*ye+we*we),Le=(ye/=Ne)*fe+j,Je=(we/=Ne)*fe+ae;if(Math.abs(he-Ce)%Q<1e-4)return Ae[0]=Le,Ae[1]=Je,Ne-fe;if(Se){var at=he;he=(0,pe.m)(Ce),Ce=(0,pe.m)(at)}else he=(0,pe.m)(he),Ce=(0,pe.m)(Ce);he>Ce&&(Ce+=Q);var nt=Math.atan2(we,ye);if(nt<0&&(nt+=Q),nt>=he&&nt<=Ce||nt+Q>=he&&nt+Q<=Ce)return Ae[0]=Le,Ae[1]=Je,Ne-fe;var dt=fe*Math.cos(he)+j,It=fe*Math.sin(he)+ae,an=fe*Math.cos(Ce)+j,Yt=fe*Math.sin(Ce)+ae,mn=(dt-ye)*(dt-ye)+(It-we)*(It-we),Cn=(an-ye)*(an-ye)+(Yt-we)*(Yt-we);return mn<Cn?(Ae[0]=dt,Ae[1]=It,Math.sqrt(mn)):(Ae[0]=an,Ae[1]=Yt,Math.sqrt(Cn))}function oe(j,ae,fe,he,Ce,Se,ye,we){var Ae=Ce-j,Ne=Se-ae,Le=fe-j,Je=he-ae,at=Math.sqrt(Le*Le+Je*Je),dt=(Ae*(Le/=at)+Ne*(Je/=at))/at;we&&(dt=Math.min(Math.max(dt,0),1));var It=ye[0]=j+(dt*=at)*Le,an=ye[1]=ae+dt*Je;return Math.sqrt((It-Ce)*(It-Ce)+(an-Se)*(an-Se))}function M(j,ae,fe,he,Ce,Se,ye){fe<0&&(j+=fe,fe=-fe),he<0&&(ae+=he,he=-he);var we=j+fe,Ae=ae+he,Ne=ye[0]=Math.min(Math.max(Ce,j),we),Le=ye[1]=Math.min(Math.max(Se,ae),Ae);return Math.sqrt((Ne-Ce)*(Ne-Ce)+(Le-Se)*(Le-Se))}var se=[];function ge(j,ae,fe){var he=M(ae.x,ae.y,ae.width,ae.height,j.x,j.y,se);return fe.set(se[0],se[1]),he}function K(j,ae,fe){for(var we,Ae,he=0,Ce=0,Se=0,ye=0,Ne=1/0,Le=ae.data,Je=j.x,at=j.y,nt=0;nt<Le.length;){var dt=Le[nt++];1===nt&&(Se=he=Le[nt],ye=Ce=Le[nt+1]);var It=Ne;switch(dt){case W.M:he=Se=Le[nt++],Ce=ye=Le[nt++];break;case W.L:It=oe(he,Ce,Le[nt],Le[nt+1],Je,at,se,!0),he=Le[nt++],Ce=Le[nt++];break;case W.C:It=(0,me.t1)(he,Ce,Le[nt++],Le[nt++],Le[nt++],Le[nt++],Le[nt],Le[nt+1],Je,at,se),he=Le[nt++],Ce=Le[nt++];break;case W.Q:It=(0,me.Wr)(he,Ce,Le[nt++],Le[nt++],Le[nt],Le[nt+1],Je,at,se),he=Le[nt++],Ce=Le[nt++];break;case W.A:var an=Le[nt++],Yt=Le[nt++],mn=Le[nt++],Cn=Le[nt++],Gn=Le[nt++],Wn=Le[nt++];nt+=1;var Fn=!!(1-Le[nt++]);we=Math.cos(Gn)*mn+an,Ae=Math.sin(Gn)*Cn+Yt,nt<=1&&(Se=we,ye=Ae),It=q(an,Yt,Cn,Gn,Gn+Wn,Fn,(Je-an)*Cn/mn+an,at,se),he=Math.cos(Gn+Wn)*mn+an,Ce=Math.sin(Gn+Wn)*Cn+Yt;break;case W.R:It=M(Se=he=Le[nt++],ye=Ce=Le[nt++],Le[nt++],Le[nt++],Je,at,se);break;case W.Z:It=oe(he,Ce,Se,ye,Je,at,se,!0),he=Se,Ce=ye}It<Ne&&(Ne=It,fe.set(se[0],se[1]))}return Ne}var ve=new _.Z,$=new _.Z,X=new _.Z,ce=new _.Z,U=new _.Z;function L(j,ae){if(j){var fe=j.getTextGuideLine(),he=j.getTextContent();if(he&&fe){var Ce=j.textGuideLineConfig||{},Se=[[0,0],[0,0],[0,0]],ye=Ce.candidates||re,we=he.getBoundingRect().clone();we.applyTransform(he.getComputedTransform());var Ae=1/0,Ne=Ce.anchor,Le=j.getComputedTransform(),Je=Le&&(0,de.invert)([],Le),at=ae.get("length2")||0;Ne&&X.copy(Ne);for(var nt=0;nt<ye.length;nt++){te(ye[nt],0,we,ve,ce),_.Z.scaleAndAdd($,ve,ce,at),$.transform(Je);var It=j.getBoundingRect(),an=Ne?Ne.distance($):j instanceof T.ZP?K($,j.path,X):ge($,It,X);an<Ae&&(Ae=an,$.transform(Le),X.transform(Le),X.toArray(Se[0]),$.toArray(Se[1]),ve.toArray(Se[2]))}H(Se,ae.get("minTurnAngle")),fe.setShape({points:Se})}}}var E=[],B=new _.Z;function H(j,ae){if(ae<=180&&ae>0){ae=ae/180*Math.PI,ve.fromArray(j[0]),$.fromArray(j[1]),X.fromArray(j[2]),_.Z.sub(ce,ve,$),_.Z.sub(U,X,$);var fe=ce.len(),he=U.len();if(!(fe<.001||he<.001)){ce.scale(1/fe),U.scale(1/he);var Ce=ce.dot(U);if(Math.cos(ae)<Ce){var ye=oe($.x,$.y,X.x,X.y,ve.x,ve.y,E,!1);B.fromArray(E),B.scaleAndAdd(U,ye/Math.tan(Math.PI-ae));var we=X.x!==$.x?(B.x-$.x)/(X.x-$.x):(B.y-$.y)/(X.y-$.y);if(isNaN(we))return;we<0?_.Z.copy(B,$):we>1&&_.Z.copy(B,X),B.toArray(j[1])}}}}function A(j,ae,fe){if(fe<=180&&fe>0){fe=fe/180*Math.PI,ve.fromArray(j[0]),$.fromArray(j[1]),X.fromArray(j[2]),_.Z.sub(ce,$,ve),_.Z.sub(U,X,$);var he=ce.len(),Ce=U.len();if(!(he<.001||Ce<.001)&&(ce.scale(1/he),U.scale(1/Ce),ce.dot(ae)<Math.cos(fe))){var we=oe($.x,$.y,X.x,X.y,ve.x,ve.y,E,!1);B.fromArray(E);var Ae=Math.PI/2,Le=Ae+Math.acos(U.dot(ae))-fe;if(Le>=Ae)_.Z.copy(B,X);else{B.scaleAndAdd(U,we/Math.tan(Math.PI/2-Le));var Je=X.x!==$.x?(B.x-$.x)/(X.x-$.x):(B.y-$.y)/(X.y-$.y);if(isNaN(Je))return;Je<0?_.Z.copy(B,$):Je>1&&_.Z.copy(B,X)}B.toArray(j[1])}}}function O(j,ae,fe,he){var Ce="normal"===fe,Se=Ce?j:j.ensureState(fe);Se.ignore=ae;var ye=he.get("smooth");ye&&!0===ye&&(ye=.3),Se.shape=Se.shape||{},ye>0&&(Se.shape.smooth=ye);var we=he.getModel("lineStyle").getLineStyle();Ce?j.useStyle(we):Se.style=we}function I(j,ae){var fe=ae.smooth,he=ae.points;if(he)if(j.moveTo(he[0][0],he[0][1]),fe>0&&he.length>=3){var Ce=G.dist(he[0],he[1]),Se=G.dist(he[1],he[2]);if(!Ce||!Se)return j.lineTo(he[1][0],he[1][1]),void j.lineTo(he[2][0],he[2][1]);var ye=Math.min(Ce,Se)*fe,we=G.lerp([],he[1],he[0],ye/Ce),Ae=G.lerp([],he[1],he[2],ye/Se),Ne=G.lerp([],we,Ae,.5);j.bezierCurveTo(we[0],we[1],we[0],we[1],Ne[0],Ne[1]),j.bezierCurveTo(Ae[0],Ae[1],Ae[0],Ae[1],he[2][0],he[2][1])}else for(var Le=1;Le<he.length;Le++)j.lineTo(he[Le][0],he[Le][1])}function N(j,ae,fe){var he=j.getTextGuideLine(),Ce=j.getTextContent();if(Ce){for(var Se=ae.normal,ye=Se.get("show"),we=Ce.ignore,Ae=0;Ae<Z.qc.length;Ae++){var Ne=Z.qc[Ae],Le=ae[Ne],Je="normal"===Ne;if(Le){var at=Le.get("show");if((Je?we:(0,Me.retrieve2)(Ce.states[Ne]&&Ce.states[Ne].ignore,we))||!(0,Me.retrieve2)(at,ye)){var dt=Je?he:he&&he.states[Ne];dt&&(dt.ignore=!0);continue}he||(he=new Y.Z,j.setTextGuideLine(he),!Je&&(we||!ye)&&O(he,!0,"normal",ae.normal),j.stateProxy&&(he.stateProxy=j.stateProxy)),O(he,!1,Ne,Le)}}if(he){(0,Me.defaults)(he.style,fe),he.style.fill=null;var It=Se.get("showAbove");(j.textGuideLineConfig=j.textGuideLineConfig||{}).showAbove=It||!1,he.buildPath=I}}else he&&j.removeTextGuideLine()}function ee(j,ae){for(var fe={normal:j.getModel(ae=ae||"labelLine")},he=0;he<Z.L1.length;he++){var Ce=Z.L1[he];fe[Ce]=j.getModel([Ce,ae])}return fe}},1508:($t,We,C)=>{"use strict";C.d(We,{GI:()=>me,VT:()=>Y,WE:()=>pe,yl:()=>Me});var _=C(7668),T=C(3066);function Y(de){for(var G=[],Z=0;Z<de.length;Z++){var Q=de[Z];if(!Q.defaultAttr.ignore){var W=Q.label,re=W.getComputedTransform(),te=W.getBoundingRect(),q=!re||re[1]<1e-5&&re[2]<1e-5,oe=W.style.margin||0,M=te.clone();M.applyTransform(re),M.x-=oe/2,M.y-=oe/2,M.width+=oe,M.height+=oe;var se=q?new _.Z(te,re):null;G.push({label:W,labelLine:Q.labelLine,rect:M,localRect:te,obb:se,priority:Q.priority,defaultAttr:Q.defaultAttr,layoutOption:Q.computedLayoutOption,axisAligned:q,transform:re})}}return G}function ie(de,G,Z,Q,W,re){var te=de.length;if(!(te<2)){de.sort(function(N,ee){return N.rect[G]-ee.rect[G]});for(var oe,q=0,M=!1,se=[],ge=0,K=0;K<te;K++){var ve=de[K],$=ve.rect;(oe=$[G]-q)<0&&($[G]-=oe,ve.label[G]-=oe,M=!0);var X=Math.max(-oe,0);se.push(X),ge+=X,q=$[G]+$[Z]}ge>0&&re&&A(-ge/te,0,te);var L,E,ce=de[0],U=de[te-1];return B(),L<0&&O(-L,.8),E<0&&O(E,.8),B(),H(L,E,1),H(E,L,-1),B(),L<0&&I(-L),E<0&&I(E),M}function B(){L=ce.rect[G]-Q,E=W-U.rect[G]-U.rect[Z]}function H(N,ee,j){if(N<0){var ae=Math.min(ee,-N);if(ae>0){A(ae*j,0,te);var fe=ae+N;fe<0&&O(-fe*j,1)}else O(-N*j,1)}}function A(N,ee,j){0!==N&&(M=!0);for(var ae=ee;ae<j;ae++){var fe=de[ae];fe.rect[G]+=N,fe.label[G]+=N}}function O(N,ee){for(var j=[],ae=0,fe=1;fe<te;fe++){var he=de[fe-1].rect,Ce=Math.max(de[fe].rect[G]-he[G]-he[Z],0);j.push(Ce),ae+=Ce}if(ae){var Se=Math.min(Math.abs(N)/ae,ee);if(N>0)for(fe=0;fe<te-1;fe++)A(j[fe]*Se,0,fe+1);else for(fe=te-1;fe>0;fe--)A(-j[fe-1]*Se,fe,te)}}function I(N){var ee=N<0?-1:1;N=Math.abs(N);for(var j=Math.ceil(N/(te-1)),ae=0;ae<te-1;ae++)if(ee>0?A(j,0,ae+1):A(-j,te-ae-1,te),(N-=j)<=0)return}}function pe(de,G,Z,Q){return ie(de,"x","width",G,Z,Q)}function me(de,G,Z,Q){return ie(de,"y","height",G,Z,Q)}function Me(de){var G=[];de.sort(function(X,ce){return ce.priority-X.priority});var Z=new T.Z(0,0,0,0);function Q(X){if(!X.ignore){var ce=X.ensureState("emphasis");null==ce.ignore&&(ce.ignore=!1)}X.ignore=!0}for(var W=0;W<de.length;W++){var re=de[W],te=re.axisAligned,q=re.localRect,oe=re.transform,M=re.label,se=re.labelLine;Z.copy(re.rect),Z.width-=.1,Z.height-=.1,Z.x+=.05,Z.y+=.05;for(var ge=re.obb,K=!1,ve=0;ve<G.length;ve++){var $=G[ve];if(Z.intersect($.rect)){if(te&&$.axisAligned){K=!0;break}if($.obb||($.obb=new _.Z($.localRect,$.transform)),ge||(ge=new _.Z(q,oe)),ge.intersect($.obb)){K=!0;break}}}K?(Q(M),se&&Q(se)):(M.attr("ignore",re.defaultAttr.ignore),se&&se.attr("ignore",re.defaultAttr.labelGuideIgnore),G.push(re))}}},4258:($t,We,C)=>{"use strict";C.d(We,{Lr:()=>Q,k3:()=>Z,nC:()=>W,ni:()=>G,pe:()=>ve,qA:()=>K,qT:()=>ge,tD:()=>$});var _=C(2054),T=C(4404),Y=C(6499),ie=C(6496),pe=C(5271),me={};function Me(X,ce){for(var U=0;U<Y.L1.length;U++){var L=Y.L1[U],E=ce[L],B=X.ensureState(L);B.style=B.style||{},B.style.text=E}var H=X.currentStates.slice();X.clearStates(!0),X.setStyle({text:ce.normal}),X.useStates(H,!0)}function de(X,ce,U){var A,L=X.labelFetcher,E=X.labelDataIndex,B=X.labelDimIndex,H=ce.normal;L&&(A=L.getFormattedLabel(E,"normal",null,B,H&&H.get("formatter"),null!=U?{interpolatedValue:U}:null)),null==A&&(A=(0,T.isFunction)(X.defaultText)?X.defaultText(E,X,U):X.defaultText);for(var O={normal:A},I=0;I<Y.L1.length;I++){var N=Y.L1[I],ee=ce[N];O[N]=(0,T.retrieve2)(L?L.getFormattedLabel(E,N,null,B,ee&&ee.get("formatter")):null,A)}return O}function G(X,ce,U,L){U=U||me;for(var E=X instanceof _.ZP,B=!1,H=0;H<Y.qc.length;H++)if((A=ce[Y.qc[H]])&&A.getShallow("show")){B=!0;break}var O=E?X:X.getTextContent();if(B){E||(O||(O=new _.ZP,X.setTextContent(O)),X.stateProxy&&(O.stateProxy=X.stateProxy));var I=de(U,ce),N=ce.normal,ee=!!N.getShallow("show"),j=Q(N,L&&L.normal,U,!1,!E);for(j.text=I.normal,E||X.setTextConfig(W(N,U,!1)),H=0;H<Y.L1.length;H++){var A,ae=Y.L1[H];if(A=ce[ae]){var fe=O.ensureState(ae),he=!!(0,T.retrieve2)(A.getShallow("show"),ee);he!==ee&&(fe.ignore=!he),fe.style=Q(A,L&&L[ae],U,!0,!E),fe.style.text=I[ae],E||(X.ensureState(ae).textConfig=W(A,U,!0))}}O.silent=!!N.getShallow("silent"),null!=O.style.x&&(j.x=O.style.x),null!=O.style.y&&(j.y=O.style.y),O.ignore=!ee,O.useStyle(j),O.dirty(),U.enableTextSetter&&(K(O).setLabelText=function(Se){var ye=de(U,ce,Se);Me(O,ye)})}else O&&(O.ignore=!0);X.dirty()}function Z(X,ce){for(var U={normal:X.getModel(ce=ce||"label")},L=0;L<Y.L1.length;L++){var E=Y.L1[L];U[E]=X.getModel([E,ce])}return U}function Q(X,ce,U,L,E){var B={};return function re(X,ce,U,L,E){U=U||me;var O,B=ce.ecModel,H=B&&B.option.textStyle,A=function te(X){for(var ce;X&&X!==X.ecModel;){var U=(X.option||me).rich;if(U){ce=ce||{};for(var L=(0,T.keys)(U),E=0;E<L.length;E++)ce[L[E]]=1}X=X.parentModel}return ce}(ce);if(A)for(var I in O={},A)if(A.hasOwnProperty(I)){var N=ce.getModel(["rich",I]);se(O[I]={},N,H,U,L,E,!1,!0)}O&&(X.rich=O);var ee=ce.get("overflow");ee&&(X.overflow=ee);var j=ce.get("minMargin");null!=j&&(X.margin=j),se(X,ce,H,U,L,E,!0,!1)}(B,X,U,L,E),ce&&(0,T.extend)(B,ce),B}function W(X,ce,U){ce=ce||{};var E,L={},B=X.getShallow("rotate"),H=(0,T.retrieve2)(X.getShallow("distance"),U?null:5),A=X.getShallow("offset");return"outside"===(E=X.getShallow("position")||(U?null:"inside"))&&(E=ce.defaultOutsidePosition||"top"),null!=E&&(L.position=E),null!=A&&(L.offset=A),null!=B&&(B*=Math.PI/180,L.rotation=B),null!=H&&(L.distance=H),L.outsideFill="inherit"===X.get("color")?ce.inheritColor||null:"auto",L}var q=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],oe=["align","lineHeight","width","height","tag","verticalAlign"],M=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function se(X,ce,U,L,E,B,H,A){U=!E&&U||me;var O=L&&L.inheritColor,I=ce.getShallow("color"),N=ce.getShallow("textBorderColor"),ee=(0,T.retrieve2)(ce.getShallow("opacity"),U.opacity);("inherit"===I||"auto"===I)&&(I=O||null),("inherit"===N||"auto"===N)&&(N=O||null),B||(I=I||U.color,N=N||U.textBorderColor),null!=I&&(X.fill=I),null!=N&&(X.stroke=N);var j=(0,T.retrieve2)(ce.getShallow("textBorderWidth"),U.textBorderWidth);null!=j&&(X.lineWidth=j);var ae=(0,T.retrieve2)(ce.getShallow("textBorderType"),U.textBorderType);null!=ae&&(X.lineDash=ae);var fe=(0,T.retrieve2)(ce.getShallow("textBorderDashOffset"),U.textBorderDashOffset);null!=fe&&(X.lineDashOffset=fe),!E&&null==ee&&!A&&(ee=L&&L.defaultOpacity),null!=ee&&(X.opacity=ee),!E&&!B&&null==X.fill&&L.inheritColor&&(X.fill=L.inheritColor);for(var he=0;he<q.length;he++)null!=(Se=(0,T.retrieve2)(ce.getShallow(Ce=q[he]),U[Ce]))&&(X[Ce]=Se);for(he=0;he<oe.length;he++)null!=(Se=ce.getShallow(Ce=oe[he]))&&(X[Ce]=Se);if(null==X.verticalAlign){var ye=ce.getShallow("baseline");null!=ye&&(X.verticalAlign=ye)}if(!H||!L.disableBox){for(he=0;he<M.length;he++){var Ce,Se;null!=(Se=ce.getShallow(Ce=M[he]))&&(X[Ce]=Se)}var we=ce.getShallow("borderType");null!=we&&(X.borderDash=we),("auto"===X.backgroundColor||"inherit"===X.backgroundColor)&&O&&(X.backgroundColor=O),("auto"===X.borderColor||"inherit"===X.borderColor)&&O&&(X.borderColor=O)}}function ge(X,ce){var U=ce&&ce.getModel("textStyle");return(0,T.trim)([X.fontStyle||U&&U.getShallow("fontStyle")||"",X.fontWeight||U&&U.getShallow("fontWeight")||"",(X.fontSize||U&&U.getShallow("fontSize")||12)+"px",X.fontFamily||U&&U.getShallow("fontFamily")||"sans-serif"].join(" "))}var K=(0,ie.Yf)();function ve(X,ce,U,L){if(X){var E=K(X);E.prevValue=E.value,E.value=U;var B=ce.normal;E.valueAnimation=B.get("valueAnimation"),E.valueAnimation&&(E.precision=B.get("precision"),E.defaultInterpolatedText=L,E.statesModels=ce)}}function $(X,ce,U,L,E){var B=K(X);if(B.valueAnimation&&B.prevValue!==B.value){var H=B.defaultInterpolatedText,A=(0,T.retrieve2)(B.interpolatedValue,B.prevValue),O=B.value;X.percent=0,(null==B.prevValue?pe.KZ:pe.D)(X,{percent:1},L,ce,null,function I(N){var ee=(0,ie.pk)(U,B.precision,A,O,N);B.interpolatedValue=1===N?null:ee;var j=de({labelDataIndex:ce,labelFetcher:E,defaultText:H?H(ee):ee+""},B.statesModels,ee);Me(X,j)})}}},4611:($t,We,C)=>{"use strict";C.d(We,{Bk:()=>oe,G_:()=>te,Ge:()=>Z,Gk:()=>G,My:()=>W,bK:()=>q});var _=C(4404),T=C(2862),Y=C(6018),ie=C(3649),pe=C(3138),me="__ec_stack_";function Me(K){return K.get("stack")||me+K.seriesIndex}function de(K){return K.dim+K.index}function G(K){var ve=[],$=K.axis,X="axis0";if("category"===$.type){for(var ce=$.getBandWidth(),U=0;U<K.count;U++)ve.push((0,_.defaults)({bandWidth:ce,axisKey:X,stackId:me+U},K));var L=re(ve),E=[];for(U=0;U<K.count;U++){var B=L[X][me+U];B.offsetCenter=B.offset+B.width/2,E.push(B)}return E}}function Z(K,ve){var $=[];return ve.eachSeriesByType(K,function(X){M(X)&&$.push(X)}),$}function W(K){var ve=function Q(K){var ve={};(0,_.each)(K,function(B){var A=B.coordinateSystem.getBaseAxis();if("time"===A.type||"value"===A.type)for(var O=B.getData(),I=A.dim+"_"+A.index,N=O.getDimensionIndex(O.mapDimension(A.dim)),ee=O.getStore(),j=0,ae=ee.count();j<ae;++j){var fe=ee.get(N,j);ve[I]?ve[I].push(fe):ve[I]=[fe]}});var $={};for(var X in ve)if(ve.hasOwnProperty(X)){var ce=ve[X];if(ce){ce.sort(function(B,H){return B-H});for(var U=null,L=1;L<ce.length;++L){var E=ce[L]-ce[L-1];E>0&&(U=null===U?E:Math.min(U,E))}$[X]=U}}return $}(K),$=[];return(0,_.each)(K,function(X){var E,U=X.coordinateSystem.getBaseAxis(),L=U.getExtent();if("category"===U.type)E=U.getBandWidth();else if("value"===U.type||"time"===U.type){var H=ve[U.dim+"_"+U.index],A=Math.abs(L[1]-L[0]),O=U.scale.getExtent(),I=Math.abs(O[1]-O[0]);E=H?A/I*H:A}else{var N=X.getData();E=Math.abs(L[1]-L[0])/N.count()}var ee=(0,T.GM)(X.get("barWidth"),E),j=(0,T.GM)(X.get("barMaxWidth"),E),ae=(0,T.GM)(X.get("barMinWidth")||(se(X)?.5:1),E),fe=X.get("barGap"),he=X.get("barCategoryGap");$.push({bandWidth:E,barWidth:ee,barMaxWidth:j,barMinWidth:ae,barGap:fe,barCategoryGap:he,axisKey:de(U),stackId:Me(X)})}),re($)}function re(K){var ve={};(0,_.each)(K,function(X,ce){var U=X.axisKey,L=X.bandWidth,E=ve[U]||{bandWidth:L,remainedWidth:L,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},B=E.stacks;ve[U]=E;var H=X.stackId;B[H]||E.autoWidthCount++,B[H]=B[H]||{width:0,maxWidth:0};var A=X.barWidth;A&&!B[H].width&&(B[H].width=A,A=Math.min(E.remainedWidth,A),E.remainedWidth-=A);var O=X.barMaxWidth;O&&(B[H].maxWidth=O);var I=X.barMinWidth;I&&(B[H].minWidth=I);var N=X.barGap;null!=N&&(E.gap=N);var ee=X.barCategoryGap;null!=ee&&(E.categoryGap=ee)});var $={};return(0,_.each)(ve,function(X,ce){$[ce]={};var U=X.stacks,L=X.bandWidth,E=X.categoryGap;if(null==E){var B=(0,_.keys)(U).length;E=Math.max(35-4*B,15)+"%"}var H=(0,T.GM)(E,L),A=(0,T.GM)(X.gap,1),O=X.remainedWidth,I=X.autoWidthCount,N=(O-H)/(I+(I-1)*A);N=Math.max(N,0),(0,_.each)(U,function(fe){var he=fe.maxWidth,Ce=fe.minWidth;if(fe.width){var Se=fe.width;he&&(Se=Math.min(Se,he)),Ce&&(Se=Math.max(Se,Ce)),fe.width=Se,O-=Se+A*Se,I--}else Se=N,he&&he<Se&&(Se=Math.min(he,O)),Ce&&Ce>Se&&(Se=Ce),Se!==N&&(fe.width=Se,O-=Se+A*Se,I--)}),N=(O-H)/(I+(I-1)*A),N=Math.max(N,0);var j,ee=0;(0,_.each)(U,function(fe,he){fe.width||(fe.width=N),j=fe,ee+=fe.width*(1+A)}),j&&(ee-=j.width*A);var ae=-ee/2;(0,_.each)(U,function(fe,he){$[ce][he]=$[ce][he]||{bandWidth:L,offset:ae,width:fe.width},ae+=fe.width*(1+A)})}),$}function te(K,ve,$){if(K&&ve){var X=K[de(ve)];return null!=X&&null!=$?X[Me($)]:X}}function q(K,ve){var $=Z(K,ve),X=W($);(0,_.each)($,function(ce){var U=ce.getData(),E=ce.coordinateSystem.getBaseAxis(),B=Me(ce),H=X[de(E)][B];U.setLayout({bandWidth:H.bandWidth,offset:H.offset,size:H.width})})}function oe(K){return{seriesType:K,plan:(0,ie.Z)(),reset:function(ve){if(M(ve)){var $=ve.getData(),X=ve.coordinateSystem,ce=X.getBaseAxis(),U=X.getOtherAxis(ce),L=$.getDimensionIndex($.mapDimension(U.dim)),E=$.getDimensionIndex($.mapDimension(ce.dim)),B=ve.get("showBackground",!0),H=$.mapDimension(U.dim),A=$.getCalculationInfo("stackResultDimension"),O=(0,Y.M)($,H)&&!!$.getCalculationInfo("stackedOnSeries"),I=U.isHorizontal(),N=function ge(K,ve){return ve.toGlobalCoord(ve.dataToCoord("log"===ve.type?1:0))}(0,U),ee=se(ve),j=ve.get("barMinHeight")||0,ae=A&&$.getDimensionIndex(A),fe=$.getLayout("size"),he=$.getLayout("offset");return{progress:function(Ce,Se){for(var at,ye=Ce.count,we=ee&&(0,pe.o)(3*ye),Ae=ee&&B&&(0,pe.o)(3*ye),Ne=ee&&(0,pe.o)(ye),Le=X.master.getRect(),Je=I?Le.width:Le.height,nt=Se.getStore(),dt=0;null!=(at=Ce.next());){var It=nt.get(O?ae:L,at),an=nt.get(E,at),Yt=N,mn=void 0;O&&(mn=+It-nt.get(L,at));var Cn=void 0,Gn=void 0,Wn=void 0,Fn=void 0;if(I){var Rr=X.dataToPoint([It,an]);O&&(Yt=X.dataToPoint([mn,an])[0]),Cn=Yt,Gn=Rr[1]+he,Wn=Rr[0]-Yt,Fn=fe,Math.abs(Wn)<j&&(Wn=(Wn<0?-1:1)*j)}else Rr=X.dataToPoint([an,It]),O&&(Yt=X.dataToPoint([an,mn])[1]),Cn=Rr[0]+he,Gn=Yt,Wn=fe,Fn=Rr[1]-Yt,Math.abs(Fn)<j&&(Fn=(Fn<=0?-1:1)*j);ee?(we[dt]=Cn,we[dt+1]=Gn,we[dt+2]=I?Wn:Fn,Ae&&(Ae[dt]=I?Le.x:Cn,Ae[dt+1]=I?Gn:Le.y,Ae[dt+2]=Je),Ne[at]=at):Se.setItemLayout(at,{x:Cn,y:Gn,width:Wn,height:Fn}),dt+=3}ee&&Se.setLayout({largePoints:we,largeDataIndices:Ne,largeBackgroundPoints:Ae,valueAxisHorizontal:I})}}}}}}function M(K){return K.coordinateSystem&&"cartesian2d"===K.coordinateSystem.type}function se(K){return K.pipelineContext&&K.pipelineContext.large}},1101:($t,We,C)=>{"use strict";C.d(We,{s:()=>pe,y:()=>Y});var _=C(4404),T=C(6496);function Y(me,Me){function de(G,Z){var Q=[];return G.eachComponent({mainType:"series",subType:me,query:Z},function(W){Q.push(W.seriesIndex)}),Q}(0,_.each)([[me+"ToggleSelect","toggleSelect"],[me+"Select","select"],[me+"UnSelect","unselect"]],function(G){Me(G[0],function(Z,Q,W){Z=(0,_.extend)({},Z),W.dispatchAction((0,_.extend)(Z,{type:G[1],seriesIndex:de(Q,Z)}))})})}function ie(me,Me,de,G,Z){var Q=me+Me;de.isSilent(Q)||G.eachComponent({mainType:"series",subType:"pie"},function(W){for(var re=W.seriesIndex,te=W.option.selectedMap,q=Z.selected,oe=0;oe<q.length;oe++)if(q[oe].seriesIndex===re){var M=W.getData(),se=(0,T.gO)(M,Z.fromActionPayload);de.trigger(Q,{type:Q,seriesId:W.id,name:(0,_.isArray)(se)?M.getName(se[0]):M.getName(se),selected:(0,_.isString)(te)?te:(0,_.extend)({},te)})}})}function pe(me,Me,de){me.on("selectchanged",function(G){var Z=de.getModel();G.isFromClick?(ie("map","selectchanged",Me,Z,G),ie("pie","selectchanged",Me,Z,G)):"select"===G.fromAction?(ie("map","selected",Me,Z,G),ie("pie","selected",Me,Z,G)):"unselect"===G.fromAction&&(ie("map","unselected",Me,Z,G),ie("pie","unselected",Me,Z,G))})}},562:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Q});var _=C(8299),T=C(4404),Y=C(2590),ie=C(7692),pe=C(394),me=C(6496),Me=C(7436),de=(0,me.Yf)(),G=function(W){function re(te,q,oe){var M=W.call(this,te,q,oe)||this;return M.uid=ie.Kr("ec_cpt_model"),M}return(0,_.ZT)(re,W),re.prototype.init=function(te,q,oe){this.mergeDefaultAndTheme(te,oe)},re.prototype.mergeDefaultAndTheme=function(te,q){var oe=Me.YD(this),M=oe?Me.tE(te):{},se=q.getTheme();T.merge(te,se.get(this.mainType)),T.merge(te,this.getDefaultOption()),oe&&Me.dt(te,M,oe)},re.prototype.mergeOption=function(te,q){T.merge(this.option,te,!0);var oe=Me.YD(this);oe&&Me.dt(this.option,te,oe)},re.prototype.optionUpdated=function(te,q){},re.prototype.getDefaultOption=function(){var te=this.constructor;if(!(0,pe.PT)(te))return te.defaultOption;var q=de(this);if(!q.defaultOption){for(var oe=[],M=te;M;){var se=M.prototype.defaultOption;se&&oe.push(se),M=M.superClass}for(var ge={},K=oe.length-1;K>=0;K--)ge=T.merge(ge,oe[K],!0);q.defaultOption=ge}return q.defaultOption},re.prototype.getReferringComponents=function(te,q){var M=te+"Id";return(0,me.HZ)(this.ecModel,te,{index:this.get(te+"Index",!0),id:this.get(M,!0)},q)},re.prototype.getBoxLayoutParams=function(){var te=this;return{left:te.get("left"),top:te.get("top"),right:te.get("right"),bottom:te.get("bottom"),width:te.get("width"),height:te.get("height")}},re.prototype.getZLevelKey=function(){return""},re.prototype.setZLevel=function(te){this.option.zlevel=te},re.protoInitialize=((te=re.prototype).type="component",te.id="",te.name="",te.mainType="",te.subType="",void(te.componentIndex=0)),re;var te}(Y.Z);(0,pe.pw)(G,Y.Z),(0,pe.au)(G),ie.cj(G),ie.jS(G,function Z(W){var re=[];return T.each(G.getClassesByMainType(W),function(te){re=re.concat(te.dependencies||te.prototype.dependencies||[])}),re=T.map(re,function(te){return(0,pe.u9)(te).main}),"dataset"!==W&&T.indexOf(re,"dataset")<=0&&re.unshift("dataset"),re});const Q=G},2590:($t,We,C)=>{"use strict";C.d(We,{Z:()=>se});var _=C(8519),T=C(394),pe=(0,C(8202).Z)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),me=function(){function ge(){}return ge.prototype.getAreaStyle=function(K,ve){return pe(this,K,ve)},ge}(),Me=C(4258),de=C(2054),G=["textStyle","color"],Z=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Q=new de.ZP;const re=function(){function ge(){}return ge.prototype.getTextColor=function(K){var ve=this.ecModel;return this.getShallow("color")||(!K&&ve?ve.get(G):null)},ge.prototype.getFont=function(){return(0,Me.qT)({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},ge.prototype.getTextRect=function(K){for(var ve={text:K,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},$=0;$<Z.length;$++)ve[Z[$]]=this.getShallow(Z[$]);return Q.useStyle(ve),Q.update(),Q.getBoundingRect()},ge}();var te=C(7794),q=C(2585),oe=C(4404),M=function(){function ge(K,ve,$){this.parentModel=ve,this.ecModel=$,this.option=K}return ge.prototype.init=function(K,ve,$){for(var X=[],ce=3;ce<arguments.length;ce++)X[ce-3]=arguments[ce]},ge.prototype.mergeOption=function(K,ve){(0,oe.merge)(this.option,K,!0)},ge.prototype.get=function(K,ve){return null==K?this.option:this._doGet(this.parsePath(K),!ve&&this.parentModel)},ge.prototype.getShallow=function(K,ve){var $=this.option,X=null==$?$:$[K];if(null==X&&!ve){var ce=this.parentModel;ce&&(X=ce.getShallow(K))}return X},ge.prototype.getModel=function(K,ve){var $=null!=K,X=$?this.parsePath(K):null;return new ge($?this._doGet(X):this.option,ve=ve||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(X)),this.ecModel)},ge.prototype.isEmpty=function(){return null==this.option},ge.prototype.restoreData=function(){},ge.prototype.clone=function(){return new(0,this.constructor)((0,oe.clone)(this.option))},ge.prototype.parsePath=function(K){return"string"==typeof K?K.split("."):K},ge.prototype.resolveParentPath=function(K){return K},ge.prototype.isAnimationEnabled=function(){if(!_.Z.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},ge.prototype._doGet=function(K,ve){var $=this.option;if(!K)return $;for(var X=0;X<K.length&&(!K[X]||null!=($=$&&"object"==typeof $?$[K[X]]:null));X++);return null==$&&ve&&($=ve._doGet(this.resolveParentPath(K),ve.parentModel)),$},ge}();(0,T.dm)(M),(0,T.Qj)(M),(0,oe.mixin)(M,te.K),(0,oe.mixin)(M,q.D),(0,oe.mixin)(M,me),(0,oe.mixin)(M,re);const se=M},8736:($t,We,C)=>{"use strict";C.d(We,{V:()=>q,Z:()=>U});var _=C(8299),T=C(4404),Y=C(8519),ie=C(6496),pe=C(562),me=C(7595),Me=C(5699),de=C(7436),G=C(5096),Z=C(394),Q=C(528),W=C(4655),re=ie.Yf();function te(L,E){return L.getName(E)||L.getId(E)}var q="__universalTransitionEnabled",oe=function(L){function E(){var B=null!==L&&L.apply(this,arguments)||this;return B._selectedDataIndicesMap={},B}return(0,_.ZT)(E,L),E.prototype.init=function(B,H,A){this.seriesIndex=this.componentIndex,this.dataTask=(0,G.v)({count:ge,reset:K}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(B,A),(re(this).sourceManager=new Q.U(this)).prepareSource();var I=this.getInitialData(B,A);$(I,this),this.dataTask.context.data=I,re(this).dataBeforeProcessed=I,M(this),this._initSelectedMapFromData(I)},E.prototype.mergeDefaultAndTheme=function(B,H){var A=(0,de.YD)(this),O=A?(0,de.tE)(B):{},I=this.subType;pe.Z.hasClass(I)&&(I+="Series"),T.merge(B,H.getTheme().get(this.subType)),T.merge(B,this.getDefaultOption()),ie.Cc(B,"label",["show"]),this.fillDataTextStyle(B.data),A&&(0,de.dt)(B,O,A)},E.prototype.mergeOption=function(B,H){B=T.merge(this.option,B,!0),this.fillDataTextStyle(B.data);var A=(0,de.YD)(this);A&&(0,de.dt)(this.option,B,A);var O=re(this).sourceManager;O.dirty(),O.prepareSource();var I=this.getInitialData(B,H);$(I,this),this.dataTask.dirty(),this.dataTask.context.data=I,re(this).dataBeforeProcessed=I,M(this),this._initSelectedMapFromData(I)},E.prototype.fillDataTextStyle=function(B){if(B&&!T.isTypedArray(B))for(var H=["show"],A=0;A<B.length;A++)B[A]&&B[A].label&&ie.Cc(B[A],"label",H)},E.prototype.getInitialData=function(B,H){},E.prototype.appendData=function(B){this.getRawData().appendData(B.data)},E.prototype.getData=function(B){var H=ce(this);if(H){var A=H.context.data;return null==B?A:A.getLinkedData(B)}return re(this).data},E.prototype.getAllData=function(){var B=this.getData();return B&&B.getLinkedDataAll?B.getLinkedDataAll():[{data:B}]},E.prototype.setData=function(B){var H=ce(this);if(H){var A=H.context;A.outputData=B,H!==this.dataTask&&(A.data=B)}re(this).data=B},E.prototype.getEncode=function(){var B=this.get("encode",!0);if(B)return T.createHashMap(B)},E.prototype.getSourceManager=function(){return re(this).sourceManager},E.prototype.getSource=function(){return this.getSourceManager().getSource()},E.prototype.getRawData=function(){return re(this).dataBeforeProcessed},E.prototype.getColorBy=function(){return this.get("colorBy")||"series"},E.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},E.prototype.getBaseAxis=function(){var B=this.coordinateSystem;return B&&B.getBaseAxis&&B.getBaseAxis()},E.prototype.formatTooltip=function(B,H,A){return(0,W.w)({series:this,dataIndex:B,multipleSeries:H})},E.prototype.isAnimationEnabled=function(){var B=this.ecModel;if(Y.Z.node&&(!B||!B.ssr))return!1;var H=this.getShallow("animation");return H&&this.getData().count()>this.getShallow("animationThreshold")&&(H=!1),!!H},E.prototype.restoreData=function(){this.dataTask.dirty()},E.prototype.getColorFromPalette=function(B,H,A){var O=this.ecModel,I=me._.prototype.getColorFromPalette.call(this,B,H,A);return I||(I=O.getColorFromPalette(B,H,A)),I},E.prototype.coordDimToDataDim=function(B){return this.getRawData().mapDimensionsAll(B)},E.prototype.getProgressive=function(){return this.get("progressive")},E.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},E.prototype.select=function(B,H){this._innerSelect(this.getData(H),B)},E.prototype.unselect=function(B,H){var A=this.option.selectedMap;if(A){var O=this.option.selectedMode,I=this.getData(H);if("series"===O||"all"===A)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var N=0;N<B.length;N++){var j=te(I,B[N]);A[j]=!1,this._selectedDataIndicesMap[j]=-1}}},E.prototype.toggleSelect=function(B,H){for(var A=[],O=0;O<B.length;O++)A[0]=B[O],this.isSelected(B[O],H)?this.unselect(A,H):this.select(A,H)},E.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var B=this._selectedDataIndicesMap,H=T.keys(B),A=[],O=0;O<H.length;O++){var I=B[H[O]];I>=0&&A.push(I)}return A},E.prototype.isSelected=function(B,H){var A=this.option.selectedMap;if(!A)return!1;var O=this.getData(H);return("all"===A||A[te(O,B)])&&!O.getItemModel(B).get(["select","disabled"])},E.prototype.isUniversalTransitionEnabled=function(){if(this[q])return!0;var B=this.option.universalTransition;return!!B&&(!0===B||B&&B.enabled)},E.prototype._innerSelect=function(B,H){var A,O,I=this.option,N=I.selectedMode,ee=H.length;if(N&&ee)if("series"===N)I.selectedMap="all";else if("multiple"===N){T.isObject(I.selectedMap)||(I.selectedMap={});for(var j=I.selectedMap,ae=0;ae<ee;ae++){var fe=H[ae];j[he=te(B,fe)]=!0,this._selectedDataIndicesMap[he]=B.getRawIndex(fe)}}else if("single"===N||!0===N){var Ce=H[ee-1],he=te(B,Ce);I.selectedMap=((A={})[he]=!0,A),this._selectedDataIndicesMap=((O={})[he]=B.getRawIndex(Ce),O)}},E.prototype._initSelectedMapFromData=function(B){if(!this.option.selectedMap){var H=[];B.hasItemOption&&B.each(function(A){var O=B.getRawDataItem(A);O&&O.selected&&H.push(A)}),H.length>0&&this._innerSelect(B,H)}},E.registerClass=function(B){return pe.Z.registerClass(B)},E.protoInitialize=((B=E.prototype).type="series.__base__",B.seriesIndex=0,B.ignoreStyleOnData=!1,B.hasSymbolVisual=!1,B.defaultSymbol="circle",B.visualStyleAccessPath="itemStyle",void(B.visualDrawType="fill")),E;var B}(pe.Z);function M(L){var E=L.name;ie.yu(L)||(L.name=function se(L){var E=L.getRawData(),B=E.mapDimensionsAll("seriesName"),H=[];return T.each(B,function(A){var O=E.getDimensionInfo(A);O.displayName&&H.push(O.displayName)}),H.join(" ")}(L)||E)}function ge(L){return L.model.getRawData().count()}function K(L){var E=L.model;return E.setData(E.getRawData().cloneShallow()),ve}function ve(L,E){E.outputData&&L.end>E.outputData.count()&&E.model.getRawData().cloneShallow(E.outputData)}function $(L,E){T.each(T.concatArray(L.CHANGABLE_METHODS,L.DOWNSAMPLE_METHODS),function(B){L.wrapMethod(B,T.curry(X,E))})}function X(L,E){var B=ce(L);return B&&B.setOutputEnd((E||this).count()),E}function ce(L){var E=(L.ecModel||{}).scheduler,B=E&&E.getPipeline(L.uid);if(B){var H=B.currentTask;if(H){var A=H.agentStubMap;A&&(H=A.get(L.uid))}return H}}T.mixin(oe,Me.X),T.mixin(oe,me._),(0,Z.pw)(oe,pe.Z);const U=oe},6374:($t,We,C)=>{"use strict";C.d(We,{R:()=>ie,f:()=>Y});var _=C(4404),T=(0,_.createHashMap)();function Y(pe,me){(0,_.assert)(null==T.get(pe)&&me),T.set(pe,me)}function ie(pe,me,Me){var de=T.get(me);if(!de)return Me;var G=de(pe);return G?Me.concat(G):Me}},5699:($t,We,C)=>{"use strict";C.d(We,{X:()=>pe,f:()=>me});var _=C(4404),T=C(5941),Y=C(8597),ie=/\{@(.+?)\}/g,pe=function(){function Me(){}return Me.prototype.getDataParams=function(de,G){var Z=this.getData(G),Q=this.getRawValue(de,G),W=Z.getRawIndex(de),re=Z.getName(de),te=Z.getRawDataItem(de),q=Z.getItemVisual(de,"style"),oe=q&&q[Z.getItemVisual(de,"drawType")||"fill"],M=q&&q.stroke,se=this.mainType,ge="series"===se,K=Z.userOutput&&Z.userOutput.get();return{componentType:se,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:ge?this.subType:null,seriesIndex:this.seriesIndex,seriesId:ge?this.id:null,seriesName:ge?this.name:null,name:re,dataIndex:W,data:te,dataType:G,value:Q,color:oe,borderColor:M,dimensionNames:K?K.fullDimensions:null,encode:K?K.encode:null,$vars:["seriesName","name","value"]}},Me.prototype.getFormattedLabel=function(de,G,Z,Q,W,re){G=G||"normal";var te=this.getData(Z),q=this.getDataParams(de,Z);return re&&(q.value=re.interpolatedValue),null!=Q&&_.isArray(q.value)&&(q.value=q.value[Q]),W||(W=te.getItemModel(de).get("normal"===G?["label","formatter"]:[G,"label","formatter"])),_.isFunction(W)?(q.status=G,q.dimensionIndex=Q,W(q)):_.isString(W)?(0,Y.kF)(W,q).replace(ie,function(se,ge){var K=ge.length,ve=ge;"["===ve.charAt(0)&&"]"===ve.charAt(K-1)&&(ve=+ve.slice(1,K-1));var $=(0,T.hk)(te,de,ve);if(re&&_.isArray(re.interpolatedValue)){var X=te.getDimensionIndex(ve);X>=0&&($=re.interpolatedValue[X])}return null!=$?$+"":""}):void 0},Me.prototype.getRawValue=function(de,G){return(0,T.hk)(this.getData(G),de)},Me.prototype.formatTooltip=function(de,G,Z){},Me}();function me(Me){var de,G;return _.isObject(Me)?Me.type&&(G=Me):de=Me,{text:de,frag:G}}},2585:($t,We,C)=>{"use strict";C.d(We,{D:()=>ie,t:()=>T});var _=C(8202),T=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Y=(0,_.Z)(T),ie=function(){function pe(){}return pe.prototype.getItemStyle=function(me,Me){return Y(this,me,Me)},pe}()},7794:($t,We,C)=>{"use strict";C.d(We,{K:()=>ie,v:()=>T});var _=C(8202),T=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Y=(0,_.Z)(T),ie=function(){function pe(){}return pe.prototype.getLineStyle=function(me){return Y(this,me)},pe}()},8202:($t,We,C)=>{"use strict";C.d(We,{Z:()=>T});var _=C(4404);function T(Y,ie){for(var pe=0;pe<Y.length;pe++)Y[pe][1]||(Y[pe][1]=Y[pe][0]);return ie=ie||!1,function(me,Me,de){for(var G={},Z=0;Z<Y.length;Z++){var Q=Y[Z][1];if(!(Me&&_.indexOf(Me,Q)>=0||de&&_.indexOf(de,Q)<0)){var W=me.getShallow(Q,ie);null!=W&&(G[Y[Z][0]]=W)}}return G}}},7595:($t,We,C)=>{"use strict";C.d(We,{_:()=>ie,i:()=>pe});var _=C(6496),T=(0,_.Yf)(),Y=(0,_.Yf)(),ie=function(){function G(){}return G.prototype.getColorFromPalette=function(Z,Q,W){var re=(0,_.kF)(this.get("color",!0)),te=this.get("colorLayer",!0);return Me(this,T,re,te,Z,Q,W)},G.prototype.clearColorPalette=function(){!function de(G,Z){Z(G).paletteIdx=0,Z(G).paletteNameMap={}}(this,T)},G}();function pe(G,Z,Q,W){var re=(0,_.kF)(G.get(["aria","decal","decals"]));return Me(G,Y,re,null,Z,Q,W)}function Me(G,Z,Q,W,re,te,q){var oe=Z(te=te||G),M=oe.paletteIdx||0,se=oe.paletteNameMap=oe.paletteNameMap||{};if(se.hasOwnProperty(re))return se[re];var ge=null!=q&&W?function me(G,Z){for(var Q=G.length,W=0;W<Q;W++)if(G[W].length>Z)return G[W];return G[Q-1]}(W,q):Q;if((ge=ge||Q)&&ge.length){var K=ge[M];return re&&(se[re]=K),oe.paletteIdx=(M+1)%ge.length,K}}},9644:($t,We,C)=>{"use strict";C.d(We,{N:()=>X});var _=C(8783),T=C(4404),Y=C(4311),ie=C(7481),pe=C(6695),me=C(4301),Me=C(3066),de=C(3825),G=C(1240);function Z(ce,U,L){var E=G.qW.createCanvas(),B=U.getWidth(),H=U.getHeight(),A=E.style;return A&&(A.position="absolute",A.left="0",A.top="0",A.width=B+"px",A.height=H+"px",E.setAttribute("data-zr-dom-id",ce)),E.width=B*L,E.height=H*L,E}const W=function(ce){function U(L,E,B){var A,H=ce.call(this)||this;H.motionBlur=!1,H.lastFrameAlpha=.7,H.dpr=1,H.virtual=!1,H.config={},H.incremental=!1,H.zlevel=0,H.maxRepaintRectCount=5,H.__dirty=!0,H.__firstTimePaint=!0,H.__used=!1,H.__drawIndex=0,H.__startIndex=0,H.__endIndex=0,H.__prevStartIndex=null,H.__prevEndIndex=null,B=B||_.KL,"string"==typeof L?A=Z(L,E,B):T.isObject(L)&&(L=(A=L).id),H.id=L,H.dom=A;var O=A.style;return O&&(T.disableUserSelect(A),A.onselectstart=function(){return!1},O.padding="0",O.margin="0",O.borderWidth="0"),H.painter=E,H.dpr=B,H}return(0,Y.ZT)(U,ce),U.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},U.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},U.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},U.prototype.setUnpainted=function(){this.__firstTimePaint=!0},U.prototype.createBackBuffer=function(){var L=this.dpr;this.domBack=Z("back-"+this.id,this.painter,L),this.ctxBack=this.domBack.getContext("2d"),1!==L&&this.ctxBack.scale(L,L)},U.prototype.createRepaintRects=function(L,E,B,H){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var Se,A=[],O=this.maxRepaintRectCount,I=!1,N=new Me.Z(0,0,0,0);function ee(we){if(we.isFinite()&&!we.isZero())if(0===A.length)(Ae=new Me.Z(0,0,0,0)).copy(we),A.push(Ae);else{for(var Ne=!1,Le=1/0,Je=0,at=0;at<A.length;++at){var nt=A[at];if(nt.intersect(we)){var dt=new Me.Z(0,0,0,0);dt.copy(nt),dt.union(we),A[at]=dt,Ne=!0;break}if(I){N.copy(we),N.union(nt);var mn=N.width*N.height-we.width*we.height-nt.width*nt.height;mn<Le&&(Le=mn,Je=at)}}var Ae;I&&(A[Je].union(we),Ne=!0),Ne||((Ae=new Me.Z(0,0,0,0)).copy(we),A.push(Ae)),I||(I=A.length>=O)}}for(var j=this.__startIndex;j<this.__endIndex;++j)if(ae=L[j]){var fe=ae.shouldBePainted(B,H,!0,!0);(he=ae.__isRendered&&(ae.__dirty&de.YV||!fe)?ae.getPrevPaintRect():null)&&ee(he);var Ce=fe&&(ae.__dirty&de.YV||!ae.__isRendered)?ae.getPaintRect():null;Ce&&ee(Ce)}for(j=this.__prevStartIndex;j<this.__prevEndIndex;++j){var ae,he;fe=(ae=E[j]).shouldBePainted(B,H,!0,!0),!ae||fe&&ae.__zr||!ae.__isRendered||(he=ae.getPrevPaintRect())&&ee(he)}do{for(Se=!1,j=0;j<A.length;)if(A[j].isZero())A.splice(j,1);else{for(var ye=j+1;ye<A.length;)A[j].intersect(A[ye])?(Se=!0,A[j].union(A[ye]),A.splice(ye,1)):ye++;j++}}while(Se);return this._paintRects=A,A},U.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},U.prototype.resize=function(L,E){var B=this.dpr,H=this.dom,A=H.style,O=this.domBack;A&&(A.width=L+"px",A.height=E+"px"),H.width=L*B,H.height=E*B,O&&(O.width=L*B,O.height=E*B,1!==B&&this.ctxBack.scale(B,B))},U.prototype.clear=function(L,E,B){var H=this.dom,A=this.ctx,O=H.width,I=H.height;E=E||this.clearColor;var N=this.motionBlur&&!L,ee=this.lastFrameAlpha,j=this.dpr,ae=this;N&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(H,0,0,O/j,I/j));var fe=this.domBack;function he(Ce,Se,ye,we){if(A.clearRect(Ce,Se,ye,we),E&&"transparent"!==E){var Ae=void 0;T.isGradientObject(E)?(Ae=(E.global||E.__width===ye&&E.__height===we)&&E.__canvasGradient||(0,pe.ZF)(A,E,{x:0,y:0,width:ye,height:we}),E.__canvasGradient=Ae,E.__width=ye,E.__height=we):T.isImagePatternObject(E)&&(E.scaleX=E.scaleX||j,E.scaleY=E.scaleY||j,Ae=(0,me.RZ)(A,E,{dirty:function(){ae.setUnpainted(),ae.__painter.refresh()}})),A.save(),A.fillStyle=Ae||E,A.fillRect(Ce,Se,ye,we),A.restore()}N&&(A.save(),A.globalAlpha=ee,A.drawImage(fe,Ce,Se,ye,we),A.restore())}!B||N?he(0,0,O,I):B.length&&T.each(B,function(Ce){he(Ce.x*j,Ce.y*j,Ce.width*j,Ce.height*j)})},U}(ie.Z);var re=C(5962),te=C(8519),q=1e5,oe=314159,M=.01;const $=function(){function ce(U,L,E,B){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var H=!U.nodeName||"CANVAS"===U.nodeName.toUpperCase();this._opts=E=T.extend({},E||{}),this.dpr=E.devicePixelRatio||_.KL,this._singleCanvas=H,this.root=U,U.style&&(T.disableUserSelect(U),U.innerHTML=""),this.storage=L;var O=this._zlevelList;this._prevDisplayList=[];var I=this._layers;if(H){var ee=U,j=ee.width,ae=ee.height;null!=E.width&&(j=E.width),null!=E.height&&(ae=E.height),this.dpr=E.devicePixelRatio||1,ee.width=j*this.dpr,ee.height=ae*this.dpr,this._width=j,this._height=ae;var fe=new W(ee,this,this.dpr);fe.__builtin__=!0,fe.initContext(),I[oe]=fe,fe.zlevel=oe,O.push(oe),this._domRoot=U}else{this._width=(0,pe.ap)(U,0,E),this._height=(0,pe.ap)(U,1,E);var N=this._domRoot=function K(ce,U){var L=document.createElement("div");return L.style.cssText=["position:relative","width:"+ce+"px","height:"+U+"px","padding:0","margin:0","border-width:0"].join(";")+";",L}(this._width,this._height);U.appendChild(N)}}return ce.prototype.getType=function(){return"canvas"},ce.prototype.isSingleCanvas=function(){return this._singleCanvas},ce.prototype.getViewportRoot=function(){return this._domRoot},ce.prototype.getViewportRootOffset=function(){var U=this.getViewportRoot();if(U)return{offsetLeft:U.offsetLeft||0,offsetTop:U.offsetTop||0}},ce.prototype.refresh=function(U){var L=this.storage.getDisplayList(!0),E=this._prevDisplayList,B=this._zlevelList;this._redrawId=Math.random(),this._paintList(L,E,U,this._redrawId);for(var H=0;H<B.length;H++){var O=this._layers[B[H]];!O.__builtin__&&O.refresh&&O.refresh(0===H?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=L.slice()),this},ce.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},ce.prototype._paintHoverList=function(U){var L=U.length,E=this._hoverlayer;if(E&&E.clear(),L){for(var H,B={inHover:!0,viewWidth:this._width,viewHeight:this._height},A=0;A<L;A++){var O=U[A];O.__inHover&&(E||(E=this._hoverlayer=this.getLayer(q)),H||(H=E.ctx).save(),(0,me.Dm)(H,O,B,A===L-1))}H&&H.restore()}},ce.prototype.getHoverLayer=function(){return this.getLayer(q)},ce.prototype.paintOne=function(U,L){(0,me.RV)(U,L)},ce.prototype._paintList=function(U,L,E,B){if(this._redrawId===B){E=E||!1,this._updateLayerStatus(U);var H=this._doPaintList(U,L,E),A=H.finished,O=H.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),O&&this._paintHoverList(U),A)this.eachLayer(function(N){N.afterBrush&&N.afterBrush()});else{var I=this;(0,re.Z)(function(){I._paintList(U,L,E,B)})}}},ce.prototype._compositeManually=function(){var U=this.getLayer(oe).ctx,L=this._domRoot.width,E=this._domRoot.height;U.clearRect(0,0,L,E),this.eachBuiltinLayer(function(B){B.virtual&&U.drawImage(B.dom,0,0,L,E)})},ce.prototype._doPaintList=function(U,L,E){for(var B=this,H=[],A=this._opts.useDirtyRect,O=0;O<this._zlevelList.length;O++){var N=this._layers[this._zlevelList[O]];N.__builtin__&&N!==this._hoverlayer&&(N.__dirty||E)&&H.push(N)}for(var ee=!0,j=!1,ae=function(Ce){var Se=H[Ce],ye=Se.ctx,we=A&&Se.createRepaintRects(U,L,fe._width,fe._height),Ae=E?Se.__startIndex:Se.__drawIndex,Ne=!E&&Se.incremental&&Date.now,Le=Ne&&Date.now(),Je=Se.zlevel===fe._zlevelList[0]?fe._backgroundColor:null;if(Se.__startIndex===Se.__endIndex)Se.clear(!1,Je,we);else if(Ae===Se.__startIndex){var at=U[Ae];(!at.incremental||!at.notClear||E)&&Se.clear(!1,Je,we)}-1===Ae&&(console.error("For some unknown reason. drawIndex is -1"),Ae=Se.__startIndex);var nt,dt=function(mn){var Cn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:B._width,viewHeight:B._height};for(nt=Ae;nt<Se.__endIndex;nt++){var Gn=U[nt];if(Gn.__inHover&&(j=!0),B._doPaintEl(Gn,Se,A,mn,Cn,nt===Se.__endIndex-1),Ne&&Date.now()-Le>15)break}Cn.prevElClipPaths&&ye.restore()};if(we)if(0===we.length)nt=Se.__endIndex;else for(var It=fe.dpr,an=0;an<we.length;++an){var Yt=we[an];ye.save(),ye.beginPath(),ye.rect(Yt.x*It,Yt.y*It,Yt.width*It,Yt.height*It),ye.clip(),dt(Yt),ye.restore()}else ye.save(),dt(),ye.restore();Se.__drawIndex=nt,Se.__drawIndex<Se.__endIndex&&(ee=!1)},fe=this,he=0;he<H.length;he++)ae(he);return te.Z.wxa&&T.each(this._layers,function(Ce){Ce&&Ce.ctx&&Ce.ctx.draw&&Ce.ctx.draw()}),{finished:ee,needsRefreshHover:j}},ce.prototype._doPaintEl=function(U,L,E,B,H,A){var O=L.ctx;if(E){var I=U.getPaintRect();(!B||I&&I.intersect(B))&&((0,me.Dm)(O,U,H,A),U.setPrevPaintRect(I))}else(0,me.Dm)(O,U,H,A)},ce.prototype.getLayer=function(U,L){this._singleCanvas&&!this._needsManuallyCompositing&&(U=oe);var E=this._layers[U];return E||((E=new W("zr_"+U,this,this.dpr)).zlevel=U,E.__builtin__=!0,this._layerConfig[U]?T.merge(E,this._layerConfig[U],!0):this._layerConfig[U-M]&&T.merge(E,this._layerConfig[U-M],!0),L&&(E.virtual=L),this.insertLayer(U,E),E.initContext()),E},ce.prototype.insertLayer=function(U,L){var E=this._layers,B=this._zlevelList,H=B.length,A=this._domRoot,O=null,I=-1;if(!E[U]&&function ge(ce){return!(!ce||!ce.__builtin__&&("function"!=typeof ce.resize||"function"!=typeof ce.refresh))}(L)){if(H>0&&U>B[0]){for(I=0;I<H-1&&!(B[I]<U&&B[I+1]>U);I++);O=E[B[I]]}if(B.splice(I+1,0,U),E[U]=L,!L.virtual)if(O){var N=O.dom;N.nextSibling?A.insertBefore(L.dom,N.nextSibling):A.appendChild(L.dom)}else A.firstChild?A.insertBefore(L.dom,A.firstChild):A.appendChild(L.dom);L.__painter=this}},ce.prototype.eachLayer=function(U,L){for(var E=this._zlevelList,B=0;B<E.length;B++){var H=E[B];U.call(L,this._layers[H],H)}},ce.prototype.eachBuiltinLayer=function(U,L){for(var E=this._zlevelList,B=0;B<E.length;B++){var H=E[B],A=this._layers[H];A.__builtin__&&U.call(L,A,H)}},ce.prototype.eachOtherLayer=function(U,L){for(var E=this._zlevelList,B=0;B<E.length;B++){var H=E[B],A=this._layers[H];A.__builtin__||U.call(L,A,H)}},ce.prototype.getLayers=function(){return this._layers},ce.prototype._updateLayerStatus=function(U){function L(j){H&&(H.__endIndex!==j&&(H.__dirty=!0),H.__endIndex=j)}if(this.eachBuiltinLayer(function(j,ae){j.__dirty=j.__used=!1}),this._singleCanvas)for(var E=1;E<U.length;E++)if((B=U[E]).zlevel!==U[E-1].zlevel||B.incremental){this._needsManuallyCompositing=!0;break}var O,I,H=null,A=0;for(I=0;I<U.length;I++){var B,N=(B=U[I]).zlevel,ee=void 0;O!==N&&(O=N,A=0),B.incremental?((ee=this.getLayer(N+.001,this._needsManuallyCompositing)).incremental=!0,A=1):ee=this.getLayer(N+(A>0?M:0),this._needsManuallyCompositing),ee.__builtin__||T.logError("ZLevel "+N+" has been used by unkown layer "+ee.id),ee!==H&&(ee.__used=!0,ee.__startIndex!==I&&(ee.__dirty=!0),ee.__startIndex=I,ee.__drawIndex=ee.incremental?-1:I,L(I),H=ee),B.__dirty&de.YV&&!B.__inHover&&(ee.__dirty=!0,ee.incremental&&ee.__drawIndex<0&&(ee.__drawIndex=I))}L(I),this.eachBuiltinLayer(function(j,ae){!j.__used&&j.getElementCount()>0&&(j.__dirty=!0,j.__startIndex=j.__endIndex=j.__drawIndex=0),j.__dirty&&j.__drawIndex<0&&(j.__drawIndex=j.__startIndex)})},ce.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},ce.prototype._clearLayer=function(U){U.clear()},ce.prototype.setBackgroundColor=function(U){this._backgroundColor=U,T.each(this._layers,function(L){L.setUnpainted()})},ce.prototype.configLayer=function(U,L){if(L){var E=this._layerConfig;E[U]?T.merge(E[U],L,!0):E[U]=L;for(var B=0;B<this._zlevelList.length;B++){var H=this._zlevelList[B];H!==U&&H!==U+M||T.merge(this._layers[H],E[U],!0)}}},ce.prototype.delLayer=function(U){var L=this._layers,E=this._zlevelList,B=L[U];B&&(B.dom.parentNode.removeChild(B.dom),delete L[U],E.splice(T.indexOf(E,U),1))},ce.prototype.resize=function(U,L){if(this._domRoot.style){var E=this._domRoot;E.style.display="none";var B=this._opts,H=this.root;if(null!=U&&(B.width=U),null!=L&&(B.height=L),U=(0,pe.ap)(H,0,B),L=(0,pe.ap)(H,1,B),E.style.display="",this._width!==U||L!==this._height){for(var A in E.style.width=U+"px",E.style.height=L+"px",this._layers)this._layers.hasOwnProperty(A)&&this._layers[A].resize(U,L);this.refresh(!0)}this._width=U,this._height=L}else{if(null==U||null==L)return;this._width=U,this._height=L,this.getLayer(oe).resize(U,L)}return this},ce.prototype.clearLayer=function(U){var L=this._layers[U];L&&L.clear()},ce.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},ce.prototype.getRenderedCanvas=function(U){if(this._singleCanvas&&!this._compositeManually)return this._layers[oe].dom;var L=new W("image",this,(U=U||{}).pixelRatio||this.dpr);L.initContext(),L.clear(!1,U.backgroundColor||this._backgroundColor);var E=L.ctx;if(U.pixelRatio<=this.dpr){this.refresh();var B=L.dom.width,H=L.dom.height;this.eachLayer(function(j){j.__builtin__?E.drawImage(j.dom,0,0,B,H):j.renderToCanvas&&(E.save(),j.renderToCanvas(E),E.restore())})}else for(var A={inHover:!1,viewWidth:this._width,viewHeight:this._height},O=this.storage.getDisplayList(!0),I=0,N=O.length;I<N;I++)(0,me.Dm)(E,O[I],A,I===N-1);return L.dom},ce.prototype.getWidth=function(){return this._width},ce.prototype.getHeight=function(){return this._height},ce}();function X(ce){ce.registerPainter("canvas",$)}},9099:($t,We,C)=>{"use strict";C.d(We,{Z:()=>de});var _=C(8299),T=C(2862),Y=C(8597),ie=C(2114),pe=C(9367),me=T.NM,Me=function(G){function Z(){var Q=null!==G&&G.apply(this,arguments)||this;return Q.type="interval",Q._interval=0,Q._intervalPrecision=2,Q}return(0,_.ZT)(Z,G),Z.prototype.parse=function(Q){return Q},Z.prototype.contain=function(Q){return pe.XS(Q,this._extent)},Z.prototype.normalize=function(Q){return pe.Fv(Q,this._extent)},Z.prototype.scale=function(Q){return pe.bA(Q,this._extent)},Z.prototype.setExtent=function(Q,W){var re=this._extent;isNaN(Q)||(re[0]=parseFloat(Q)),isNaN(W)||(re[1]=parseFloat(W))},Z.prototype.unionExtent=function(Q){var W=this._extent;Q[0]<W[0]&&(W[0]=Q[0]),Q[1]>W[1]&&(W[1]=Q[1]),this.setExtent(W[0],W[1])},Z.prototype.getInterval=function(){return this._interval},Z.prototype.setInterval=function(Q){this._interval=Q,this._niceExtent=this._extent.slice(),this._intervalPrecision=pe.lb(Q)},Z.prototype.getTicks=function(Q){var W=this._interval,re=this._extent,te=this._niceExtent,q=this._intervalPrecision,oe=[];if(!W)return oe;re[0]<te[0]&&oe.push(Q?{value:me(te[0]-W,q)}:{value:re[0]});for(var se=te[0];se<=te[1]&&(oe.push({value:se}),(se=me(se+W,q))!==oe[oe.length-1].value);)if(oe.length>1e4)return[];var ge=oe.length?oe[oe.length-1].value:te[1];return re[1]>ge&&oe.push(Q?{value:me(ge+W,q)}:{value:re[1]}),oe},Z.prototype.getMinorTicks=function(Q){for(var W=this.getTicks(!0),re=[],te=this.getExtent(),q=1;q<W.length;q++){for(var M=W[q-1],se=0,ge=[],ve=(W[q].value-M.value)/Q;se<Q-1;){var $=me(M.value+(se+1)*ve);$>te[0]&&$<te[1]&&ge.push($),se++}re.push(ge)}return re},Z.prototype.getLabel=function(Q,W){if(null==Q)return"";var re=W&&W.precision;null==re?re=T.p8(Q.value)||0:"auto"===re&&(re=this._intervalPrecision);var te=me(Q.value,re,!0);return Y.OD(te)},Z.prototype.calcNiceTicks=function(Q,W,re){Q=Q||5;var te=this._extent,q=te[1]-te[0];if(isFinite(q)){q<0&&(q=-q,te.reverse());var oe=pe.Qf(te,Q,W,re);this._intervalPrecision=oe.intervalPrecision,this._interval=oe.interval,this._niceExtent=oe.niceTickExtent}},Z.prototype.calcNiceExtent=function(Q){var W=this._extent;if(W[0]===W[1])if(0!==W[0]){var re=Math.abs(W[0]);Q.fixMax||(W[1]+=re/2),W[0]-=re/2}else W[1]=1;isFinite(W[1]-W[0])||(W[0]=0,W[1]=1),this.calcNiceTicks(Q.splitNumber,Q.minInterval,Q.maxInterval);var q=this._interval;Q.fixMin||(W[0]=me(Math.floor(W[0]/q)*q)),Q.fixMax||(W[1]=me(Math.ceil(W[1]/q)*q))},Z.prototype.setNiceExtent=function(Q,W){this._niceExtent=[Q,W]},Z.type="interval",Z}(ie.Z);ie.Z.registerClass(Me);const de=Me},3666:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Me});var _=C(8299),T=C(2114),Y=C(4532),ie=C(9367),pe=C(4404),me=function(de){function G(Z){var Q=de.call(this,Z)||this;Q.type="ordinal";var W=Q.getSetting("ordinalMeta");return W||(W=new Y.Z({})),(0,pe.isArray)(W)&&(W=new Y.Z({categories:(0,pe.map)(W,function(re){return(0,pe.isObject)(re)?re.value:re})})),Q._ordinalMeta=W,Q._extent=Q.getSetting("extent")||[0,W.categories.length-1],Q}return(0,_.ZT)(G,de),G.prototype.parse=function(Z){return null==Z?NaN:(0,pe.isString)(Z)?this._ordinalMeta.getOrdinal(Z):Math.round(Z)},G.prototype.contain=function(Z){return Z=this.parse(Z),ie.XS(Z,this._extent)&&null!=this._ordinalMeta.categories[Z]},G.prototype.normalize=function(Z){return Z=this._getTickNumber(this.parse(Z)),ie.Fv(Z,this._extent)},G.prototype.scale=function(Z){return Z=Math.round(ie.bA(Z,this._extent)),this.getRawOrdinalNumber(Z)},G.prototype.getTicks=function(){for(var Z=[],Q=this._extent,W=Q[0];W<=Q[1];)Z.push({value:W}),W++;return Z},G.prototype.getMinorTicks=function(Z){},G.prototype.setSortInfo=function(Z){if(null!=Z){for(var Q=Z.ordinalNumbers,W=this._ordinalNumbersByTick=[],re=this._ticksByOrdinalNumber=[],te=0,q=this._ordinalMeta.categories.length,oe=Math.min(q,Q.length);te<oe;++te){var M=Q[te];W[te]=M,re[M]=te}for(var se=0;te<q;++te){for(;null!=re[se];)se++;W.push(se),re[se]=te}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},G.prototype._getTickNumber=function(Z){var Q=this._ticksByOrdinalNumber;return Q&&Z>=0&&Z<Q.length?Q[Z]:Z},G.prototype.getRawOrdinalNumber=function(Z){var Q=this._ordinalNumbersByTick;return Q&&Z>=0&&Z<Q.length?Q[Z]:Z},G.prototype.getLabel=function(Z){if(!this.isBlank()){var Q=this.getRawOrdinalNumber(Z.value),W=this._ordinalMeta.categories[Q];return null==W?"":W+""}},G.prototype.count=function(){return this._extent[1]-this._extent[0]+1},G.prototype.unionExtentFromData=function(Z,Q){this.unionExtent(Z.getApproximateExtent(Q))},G.prototype.isInExtentRange=function(Z){return Z=this._getTickNumber(Z),this._extent[0]<=Z&&this._extent[1]>=Z},G.prototype.getOrdinalMeta=function(){return this._ordinalMeta},G.prototype.calcNiceTicks=function(){},G.prototype.calcNiceExtent=function(){},G.type="ordinal",G}(T.Z);T.Z.registerClass(me);const Me=me},2114:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Y});var _=C(394),T=function(){function ie(pe){this._setting=pe||{},this._extent=[1/0,-1/0]}return ie.prototype.getSetting=function(pe){return this._setting[pe]},ie.prototype.unionExtent=function(pe){var me=this._extent;pe[0]<me[0]&&(me[0]=pe[0]),pe[1]>me[1]&&(me[1]=pe[1])},ie.prototype.unionExtentFromData=function(pe,me){this.unionExtent(pe.getApproximateExtent(me))},ie.prototype.getExtent=function(){return this._extent.slice()},ie.prototype.setExtent=function(pe,me){var Me=this._extent;isNaN(pe)||(Me[0]=pe),isNaN(me)||(Me[1]=me)},ie.prototype.isInExtentRange=function(pe){return this._extent[0]<=pe&&this._extent[1]>=pe},ie.prototype.isBlank=function(){return this._isBlank},ie.prototype.setBlank=function(pe){this._isBlank=pe},ie}();_.au(T);const Y=T},7759:($t,We,C)=>{"use strict";C.d(We,{Z:()=>ge});var _=C(8299),T=C(2862),Y=C(7445),ie=C(9367),pe=C(9099),me=C(2114),Me=C(4404),G=function(K){function ve($){var X=K.call(this,$)||this;return X.type="time",X}return(0,_.ZT)(ve,K),ve.prototype.getLabel=function($){var X=this.getSetting("useUTC");return(0,Y.WU)($.value,Y.V8[(0,Y.xC)((0,Y.Tj)(this._minLevelUnit))]||Y.V8.second,X,this.getSetting("locale"))},ve.prototype.getFormattedLabel=function($,X,ce){var U=this.getSetting("useUTC"),L=this.getSetting("locale");return(0,Y.k7)($,X,ce,L,U)},ve.prototype.getTicks=function(){var X=this._extent,ce=[];if(!this._interval)return ce;ce.push({value:X[0],level:0});var U=this.getSetting("useUTC"),L=function se(K,ve,$,X){var U=Y.FW,L=0;function E(Je,at,nt,dt,It,an,Yt){for(var mn=new Date(at),Cn=at,Gn=mn[dt]();Cn<nt&&Cn<=X[1];)Yt.push({value:Cn}),mn[It](Gn+=Je),Cn=mn.getTime();Yt.push({value:Cn,notAdd:!0})}function B(Je,at,nt){var dt=[],It=!at.length;if(!function Q(K,ve,$,X){var ce=T.sG(ve),U=T.sG($),L=function(ee){return(0,Y.q5)(ce,ee,X)===(0,Y.q5)(U,ee,X)},E=function(){return L("year")},B=function(){return E()&&L("month")},H=function(){return B()&&L("day")},A=function(){return H()&&L("hour")},O=function(){return A()&&L("minute")},I=function(){return O()&&L("second")};switch(K){case"year":return E();case"month":return B();case"day":return H();case"hour":return A();case"minute":return O();case"second":return I();case"millisecond":return I()&&L("millisecond")}}((0,Y.Tj)(Je),X[0],X[1],$)){It&&(at=[{value:M(new Date(X[0]),Je,$)},{value:X[1]}]);for(var an=0;an<at.length-1;an++){var Yt=at[an].value,mn=at[an+1].value;if(Yt!==mn){var Cn=void 0,Gn=void 0,Wn=void 0;switch(Je){case"year":Cn=Math.max(1,Math.round(ve/Y.s2/365)),Gn=(0,Y.sx)($),Wn=(0,Y.xL)($);break;case"half-year":case"quarter":case"month":Cn=re(ve),Gn=(0,Y.CW)($),Wn=(0,Y.vh)($);break;case"week":case"half-week":case"day":Cn=W(ve),Gn=(0,Y.xz)($),Wn=(0,Y.f5)($),!0;break;case"half-day":case"quarter-day":case"hour":Cn=te(ve),Gn=(0,Y.Wp)($),Wn=(0,Y.En)($);break;case"minute":Cn=q(ve,!0),Gn=(0,Y.fn)($),Wn=(0,Y.eN)($);break;case"second":Cn=q(ve,!1),Gn=(0,Y.MV)($),Wn=(0,Y.rM)($);break;case"millisecond":Cn=oe(ve),Gn=(0,Y.RZ)($),Wn=(0,Y.cb)($)}E(Cn,Yt,mn,Gn,Wn,0,dt),"year"===Je&&nt.length>1&&0===an&&nt.unshift({value:nt[0].value-Cn})}}for(an=0;an<dt.length;an++)nt.push(dt[an]);return dt}}for(var H=[],A=[],O=0,I=0,N=0;N<U.length&&L++<1e4;++N){var ee=(0,Y.Tj)(U[N]);if((0,Y.$K)(U[N])&&(B(U[N],H[H.length-1]||[],A),ee!==(U[N+1]?(0,Y.Tj)(U[N+1]):null))){if(A.length){I=O,A.sort(function(Je,at){return Je.value-at.value});for(var ae=[],fe=0;fe<A.length;++fe){var he=A[fe].value;(0===fe||A[fe-1].value!==he)&&(ae.push(A[fe]),he>=X[0]&&he<=X[1]&&O++)}var Ce=(X[1]-X[0])/ve;if(O>1.5*Ce&&I>Ce/1.5||(H.push(ae),O>Ce||K===U[N]))break}A=[]}}var Se=(0,Me.filter)((0,Me.map)(H,function(Je){return(0,Me.filter)(Je,function(at){return at.value>=X[0]&&at.value<=X[1]&&!at.notAdd})}),function(Je){return Je.length>0}),ye=[],we=Se.length-1;for(N=0;N<Se.length;++N)for(var Ae=Se[N],Ne=0;Ne<Ae.length;++Ne)ye.push({value:Ae[Ne].value,level:we-N});ye.sort(function(Je,at){return Je.value-at.value});var Le=[];for(N=0;N<ye.length;++N)(0===N||ye[N].value!==ye[N-1].value)&&Le.push(ye[N]);return Le}(this._minLevelUnit,this._approxInterval,U,X);return(ce=ce.concat(L)).push({value:X[1],level:0}),ce},ve.prototype.calcNiceExtent=function($){var X=this._extent;if(X[0]===X[1]&&(X[0]-=Y.s2,X[1]+=Y.s2),X[1]===-1/0&&X[0]===1/0){var ce=new Date;X[1]=+new Date(ce.getFullYear(),ce.getMonth(),ce.getDate()),X[0]=X[1]-Y.s2}this.calcNiceTicks($.splitNumber,$.minInterval,$.maxInterval)},ve.prototype.calcNiceTicks=function($,X,ce){var U=this._extent;this._approxInterval=(U[1]-U[0])/($=$||10),null!=X&&this._approxInterval<X&&(this._approxInterval=X),null!=ce&&this._approxInterval>ce&&(this._approxInterval=ce);var E=Z.length,B=Math.min(function(K,ve,$,X){for(;$<X;){var ce=$+X>>>1;K[ce][1]<ve?$=ce+1:X=ce}return $}(Z,this._approxInterval,0,E),E-1);this._interval=Z[B][1],this._minLevelUnit=Z[Math.max(B-1,0)][0]},ve.prototype.parse=function($){return(0,Me.isNumber)($)?$:+T.sG($)},ve.prototype.contain=function($){return ie.XS(this.parse($),this._extent)},ve.prototype.normalize=function($){return ie.Fv(this.parse($),this._extent)},ve.prototype.scale=function($){return ie.bA($,this._extent)},ve.type="time",ve}(pe.Z),Z=[["second",Y.WT],["minute",Y.yR],["hour",Y.dV],["quarter-day",6*Y.dV],["half-day",12*Y.dV],["day",1.2*Y.s2],["half-week",3.5*Y.s2],["week",7*Y.s2],["month",31*Y.s2],["quarter",95*Y.s2],["half-year",Y.P5/2],["year",Y.P5]];function W(K,ve){return(K/=Y.s2)>16?16:K>7.5?7:K>3.5?4:K>1.5?2:1}function re(K){return(K/=30*Y.s2)>6?6:K>3?3:K>2?2:1}function te(K){return(K/=Y.dV)>12?12:K>6?6:K>3.5?4:K>2?2:1}function q(K,ve){return(K/=ve?Y.yR:Y.WT)>30?30:K>20?20:K>15?15:K>10?10:K>5?5:K>2?2:1}function oe(K){return T.kx(K,!0)}function M(K,ve,$){var X=new Date(K);switch((0,Y.Tj)(ve)){case"year":case"month":X[(0,Y.vh)($)](0);case"day":X[(0,Y.f5)($)](1);case"hour":X[(0,Y.En)($)](0);case"minute":X[(0,Y.eN)($)](0);case"second":X[(0,Y.rM)($)](0),X[(0,Y.cb)($)](0)}return X.getTime()}me.Z.registerClass(G);const ge=G},9367:($t,We,C)=>{"use strict";C.d(We,{Fv:()=>Z,Qf:()=>ie,XS:()=>G,bA:()=>Q,lM:()=>Y,lb:()=>me,r1:()=>pe});var _=C(2862);function Y(W){return"interval"===W.type||"log"===W.type}function ie(W,re,te,q){var oe={},se=oe.interval=(0,_.kx)((W[1]-W[0])/re,!0);null!=te&&se<te&&(se=oe.interval=te),null!=q&&se>q&&(se=oe.interval=q);var ge=oe.intervalPrecision=me(se);return function de(W,re){!isFinite(W[0])&&(W[0]=re[0]),!isFinite(W[1])&&(W[1]=re[1]),Me(W,0,re),Me(W,1,re),W[0]>W[1]&&(W[0]=W[1])}(oe.niceTickExtent=[(0,_.NM)(Math.ceil(W[0]/se)*se,ge),(0,_.NM)(Math.floor(W[1]/se)*se,ge)],W),oe}function pe(W){var re=Math.pow(10,(0,_.xW)(W)),te=W/re;return te?2===te?te=3:3===te?te=5:te*=2:te=1,(0,_.NM)(te*re)}function me(W){return(0,_.p8)(W)+2}function Me(W,re,te){W[re]=Math.max(Math.min(W[re],te[1]),te[0])}function G(W,re){return W>=re[0]&&W<=re[1]}function Z(W,re){return re[1]===re[0]?.5:(W-re[0])/(re[1]-re[0])}function Q(W,re){return W*(re[1]-re[0])+re[0]}},394:($t,We,C)=>{"use strict";C.d(We,{PT:()=>de,Qj:()=>re,au:()=>oe,dm:()=>G,pw:()=>Q,u9:()=>me});var _=C(8299),T=C(4404),Y=".",ie="___EC__COMPONENT__CONTAINER___",pe="___EC__EXTENDED_CLASS___";function me(M){var se={main:"",sub:""};if(M){var ge=M.split(Y);se.main=ge[0]||"",se.sub=ge[1]||""}return se}function de(M){return!(!M||!M[pe])}function G(M,se){M.$constructor=M,M.extend=function(ge){var ve,K=this;return function Z(M){return T.isFunction(M)&&/^class\s/.test(Function.prototype.toString.call(M))}(K)?ve=function($){function X(){return $.apply(this,arguments)||this}return(0,_.ZT)(X,$),X}(K):(ve=function(){(ge.$constructor||K).apply(this,arguments)},T.inherits(ve,this)),T.extend(ve.prototype,ge),ve[pe]=!0,ve.extend=this.extend,ve.superCall=te,ve.superApply=q,ve.superClass=K,ve}}function Q(M,se){M.extend=se.extend}var W=Math.round(10*Math.random());function re(M){var se=["__\0is_clz",W++].join("_");M.prototype[se]=!0,M.isInstance=function(ge){return!(!ge||!ge[se])}}function te(M,se){for(var ge=[],K=2;K<arguments.length;K++)ge[K-2]=arguments[K];return this.superClass.prototype[se].apply(M,ge)}function q(M,se,ge){return this.superClass.prototype[se].apply(M,ge)}function oe(M){var se={};M.registerClass=function(K){var ve=K.type||K.prototype.type;if(ve){(function Me(M){T.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(M),'componentType "'+M+'" illegal')})(ve),K.prototype.type=ve;var $=me(ve);if($.sub){if($.sub!==ie){var X=function ge(K){var ve=se[K.main];return(!ve||!ve[ie])&&((ve=se[K.main]={})[ie]=!0),ve}($);X[$.sub]=K}}else se[$.main]=K}return K},M.getClass=function(K,ve,$){var X=se[K];if(X&&X[ie]&&(X=ve?X[ve]:null),$&&!X)throw new Error(ve?"Component "+K+"."+(ve||"")+" is used but not imported.":K+".type should be specified.");return X},M.getClassesByMainType=function(K){var ve=me(K),$=[],X=se[ve.main];return X&&X[ie]?T.each(X,function(ce,U){U!==ie&&$.push(ce)}):$.push(X),$},M.hasClass=function(K){var ve=me(K);return!!se[ve.main]},M.getAllClassMainTypes=function(){var K=[];return T.each(se,function(ve,$){K.push($)}),K},M.hasSubTypes=function(K){var ve=me(K),$=se[ve.main];return $&&$[ie]}}},7692:($t,We,C)=>{"use strict";C.d(We,{Kr:()=>ie,ZL:()=>Me,cj:()=>pe,jS:()=>me});var _=C(4404),T=C(394),Y=Math.round(10*Math.random());function ie(de){return[de||"",Y++].join("_")}function pe(de){var G={};de.registerSubTypeDefaulter=function(Z,Q){var W=(0,T.u9)(Z);G[W.main]=Q},de.determineSubType=function(Z,Q){var W=Q.type;if(!W){var re=(0,T.u9)(Z).main;de.hasSubTypes(Z)&&G[re]&&(W=G[re](Q))}return W}}function me(de,G){function Q(re,te){return re[te]||(re[te]={predecessor:[],successor:[]}),re[te]}de.topologicalTravel=function(re,te,q,oe){if(re.length){var M=function Z(re){var te={},q=[];return _.each(re,function(oe){var M=Q(te,oe),ge=function W(re,te){var q=[];return _.each(re,function(oe){_.indexOf(te,oe)>=0&&q.push(oe)}),q}(M.originalDeps=G(oe),re);M.entryCount=ge.length,0===M.entryCount&&q.push(oe),_.each(ge,function(K){_.indexOf(M.predecessor,K)<0&&M.predecessor.push(K);var ve=Q(te,K);_.indexOf(ve.successor,K)<0&&ve.successor.push(oe)})}),{graph:te,noEntryList:q}}(te),se=M.graph,ge=M.noEntryList,K={};for(_.each(re,function(L){K[L]=!0});ge.length;){var ve=ge.pop(),$=se[ve],X=!!K[ve];X&&(q.call(oe,ve,$.originalDeps.slice()),delete K[ve]),_.each($.successor,X?U:ce)}_.each(K,function(){throw new Error("")})}function ce(L){se[L].entryCount--,0===se[L].entryCount&&ge.push(L)}function U(L){K[L]=!0,ce(L)}}}function Me(de,G){return _.merge(_.merge({},de,!0),G,!0)}},9128:($t,We,C)=>{"use strict";C.d(We,{I:()=>te});var _=Math.round(9*Math.random()),T="function"==typeof Object.defineProperty;const ie=function(){function K(){this._id="__ec_inner_"+_++}return K.prototype.get=function(ve){return this._guard(ve)[this._id]},K.prototype.set=function(ve,$){var X=this._guard(ve);return T?Object.defineProperty(X,this._id,{value:$,enumerable:!1,configurable:!0}):X[this._id]=$,this},K.prototype.delete=function(ve){return!!this.has(ve)&&(delete this._guard(ve)[this._id],!0)},K.prototype.has=function(ve){return!!this._guard(ve)[this._id]},K.prototype._guard=function(ve){if(ve!==Object(ve))throw TypeError("Value of WeakMap is not a non-null object.");return ve},K}();var pe=C(4862),me=C(4404),Me=C(2862),de=C(4869),G=C(4301),Z=C(1240),Q=new ie,W=new pe.ZP(100),re=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function te(K,ve){if("none"===K)return null;var $=ve.getDevicePixelRatio(),X=ve.getZr(),ce="svg"===X.painter.type;K.dirty&&Q.delete(K);var U=Q.get(K);if(U)return U;var L=(0,me.defaults)(K,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===L.backgroundColor&&(L.backgroundColor=null);var E={repeat:"repeat"};return function B(H){for(var A=[$],O=!0,I=0;I<re.length;++I){var N=L[re[I]];if(null!=N&&!(0,me.isArray)(N)&&!(0,me.isString)(N)&&!(0,me.isNumber)(N)&&"boolean"!=typeof N){O=!1;break}A.push(N)}var ee;if(O){ee=A.join(",")+(ce?"-svg":"");var j=W.get(ee);j&&(ce?H.svgElement=j:H.image=j)}var Ne,ae=oe(L.dashArrayX),fe=function M(K){if(!K||"object"==typeof K&&0===K.length)return[0,0];if((0,me.isNumber)(K)){var ve=Math.ceil(K);return[ve,ve]}var $=(0,me.map)(K,function(X){return Math.ceil(X)});return K.length%2?$.concat($):$}(L.dashArrayY),he=q(L.symbol),Ce=function se(K){return(0,me.map)(K,function(ve){return ge(ve)})}(ae),Se=ge(fe),ye=!ce&&Z.qW.createCanvas(),we=ce&&{tag:"g",attrs:{},key:"dcl",children:[]},Ae=function Le(){for(var at=1,nt=0,dt=Ce.length;nt<dt;++nt)at=(0,Me.nl)(at,Ce[nt]);var It=1;for(nt=0,dt=he.length;nt<dt;++nt)It=(0,Me.nl)(It,he[nt].length);at*=It;var an=Se*Ce.length*he.length;return{width:Math.max(1,Math.min(at,L.maxTileWidth)),height:Math.max(1,Math.min(an,L.maxTileHeight))}}();ye&&(ye.width=Ae.width*$,ye.height=Ae.height*$,Ne=ye.getContext("2d")),function Je(){Ne&&(Ne.clearRect(0,0,ye.width,ye.height),L.backgroundColor&&(Ne.fillStyle=L.backgroundColor,Ne.fillRect(0,0,ye.width,ye.height)));for(var at=0,nt=0;nt<fe.length;++nt)at+=fe[nt];if(!(at<=0))for(var dt=-Se,It=0,an=0,Yt=0;dt<Ae.height;){if(It%2==0){for(var mn=an/2%he.length,Cn=0,Gn=0,Wn=0;Cn<2*Ae.width;){var Fn=0;for(nt=0;nt<ae[Yt].length;++nt)Fn+=ae[Yt][nt];if(Fn<=0)break;if(Gn%2==0){var Rr=.5*(1-L.symbolSize);Wt(Cn+ae[Yt][Gn]*Rr,dt+fe[It]*Rr,ae[Yt][Gn]*L.symbolSize,fe[It]*L.symbolSize,he[mn][Wn/2%he[mn].length])}Cn+=ae[Yt][Gn],++Wn,++Gn===ae[Yt].length&&(Gn=0)}++Yt===ae.length&&(Yt=0)}dt+=fe[It],++an,++It===fe.length&&(It=0)}function Wt(Dn,Ln,xr,lr,ct){var Ft=ce?1:$,Un=(0,de.th)(ct,Dn*Ft,Ln*Ft,xr*Ft,lr*Ft,L.color,L.symbolKeepAspect);if(ce){var Gt=X.painter.renderOneToVNode(Un);Gt&&we.children.push(Gt)}else(0,G.RV)(Ne,Un)}}(),O&&W.put(ee,ye||we),H.image=ye,H.svgElement=we,H.svgWidth=Ae.width,H.svgHeight=Ae.height}(E),E.rotation=L.rotation,E.scaleX=E.scaleY=ce?1:1/$,Q.set(K,E),K.dirty=!1,E}function q(K){if(!K||0===K.length)return[["rect"]];if((0,me.isString)(K))return[[K]];for(var ve=!0,$=0;$<K.length;++$)if(!(0,me.isString)(K[$])){ve=!1;break}if(ve)return q([K]);var X=[];for($=0;$<K.length;++$)(0,me.isString)(K[$])?X.push([K[$]]):X.push(K[$]);return X}function oe(K){if(!K||0===K.length)return[[0,0]];if((0,me.isNumber)(K))return[[ve=Math.ceil(K),ve]];for(var $=!0,X=0;X<K.length;++X)if(!(0,me.isNumber)(K[X])){$=!1;break}if($)return oe([K]);var ce=[];for(X=0;X<K.length;++X)if((0,me.isNumber)(K[X])){var ve=Math.ceil(K[X]);ce.push([ve,ve])}else ve=(0,me.map)(K[X],function(E){return Math.ceil(E)}),ce.push(ve.length%2==1?ve.concat(ve):ve);return ce}function ge(K){for(var ve=0,$=0;$<K.length;++$)ve+=K[$];return K.length%2==1?2*ve:ve}},3437:($t,We,C)=>{"use strict";function _(T,Y,ie){for(var pe;T&&(!Y(T)||(pe=T,!ie));)T=T.__hostTarget||T.parent;return pe}C.d(We,{o:()=>_})},8597:($t,We,C)=>{"use strict";C.d(We,{A0:()=>re,Lz:()=>oe,MI:()=>M,MY:()=>Me,OD:()=>pe,ew:()=>q,kF:()=>Q,mr:()=>te,uX:()=>de,wx:()=>W,zW:()=>me});var _=C(4404),T=C(9626),Y=C(2862),ie=C(7445);function pe(se){if(!(0,Y.kE)(se))return _.isString(se)?se:"-";var ge=(se+"").split(".");return ge[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(ge.length>1?"."+ge[1]:"")}function me(se,ge){return se=(se||"").toLowerCase().replace(/-(.)/g,function(K,ve){return ve.toUpperCase()}),ge&&se&&(se=se.charAt(0).toUpperCase()+se.slice(1)),se}var Me=_.normalizeCssArray;function de(se,ge,K){function $(B){return B&&_.trim(B)?B:"-"}function X(B){return!(null==B||isNaN(B)||!isFinite(B))}var ce="time"===ge,U=se instanceof Date;if(ce||U){var L=ce?(0,Y.sG)(se):se;if(!isNaN(+L))return(0,ie.WU)(L,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",K);if(U)return"-"}if("ordinal"===ge)return _.isStringSafe(se)?$(se):_.isNumber(se)&&X(se)?se+"":"-";var E=(0,Y.FK)(se);return X(E)?pe(E):_.isStringSafe(se)?$(se):"boolean"==typeof se?se+"":"-"}var G=["a","b","c","d","e","f","g"],Z=function(se,ge){return"{"+se+(ge??"")+"}"};function Q(se,ge,K){_.isArray(ge)||(ge=[ge]);var ve=ge.length;if(!ve)return"";for(var $=ge[0].$vars||[],X=0;X<$.length;X++){var ce=G[X];se=se.replace(Z(ce),Z(ce,0))}for(var U=0;U<ve;U++)for(var L=0;L<$.length;L++){var E=ge[U][$[L]];se=se.replace(Z(G[L],U),K?(0,T.F1)(E):E)}return se}function W(se,ge,K){return _.each(ge,function(ve,$){se=se.replace("{"+$+"}",K?(0,T.F1)(ve):ve)}),se}function re(se,ge){var K=_.isString(se)?{color:se,extraCssText:ge}:se||{},ve=K.color,$=K.type;ge=K.extraCssText;var X=K.renderMode||"html";return ve?"html"===X?"subItem"===$?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+(0,T.F1)(ve)+";"+(ge||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+(0,T.F1)(ve)+";"+(ge||"")+'"></span>':{renderMode:X,content:"{"+(K.markerId||"markerX")+"|}  ",style:"subItem"===$?{width:4,height:4,borderRadius:2,backgroundColor:ve}:{width:10,height:10,borderRadius:5,backgroundColor:ve}}:""}function te(se,ge,K){("week"===se||"month"===se||"quarter"===se||"half-year"===se||"year"===se)&&(se="MM-dd\nyyyy");var ve=(0,Y.sG)(ge),$=K?"getUTC":"get",X=ve[$+"FullYear"](),ce=ve[$+"Month"]()+1,U=ve[$+"Date"](),L=ve[$+"Hours"](),E=ve[$+"Minutes"](),B=ve[$+"Seconds"](),H=ve[$+"Milliseconds"]();return se.replace("MM",(0,ie.vk)(ce,2)).replace("M",ce).replace("yyyy",X).replace("yy",(0,ie.vk)(X%100+"",2)).replace("dd",(0,ie.vk)(U,2)).replace("d",U).replace("hh",(0,ie.vk)(L,2)).replace("h",L).replace("mm",(0,ie.vk)(E,2)).replace("m",E).replace("ss",(0,ie.vk)(B,2)).replace("s",B).replace("SSS",(0,ie.vk)(H,3))}function q(se){return se&&se.charAt(0).toUpperCase()+se.substr(1)}function oe(se,ge){return ge=ge||"transparent",_.isString(se)?se:_.isObject(se)&&se.colorStops&&(se.colorStops[0]||{}).color||ge}function M(se,ge){if("_blank"===ge||"blank"===ge){var K=window.open();K.opener=null,K.location.href=se}else window.open(se,ge)}},2285:($t,We,C)=>{"use strict";C.r(We),C.d(We,{Arc:()=>se.Z,BezierCurve:()=>M.Z,BoundingRect:()=>$.Z,Circle:()=>G.Z,CompoundPath:()=>ge.Z,Ellipse:()=>Z.Z,Group:()=>Me.Z,Image:()=>me.ZP,IncrementalDisplayable:()=>U.Z,Line:()=>oe.Z,LinearGradient:()=>K.Z,OrientedBoundingRect:()=>X.Z,Path:()=>ie.ZP,Point:()=>ce.Z,Polygon:()=>re.Z,Polyline:()=>te.Z,RadialGradient:()=>ve.Z,Rect:()=>q.Z,Ring:()=>W.Z,Sector:()=>Q.C,Text:()=>de.ZP,applyTransform:()=>at,clipPointsByRect:()=>Yt,clipRectByRect:()=>mn,createIcon:()=>Cn,extendPath:()=>j,extendShape:()=>N,getShapeClass:()=>fe,getTransform:()=>Je,groupTransition:()=>an,initProps:()=>H.KZ,isElementRemoved:()=>H.eq,lineLineIntersect:()=>Wn,linePolygonIntersect:()=>Gn,makeImage:()=>Ce,makePath:()=>he,mergePath:()=>ye,registerShape:()=>ae,removeElement:()=>H.bX,removeElementWithFadeOut:()=>H.XD,resizePath:()=>we,setTooltipConfig:()=>hn,subPixelOptimize:()=>Le,subPixelOptimizeLine:()=>Ae,subPixelOptimizeRect:()=>Ne,transformDirection:()=>nt,traverseElements:()=>Et,updateProps:()=>H.D});var _=C(8209),T=C(1751),Y=C(8060),ie=C(649),pe=C(2353),me=C(1959),Me=C(4271),de=C(2054),G=C(1283),Z=C(1462),Q=C(117),W=C(1576),re=C(9213),te=C(2459),q=C(2501),oe=C(2139),M=C(6830),se=C(8972),ge=C(50),K=C(2920),ve=C(1592),$=C(3066),X=C(7668),ce=C(7881),U=C(464),L=C(4210),E=C(4404),B=C(9133),H=C(5271),A=Math.max,O=Math.min,I={};function N(Tt){return ie.ZP.extend(Tt)}var ee=_.Pc;function j(Tt,Xt){return ee(Tt,Xt)}function ae(Tt,Xt){I[Tt]=Xt}function fe(Tt){if(I.hasOwnProperty(Tt))return I[Tt]}function he(Tt,Xt,Wt,Dn){var Ln=_.iR(Tt,Xt);return Wt&&("center"===Dn&&(Wt=Se(Wt,Ln.getBoundingRect())),we(Ln,Wt)),Ln}function Ce(Tt,Xt,Wt){var Dn=new me.ZP({style:{image:Tt,x:Xt.x,y:Xt.y,width:Xt.width,height:Xt.height},onload:function(Ln){"center"===Wt&&Dn.setStyle(Se(Xt,{width:Ln.width,height:Ln.height}))}});return Dn}function Se(Tt,Xt){var Ln,Wt=Xt.width/Xt.height,Dn=Tt.height*Wt;return Ln=Dn<=Tt.width?Tt.height:(Dn=Tt.width)/Wt,{x:Tt.x+Tt.width/2-Dn/2,y:Tt.y+Tt.height/2-Ln/2,width:Dn,height:Ln}}var ye=_.AA;function we(Tt,Xt){if(Tt.applyTransform){var Dn=Tt.getBoundingRect().calculateTransform(Xt);Tt.applyTransform(Dn)}}function Ae(Tt,Xt){return L._3(Tt,Tt,{lineWidth:Xt}),Tt}function Ne(Tt){return L.Pw(Tt.shape,Tt.shape,Tt.style),Tt}var Le=L.vu;function Je(Tt,Xt){for(var Wt=T.identity([]);Tt&&Tt!==Xt;)T.mul(Wt,Tt.getLocalTransform(),Wt),Tt=Tt.parent;return Wt}function at(Tt,Xt,Wt){return Xt&&!(0,E.isArrayLike)(Xt)&&(Xt=pe.ZP.getLocalTransform(Xt)),Wt&&(Xt=T.invert([],Xt)),Y.applyTransform([],Tt,Xt)}function nt(Tt,Xt,Wt){var Dn=0===Xt[4]||0===Xt[5]||0===Xt[0]?1:Math.abs(2*Xt[4]/Xt[0]),Ln=0===Xt[4]||0===Xt[5]||0===Xt[2]?1:Math.abs(2*Xt[4]/Xt[2]),xr=["left"===Tt?-Dn:"right"===Tt?Dn:0,"top"===Tt?-Ln:"bottom"===Tt?Ln:0];return xr=at(xr,Xt,Wt),Math.abs(xr[0])>Math.abs(xr[1])?xr[0]>0?"right":"left":xr[1]>0?"bottom":"top"}function dt(Tt){return!Tt.isGroup}function an(Tt,Xt,Wt){if(Tt&&Xt){var xr=function Dn(lr){var ct={};return lr.traverse(function(Ft){dt(Ft)&&Ft.anid&&(ct[Ft.anid]=Ft)}),ct}(Tt);Xt.traverse(function(lr){if(dt(lr)&&lr.anid){var ct=xr[lr.anid];if(ct){var Ft=Ln(lr);lr.attr(Ln(ct)),(0,H.D)(lr,Ft,Wt,(0,B.A)(lr).dataIndex)}}})}function Ln(lr){var ct={x:lr.x,y:lr.y,rotation:lr.rotation};return function It(Tt){return null!=Tt.shape}(lr)&&(ct.shape=(0,E.extend)({},lr.shape)),ct}}function Yt(Tt,Xt){return(0,E.map)(Tt,function(Wt){var Dn=Wt[0];Dn=A(Dn,Xt.x),Dn=O(Dn,Xt.x+Xt.width);var Ln=Wt[1];return Ln=A(Ln,Xt.y),[Dn,Ln=O(Ln,Xt.y+Xt.height)]})}function mn(Tt,Xt){var Wt=A(Tt.x,Xt.x),Dn=O(Tt.x+Tt.width,Xt.x+Xt.width),Ln=A(Tt.y,Xt.y),xr=O(Tt.y+Tt.height,Xt.y+Xt.height);if(Dn>=Wt&&xr>=Ln)return{x:Wt,y:Ln,width:Dn-Wt,height:xr-Ln}}function Cn(Tt,Xt,Wt){var Dn=(0,E.extend)({rectHover:!0},Xt),Ln=Dn.style={strokeNoScale:!0};if(Wt=Wt||{x:-1,y:-1,width:2,height:2},Tt)return 0===Tt.indexOf("image://")?(Ln.image=Tt.slice(8),(0,E.defaults)(Ln,Wt),new me.ZP(Dn)):he(Tt.replace("path://",""),Dn,Wt,"center")}function Gn(Tt,Xt,Wt,Dn,Ln){for(var xr=0,lr=Ln[Ln.length-1];xr<Ln.length;xr++){var ct=Ln[xr];if(Wn(Tt,Xt,Wt,Dn,ct[0],ct[1],lr[0],lr[1]))return!0;lr=ct}}function Wn(Tt,Xt,Wt,Dn,Ln,xr,lr,ct){var Ft=Wt-Tt,Un=Dn-Xt,Gt=lr-Ln,_t=ct-xr,Xe=Fn(Gt,_t,Ft,Un);if(function Rr(Tt){return Tt<=1e-6&&Tt>=-1e-6}(Xe))return!1;var Ye=Tt-Ln,ke=Xt-xr,Ct=Fn(Ye,ke,Ft,Un)/Xe;if(Ct<0||Ct>1)return!1;var Mt=Fn(Ye,ke,Gt,_t)/Xe;return!(Mt<0||Mt>1)}function Fn(Tt,Xt,Wt,Dn){return Tt*Dn-Wt*Xt}function hn(Tt){var Xt=Tt.itemTooltipOption,Wt=Tt.componentModel,Dn=Tt.itemName,Ln=(0,E.isString)(Xt)?{formatter:Xt}:Xt,xr=Wt.mainType,lr=Wt.componentIndex,ct={componentType:xr,name:Dn,$vars:["name"]};ct[xr+"Index"]=lr;var Ft=Tt.formatterParamsExtra;Ft&&(0,E.each)((0,E.keys)(Ft),function(Gt){(0,E.hasOwn)(ct,Gt)||(ct[Gt]=Ft[Gt],ct.$vars.push(Gt))});var Un=(0,B.A)(Tt.el);Un.componentMainType=xr,Un.componentIndex=lr,Un.tooltipConfig={name:Dn,option:(0,E.defaults)({content:Dn,formatterParams:ct},Ln)}}function ot(Tt,Xt){var Wt;Tt.isGroup&&(Wt=Xt(Tt)),Wt||Tt.traverse(Xt)}function Et(Tt,Xt){if(Tt)if((0,E.isArray)(Tt))for(var Wt=0;Wt<Tt.length;Wt++)ot(Tt[Wt],Xt);else ot(Tt,Xt)}ae("circle",G.Z),ae("ellipse",Z.Z),ae("sector",Q.C),ae("ring",W.Z),ae("polygon",re.Z),ae("polyline",te.Z),ae("rect",q.Z),ae("line",oe.Z),ae("bezierCurve",M.Z),ae("arc",se.Z)},9133:($t,We,C)=>{"use strict";C.d(We,{A:()=>T,Q:()=>Y});var T=(0,C(6496).Yf)(),Y=function(ie,pe,me,Me){if(Me){var de=T(Me);de.dataIndex=me,de.dataType=pe,de.seriesIndex=ie,"group"===Me.type&&Me.traverse(function(G){var Z=T(G);Z.seriesIndex=ie,Z.dataIndex=me,Z.dataType=pe})}}},7436:($t,We,C)=>{"use strict";C.d(We,{BZ:()=>G,ME:()=>re,QM:()=>q,QT:()=>ge,YD:()=>oe,dt:()=>M,gN:()=>me,lq:()=>W,p$:()=>te,tE:()=>se});var _=C(4404),T=C(3066),Y=C(2862),ie=C(8597),pe=_.each,me=["left","right","top","bottom","width","height"],Me=[["width","left","right"],["height","top","bottom"]];function de(K,ve,$,X,ce){var U=0,L=0;null==X&&(X=1/0),null==ce&&(ce=1/0);var E=0;ve.eachChild(function(B,H){var N,ee,A=B.getBoundingRect(),O=ve.childAt(H+1),I=O&&O.getBoundingRect();if("horizontal"===K){var j=A.width+(I?-I.x+A.x:0);(N=U+j)>X||B.newline?(U=0,N=j,L+=E+$,E=A.height):E=Math.max(E,A.height)}else{var ae=A.height+(I?-I.y+A.y:0);(ee=L+ae)>ce||B.newline?(U+=E+$,L=0,ee=ae,E=A.width):E=Math.max(E,A.width)}B.newline||(B.x=U,B.y=L,B.markRedraw(),"horizontal"===K?U=N+$:L=ee+$)})}var G=de;function W(K,ve,$){var X=ve.width,ce=ve.height,U=(0,Y.GM)(K.left,X),L=(0,Y.GM)(K.top,ce),E=(0,Y.GM)(K.right,X),B=(0,Y.GM)(K.bottom,ce);return(isNaN(U)||isNaN(parseFloat(K.left)))&&(U=0),(isNaN(E)||isNaN(parseFloat(K.right)))&&(E=X),(isNaN(L)||isNaN(parseFloat(K.top)))&&(L=0),(isNaN(B)||isNaN(parseFloat(K.bottom)))&&(B=ce),$=ie.MY($||0),{width:Math.max(E-U-$[1]-$[3],0),height:Math.max(B-L-$[0]-$[2],0)}}function re(K,ve,$){$=ie.MY($||0);var X=ve.width,ce=ve.height,U=(0,Y.GM)(K.left,X),L=(0,Y.GM)(K.top,ce),E=(0,Y.GM)(K.right,X),B=(0,Y.GM)(K.bottom,ce),H=(0,Y.GM)(K.width,X),A=(0,Y.GM)(K.height,ce),O=$[2]+$[0],I=$[1]+$[3],N=K.aspect;switch(isNaN(H)&&(H=X-E-I-U),isNaN(A)&&(A=ce-B-O-L),null!=N&&(isNaN(H)&&isNaN(A)&&(N>X/ce?H=.8*X:A=.8*ce),isNaN(H)&&(H=N*A),isNaN(A)&&(A=H/N)),isNaN(U)&&(U=X-E-H-I),isNaN(L)&&(L=ce-B-A-O),K.left||K.right){case"center":U=X/2-H/2-$[3];break;case"right":U=X-H-I}switch(K.top||K.bottom){case"middle":case"center":L=ce/2-A/2-$[0];break;case"bottom":L=ce-A-O}U=U||0,L=L||0,isNaN(H)&&(H=X-I-U-(E||0)),isNaN(A)&&(A=ce-O-L-(B||0));var ee=new T.Z(U+$[3],L+$[0],H,A);return ee.margin=$,ee}function te(K,ve,$,X,ce,U){var H,L=!ce||!ce.hv||ce.hv[0],E=!ce||!ce.hv||ce.hv[1],B=ce&&ce.boundingMode||"all";if((U=U||K).x=K.x,U.y=K.y,!L&&!E)return!1;if("raw"===B)H="group"===K.type?new T.Z(0,0,+ve.width||0,+ve.height||0):K.getBoundingRect();else if(H=K.getBoundingRect(),K.needLocalTransform()){var A=K.getLocalTransform();(H=H.clone()).applyTransform(A)}var O=re(_.defaults({width:H.width,height:H.height},ve),$,X),I=L?O.x-H.x:0,N=E?O.y-H.y:0;return"raw"===B?(U.x=I,U.y=N):(U.x+=I,U.y+=N),U===K&&K.markRedraw(),!0}function q(K,ve){return null!=K[Me[ve][0]]||null!=K[Me[ve][1]]&&null!=K[Me[ve][2]]}function oe(K){var ve=K.layoutMode||K.constructor.layoutMode;return _.isObject(ve)?ve:ve?{type:ve}:null}function M(K,ve,$){var X=$&&$.ignoreSize;!_.isArray(X)&&(X=[X,X]);var ce=L(Me[0],0),U=L(Me[1],1);function L(A,O){var I={},N=0,ee={},j=0;if(pe(A,function(Ce){ee[Ce]=K[Ce]}),pe(A,function(Ce){E(ve,Ce)&&(I[Ce]=ee[Ce]=ve[Ce]),B(I,Ce)&&N++,B(ee,Ce)&&j++}),X[O])return B(ve,A[1])?ee[A[2]]=null:B(ve,A[2])&&(ee[A[1]]=null),ee;if(2===j||!N)return ee;if(N>=2)return I;for(var fe=0;fe<A.length;fe++){var he=A[fe];if(!E(I,he)&&E(K,he)){I[he]=K[he];break}}return I}function E(A,O){return A.hasOwnProperty(O)}function B(A,O){return null!=A[O]&&"auto"!==A[O]}function H(A,O,I){pe(A,function(N){O[N]=I[N]})}H(Me[0],K,ce),H(Me[1],K,U)}function se(K){return ge({},K)}function ge(K,ve){return ve&&K&&pe(me,function($){ve.hasOwnProperty($)&&(K[$]=ve[$])}),K}_.curry(de,"vertical"),_.curry(de,"horizontal")},2693:($t,We,C)=>{"use strict";C.d(We,{Sh:()=>de,ZK:()=>me,_y:()=>Q});var _="[ECharts] ",T={},Y=typeof console<"u"&&console.warn&&console.log;function me(W,re){!function ie(W,re,te){if(Y){if(te){if(T[re])return;T[re]=!0}console[W](_+re)}}("warn",W,re)}function de(W){}function Q(W){throw new Error(W)}},6496:($t,We,C)=>{"use strict";C.d(We,{C4:()=>Z,C6:()=>j,Cc:()=>de,Co:()=>Q,HZ:()=>fe,IL:()=>Ce,O0:()=>E,P$:()=>he,Td:()=>G,U5:()=>ve,U9:()=>Se,XI:()=>H,Yf:()=>O,ab:()=>W,g0:()=>L,gO:()=>A,iP:()=>ae,kF:()=>Me,lY:()=>U,pk:()=>we,pm:()=>N,pv:()=>ye,yu:()=>ce,zH:()=>ee});var _=C(4404),T=C(8519),Y=C(2862);function ie(Ae,Ne,Le){return(Ne-Ae)*Le+Ae}var pe="series\0",me="\0_ec_\0";function Me(Ae){return Ae instanceof Array?Ae:null==Ae?[]:[Ae]}function de(Ae,Ne,Le){if(Ae){Ae[Ne]=Ae[Ne]||{},Ae.emphasis=Ae.emphasis||{},Ae.emphasis[Ne]=Ae.emphasis[Ne]||{};for(var Je=0,at=Le.length;Je<at;Je++){var nt=Le[Je];!Ae.emphasis[Ne].hasOwnProperty(nt)&&Ae[Ne].hasOwnProperty(nt)&&(Ae.emphasis[Ne][nt]=Ae[Ne][nt])}}}var G=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Z(Ae){return!(0,_.isObject)(Ae)||(0,_.isArray)(Ae)||Ae instanceof Date?Ae:Ae.value}function Q(Ae){return(0,_.isObject)(Ae)&&!(Ae instanceof Array)}function W(Ae,Ne,Le){var Je="normalMerge"===Le,at="replaceMerge"===Le,nt="replaceAll"===Le;Ae=Ae||[],Ne=(Ne||[]).slice();var dt=(0,_.createHashMap)();(0,_.each)(Ne,function(an,Yt){(0,_.isObject)(an)||(Ne[Yt]=null)});var It=function re(Ae,Ne,Le){var Je=[];if("replaceAll"===Le)return Je;for(var at=0;at<Ae.length;at++){var nt=Ae[at];nt&&null!=nt.id&&Ne.set(nt.id,at),Je.push({existing:"replaceMerge"===Le||U(nt)?null:nt,newOption:null,keyInfo:null,brandNew:null})}return Je}(Ae,dt,Le);return(Je||at)&&function te(Ae,Ne,Le,Je){(0,_.each)(Je,function(at,nt){if(at&&null!=at.id){var dt=K(at.id),It=Le.get(dt);if(null!=It){var an=Ae[It];(0,_.assert)(!an.newOption,'Duplicated option on id "'+dt+'".'),an.newOption=at,an.existing=Ne[It],Je[nt]=null}}})}(It,Ae,dt,Ne),Je&&function q(Ae,Ne){(0,_.each)(Ne,function(Le,Je){if(Le&&null!=Le.name)for(var at=0;at<Ae.length;at++){var nt=Ae[at].existing;if(!Ae[at].newOption&&nt&&(null==nt.id||null==Le.id)&&!U(Le)&&!U(nt)&&ge("name",nt,Le))return Ae[at].newOption=Le,void(Ne[Je]=null)}})}(It,Ne),Je||at?function oe(Ae,Ne,Le){(0,_.each)(Ne,function(Je){if(Je){for(var at,nt=0;(at=Ae[nt])&&(at.newOption||U(at.existing)||at.existing&&null!=Je.id&&!ge("id",Je,at.existing));)nt++;at?(at.newOption=Je,at.brandNew=Le):Ae.push({newOption:Je,brandNew:Le,existing:null,keyInfo:null}),nt++}})}(It,Ne,at):nt&&function M(Ae,Ne){(0,_.each)(Ne,function(Le){Ae.push({newOption:Le,brandNew:!0,existing:null,keyInfo:null})})}(It,Ne),function se(Ae){var Ne=(0,_.createHashMap)();(0,_.each)(Ae,function(Le){var Je=Le.existing;Je&&Ne.set(Je.id,Le)}),(0,_.each)(Ae,function(Le){var Je=Le.newOption;(0,_.assert)(!Je||null==Je.id||!Ne.get(Je.id)||Ne.get(Je.id)===Le,"id duplicates: "+(Je&&Je.id)),Je&&null!=Je.id&&Ne.set(Je.id,Le),!Le.keyInfo&&(Le.keyInfo={})}),(0,_.each)(Ae,function(Le,Je){var at=Le.existing,nt=Le.newOption,dt=Le.keyInfo;if((0,_.isObject)(nt)){if(dt.name=null!=nt.name?K(nt.name):at?at.name:pe+Je,at)dt.id=K(at.id);else if(null!=nt.id)dt.id=K(nt.id);else{var It=0;do{dt.id="\0"+dt.name+"\0"+It++}while(Ne.get(dt.id))}Ne.set(dt.id,Le)}})}(It),It}function ge(Ae,Ne,Le){var Je=ve(Ne[Ae],null),at=ve(Le[Ae],null);return null!=Je&&null!=at&&Je===at}function K(Ae){return ve(Ae,"")}function ve(Ae,Ne){return null==Ae?Ne:(0,_.isString)(Ae)?Ae:(0,_.isNumber)(Ae)||(0,_.isStringSafe)(Ae)?Ae+"":Ne}function ce(Ae){var Ne=Ae.name;return!(!Ne||!Ne.indexOf(pe))}function U(Ae){return Ae&&null!=Ae.id&&0===K(Ae.id).indexOf(me)}function L(Ae){return me+Ae}function E(Ae,Ne,Le){(0,_.each)(Ae,function(Je){var at=Je.newOption;(0,_.isObject)(at)&&(Je.keyInfo.mainType=Ne,Je.keyInfo.subType=function B(Ae,Ne,Le,Je){return Ne.type?Ne.type:Le?Le.subType:Je.determineSubType(Ae,Ne)}(Ne,at,Je.existing,Le))})}function H(Ae,Ne){var Le={},Je={};return at(Ae||[],Le),at(Ne||[],Je,Le),[nt(Le),nt(Je)];function at(dt,It,an){for(var Yt=0,mn=dt.length;Yt<mn;Yt++){var Cn=ve(dt[Yt].seriesId,null);if(null==Cn)return;for(var Gn=Me(dt[Yt].dataIndex),Wn=an&&an[Cn],Fn=0,Rr=Gn.length;Fn<Rr;Fn++){var hn=Gn[Fn];Wn&&Wn[hn]?Wn[hn]=null:(It[Cn]||(It[Cn]={}))[hn]=1}}}function nt(dt,It){var an=[];for(var Yt in dt)if(dt.hasOwnProperty(Yt)&&null!=dt[Yt])if(It)an.push(+Yt);else{var mn=nt(dt[Yt],!0);mn.length&&an.push({seriesId:Yt,dataIndex:mn})}return an}}function A(Ae,Ne){return null!=Ne.dataIndexInside?Ne.dataIndexInside:null!=Ne.dataIndex?(0,_.isArray)(Ne.dataIndex)?(0,_.map)(Ne.dataIndex,function(Le){return Ae.indexOfRawIndex(Le)}):Ae.indexOfRawIndex(Ne.dataIndex):null!=Ne.name?(0,_.isArray)(Ne.name)?(0,_.map)(Ne.name,function(Le){return Ae.indexOfName(Le)}):Ae.indexOfName(Ne.name):void 0}function O(){var Ae="__ec_inner_"+I++;return function(Ne){return Ne[Ae]||(Ne[Ae]={})}}var I=(0,Y.jj)();function N(Ae,Ne,Le){var Je=ee(Ne,Le),nt=Je.queryOptionMap,It=Je.others,an=Le?Le.defaultMainType:null;return!Je.mainTypeSpecified&&an&&nt.set(an,{}),nt.each(function(Yt,mn){var Cn=fe(Ae,mn,Yt,{useDefault:an===mn,enableAll:!Le||null==Le.enableAll||Le.enableAll,enableNone:!Le||null==Le.enableNone||Le.enableNone});It[mn+"Models"]=Cn.models,It[mn+"Model"]=Cn.models[0]}),It}function ee(Ae,Ne){var Le;if((0,_.isString)(Ae)){var Je={};Je[Ae+"Index"]=0,Le=Je}else Le=Ae;var at=(0,_.createHashMap)(),nt={},dt=!1;return(0,_.each)(Le,function(It,an){if("dataIndex"!==an&&"dataIndexInside"!==an){var Yt=an.match(/^(\w+)(Index|Id|Name)$/)||[],mn=Yt[1],Cn=(Yt[2]||"").toLowerCase();!mn||!Cn||Ne&&Ne.includeMainTypes&&(0,_.indexOf)(Ne.includeMainTypes,mn)<0||(dt=dt||!!mn,(at.get(mn)||at.set(mn,{}))[Cn]=It)}else nt[an]=It}),{mainTypeSpecified:dt,queryOptionMap:at,others:nt}}var j={useDefault:!0,enableAll:!1,enableNone:!1},ae={useDefault:!1,enableAll:!0,enableNone:!0};function fe(Ae,Ne,Le,Je){Je=Je||j;var at=Le.index,nt=Le.id,dt=Le.name,It={models:null,specified:null!=at||null!=nt||null!=dt};if(!It.specified){var an=void 0;return It.models=Je.useDefault&&(an=Ae.getComponent(Ne))?[an]:[],It}return"none"===at||!1===at?((0,_.assert)(Je.enableNone,'`"none"` or `false` is not a valid value on index option.'),It.models=[],It):("all"===at&&((0,_.assert)(Je.enableAll,'`"all"` is not a valid value on index option.'),at=nt=dt=null),It.models=Ae.queryComponents({mainType:Ne,index:at,id:nt,name:dt}),It)}function he(Ae,Ne,Le){Ae.setAttribute?Ae.setAttribute(Ne,Le):Ae[Ne]=Le}function Ce(Ae,Ne){return Ae.getAttribute?Ae.getAttribute(Ne):Ae[Ne]}function Se(Ae){return"auto"===Ae?T.Z.domSupported?"html":"richText":Ae||"html"}function ye(Ae,Ne){var Le=(0,_.createHashMap)(),Je=[];return(0,_.each)(Ae,function(at){var nt=Ne(at);(Le.get(nt)||(Je.push(nt),Le.set(nt,[]))).push(at)}),{keys:Je,buckets:Le}}function we(Ae,Ne,Le,Je,at){var nt=null==Ne||"auto"===Ne;if(null==Je)return Je;if((0,_.isNumber)(Je)){var dt=ie(Le||0,Je,at);return(0,Y.NM)(dt,nt?Math.max((0,Y.p8)(Le||0),(0,Y.p8)(Je)):Ne)}if((0,_.isString)(Je))return at<1?Le:Je;for(var It=[],an=Le,Yt=Je,mn=Math.max(an?an.length:0,Yt.length),Cn=0;Cn<mn;++Cn){var Gn=Ae.getDimensionInfo(Cn);if(Gn&&"ordinal"===Gn.type)It[Cn]=(at<1&&an?an:Yt)[Cn];else{var Wn=an&&an[Cn]?an[Cn]:0,Fn=Yt[Cn];dt=ie(Wn,Fn,at),It[Cn]=(0,Y.NM)(dt,nt?Math.max((0,Y.p8)(Wn),(0,Y.p8)(Fn)):Ne)}}return It}},2862:($t,We,C)=>{"use strict";C.d(We,{FK:()=>U,GM:()=>me,HD:()=>re,M9:()=>Q,NM:()=>Me,NU:()=>pe,S$:()=>te,VR:()=>X,Xd:()=>K,YM:()=>q,ZB:()=>Z,dt:()=>de,eJ:()=>W,jj:()=>E,kE:()=>L,kx:()=>$,mW:()=>M,nR:()=>ce,nl:()=>H,p8:()=>G,sG:()=>ge,wW:()=>oe,xW:()=>ve});var _=C(4404),T=1e-4,Y=20;function pe(A,O,I,N){var ee=O[0],j=O[1],ae=I[0],fe=I[1],he=j-ee,Ce=fe-ae;if(0===he)return 0===Ce?ae:(ae+fe)/2;if(N)if(he>0){if(A<=ee)return ae;if(A>=j)return fe}else{if(A>=ee)return ae;if(A<=j)return fe}else{if(A===ee)return ae;if(A===j)return fe}return(A-ee)/he*Ce+ae}function me(A,O){switch(A){case"center":case"middle":A="50%";break;case"left":case"top":A="0%";break;case"right":case"bottom":A="100%"}return _.isString(A)?function ie(A){return A.replace(/^\s+|\s+$/g,"")}(A).match(/%$/)?parseFloat(A)/100*O:parseFloat(A):null==A?NaN:+A}function Me(A,O,I){return null==O&&(O=10),O=Math.min(Math.max(0,O),Y),A=(+A).toFixed(O),I?A:+A}function de(A){return A.sort(function(O,I){return O-I}),A}function G(A){if(A=+A,isNaN(A))return 0;if(A>1e-14)for(var O=1,I=0;I<15;I++,O*=10)if(Math.round(A*O)/O===A)return I;return Z(A)}function Z(A){var O=A.toString().toLowerCase(),I=O.indexOf("e"),N=I>0?+O.slice(I+1):0,ee=I>0?I:O.length,j=O.indexOf(".");return Math.max(0,(j<0?0:ee-1-j)-N)}function Q(A,O){var I=Math.log,N=Math.LN10,ee=Math.floor(I(A[1]-A[0])/N),j=Math.round(I(Math.abs(O[1]-O[0]))/N),ae=Math.min(Math.max(-ee+j,0),20);return isFinite(ae)?ae:20}function W(A,O,I){return A[O]&&re(A,I)[O]||0}function re(A,O){var I=_.reduce(A,function(Ae,Ne){return Ae+(isNaN(Ne)?0:Ne)},0);if(0===I)return[];for(var N=Math.pow(10,O),ee=_.map(A,function(Ae){return(isNaN(Ae)?0:Ae)/I*N*100}),j=100*N,ae=_.map(ee,function(Ae){return Math.floor(Ae)}),fe=_.reduce(ae,function(Ae,Ne){return Ae+Ne},0),he=_.map(ee,function(Ae,Ne){return Ae-ae[Ne]});fe<j;){for(var Ce=Number.NEGATIVE_INFINITY,Se=null,ye=0,we=he.length;ye<we;++ye)he[ye]>Ce&&(Ce=he[ye],Se=ye);++ae[Se],he[Se]=0,++fe}return _.map(ae,function(Ae){return Ae/N})}function te(A,O){var I=Math.max(G(A),G(O)),N=A+O;return I>Y?N:Me(N,I)}var q=9007199254740991;function oe(A){var O=2*Math.PI;return(A%O+O)%O}function M(A){return A>-T&&A<T}var se=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ge(A){if(A instanceof Date)return A;if(_.isString(A)){var O=se.exec(A);if(!O)return new Date(NaN);if(O[8]){var I=+O[4]||0;return"Z"!==O[8].toUpperCase()&&(I-=+O[8].slice(0,3)),new Date(Date.UTC(+O[1],+(O[2]||1)-1,+O[3]||1,I,+(O[5]||0),+O[6]||0,O[7]?+O[7].substring(0,3):0))}return new Date(+O[1],+(O[2]||1)-1,+O[3]||1,+O[4]||0,+(O[5]||0),+O[6]||0,O[7]?+O[7].substring(0,3):0)}return null==A?new Date(NaN):new Date(Math.round(A))}function K(A){return Math.pow(10,ve(A))}function ve(A){if(0===A)return 0;var O=Math.floor(Math.log(A)/Math.LN10);return A/Math.pow(10,O)>=10&&O++,O}function $(A,O){var I=ve(A),N=Math.pow(10,I),ee=A/N;return A=(O?ee<1.5?1:ee<2.5?2:ee<4?3:ee<7?5:10:ee<1?1:ee<2?2:ee<3?3:ee<5?5:10)*N,I>=-20?+A.toFixed(I<0?-I:0):A}function X(A,O){var I=(A.length-1)*O+1,N=Math.floor(I),ee=+A[N-1],j=I-N;return j?ee+j*(A[N]-ee):ee}function ce(A){A.sort(function(he,Ce){return fe(he,Ce,0)?-1:1});for(var O=-1/0,I=1,N=0;N<A.length;){for(var ee=A[N].interval,j=A[N].close,ae=0;ae<2;ae++)ee[ae]<=O&&(ee[ae]=O,j[ae]=ae?1:1-I),O=ee[ae],I=j[ae];ee[0]===ee[1]&&j[0]*j[1]!=1?A.splice(N,1):N++}return A;function fe(he,Ce,Se){return he.interval[Se]<Ce.interval[Se]||he.interval[Se]===Ce.interval[Se]&&(he.close[Se]-Ce.close[Se]==(Se?-1:1)||!Se&&fe(he,Ce,1))}}function U(A){var O=parseFloat(A);return O==A&&(0!==O||!_.isString(A)||A.indexOf("x")<=0)?O:NaN}function L(A){return!isNaN(U(A))}function E(){return Math.round(9*Math.random())}function B(A,O){return 0===O?A:B(O,A%O)}function H(A,O){return null==A?O:null==O?A:A*O/B(A,O)}},6499:($t,We,C)=>{"use strict";C.d(We,{$l:()=>Fn,Av:()=>Ft,C5:()=>Et,CX:()=>W,Gl:()=>j,Hg:()=>K,Ib:()=>Dn,JQ:()=>ve,Ki:()=>se,L1:()=>te,MA:()=>we,Mh:()=>Je,Nj:()=>ct,RW:()=>Gt,SJ:()=>It,SX:()=>at,T5:()=>Yt,UL:()=>Gn,VP:()=>nt,WO:()=>lr,XX:()=>dt,aG:()=>_t,ci:()=>ot,e9:()=>Ye,fD:()=>Le,iK:()=>$,k5:()=>Wt,oJ:()=>Wn,og:()=>hn,qc:()=>q,th:()=>Un,vF:()=>Tt,wU:()=>re,xp:()=>Xe,xr:()=>Rr,yx:()=>ge,zI:()=>Cn,zr:()=>oe});var _=C(4862),T=C(4404),Y=C(9133),ie=C(2),pe=C(6496),me=C(649),Me=1,de={},G=(0,pe.Yf)(),Z=(0,pe.Yf)(),Q=0,W=1,re=2,te=["emphasis","blur","select"],q=["normal","emphasis","blur","select"],oe=10,M=9,se="highlight",ge="downplay",K="select",ve="unselect",$="toggleSelect";function X(ke){return null!=ke&&"none"!==ke}var ce=new _.ZP(100);function U(ke){if((0,T.isString)(ke)){var Ct=ce.get(ke);return Ct||(Ct=ie.lift(ke,-.1),ce.put(ke,Ct)),Ct}if((0,T.isGradientObject)(ke)){var Mt=(0,T.extend)({},ke);return Mt.colorStops=(0,T.map)(ke.colorStops,function(Jt){return{offset:Jt.offset,color:ie.lift(Jt.color,-.1)}}),Mt}return ke}function L(ke,Ct,Mt){ke.onHoverStateChange&&(ke.hoverState||0)!==Mt&&ke.onHoverStateChange(Ct),ke.hoverState=Mt}function E(ke){L(ke,"emphasis",re)}function B(ke){ke.hoverState===re&&L(ke,"normal",Q)}function H(ke){L(ke,"blur",W)}function A(ke){ke.hoverState===W&&L(ke,"normal",Q)}function O(ke){ke.selected=!0}function I(ke){ke.selected=!1}function N(ke,Ct,Mt){Ct(ke,Mt)}function ee(ke,Ct,Mt){N(ke,Ct,Mt),ke.isGroup&&ke.traverse(function(Jt){N(Jt,Ct,Mt)})}function j(ke,Ct){switch(Ct){case"emphasis":ke.hoverState=re;break;case"normal":ke.hoverState=Q;break;case"blur":ke.hoverState=W;break;case"select":ke.selected=!0}}function ye(ke,Ct){var Mt=this.states[ke];if(this.style){if("emphasis"===ke)return function he(ke,Ct,Mt,Jt){var bn=Mt&&(0,T.indexOf)(Mt,"select")>=0,ar=!1;if(ke instanceof me.ZP){var Ar=G(ke),Gr=bn&&Ar.selectFill||Ar.normalFill,Mn=bn&&Ar.selectStroke||Ar.normalStroke;if(X(Gr)||X(Mn)){var on=(Jt=Jt||{}).style||{};"inherit"===on.fill?(ar=!0,Jt=(0,T.extend)({},Jt),(on=(0,T.extend)({},on)).fill=Gr):!X(on.fill)&&X(Gr)?(ar=!0,Jt=(0,T.extend)({},Jt),(on=(0,T.extend)({},on)).fill=U(Gr)):!X(on.stroke)&&X(Mn)&&(ar||(Jt=(0,T.extend)({},Jt),on=(0,T.extend)({},on)),on.stroke=U(Mn)),Jt.style=on}}return Jt&&null==Jt.z2&&(ar||(Jt=(0,T.extend)({},Jt)),Jt.z2=ke.z2+(ke.z2EmphasisLift??oe)),Jt}(this,0,Ct,Mt);if("blur"===ke)return function Se(ke,Ct,Mt){var Jt=(0,T.indexOf)(ke.currentStates,Ct)>=0,bn=ke.style.opacity,ar=Jt?null:function fe(ke,Ct,Mt,Jt){for(var bn=ke.style,ar={},Ar=0;Ar<Ct.length;Ar++){var Gr=Ct[Ar];ar[Gr]=bn[Gr]??(Jt&&Jt[Gr])}for(Ar=0;Ar<ke.animators.length;Ar++){var on=ke.animators[Ar];on.__fromStateTransition&&on.__fromStateTransition.indexOf(Mt)<0&&"style"===on.targetName&&on.saveTo(ar,Ct)}return ar}(ke,["opacity"],Ct,{opacity:1}),Ar=(Mt=Mt||{}).style||{};return null==Ar.opacity&&(Mt=(0,T.extend)({},Mt),Ar=(0,T.extend)({opacity:Jt?bn:.1*ar.opacity},Ar),Mt.style=Ar),Mt}(this,ke,Mt);if("select"===ke)return function Ce(ke,Ct,Mt){return Mt&&null==Mt.z2&&((Mt=(0,T.extend)({},Mt)).z2=ke.z2+(ke.z2SelectLift??M)),Mt}(this,0,Mt)}return Mt}function we(ke){ke.stateProxy=ye;var Ct=ke.getTextContent(),Mt=ke.getTextGuideLine();Ct&&(Ct.stateProxy=ye),Mt&&(Mt.stateProxy=ye)}function Ae(ke,Ct){!an(ke,Ct)&&!ke.__highByOuter&&ee(ke,E)}function Ne(ke,Ct){!an(ke,Ct)&&!ke.__highByOuter&&ee(ke,B)}function Le(ke,Ct){ke.__highByOuter|=1<<(Ct||0),ee(ke,E)}function Je(ke,Ct){!(ke.__highByOuter&=~(1<<(Ct||0)))&&ee(ke,B)}function at(ke){ee(ke,H)}function nt(ke){ee(ke,A)}function dt(ke){ee(ke,O)}function It(ke){ee(ke,I)}function an(ke,Ct){return ke.__highDownSilentOnTouch&&Ct.zrByTouch}function Yt(ke){var Ct=ke.getModel(),Mt=[],Jt=[];Ct.eachComponent(function(bn,ar){var Ar=Z(ar),Gr="series"===bn,Mn=Gr?ke.getViewOfSeriesModel(ar):ke.getViewOfComponentModel(ar);!Gr&&Jt.push(Mn),Ar.isBlured&&(Mn.group.traverse(function(on){A(on)}),Gr&&Mt.push(ar)),Ar.isBlured=!1}),(0,T.each)(Jt,function(bn){bn&&bn.toggleBlurSeries&&bn.toggleBlurSeries(Mt,!1,Ct)})}function mn(ke,Ct,Mt,Jt){var bn=Jt.getModel();function ar(on,Ht){for(var tn=0;tn<Ht.length;tn++){var Xn=on.getItemGraphicEl(Ht[tn]);Xn&&nt(Xn)}}if(Mt=Mt||"coordinateSystem",null!=ke&&Ct&&"none"!==Ct){var Ar=bn.getSeriesByIndex(ke),Gr=Ar.coordinateSystem;Gr&&Gr.master&&(Gr=Gr.master);var Mn=[];bn.eachSeries(function(on){var Ht=Ar===on,tn=on.coordinateSystem;if(tn&&tn.master&&(tn=tn.master),!("series"===Mt&&!Ht||"coordinateSystem"===Mt&&!(tn&&Gr?tn===Gr:Ht)||"series"===Ct&&Ht)){if(Jt.getViewOfSeriesModel(on).group.traverse(function(Hi){H(Hi)}),(0,T.isArrayLike)(Ct))ar(on.getData(),Ct);else if((0,T.isObject)(Ct))for(var Br=(0,T.keys)(Ct),vi=0;vi<Br.length;vi++)ar(on.getData(Br[vi]),Ct[Br[vi]]);Mn.push(on),Z(on).isBlured=!0}}),bn.eachComponent(function(on,Ht){if("series"!==on){var tn=Jt.getViewOfComponentModel(Ht);tn&&tn.toggleBlurSeries&&tn.toggleBlurSeries(Mn,!0,bn)}})}}function Cn(ke,Ct,Mt){if(null!=ke&&null!=Ct){var Jt=Mt.getModel().getComponent(ke,Ct);if(Jt){Z(Jt).isBlured=!0;var bn=Mt.getViewOfComponentModel(Jt);!bn||!bn.focusBlurEnabled||bn.group.traverse(function(ar){H(ar)})}}}function Gn(ke,Ct,Mt){var Jt=ke.seriesIndex,bn=ke.getData(Ct.dataType);if(bn){var ar=(0,pe.gO)(bn,Ct);ar=((0,T.isArray)(ar)?ar[0]:ar)||0;var Ar=bn.getItemGraphicEl(ar);if(!Ar)for(var Gr=bn.count(),Mn=0;!Ar&&Mn<Gr;)Ar=bn.getItemGraphicEl(Mn++);if(Ar){var on=(0,Y.A)(Ar);mn(Jt,on.focus,on.blurScope,Mt)}else{var Ht=ke.get(["emphasis","focus"]),tn=ke.get(["emphasis","blurScope"]);null!=Ht&&mn(Jt,Ht,tn,Mt)}}}function Wn(ke,Ct,Mt,Jt){var bn={focusSelf:!1,dispatchers:null};if(null==ke||"series"===ke||null==Ct||null==Mt)return bn;var ar=Jt.getModel().getComponent(ke,Ct);if(!ar)return bn;var Ar=Jt.getViewOfComponentModel(ar);if(!Ar||!Ar.findHighDownDispatchers)return bn;for(var Mn,Gr=Ar.findHighDownDispatchers(Mt),on=0;on<Gr.length;on++)if("self"===(0,Y.A)(Gr[on]).focus){Mn=!0;break}return{focusSelf:Mn,dispatchers:Gr}}function Fn(ke,Ct,Mt){var Jt=(0,Y.A)(ke),bn=Wn(Jt.componentMainType,Jt.componentIndex,Jt.componentHighDownName,Mt),ar=bn.dispatchers;ar?(bn.focusSelf&&Cn(Jt.componentMainType,Jt.componentIndex,Mt),(0,T.each)(ar,function(Gr){return Ae(Gr,Ct)})):(mn(Jt.seriesIndex,Jt.focus,Jt.blurScope,Mt),"self"===Jt.focus&&Cn(Jt.componentMainType,Jt.componentIndex,Mt),Ae(ke,Ct))}function Rr(ke,Ct,Mt){Yt(Mt);var Jt=(0,Y.A)(ke),bn=Wn(Jt.componentMainType,Jt.componentIndex,Jt.componentHighDownName,Mt).dispatchers;bn?(0,T.each)(bn,function(ar){return Ne(ar,Ct)}):Ne(ke,Ct)}function hn(ke,Ct,Mt){if(_t(Ct)){var Jt=Ct.dataType,bn=ke.getData(Jt),ar=(0,pe.gO)(bn,Ct);(0,T.isArray)(ar)||(ar=[ar]),ke[Ct.type===$?"toggleSelect":Ct.type===K?"select":"unselect"](ar,Jt)}}function ot(ke){var Ct=ke.getAllData();(0,T.each)(Ct,function(Mt){var bn=Mt.type;Mt.data.eachItemGraphicEl(function(ar,Ar){ke.isSelected(Ar,bn)?dt(ar):It(ar)})})}function Et(ke){var Ct=[];return ke.eachSeries(function(Mt){var Jt=Mt.getAllData();(0,T.each)(Jt,function(bn){var Ar=bn.type,Gr=Mt.getSelectedDataIndices();if(Gr.length>0){var Mn={dataIndex:Gr,seriesIndex:Mt.seriesIndex};null!=Ar&&(Mn.dataType=Ar),Ct.push(Mn)}})}),Ct}function Tt(ke,Ct,Mt){ct(ke,!0),ee(ke,we),Dn(ke,Ct,Mt)}function Wt(ke,Ct,Mt,Jt){Jt?function Xt(ke){ct(ke,!1)}(ke):Tt(ke,Ct,Mt)}function Dn(ke,Ct,Mt){var Jt=(0,Y.A)(ke);null!=Ct?(Jt.focus=Ct,Jt.blurScope=Mt):Jt.focus&&(Jt.focus=null)}var Ln=["emphasis","blur","select"],xr={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function lr(ke,Ct,Mt,Jt){Mt=Mt||"itemStyle";for(var bn=0;bn<Ln.length;bn++){var ar=Ln[bn],Ar=Ct.getModel([ar,Mt]);ke.ensureState(ar).style=Jt?Jt(Ar):Ar[xr[Mt]]()}}function ct(ke,Ct){var Mt=!1===Ct,Jt=ke;ke.highDownSilentOnTouch&&(Jt.__highDownSilentOnTouch=ke.highDownSilentOnTouch),(!Mt||Jt.__highDownDispatcher)&&(Jt.__highByOuter=Jt.__highByOuter||0,Jt.__highDownDispatcher=!Mt)}function Ft(ke){return!(!ke||!ke.__highDownDispatcher)}function Un(ke,Ct,Mt){var Jt=(0,Y.A)(ke);Jt.componentMainType=Ct.mainType,Jt.componentIndex=Ct.componentIndex,Jt.componentHighDownName=Mt}function Gt(ke){var Ct=de[ke];return null==Ct&&Me<=32&&(Ct=de[ke]=Me++),Ct}function _t(ke){var Ct=ke.type;return Ct===K||Ct===ve||Ct===$}function Xe(ke){var Ct=ke.type;return Ct===se||Ct===ge}function Ye(ke){var Ct=G(ke);Ct.normalFill=ke.style.fill,Ct.normalStroke=ke.style.stroke;var Mt=ke.states.select||{};Ct.selectFill=Mt.style&&Mt.style.fill||null,Ct.selectStroke=Mt.style&&Mt.style.stroke||null}},4869:($t,We,C)=>{"use strict";C.d(We,{Cq:()=>ve,Pw:()=>oe,th:()=>ge,zp:()=>K});var _=C(4404),T=C(649),Y=C(2139),ie=C(2501),pe=C(1283),me=C(2285),Me=C(3066),de=C(4981),G=C(2862),Z=T.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,X){var ce=X.cx,U=X.cy,L=X.width/2,E=X.height/2;$.moveTo(ce,U-E),$.lineTo(ce+L,U+E),$.lineTo(ce-L,U+E),$.closePath()}}),Q=T.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function($,X){var ce=X.cx,U=X.cy,L=X.width/2,E=X.height/2;$.moveTo(ce,U-E),$.lineTo(ce+L,U),$.lineTo(ce,U+E),$.lineTo(ce-L,U),$.closePath()}}),W=T.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function($,X){var ce=X.x,U=X.y,L=X.width/5*3,E=Math.max(L,X.height),B=L/2,H=B*B/(E-B),A=U-E+B+H,O=Math.asin(H/B),I=Math.cos(O)*B,N=Math.sin(O),ee=Math.cos(O),j=.6*B,ae=.7*B;$.moveTo(ce-I,A+H),$.arc(ce,A,B,Math.PI-O,2*Math.PI+O),$.bezierCurveTo(ce+I-N*j,A+H+ee*j,ce,U-ae,ce,U),$.bezierCurveTo(ce,U-ae,ce-I+N*j,A+H+ee*j,ce-I,A+H),$.closePath()}}),re=T.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function($,X){var ce=X.height,L=X.x,E=X.y,B=X.width/3*2;$.moveTo(L,E),$.lineTo(L+B,E+ce),$.lineTo(L,E+ce/4*3),$.lineTo(L-B,E+ce),$.lineTo(L,E),$.closePath()}}),q={line:function($,X,ce,U,L){L.x1=$,L.y1=X+U/2,L.x2=$+ce,L.y2=X+U/2},rect:function($,X,ce,U,L){L.x=$,L.y=X,L.width=ce,L.height=U},roundRect:function($,X,ce,U,L){L.x=$,L.y=X,L.width=ce,L.height=U,L.r=Math.min(ce,U)/4},square:function($,X,ce,U,L){var E=Math.min(ce,U);L.x=$,L.y=X,L.width=E,L.height=E},circle:function($,X,ce,U,L){L.cx=$+ce/2,L.cy=X+U/2,L.r=Math.min(ce,U)/2},diamond:function($,X,ce,U,L){L.cx=$+ce/2,L.cy=X+U/2,L.width=ce,L.height=U},pin:function($,X,ce,U,L){L.x=$+ce/2,L.y=X+U/2,L.width=ce,L.height=U},arrow:function($,X,ce,U,L){L.x=$+ce/2,L.y=X+U/2,L.width=ce,L.height=U},triangle:function($,X,ce,U,L){L.cx=$+ce/2,L.cy=X+U/2,L.width=ce,L.height=U}},oe={};(0,_.each)({line:Y.Z,rect:ie.Z,roundRect:ie.Z,square:ie.Z,circle:pe.Z,diamond:Q,pin:W,arrow:re,triangle:Z},function($,X){oe[X]=new $});var M=T.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function($,X,ce){var U=(0,de.wI)($,X,ce),L=this.shape;return L&&"pin"===L.symbolType&&"inside"===X.position&&(U.y=ce.y+.4*ce.height),U},buildPath:function($,X,ce){var U=X.symbolType;if("none"!==U){var L=oe[U];L||(L=oe[U="rect"]),q[U](X.x,X.y,X.width,X.height,L.shape),L.buildPath($,L.shape,ce)}}});function se($,X){if("image"!==this.type){var ce=this.style;this.__isEmptyBrush?(ce.stroke=$,ce.fill=X||"#fff",ce.lineWidth=2):"line"===this.shape.symbolType?ce.stroke=$:ce.fill=$,this.markRedraw()}}function ge($,X,ce,U,L,E,B){var A,H=0===$.indexOf("empty");return H&&($=$.substr(5,1).toLowerCase()+$.substr(6)),(A=0===$.indexOf("image://")?me.makeImage($.slice(8),new Me.Z(X,ce,U,L),B?"center":"cover"):0===$.indexOf("path://")?me.makePath($.slice(7),{},new Me.Z(X,ce,U,L),B?"center":"cover"):new M({shape:{symbolType:$,x:X,y:ce,width:U,height:L}})).__isEmptyBrush=H,A.setColor=se,E&&A.setColor(E),A}function K($){return(0,_.isArray)($)||($=[+$,+$]),[$[0]||0,$[1]||0]}function ve($,X){if(null!=$)return(0,_.isArray)($)||($=[$,$]),[(0,G.GM)($[0],X[0])||0,(0,G.GM)((0,_.retrieve2)($[1],$[0]),X[1])||0]}},9724:($t,We,C)=>{"use strict";C.d(We,{P2:()=>ie,T9:()=>pe,ZH:()=>me});var _="\0__throttleOriginMethod",T="\0__throttleRate",Y="\0__throttleType";function ie(Me,de,G){var Z,te,q,oe,M,Q=0,W=0,re=null;function se(){W=(new Date).getTime(),re=null,Me.apply(q,oe||[])}de=de||0;var ge=function(){for(var K=[],ve=0;ve<arguments.length;ve++)K[ve]=arguments[ve];Z=(new Date).getTime(),q=this,oe=K;var $=M||de,X=M||G;M=null,te=Z-(X?Q:W)-$,clearTimeout(re),X?re=setTimeout(se,$):te>=0?se():re=setTimeout(se,-te),Q=Z};return ge.clear=function(){re&&(clearTimeout(re),re=null)},ge.debounceNextCall=function(K){M=K},ge}function pe(Me,de,G,Z){var Q=Me[de];if(Q){var W=Q[_]||Q;if(Q[T]!==G||Q[Y]!==Z){if(null==G||!Z)return Me[de]=W;(Q=Me[de]=ie(W,G,"debounce"===Z))[_]=W,Q[Y]=Z,Q[T]=G}return Q}}function me(Me,de){var G=Me[de];G&&G[_]&&(G.clear&&G.clear(),Me[de]=G[_])}},7445:($t,We,C)=>{"use strict";C.d(We,{$K:()=>M,CW:()=>ce,En:()=>N,FW:()=>te,MV:()=>B,P5:()=>G,RZ:()=>H,Tj:()=>oe,V8:()=>W,WT:()=>pe,WU:()=>ge,Wp:()=>L,cb:()=>ae,dV:()=>Me,eN:()=>ee,f5:()=>I,fn:()=>E,k7:()=>K,q5:()=>$,rM:()=>j,s2:()=>de,sx:()=>X,vh:()=>O,vk:()=>q,xC:()=>se,xL:()=>A,xz:()=>U,yR:()=>me});var _=C(4404),T=C(2862),Y=C(6953),ie=C(2590),pe=1e3,me=60*pe,Me=60*me,de=24*Me,G=365*de,Z={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Q="{yyyy}-{MM}-{dd}",W={year:"{yyyy}",month:"{yyyy}-{MM}",day:Q,hour:Q+" "+Z.hour,minute:Q+" "+Z.minute,second:Q+" "+Z.second,millisecond:Z.none},re=["year","month","day","hour","minute","second","millisecond"],te=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function q(fe,he){return"0000".substr(0,he-(fe+="").length)+fe}function oe(fe){switch(fe){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return fe}}function M(fe){return fe===oe(fe)}function se(fe){switch(fe){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ge(fe,he,Ce,Se){var ye=T.sG(fe),we=ye[X(Ce)](),Ae=ye[ce(Ce)]()+1,Ne=Math.floor((Ae-1)/3)+1,Le=ye[U(Ce)](),Je=ye["get"+(Ce?"UTC":"")+"Day"](),at=ye[L(Ce)](),nt=(at-1)%12+1,dt=ye[E(Ce)](),It=ye[B(Ce)](),an=ye[H(Ce)](),mn=(Se instanceof ie.Z?Se:(0,Y.G8)(Se||Y.sO)||(0,Y.Li)()).getModel("time"),Cn=mn.get("month"),Gn=mn.get("monthAbbr"),Wn=mn.get("dayOfWeek"),Fn=mn.get("dayOfWeekAbbr");return(he||"").replace(/{yyyy}/g,we+"").replace(/{yy}/g,we%100+"").replace(/{Q}/g,Ne+"").replace(/{MMMM}/g,Cn[Ae-1]).replace(/{MMM}/g,Gn[Ae-1]).replace(/{MM}/g,q(Ae,2)).replace(/{M}/g,Ae+"").replace(/{dd}/g,q(Le,2)).replace(/{d}/g,Le+"").replace(/{eeee}/g,Wn[Je]).replace(/{ee}/g,Fn[Je]).replace(/{e}/g,Je+"").replace(/{HH}/g,q(at,2)).replace(/{H}/g,at+"").replace(/{hh}/g,q(nt+"",2)).replace(/{h}/g,nt+"").replace(/{mm}/g,q(dt,2)).replace(/{m}/g,dt+"").replace(/{ss}/g,q(It,2)).replace(/{s}/g,It+"").replace(/{SSS}/g,q(an,3)).replace(/{S}/g,an+"")}function K(fe,he,Ce,Se,ye){var we=null;if(_.isString(Ce))we=Ce;else if(_.isFunction(Ce))we=Ce(fe.value,he,{level:fe.level});else{var Ae=_.extend({},Z);if(fe.level>0)for(var Ne=0;Ne<re.length;++Ne)Ae[re[Ne]]="{primary|"+Ae[re[Ne]]+"}";var Le=Ce?!1===Ce.inherit?Ce:_.defaults(Ce,Ae):Ae,Je=ve(fe.value,ye);if(Le[Je])we=Le[Je];else if(Le.inherit){for(Ne=te.indexOf(Je)-1;Ne>=0;--Ne)if(Le[Je]){we=Le[Je];break}we=we||Ae.none}if(_.isArray(we)){var nt=null==fe.level?0:fe.level>=0?fe.level:we.length+fe.level;we=we[nt=Math.min(nt,we.length-1)]}}return ge(new Date(fe.value),we,ye,Se)}function ve(fe,he){var Ce=T.sG(fe),Se=Ce[ce(he)]()+1,ye=Ce[U(he)](),we=Ce[L(he)](),Ae=Ce[E(he)](),Ne=Ce[B(he)](),Je=0===Ce[H(he)](),at=Je&&0===Ne,nt=at&&0===Ae,dt=nt&&0===we,It=dt&&1===ye;return It&&1===Se?"year":It?"month":dt?"day":nt?"hour":at?"minute":Je?"second":"millisecond"}function $(fe,he,Ce){var Se=_.isNumber(fe)?T.sG(fe):fe;switch(he=he||ve(fe,Ce)){case"year":return Se[X(Ce)]();case"half-year":return Se[ce(Ce)]()>=6?1:0;case"quarter":return Math.floor((Se[ce(Ce)]()+1)/4);case"month":return Se[ce(Ce)]();case"day":return Se[U(Ce)]();case"half-day":return Se[L(Ce)]()/24;case"hour":return Se[L(Ce)]();case"minute":return Se[E(Ce)]();case"second":return Se[B(Ce)]();case"millisecond":return Se[H(Ce)]()}}function X(fe){return fe?"getUTCFullYear":"getFullYear"}function ce(fe){return fe?"getUTCMonth":"getMonth"}function U(fe){return fe?"getUTCDate":"getDate"}function L(fe){return fe?"getUTCHours":"getHours"}function E(fe){return fe?"getUTCMinutes":"getMinutes"}function B(fe){return fe?"getUTCSeconds":"getSeconds"}function H(fe){return fe?"getUTCMilliseconds":"getMilliseconds"}function A(fe){return fe?"setUTCFullYear":"setFullYear"}function O(fe){return fe?"setUTCMonth":"setMonth"}function I(fe){return fe?"setUTCDate":"setDate"}function N(fe){return fe?"setUTCHours":"setHours"}function ee(fe){return fe?"setUTCMinutes":"setMinutes"}function j(fe){return fe?"setUTCSeconds":"setSeconds"}function ae(fe){return fe?"setUTCMilliseconds":"setMilliseconds"}},2956:($t,We,C)=>{"use strict";C.d(We,{J5:()=>Me,RA:()=>de,Wc:()=>Z,XD:()=>ie,cy:()=>Y,f7:()=>T,fY:()=>G,hL:()=>me,qb:()=>pe});var T=(0,C(4404).createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Y="original",ie="arrayRows",pe="objectRows",me="keyedColumns",Me="typedArray",de="unknown",G="column",Z="row"},3138:($t,We,C)=>{"use strict";C.d(We,{o:()=>ie});var _=C(4404),T=typeof Float32Array<"u",Y=T?Float32Array:Array;function ie(pe){return(0,_.isArray)(pe)?T?new Float32Array(pe):pe:new Y(pe)}},2752:($t,We,C)=>{"use strict";C.d(We,{Z:()=>se});var _=C(4404),T=C(4271),Y=C(7692),ie=C(394),pe=C(6496),me=C(6499),Me=C(5096),de=C(3649),G=C(2285),Z=pe.Yf(),Q=(0,de.Z)(),W=function(){function ge(){this.group=new T.Z,this.uid=Y.Kr("viewChart"),this.renderTask=(0,Me.v)({plan:q,reset:oe}),this.renderTask.context={view:this}}return ge.prototype.init=function(K,ve){},ge.prototype.render=function(K,ve,$,X){},ge.prototype.highlight=function(K,ve,$,X){var ce=K.getData(X&&X.dataType);ce&&te(ce,X,"emphasis")},ge.prototype.downplay=function(K,ve,$,X){var ce=K.getData(X&&X.dataType);ce&&te(ce,X,"normal")},ge.prototype.remove=function(K,ve){this.group.removeAll()},ge.prototype.dispose=function(K,ve){},ge.prototype.updateView=function(K,ve,$,X){this.render(K,ve,$,X)},ge.prototype.updateLayout=function(K,ve,$,X){this.render(K,ve,$,X)},ge.prototype.updateVisual=function(K,ve,$,X){this.render(K,ve,$,X)},ge.prototype.eachRendered=function(K){(0,G.traverseElements)(this.group,K)},ge.markUpdateMethod=function(K,ve){Z(K).updateMethod=ve},ge.protoInitialize=void(ge.prototype.type="chart"),ge}();function re(ge,K,ve){ge&&(0,me.Av)(ge)&&("emphasis"===K?me.fD:me.Mh)(ge,ve)}function te(ge,K,ve){var $=pe.gO(ge,K),X=K&&null!=K.highlightKey?(0,me.RW)(K.highlightKey):null;null!=$?(0,_.each)(pe.kF($),function(ce){re(ge.getItemGraphicEl(ce),ve,X)}):ge.eachItemGraphicEl(function(ce){re(ce,ve,X)})}function q(ge){return Q(ge.model)}function oe(ge){var K=ge.model,ve=ge.ecModel,$=ge.api,X=ge.payload,ce=K.pipelineContext.progressiveRender,U=ge.view,L=X&&Z(X).updateMethod,E=ce?"incrementalPrepareRender":L&&U[L]?L:"render";return"render"!==E&&U[E](K,ve,$,X),M[E]}ie.dm(W,["dispose"]),ie.au(W);var M={incrementalPrepareRender:{progress:function(ge,K){K.view.incrementalRender(ge,K.model,K.ecModel,K.api,K.payload)}},render:{forceFirstProgress:!0,progress:function(ge,K){K.view.render(K.model,K.ecModel,K.api,K.payload)}}};const se=W},907:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=C(4271),T=C(7692),Y=C(394),ie=function(){function me(){this.group=new _.Z,this.uid=T.Kr("viewComponent")}return me.prototype.init=function(Me,de){},me.prototype.render=function(Me,de,G,Z){},me.prototype.dispose=function(Me,de){},me.prototype.updateView=function(Me,de,G,Z){},me.prototype.updateLayout=function(Me,de,G,Z){},me.prototype.updateVisual=function(Me,de,G,Z){},me.prototype.toggleBlurSeries=function(Me,de,G){},me.prototype.eachRendered=function(Me){var de=this.group;de&&de.traverse(Me)},me}();Y.dm(ie),Y.au(ie);const pe=ie},7248:($t,We,C)=>{"use strict";function _(ie,pe,me){switch(me){case"color":return ie.getItemVisual(pe,"style")[ie.getVisual("drawType")];case"opacity":return ie.getItemVisual(pe,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return ie.getItemVisual(pe,me)}}function T(ie,pe){switch(pe){case"color":return ie.getVisual("style")[ie.getVisual("drawType")];case"opacity":return ie.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return ie.getVisual(pe)}}function Y(ie,pe,me,Me){switch(me){case"color":ie.ensureUniqueItemVisual(pe,"style")[ie.getVisual("drawType")]=Me,ie.setItemVisual(pe,"colorFromPalette",!1);break;case"opacity":ie.ensureUniqueItemVisual(pe,"style").opacity=Me;break;case"symbol":case"symbolSize":case"liftZ":ie.setItemVisual(pe,me,Me)}}C.d(We,{LZ:()=>Y,Or:()=>_,UL:()=>T})},6375:function($t,We,C){var _,T,Y;T=[We,C(6674)],void 0!==(Y="function"==typeof(_=function(ie,pe){var G;if(pe){var Me=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"];pe.registerTheme("macarons",{color:Me,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{borderColor:Me[0]}},tooltip:{borderWidth:0,backgroundColor:"rgba(50,50,50,0.5)",textStyle:{color:"#FFF"},axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}})}else G="ECharts is not Loaded",typeof console<"u"&&console&&console.error&&console.error(G)})?_.apply(We,T):_)&&($t.exports=Y)},9167:($t,We,C)=>{"use strict";C.d(We,{T6:()=>W,VD:()=>re,WE:()=>Me,Yt:()=>te,lC:()=>Y,py:()=>me,rW:()=>T,s:()=>G,ve:()=>pe,vq:()=>de});var _=C(7498);function T(q,oe,M){return{r:255*(0,_.sh)(q,255),g:255*(0,_.sh)(oe,255),b:255*(0,_.sh)(M,255)}}function Y(q,oe,M){q=(0,_.sh)(q,255),oe=(0,_.sh)(oe,255),M=(0,_.sh)(M,255);var se=Math.max(q,oe,M),ge=Math.min(q,oe,M),K=0,ve=0,$=(se+ge)/2;if(se===ge)ve=0,K=0;else{var X=se-ge;switch(ve=$>.5?X/(2-se-ge):X/(se+ge),se){case q:K=(oe-M)/X+(oe<M?6:0);break;case oe:K=(M-q)/X+2;break;case M:K=(q-oe)/X+4}K/=6}return{h:K,s:ve,l:$}}function ie(q,oe,M){return M<0&&(M+=1),M>1&&(M-=1),M<1/6?q+6*M*(oe-q):M<.5?oe:M<2/3?q+(oe-q)*(2/3-M)*6:q}function pe(q,oe,M){var se,ge,K;if(q=(0,_.sh)(q,360),oe=(0,_.sh)(oe,100),M=(0,_.sh)(M,100),0===oe)ge=M,K=M,se=M;else{var ve=M<.5?M*(1+oe):M+oe-M*oe,$=2*M-ve;se=ie($,ve,q+1/3),ge=ie($,ve,q),K=ie($,ve,q-1/3)}return{r:255*se,g:255*ge,b:255*K}}function me(q,oe,M){q=(0,_.sh)(q,255),oe=(0,_.sh)(oe,255),M=(0,_.sh)(M,255);var se=Math.max(q,oe,M),ge=Math.min(q,oe,M),K=0,ve=se,$=se-ge,X=0===se?0:$/se;if(se===ge)K=0;else{switch(se){case q:K=(oe-M)/$+(oe<M?6:0);break;case oe:K=(M-q)/$+2;break;case M:K=(q-oe)/$+4}K/=6}return{h:K,s:X,v:ve}}function Me(q,oe,M){q=6*(0,_.sh)(q,360),oe=(0,_.sh)(oe,100),M=(0,_.sh)(M,100);var se=Math.floor(q),ge=q-se,K=M*(1-oe),ve=M*(1-ge*oe),$=M*(1-(1-ge)*oe),X=se%6;return{r:255*[M,ve,K,K,$,M][X],g:255*[$,M,M,ve,K,K][X],b:255*[K,K,$,M,M,ve][X]}}function de(q,oe,M,se){var ge=[(0,_.FZ)(Math.round(q).toString(16)),(0,_.FZ)(Math.round(oe).toString(16)),(0,_.FZ)(Math.round(M).toString(16))];return se&&ge[0].startsWith(ge[0].charAt(1))&&ge[1].startsWith(ge[1].charAt(1))&&ge[2].startsWith(ge[2].charAt(1))?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function G(q,oe,M,se,ge){var K=[(0,_.FZ)(Math.round(q).toString(16)),(0,_.FZ)(Math.round(oe).toString(16)),(0,_.FZ)(Math.round(M).toString(16)),(0,_.FZ)(Q(se))];return ge&&K[0].startsWith(K[0].charAt(1))&&K[1].startsWith(K[1].charAt(1))&&K[2].startsWith(K[2].charAt(1))&&K[3].startsWith(K[3].charAt(1))?K[0].charAt(0)+K[1].charAt(0)+K[2].charAt(0)+K[3].charAt(0):K.join("")}function Q(q){return Math.round(255*parseFloat(q)).toString(16)}function W(q){return re(q)/255}function re(q){return parseInt(q,16)}function te(q){return{r:q>>16,g:(65280&q)>>8,b:255&q}}},7187:($t,We,C)=>{"use strict";C.d(We,{R:()=>_});var _={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},7240:($t,We,C)=>{"use strict";C.d(We,{uA:()=>ie});var _=C(9167),T=C(7187),Y=C(7498);function ie(re){var te={r:0,g:0,b:0},q=1,oe=null,M=null,se=null,ge=!1,K=!1;return"string"==typeof re&&(re=function Q(re){if(0===(re=re.trim().toLowerCase()).length)return!1;var te=!1;if(T.R[re])re=T.R[re],te=!0;else if("transparent"===re)return{r:0,g:0,b:0,a:0,format:"name"};var q=Z.rgb.exec(re);return q?{r:q[1],g:q[2],b:q[3]}:(q=Z.rgba.exec(re))?{r:q[1],g:q[2],b:q[3],a:q[4]}:(q=Z.hsl.exec(re))?{h:q[1],s:q[2],l:q[3]}:(q=Z.hsla.exec(re))?{h:q[1],s:q[2],l:q[3],a:q[4]}:(q=Z.hsv.exec(re))?{h:q[1],s:q[2],v:q[3]}:(q=Z.hsva.exec(re))?{h:q[1],s:q[2],v:q[3],a:q[4]}:(q=Z.hex8.exec(re))?{r:(0,_.VD)(q[1]),g:(0,_.VD)(q[2]),b:(0,_.VD)(q[3]),a:(0,_.T6)(q[4]),format:te?"name":"hex8"}:(q=Z.hex6.exec(re))?{r:(0,_.VD)(q[1]),g:(0,_.VD)(q[2]),b:(0,_.VD)(q[3]),format:te?"name":"hex"}:(q=Z.hex4.exec(re))?{r:(0,_.VD)(q[1]+q[1]),g:(0,_.VD)(q[2]+q[2]),b:(0,_.VD)(q[3]+q[3]),a:(0,_.T6)(q[4]+q[4]),format:te?"name":"hex8"}:!!(q=Z.hex3.exec(re))&&{r:(0,_.VD)(q[1]+q[1]),g:(0,_.VD)(q[2]+q[2]),b:(0,_.VD)(q[3]+q[3]),format:te?"name":"hex"}}(re)),"object"==typeof re&&(W(re.r)&&W(re.g)&&W(re.b)?(te=(0,_.rW)(re.r,re.g,re.b),ge=!0,K="%"===String(re.r).substr(-1)?"prgb":"rgb"):W(re.h)&&W(re.s)&&W(re.v)?(oe=(0,Y.JX)(re.s),M=(0,Y.JX)(re.v),te=(0,_.WE)(re.h,oe,M),ge=!0,K="hsv"):W(re.h)&&W(re.s)&&W(re.l)&&(oe=(0,Y.JX)(re.s),se=(0,Y.JX)(re.l),te=(0,_.ve)(re.h,oe,se),ge=!0,K="hsl"),Object.prototype.hasOwnProperty.call(re,"a")&&(q=re.a)),q=(0,Y.Yq)(q),{ok:ge,format:re.format||K,r:Math.min(255,Math.max(te.r,0)),g:Math.min(255,Math.max(te.g,0)),b:Math.min(255,Math.max(te.b,0)),a:q}}var Me="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),de="[\\s|\\(]+(".concat(Me,")[,|\\s]+(").concat(Me,")[,|\\s]+(").concat(Me,")\\s*\\)?"),G="[\\s|\\(]+(".concat(Me,")[,|\\s]+(").concat(Me,")[,|\\s]+(").concat(Me,")[,|\\s]+(").concat(Me,")\\s*\\)?"),Z={CSS_UNIT:new RegExp(Me),rgb:new RegExp("rgb"+de),rgba:new RegExp("rgba"+G),hsl:new RegExp("hsl"+de),hsla:new RegExp("hsla"+G),hsv:new RegExp("hsv"+de),hsva:new RegExp("hsva"+G),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function W(re){return!!Z.CSS_UNIT.exec(String(re))}},7498:($t,We,C)=>{"use strict";function _(de,G){(function Y(de){return"string"==typeof de&&-1!==de.indexOf(".")&&1===parseFloat(de)})(de)&&(de="100%");var Z=function ie(de){return"string"==typeof de&&-1!==de.indexOf("%")}(de);return de=360===G?de:Math.min(G,Math.max(0,parseFloat(de))),Z&&(de=parseInt(String(de*G),10)/100),Math.abs(de-G)<1e-6?1:de=360===G?(de<0?de%G+G:de%G)/parseFloat(String(G)):de%G/parseFloat(String(G))}function T(de){return Math.min(1,Math.max(0,de))}function pe(de){return de=parseFloat(de),(isNaN(de)||de<0||de>1)&&(de=1),de}function me(de){return de<=1?"".concat(100*Number(de),"%"):de}function Me(de){return 1===de.length?"0"+de:String(de)}C.d(We,{FZ:()=>Me,JX:()=>me,V2:()=>T,Yq:()=>pe,sh:()=>_})},5619:($t,We,C)=>{"use strict";C.d(We,{X:()=>T});var _=C(8645);class T extends _.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const pe=super._subscribe(ie);return!pe.closed&&ie.next(this._value),pe}getValue(){const{hasError:ie,thrownError:pe,_value:me}=this;if(ie)throw pe;return this._throwIfClosed(),me}next(ie){super.next(this._value=ie)}}},5592:($t,We,C)=>{"use strict";C.d(We,{y:()=>de});var _=C(305),T=C(7394),Y=C(4850),ie=C(8407),pe=C(2653),me=C(4674),Me=C(1441);let de=(()=>{class W{constructor(te){te&&(this._subscribe=te)}lift(te){const q=new W;return q.source=this,q.operator=te,q}subscribe(te,q,oe){const M=function Q(W){return W&&W instanceof _.Lv||function Z(W){return W&&(0,me.m)(W.next)&&(0,me.m)(W.error)&&(0,me.m)(W.complete)}(W)&&(0,T.Nn)(W)}(te)?te:new _.Hp(te,q,oe);return(0,Me.x)(()=>{const{operator:se,source:ge}=this;M.add(se?se.call(M,ge):ge?this._subscribe(M):this._trySubscribe(M))}),M}_trySubscribe(te){try{return this._subscribe(te)}catch(q){te.error(q)}}forEach(te,q){return new(q=G(q))((oe,M)=>{const se=new _.Hp({next:ge=>{try{te(ge)}catch(K){M(K),se.unsubscribe()}},error:M,complete:oe});this.subscribe(se)})}_subscribe(te){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(te)}[Y.L](){return this}pipe(...te){return(0,ie.U)(te)(this)}toPromise(te){return new(te=G(te))((q,oe)=>{let M;this.subscribe(se=>M=se,se=>oe(se),()=>q(M))})}}return W.create=re=>new W(re),W})();function G(W){var re;return null!==(re=W??pe.config.Promise)&&void 0!==re?re:Promise}},7328:($t,We,C)=>{"use strict";C.d(We,{t:()=>Y});var _=C(8645),T=C(4552);class Y extends _.x{constructor(pe=1/0,me=1/0,Me=T.l){super(),this._bufferSize=pe,this._windowTime=me,this._timestampProvider=Me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=me===1/0,this._bufferSize=Math.max(1,pe),this._windowTime=Math.max(1,me)}next(pe){const{isStopped:me,_buffer:Me,_infiniteTimeWindow:de,_timestampProvider:G,_windowTime:Z}=this;me||(Me.push(pe),!de&&Me.push(G.now()+Z)),this._trimBuffer(),super.next(pe)}_subscribe(pe){this._throwIfClosed(),this._trimBuffer();const me=this._innerSubscribe(pe),{_infiniteTimeWindow:Me,_buffer:de}=this,G=de.slice();for(let Z=0;Z<G.length&&!pe.closed;Z+=Me?1:2)pe.next(G[Z]);return this._checkFinalizedStatuses(pe),me}_trimBuffer(){const{_bufferSize:pe,_timestampProvider:me,_buffer:Me,_infiniteTimeWindow:de}=this,G=(de?1:2)*pe;if(pe<1/0&&G<Me.length&&Me.splice(0,Me.length-G),!de){const Z=me.now();let Q=0;for(let W=1;W<Me.length&&Me[W]<=Z;W+=2)Q=W;Q&&Me.splice(0,Q+1)}}}},8645:($t,We,C)=>{"use strict";C.d(We,{x:()=>Me});var _=C(5592),T=C(7394);const ie=(0,C(2306).d)(G=>function(){G(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=C(9039),me=C(1441);let Me=(()=>{class G extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const W=new de(this,this);return W.operator=Q,W}_throwIfClosed(){if(this.closed)throw new ie}next(Q){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(Q)}})}error(Q){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:W}=this;for(;W.length;)W.shift().error(Q)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:W,isStopped:re,observers:te}=this;return W||re?T.Lc:(this.currentObservers=null,te.push(Q),new T.w0(()=>{this.currentObservers=null,(0,pe.P)(te,Q)}))}_checkFinalizedStatuses(Q){const{hasError:W,thrownError:re,isStopped:te}=this;W?Q.error(re):te&&Q.complete()}asObservable(){const Q=new _.y;return Q.source=this,Q}}return G.create=(Z,Q)=>new de(Z,Q),G})();class de extends Me{constructor(Z,Q){super(),this.destination=Z,this.source=Q}next(Z){var Q,W;null===(W=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===W||W.call(Q,Z)}error(Z){var Q,W;null===(W=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===W||W.call(Q,Z)}complete(){var Z,Q;null===(Q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===Q||Q.call(Z)}_subscribe(Z){var Q,W;return null!==(W=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(Z))&&void 0!==W?W:T.Lc}}},305:($t,We,C)=>{"use strict";C.d(We,{Hp:()=>oe,Lv:()=>W});var _=C(4674),T=C(7394),Y=C(2653),ie=C(3894),pe=C(2420);const me=G("C",void 0,void 0);function G(ve,$,X){return{kind:ve,value:$,error:X}}var Z=C(7599),Q=C(1441);class W extends T.w0{constructor($){super(),this.isStopped=!1,$?(this.destination=$,(0,T.Nn)($)&&$.add(this)):this.destination=K}static create($,X,ce){return new oe($,X,ce)}next($){this.isStopped?ge(function de(ve){return G("N",ve,void 0)}($),this):this._next($)}error($){this.isStopped?ge(function Me(ve){return G("E",void 0,ve)}($),this):(this.isStopped=!0,this._error($))}complete(){this.isStopped?ge(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($){this.destination.next($)}_error($){try{this.destination.error($)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function te(ve,$){return re.call(ve,$)}class q{constructor($){this.partialObserver=$}next($){const{partialObserver:X}=this;if(X.next)try{X.next($)}catch(ce){M(ce)}}error($){const{partialObserver:X}=this;if(X.error)try{X.error($)}catch(ce){M(ce)}else M($)}complete(){const{partialObserver:$}=this;if($.complete)try{$.complete()}catch(X){M(X)}}}class oe extends W{constructor($,X,ce){let U;if(super(),(0,_.m)($)||!$)U={next:$??void 0,error:X??void 0,complete:ce??void 0};else{let L;this&&Y.config.useDeprecatedNextContext?(L=Object.create($),L.unsubscribe=()=>this.unsubscribe(),U={next:$.next&&te($.next,L),error:$.error&&te($.error,L),complete:$.complete&&te($.complete,L)}):U=$}this.destination=new q(U)}}function M(ve){Y.config.useDeprecatedSynchronousErrorHandling?(0,Q.O)(ve):(0,ie.h)(ve)}function ge(ve,$){const{onStoppedNotification:X}=Y.config;X&&Z.z.setTimeout(()=>X(ve,$))}const K={closed:!0,next:pe.Z,error:function se(ve){throw ve},complete:pe.Z}},7394:($t,We,C)=>{"use strict";C.d(We,{Lc:()=>me,w0:()=>pe,Nn:()=>Me});var _=C(4674);const Y=(0,C(2306).d)(G=>function(Q){G(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((W,re)=>`${re+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var ie=C(9039);class pe{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const te of Q)te.remove(this);else Q.remove(this);const{initialTeardown:W}=this;if((0,_.m)(W))try{W()}catch(te){Z=te instanceof Y?te.errors:[te]}const{_finalizers:re}=this;if(re){this._finalizers=null;for(const te of re)try{de(te)}catch(q){Z=Z??[],q instanceof Y?Z=[...Z,...q.errors]:Z.push(q)}}if(Z)throw new Y(Z)}}add(Z){var Q;if(Z&&Z!==this)if(this.closed)de(Z);else{if(Z instanceof pe){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(Z)}}_hasParent(Z){const{_parentage:Q}=this;return Q===Z||Array.isArray(Q)&&Q.includes(Z)}_addParent(Z){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(Z),Q):Q?[Q,Z]:Z}_removeParent(Z){const{_parentage:Q}=this;Q===Z?this._parentage=null:Array.isArray(Q)&&(0,ie.P)(Q,Z)}remove(Z){const{_finalizers:Q}=this;Q&&(0,ie.P)(Q,Z),Z instanceof pe&&Z._removeParent(this)}}pe.EMPTY=(()=>{const G=new pe;return G.closed=!0,G})();const me=pe.EMPTY;function Me(G){return G instanceof pe||G&&"closed"in G&&(0,_.m)(G.remove)&&(0,_.m)(G.add)&&(0,_.m)(G.unsubscribe)}function de(G){(0,_.m)(G)?G():G.unsubscribe()}},2653:($t,We,C)=>{"use strict";C.d(We,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:($t,We,C)=>{"use strict";C.d(We,{a:()=>Z});var _=C(5592),T=C(7453),Y=C(7715),ie=C(2737),pe=C(7400),me=C(9940),Me=C(2714),de=C(8251),G=C(7103);function Z(...re){const te=(0,me.yG)(re),q=(0,me.jO)(re),{args:oe,keys:M}=(0,T.D)(re);if(0===oe.length)return(0,Y.D)([],te);const se=new _.y(function Q(re,te,q=ie.y){return oe=>{W(te,()=>{const{length:M}=re,se=new Array(M);let ge=M,K=M;for(let ve=0;ve<M;ve++)W(te,()=>{const $=(0,Y.D)(re[ve],te);let X=!1;$.subscribe((0,de.x)(oe,ce=>{se[ve]=ce,X||(X=!0,K--),K||oe.next(q(se.slice()))},()=>{--ge||oe.complete()}))},oe)},oe)}}(oe,te,M?ge=>(0,Me.n)(M,ge):ie.y));return q?se.pipe((0,pe.Z)(q)):se}function W(re,te,q){re?(0,G.f)(q,re,te):te()}},5211:($t,We,C)=>{"use strict";C.d(We,{z:()=>pe});var _=C(7537),Y=C(9940),ie=C(7715);function pe(...me){return function T(){return(0,_.J)(1)}()((0,ie.D)(me,(0,Y.yG)(me)))}},6232:($t,We,C)=>{"use strict";C.d(We,{E:()=>T});const T=new(C(5592).y)(pe=>pe.complete())},7715:($t,We,C)=>{"use strict";C.d(We,{D:()=>ce});var _=C(4829),T=C(7103),Y=C(9360),ie=C(8251);function pe(U,L=0){return(0,Y.e)((E,B)=>{E.subscribe((0,ie.x)(B,H=>(0,T.f)(B,U,()=>B.next(H),L),()=>(0,T.f)(B,U,()=>B.complete(),L),H=>(0,T.f)(B,U,()=>B.error(H),L)))})}function me(U,L=0){return(0,Y.e)((E,B)=>{B.add(U.schedule(()=>E.subscribe(B),L))})}var G=C(5592),Q=C(4971),W=C(4674);function te(U,L){if(!U)throw new Error("Iterable cannot be null");return new G.y(E=>{(0,T.f)(E,L,()=>{const B=U[Symbol.asyncIterator]();(0,T.f)(E,L,()=>{B.next().then(H=>{H.done?E.complete():E.next(H.value)})},0,!0)})})}var q=C(8382),oe=C(4026),M=C(4266),se=C(3664),ge=C(5726),K=C(9853),ve=C(541);function ce(U,L){return L?function X(U,L){if(null!=U){if((0,q.c)(U))return function Me(U,L){return(0,_.Xf)(U).pipe(me(L),pe(L))}(U,L);if((0,M.z)(U))return function Z(U,L){return new G.y(E=>{let B=0;return L.schedule(function(){B===U.length?E.complete():(E.next(U[B++]),E.closed||this.schedule())})})}(U,L);if((0,oe.t)(U))return function de(U,L){return(0,_.Xf)(U).pipe(me(L),pe(L))}(U,L);if((0,ge.D)(U))return te(U,L);if((0,se.T)(U))return function re(U,L){return new G.y(E=>{let B;return(0,T.f)(E,L,()=>{B=U[Q.h](),(0,T.f)(E,L,()=>{let H,A;try{({value:H,done:A}=B.next())}catch(O){return void E.error(O)}A?E.complete():E.next(H)},0,!0)}),()=>(0,W.m)(B?.return)&&B.return()})}(U,L);if((0,ve.L)(U))return function $(U,L){return te((0,ve.Q)(U),L)}(U,L)}throw(0,K.z)(U)}(U,L):(0,_.Xf)(U)}},2438:($t,We,C)=>{"use strict";C.d(We,{R:()=>Z});var _=C(4829),T=C(5592),Y=C(1631),ie=C(4266),pe=C(4674),me=C(7400);const Me=["addListener","removeListener"],de=["addEventListener","removeEventListener"],G=["on","off"];function Z(q,oe,M,se){if((0,pe.m)(M)&&(se=M,M=void 0),se)return Z(q,oe,M).pipe((0,me.Z)(se));const[ge,K]=function te(q){return(0,pe.m)(q.addEventListener)&&(0,pe.m)(q.removeEventListener)}(q)?de.map(ve=>$=>q[ve](oe,$,M)):function W(q){return(0,pe.m)(q.addListener)&&(0,pe.m)(q.removeListener)}(q)?Me.map(Q(q,oe)):function re(q){return(0,pe.m)(q.on)&&(0,pe.m)(q.off)}(q)?G.map(Q(q,oe)):[];if(!ge&&(0,ie.z)(q))return(0,Y.z)(ve=>Z(ve,oe,M))((0,_.Xf)(q));if(!ge)throw new TypeError("Invalid event target");return new T.y(ve=>{const $=(...X)=>ve.next(1<X.length?X:X[0]);return ge($),()=>K($)})}function Q(q,oe){return M=>se=>q[M](oe,se)}},4829:($t,We,C)=>{"use strict";C.d(We,{Xf:()=>re});var _=C(5987),T=C(4266),Y=C(4026),ie=C(5592),pe=C(8382),me=C(5726),Me=C(9853),de=C(3664),G=C(541),Z=C(4674),Q=C(3894),W=C(4850);function re(ve){if(ve instanceof ie.y)return ve;if(null!=ve){if((0,pe.c)(ve))return function te(ve){return new ie.y($=>{const X=ve[W.L]();if((0,Z.m)(X.subscribe))return X.subscribe($);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,T.z)(ve))return function q(ve){return new ie.y($=>{for(let X=0;X<ve.length&&!$.closed;X++)$.next(ve[X]);$.complete()})}(ve);if((0,Y.t)(ve))return function oe(ve){return new ie.y($=>{ve.then(X=>{$.closed||($.next(X),$.complete())},X=>$.error(X)).then(null,Q.h)})}(ve);if((0,me.D)(ve))return se(ve);if((0,de.T)(ve))return function M(ve){return new ie.y($=>{for(const X of ve)if($.next(X),$.closed)return;$.complete()})}(ve);if((0,G.L)(ve))return function ge(ve){return se((0,G.Q)(ve))}(ve)}throw(0,Me.z)(ve)}function se(ve){return new ie.y($=>{(function K(ve,$){var X,ce,U,L;return(0,_.mG)(this,void 0,void 0,function*(){try{for(X=(0,_.KL)(ve);!(ce=yield X.next()).done;)if($.next(ce.value),$.closed)return}catch(E){U={error:E}}finally{try{ce&&!ce.done&&(L=X.return)&&(yield L.call(X))}finally{if(U)throw U.error}}$.complete()})})(ve,$).catch(X=>$.error(X))})}},3019:($t,We,C)=>{"use strict";C.d(We,{T:()=>me});var _=C(7537),T=C(4829),Y=C(6232),ie=C(9940),pe=C(7715);function me(...Me){const de=(0,ie.yG)(Me),G=(0,ie._6)(Me,1/0),Z=Me;return Z.length?1===Z.length?(0,T.Xf)(Z[0]):(0,_.J)(G)((0,pe.D)(Z,de)):Y.E}},2096:($t,We,C)=>{"use strict";C.d(We,{of:()=>Y});var _=C(9940),T=C(7715);function Y(...ie){const pe=(0,_.yG)(ie);return(0,T.D)(ie,pe)}},4825:($t,We,C)=>{"use strict";C.d(We,{H:()=>pe});var _=C(5592),T=C(6321),Y=C(671);function pe(me=0,Me,de=T.P){let G=-1;return null!=Me&&((0,Y.K)(Me)?de=Me:G=Me),new _.y(Z=>{let Q=function ie(me){return me instanceof Date&&!isNaN(me)}(me)?+me-de.now():me;Q<0&&(Q=0);let W=0;return de.schedule(function(){Z.closed||(Z.next(W++),0<=G?this.schedule(void 0,G):Z.complete())},Q)})}},8251:($t,We,C)=>{"use strict";C.d(We,{x:()=>T});var _=C(305);function T(ie,pe,me,Me,de){return new Y(ie,pe,me,Me,de)}class Y extends _.Lv{constructor(pe,me,Me,de,G,Z){super(pe),this.onFinalize=G,this.shouldUnsubscribe=Z,this._next=me?function(Q){try{me(Q)}catch(W){pe.error(W)}}:super._next,this._error=de?function(Q){try{de(Q)}catch(W){pe.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(Q){pe.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},9028:($t,We,C)=>{"use strict";C.d(We,{e:()=>Me});var _=C(6321),T=C(9360),Y=C(4829),ie=C(8251),me=C(4825);function Me(de,G=_.z){return function pe(de){return(0,T.e)((G,Z)=>{let Q=!1,W=null,re=null,te=!1;const q=()=>{if(re?.unsubscribe(),re=null,Q){Q=!1;const M=W;W=null,Z.next(M)}te&&Z.complete()},oe=()=>{re=null,te&&Z.complete()};G.subscribe((0,ie.x)(Z,M=>{Q=!0,W=M,re||(0,Y.Xf)(de(M)).subscribe(re=(0,ie.x)(Z,q,oe))},()=>{te=!0,(!Q||!re||re.closed)&&Z.complete()}))})}(()=>(0,me.H)(de,G))}},6306:($t,We,C)=>{"use strict";C.d(We,{K:()=>ie});var _=C(4829),T=C(8251),Y=C(9360);function ie(pe){return(0,Y.e)((me,Me)=>{let Z,de=null,G=!1;de=me.subscribe((0,T.x)(Me,void 0,void 0,Q=>{Z=(0,_.Xf)(pe(Q,ie(pe)(me))),de?(de.unsubscribe(),de=null,Z.subscribe(Me)):G=!0})),G&&(de.unsubscribe(),de=null,Z.subscribe(Me))})}},6328:($t,We,C)=>{"use strict";C.d(We,{b:()=>Y});var _=C(1631),T=C(4674);function Y(ie,pe){return(0,T.m)(pe)?(0,_.z)(ie,pe,1):(0,_.z)(ie,1)}},3620:($t,We,C)=>{"use strict";C.d(We,{b:()=>ie});var _=C(6321),T=C(9360),Y=C(8251);function ie(pe,me=_.z){return(0,T.e)((Me,de)=>{let G=null,Z=null,Q=null;const W=()=>{if(G){G.unsubscribe(),G=null;const te=Z;Z=null,de.next(te)}};function re(){const te=Q+pe,q=me.now();if(q<te)return G=this.schedule(void 0,te-q),void de.add(G);W()}Me.subscribe((0,Y.x)(de,te=>{Z=te,Q=me.now(),G||(G=me.schedule(re,pe),de.add(G))},()=>{W(),de.complete()},void 0,()=>{Z=G=null}))})}},3572:($t,We,C)=>{"use strict";C.d(We,{d:()=>Y});var _=C(9360),T=C(8251);function Y(ie){return(0,_.e)((pe,me)=>{let Me=!1;pe.subscribe((0,T.x)(me,de=>{Me=!0,me.next(de)},()=>{Me||me.next(ie),me.complete()}))})}},3997:($t,We,C)=>{"use strict";C.d(We,{x:()=>ie});var _=C(2737),T=C(9360),Y=C(8251);function ie(me,Me=_.y){return me=me??pe,(0,T.e)((de,G)=>{let Z,Q=!0;de.subscribe((0,Y.x)(G,W=>{const re=Me(W);(Q||!me(Z,re))&&(Q=!1,Z=re,G.next(W))}))})}function pe(me,Me){return me===Me}},2181:($t,We,C)=>{"use strict";C.d(We,{h:()=>Y});var _=C(9360),T=C(8251);function Y(ie,pe){return(0,_.e)((me,Me)=>{let de=0;me.subscribe((0,T.x)(Me,G=>ie.call(pe,G,de++)&&Me.next(G)))})}},4716:($t,We,C)=>{"use strict";C.d(We,{x:()=>T});var _=C(9360);function T(Y){return(0,_.e)((ie,pe)=>{try{ie.subscribe(pe)}finally{pe.add(Y)}})}},1374:($t,We,C)=>{"use strict";C.d(We,{P:()=>Me});var _=C(6973),T=C(2181),Y=C(8180),ie=C(3572),pe=C(3026),me=C(2737);function Me(de,G){const Z=arguments.length>=2;return Q=>Q.pipe(de?(0,T.h)((W,re)=>de(W,re,Q)):me.y,(0,Y.q)(1),Z?(0,ie.d)(G):(0,pe.T)(()=>new _.K))}},7398:($t,We,C)=>{"use strict";C.d(We,{U:()=>Y});var _=C(9360),T=C(8251);function Y(ie,pe){return(0,_.e)((me,Me)=>{let de=0;me.subscribe((0,T.x)(Me,G=>{Me.next(ie.call(pe,G,de++))}))})}},975:($t,We,C)=>{"use strict";C.d(We,{h:()=>T});var _=C(7398);function T(Y){return(0,_.U)(()=>Y)}},7537:($t,We,C)=>{"use strict";C.d(We,{J:()=>Y});var _=C(1631),T=C(2737);function Y(ie=1/0){return(0,_.z)(T.y,ie)}},1631:($t,We,C)=>{"use strict";C.d(We,{z:()=>de});var _=C(7398),T=C(4829),Y=C(9360),ie=C(7103),pe=C(8251),Me=C(4674);function de(G,Z,Q=1/0){return(0,Me.m)(Z)?de((W,re)=>(0,_.U)((te,q)=>Z(W,te,re,q))((0,T.Xf)(G(W,re))),Q):("number"==typeof Z&&(Q=Z),(0,Y.e)((W,re)=>function me(G,Z,Q,W,re,te,q,oe){const M=[];let se=0,ge=0,K=!1;const ve=()=>{K&&!M.length&&!se&&Z.complete()},$=ce=>se<W?X(ce):M.push(ce),X=ce=>{te&&Z.next(ce),se++;let U=!1;(0,T.Xf)(Q(ce,ge++)).subscribe((0,pe.x)(Z,L=>{re?.(L),te?$(L):Z.next(L)},()=>{U=!0},void 0,()=>{if(U)try{for(se--;M.length&&se<W;){const L=M.shift();q?(0,ie.f)(Z,q,()=>X(L)):X(L)}ve()}catch(L){Z.error(L)}}))};return G.subscribe((0,pe.x)(Z,$,()=>{K=!0,ve()})),()=>{oe?.()}}(W,re,G,Q)))}},3020:($t,We,C)=>{"use strict";C.d(We,{B:()=>pe});var _=C(4829),T=C(8645),Y=C(305),ie=C(9360);function pe(Me={}){const{connector:de=(()=>new T.x),resetOnError:G=!0,resetOnComplete:Z=!0,resetOnRefCountZero:Q=!0}=Me;return W=>{let re,te,q,oe=0,M=!1,se=!1;const ge=()=>{te?.unsubscribe(),te=void 0},K=()=>{ge(),re=q=void 0,M=se=!1},ve=()=>{const $=re;K(),$?.unsubscribe()};return(0,ie.e)(($,X)=>{oe++,!se&&!M&&ge();const ce=q=q??de();X.add(()=>{oe--,0===oe&&!se&&!M&&(te=me(ve,Q))}),ce.subscribe(X),!re&&oe>0&&(re=new Y.Hp({next:U=>ce.next(U),error:U=>{se=!0,ge(),te=me(K,G,U),ce.error(U)},complete:()=>{M=!0,ge(),te=me(K,Z),ce.complete()}}),(0,_.Xf)($).subscribe(re))})(W)}}function me(Me,de,...G){if(!0===de)return void Me();if(!1===de)return;const Z=new Y.Hp({next:()=>{Z.unsubscribe(),Me()}});return de(...G).subscribe(Z)}},836:($t,We,C)=>{"use strict";C.d(We,{T:()=>T});var _=C(2181);function T(Y){return(0,_.h)((ie,pe)=>Y<=pe)}},7921:($t,We,C)=>{"use strict";C.d(We,{O:()=>ie});var _=C(5211),T=C(9940),Y=C(9360);function ie(...pe){const me=(0,T.yG)(pe);return(0,Y.e)((Me,de)=>{(me?(0,_.z)(pe,Me,me):(0,_.z)(pe,Me)).subscribe(de)})}},4664:($t,We,C)=>{"use strict";C.d(We,{w:()=>ie});var _=C(4829),T=C(9360),Y=C(8251);function ie(pe,me){return(0,T.e)((Me,de)=>{let G=null,Z=0,Q=!1;const W=()=>Q&&!G&&de.complete();Me.subscribe((0,Y.x)(de,re=>{G?.unsubscribe();let te=0;const q=Z++;(0,_.Xf)(pe(re,q)).subscribe(G=(0,Y.x)(de,oe=>de.next(me?me(re,oe,q,te++):oe),()=>{G=null,W()}))},()=>{Q=!0,W()}))})}},8180:($t,We,C)=>{"use strict";C.d(We,{q:()=>ie});var _=C(6232),T=C(9360),Y=C(8251);function ie(pe){return pe<=0?()=>_.E:(0,T.e)((me,Me)=>{let de=0;me.subscribe((0,Y.x)(Me,G=>{++de<=pe&&(Me.next(G),pe<=de&&Me.complete())}))})}},9773:($t,We,C)=>{"use strict";C.d(We,{R:()=>pe});var _=C(9360),T=C(8251),Y=C(4829),ie=C(2420);function pe(me){return(0,_.e)((Me,de)=>{(0,Y.Xf)(me).subscribe((0,T.x)(de,()=>de.complete(),ie.Z)),!de.closed&&Me.subscribe(de)})}},9397:($t,We,C)=>{"use strict";C.d(We,{b:()=>pe});var _=C(4674),T=C(9360),Y=C(8251),ie=C(2737);function pe(me,Me,de){const G=(0,_.m)(me)||Me||de?{next:me,error:Me,complete:de}:me;return G?(0,T.e)((Z,Q)=>{var W;null===(W=G.subscribe)||void 0===W||W.call(G);let re=!0;Z.subscribe((0,Y.x)(Q,te=>{var q;null===(q=G.next)||void 0===q||q.call(G,te),Q.next(te)},()=>{var te;re=!1,null===(te=G.complete)||void 0===te||te.call(G),Q.complete()},te=>{var q;re=!1,null===(q=G.error)||void 0===q||q.call(G,te),Q.error(te)},()=>{var te,q;re&&(null===(te=G.unsubscribe)||void 0===te||te.call(G)),null===(q=G.finalize)||void 0===q||q.call(G)}))}):ie.y}},3026:($t,We,C)=>{"use strict";C.d(We,{T:()=>ie});var _=C(6973),T=C(9360),Y=C(8251);function ie(me=pe){return(0,T.e)((Me,de)=>{let G=!1;Me.subscribe((0,Y.x)(de,Z=>{G=!0,de.next(Z)},()=>G?de.complete():de.error(me())))})}function pe(){return new _.K}},1954:($t,We,C)=>{"use strict";C.d(We,{o:()=>pe});var _=C(7394);class T extends _.w0{constructor(Me,de){super()}schedule(Me,de=0){return this}}const Y={setInterval(me,Me,...de){const{delegate:G}=Y;return G?.setInterval?G.setInterval(me,Me,...de):setInterval(me,Me,...de)},clearInterval(me){const{delegate:Me}=Y;return(Me?.clearInterval||clearInterval)(me)},delegate:void 0};var ie=C(9039);class pe extends T{constructor(Me,de){super(Me,de),this.scheduler=Me,this.work=de,this.pending=!1}schedule(Me,de=0){var G;if(this.closed)return this;this.state=Me;const Z=this.id,Q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(Q,Z,de)),this.pending=!0,this.delay=de,this.id=null!==(G=this.id)&&void 0!==G?G:this.requestAsyncId(Q,this.id,de),this}requestAsyncId(Me,de,G=0){return Y.setInterval(Me.flush.bind(Me,this),G)}recycleAsyncId(Me,de,G=0){if(null!=G&&this.delay===G&&!1===this.pending)return de;null!=de&&Y.clearInterval(de)}execute(Me,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const G=this._execute(Me,de);if(G)return G;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,de){let Z,G=!1;try{this.work(Me)}catch(Q){G=!0,Z=Q||new Error("Scheduled action threw falsy error")}if(G)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Me,scheduler:de}=this,{actions:G}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(G,this),null!=Me&&(this.id=this.recycleAsyncId(de,Me,null)),this.delay=null,super.unsubscribe()}}}},2631:($t,We,C)=>{"use strict";C.d(We,{v:()=>Y});var _=C(4552);class T{constructor(pe,me=T.now){this.schedulerActionCtor=pe,this.now=me}schedule(pe,me=0,Me){return new this.schedulerActionCtor(this,pe).schedule(Me,me)}}T.now=_.l.now;class Y extends T{constructor(pe,me=T.now){super(pe,me),this.actions=[],this._active=!1}flush(pe){const{actions:me}=this;if(this._active)return void me.push(pe);let Me;this._active=!0;do{if(Me=pe.execute(pe.state,pe.delay))break}while(pe=me.shift());if(this._active=!1,Me){for(;pe=me.shift();)pe.unsubscribe();throw Me}}}},927:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Me});var _=C(1954),T=C(7394);const Y={schedule(G){let Z=requestAnimationFrame,Q=cancelAnimationFrame;const{delegate:W}=Y;W&&(Z=W.requestAnimationFrame,Q=W.cancelAnimationFrame);const re=Z(te=>{Q=void 0,G(te)});return new T.w0(()=>Q?.(re))},requestAnimationFrame(...G){const{delegate:Z}=Y;return(Z?.requestAnimationFrame||requestAnimationFrame)(...G)},cancelAnimationFrame(...G){const{delegate:Z}=Y;return(Z?.cancelAnimationFrame||cancelAnimationFrame)(...G)},delegate:void 0};var pe=C(2631);const Me=new class me extends pe.v{flush(Z){this._active=!0;const Q=this._scheduled;this._scheduled=void 0;const{actions:W}=this;let re;Z=Z||W.shift();do{if(re=Z.execute(Z.state,Z.delay))break}while((Z=W[0])&&Z.id===Q&&W.shift());if(this._active=!1,re){for(;(Z=W[0])&&Z.id===Q&&W.shift();)Z.unsubscribe();throw re}}}(class ie extends _.o{constructor(Z,Q){super(Z,Q),this.scheduler=Z,this.work=Q}requestAsyncId(Z,Q,W=0){return null!==W&&W>0?super.requestAsyncId(Z,Q,W):(Z.actions.push(this),Z._scheduled||(Z._scheduled=Y.requestAnimationFrame(()=>Z.flush(void 0))))}recycleAsyncId(Z,Q,W=0){var re;if(null!=W?W>0:this.delay>0)return super.recycleAsyncId(Z,Q,W);const{actions:te}=Z;null!=Q&&(null===(re=te[te.length-1])||void 0===re?void 0:re.id)!==Q&&(Y.cancelAnimationFrame(Q),Z._scheduled=void 0)}})},6410:($t,We,C)=>{"use strict";C.d(We,{E:()=>te});var _=C(1954);let Y,T=1;const ie={};function pe(oe){return oe in ie&&(delete ie[oe],!0)}const me={setImmediate(oe){const M=T++;return ie[M]=!0,Y||(Y=Promise.resolve()),Y.then(()=>pe(M)&&oe()),M},clearImmediate(oe){pe(oe)}},{setImmediate:de,clearImmediate:G}=me,Z={setImmediate(...oe){const{delegate:M}=Z;return(M?.setImmediate||de)(...oe)},clearImmediate(oe){const{delegate:M}=Z;return(M?.clearImmediate||G)(oe)},delegate:void 0};var W=C(2631);const te=new class re extends W.v{flush(M){this._active=!0;const se=this._scheduled;this._scheduled=void 0;const{actions:ge}=this;let K;M=M||ge.shift();do{if(K=M.execute(M.state,M.delay))break}while((M=ge[0])&&M.id===se&&ge.shift());if(this._active=!1,K){for(;(M=ge[0])&&M.id===se&&ge.shift();)M.unsubscribe();throw K}}}(class Q extends _.o{constructor(M,se){super(M,se),this.scheduler=M,this.work=se}requestAsyncId(M,se,ge=0){return null!==ge&&ge>0?super.requestAsyncId(M,se,ge):(M.actions.push(this),M._scheduled||(M._scheduled=Z.setImmediate(M.flush.bind(M,void 0))))}recycleAsyncId(M,se,ge=0){var K;if(null!=ge?ge>0:this.delay>0)return super.recycleAsyncId(M,se,ge);const{actions:ve}=M;null!=se&&(null===(K=ve[ve.length-1])||void 0===K?void 0:K.id)!==se&&(Z.clearImmediate(se),M._scheduled=void 0)}})},6321:($t,We,C)=>{"use strict";C.d(We,{P:()=>ie,z:()=>Y});var _=C(1954);const Y=new(C(2631).v)(_.o),ie=Y},4552:($t,We,C)=>{"use strict";C.d(We,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},7599:($t,We,C)=>{"use strict";C.d(We,{z:()=>_});const _={setTimeout(T,Y,...ie){const{delegate:pe}=_;return pe?.setTimeout?pe.setTimeout(T,Y,...ie):setTimeout(T,Y,...ie)},clearTimeout(T){const{delegate:Y}=_;return(Y?.clearTimeout||clearTimeout)(T)},delegate:void 0}},4971:($t,We,C)=>{"use strict";C.d(We,{h:()=>T});const T=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:($t,We,C)=>{"use strict";C.d(We,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:($t,We,C)=>{"use strict";C.d(We,{K:()=>T});const T=(0,C(2306).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:($t,We,C)=>{"use strict";C.d(We,{_6:()=>me,jO:()=>ie,yG:()=>pe});var _=C(4674),T=C(671);function Y(Me){return Me[Me.length-1]}function ie(Me){return(0,_.m)(Y(Me))?Me.pop():void 0}function pe(Me){return(0,T.K)(Y(Me))?Me.pop():void 0}function me(Me,de){return"number"==typeof Y(Me)?Me.pop():de}},7453:($t,We,C)=>{"use strict";C.d(We,{D:()=>pe});const{isArray:_}=Array,{getPrototypeOf:T,prototype:Y,keys:ie}=Object;function pe(Me){if(1===Me.length){const de=Me[0];if(_(de))return{args:de,keys:null};if(function me(Me){return Me&&"object"==typeof Me&&T(Me)===Y}(de)){const G=ie(de);return{args:G.map(Z=>de[Z]),keys:G}}}return{args:Me,keys:null}}},9039:($t,We,C)=>{"use strict";function _(T,Y){if(T){const ie=T.indexOf(Y);0<=ie&&T.splice(ie,1)}}C.d(We,{P:()=>_})},2306:($t,We,C)=>{"use strict";function _(T){const ie=T(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}C.d(We,{d:()=>_})},2714:($t,We,C)=>{"use strict";function _(T,Y){return T.reduce((ie,pe,me)=>(ie[pe]=Y[me],ie),{})}C.d(We,{n:()=>_})},1441:($t,We,C)=>{"use strict";C.d(We,{O:()=>ie,x:()=>Y});var _=C(2653);let T=null;function Y(pe){if(_.config.useDeprecatedSynchronousErrorHandling){const me=!T;if(me&&(T={errorThrown:!1,error:null}),pe(),me){const{errorThrown:Me,error:de}=T;if(T=null,Me)throw de}}else pe()}function ie(pe){_.config.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=pe)}},7103:($t,We,C)=>{"use strict";function _(T,Y,ie,pe=0,me=!1){const Me=Y.schedule(function(){ie(),me?T.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(T.add(Me),!me)return Me}C.d(We,{f:()=>_})},2737:($t,We,C)=>{"use strict";function _(T){return T}C.d(We,{y:()=>_})},4266:($t,We,C)=>{"use strict";C.d(We,{z:()=>_});const _=T=>T&&"number"==typeof T.length&&"function"!=typeof T},5726:($t,We,C)=>{"use strict";C.d(We,{D:()=>T});var _=C(4674);function T(Y){return Symbol.asyncIterator&&(0,_.m)(Y?.[Symbol.asyncIterator])}},4674:($t,We,C)=>{"use strict";function _(T){return"function"==typeof T}C.d(We,{m:()=>_})},8382:($t,We,C)=>{"use strict";C.d(We,{c:()=>Y});var _=C(4850),T=C(4674);function Y(ie){return(0,T.m)(ie[_.L])}},3664:($t,We,C)=>{"use strict";C.d(We,{T:()=>Y});var _=C(4971),T=C(4674);function Y(ie){return(0,T.m)(ie?.[_.h])}},2664:($t,We,C)=>{"use strict";C.d(We,{b:()=>Y});var _=C(5592),T=C(4674);function Y(ie){return!!ie&&(ie instanceof _.y||(0,T.m)(ie.lift)&&(0,T.m)(ie.subscribe))}},4026:($t,We,C)=>{"use strict";C.d(We,{t:()=>T});var _=C(4674);function T(Y){return(0,_.m)(Y?.then)}},541:($t,We,C)=>{"use strict";C.d(We,{L:()=>ie,Q:()=>Y});var _=C(5987),T=C(4674);function Y(pe){return(0,_.FC)(this,arguments,function*(){const Me=pe.getReader();try{for(;;){const{value:de,done:G}=yield(0,_.qq)(Me.read());if(G)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(de)}}finally{Me.releaseLock()}})}function ie(pe){return(0,T.m)(pe?.getReader)}},671:($t,We,C)=>{"use strict";C.d(We,{K:()=>T});var _=C(4674);function T(Y){return Y&&(0,_.m)(Y.schedule)}},9360:($t,We,C)=>{"use strict";C.d(We,{A:()=>T,e:()=>Y});var _=C(4674);function T(ie){return(0,_.m)(ie?.lift)}function Y(ie){return pe=>{if(T(pe))return pe.lift(function(me){try{return ie(me,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:($t,We,C)=>{"use strict";C.d(We,{Z:()=>ie});var _=C(7398);const{isArray:T}=Array;function ie(pe){return(0,_.U)(me=>function Y(pe,me){return T(me)?pe(...me):pe(me)}(pe,me))}},2420:($t,We,C)=>{"use strict";function _(){}C.d(We,{Z:()=>_})},8407:($t,We,C)=>{"use strict";C.d(We,{U:()=>Y,z:()=>T});var _=C(2737);function T(...ie){return Y(ie)}function Y(ie){return 0===ie.length?_.y:1===ie.length?ie[0]:function(me){return ie.reduce((Me,de)=>de(Me),me)}}},3894:($t,We,C)=>{"use strict";C.d(We,{h:()=>Y});var _=C(2653),T=C(7599);function Y(ie){T.z.setTimeout(()=>{const{onUnhandledError:pe}=_.config;if(!pe)throw ie;pe(ie)})}},9853:($t,We,C)=>{"use strict";function _(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(We,{z:()=>_})},2717:($t,We,C)=>{"use strict";C.d(We,{Z:()=>X});var _=C(2353),T=C(9638),Y=C(3066),ie=C(7481),pe=C(4981),me=C(4404),Me=C(8783),de=C(2),G=C(3825),Z="__zr_normal__",Q=_.dN.concat(["ignore"]),W=(0,me.reduce)(_.dN,function(ce,U){return ce[U]=!0,ce},{ignore:!1}),re={},te=new Y.Z(0,0,0,0),q=function(){function ce(U){this.id=(0,me.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(U)}return ce.prototype._init=function(U){this.attr(U)},ce.prototype.drift=function(U,L,E){switch(this.draggable){case"horizontal":L=0;break;case"vertical":U=0}var B=this.transform;B||(B=this.transform=[1,0,0,1,0,0]),B[4]+=U,B[5]+=L,this.decomposeTransform(),this.markRedraw()},ce.prototype.beforeUpdate=function(){},ce.prototype.afterUpdate=function(){},ce.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},ce.prototype.updateInnerText=function(U){var L=this._textContent;if(L&&(!L.ignore||U)){this.textConfig||(this.textConfig={});var E=this.textConfig,B=E.local,H=L.innerTransformable,A=void 0,O=void 0,I=!1;H.parent=B?this:null;var N=!1;if(H.copyTransform(L),null!=E.position){var ee=te;ee.copy(E.layoutRect?E.layoutRect:this.getBoundingRect()),B||ee.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(re,E,ee):(0,pe.wI)(re,E,ee),H.x=re.x,H.y=re.y,A=re.align,O=re.verticalAlign;var j=E.origin;if(j&&null!=E.rotation){var ae=void 0,fe=void 0;"center"===j?(ae=.5*ee.width,fe=.5*ee.height):(ae=(0,pe.GM)(j[0],ee.width),fe=(0,pe.GM)(j[1],ee.height)),N=!0,H.originX=-H.x+ae+(B?0:ee.x),H.originY=-H.y+fe+(B?0:ee.y)}}null!=E.rotation&&(H.rotation=E.rotation);var he=E.offset;he&&(H.x+=he[0],H.y+=he[1],N||(H.originX=-he[0],H.originY=-he[1]));var Ce=null==E.inside?"string"==typeof E.position&&E.position.indexOf("inside")>=0:E.inside,Se=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),ye=void 0,we=void 0,Ae=void 0;Ce&&this.canBeInsideText()?(we=E.insideStroke,(null==(ye=E.insideFill)||"auto"===ye)&&(ye=this.getInsideTextFill()),(null==we||"auto"===we)&&(we=this.getInsideTextStroke(ye),Ae=!0)):(we=E.outsideStroke,(null==(ye=E.outsideFill)||"auto"===ye)&&(ye=this.getOutsideFill()),(null==we||"auto"===we)&&(we=this.getOutsideStroke(ye),Ae=!0)),((ye=ye||"#000")!==Se.fill||we!==Se.stroke||Ae!==Se.autoStroke||A!==Se.align||O!==Se.verticalAlign)&&(I=!0,Se.fill=ye,Se.stroke=we,Se.autoStroke=Ae,Se.align=A,Se.verticalAlign=O,L.setDefaultTextStyle(Se)),L.__dirty|=G.YV,I&&L.dirtyStyle(!0)}},ce.prototype.canBeInsideText=function(){return!0},ce.prototype.getInsideTextFill=function(){return"#fff"},ce.prototype.getInsideTextStroke=function(U){return"#000"},ce.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Me.GD:Me.vU},ce.prototype.getOutsideStroke=function(U){var L=this.__zr&&this.__zr.getBackgroundColor(),E="string"==typeof L&&(0,de.parse)(L);E||(E=[255,255,255,1]);for(var B=E[3],H=this.__zr.isDarkMode(),A=0;A<3;A++)E[A]=E[A]*B+(H?0:255)*(1-B);return E[3]=1,(0,de.stringify)(E,"rgba")},ce.prototype.traverse=function(U,L){},ce.prototype.attrKV=function(U,L){"textConfig"===U?this.setTextConfig(L):"textContent"===U?this.setTextContent(L):"clipPath"===U?this.setClipPath(L):"extra"===U?(this.extra=this.extra||{},(0,me.extend)(this.extra,L)):this[U]=L},ce.prototype.hide=function(){this.ignore=!0,this.markRedraw()},ce.prototype.show=function(){this.ignore=!1,this.markRedraw()},ce.prototype.attr=function(U,L){if("string"==typeof U)this.attrKV(U,L);else if((0,me.isObject)(U))for(var B=(0,me.keys)(U),H=0;H<B.length;H++){var A=B[H];this.attrKV(A,U[A])}return this.markRedraw(),this},ce.prototype.saveCurrentToNormalState=function(U){this._innerSaveToNormal(U);for(var L=this._normalState,E=0;E<this.animators.length;E++){var B=this.animators[E],H=B.__fromStateTransition;if(!(B.getLoop()||H&&H!==Z)){var A=B.targetName;B.saveTo(A?L[A]:L)}}},ce.prototype._innerSaveToNormal=function(U){var L=this._normalState;L||(L=this._normalState={}),U.textConfig&&!L.textConfig&&(L.textConfig=this.textConfig),this._savePrimaryToNormal(U,L,Q)},ce.prototype._savePrimaryToNormal=function(U,L,E){for(var B=0;B<E.length;B++){var H=E[B];null!=U[H]&&!(H in L)&&(L[H]=this[H])}},ce.prototype.hasState=function(){return this.currentStates.length>0},ce.prototype.getState=function(U){return this.states[U]},ce.prototype.ensureState=function(U){var L=this.states;return L[U]||(L[U]={}),L[U]},ce.prototype.clearStates=function(U){this.useState(Z,!1,U)},ce.prototype.useState=function(U,L,E,B){var H=U===Z;if(this.hasState()||!H){var O=this.currentStates,I=this.stateTransition;if(!((0,me.indexOf)(O,U)>=0)||!L&&1!==O.length){var N;if(this.stateProxy&&!H&&(N=this.stateProxy(U)),N||(N=this.states&&this.states[U]),!N&&!H)return void(0,me.logError)("State "+U+" not exists.");H||this.saveCurrentToNormalState(N);var ee=!!(N&&N.hoverLayer||B);ee&&this._toggleHoverLayerFlag(!0),this._applyStateObj(U,N,this._normalState,L,!E&&!this.__inHover&&I&&I.duration>0,I);var j=this._textContent,ae=this._textGuide;return j&&j.useState(U,L,E,ee),ae&&ae.useState(U,L,E,ee),H?(this.currentStates=[],this._normalState={}):L?this.currentStates.push(U):this.currentStates=[U],this._updateAnimationTargets(),this.markRedraw(),!ee&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~G.YV),N}}},ce.prototype.useStates=function(U,L,E){if(U.length){var B=[],H=this.currentStates,A=U.length,O=A===H.length;if(O)for(var I=0;I<A;I++)if(U[I]!==H[I]){O=!1;break}if(O)return;for(I=0;I<A;I++){var N=U[I],ee=void 0;this.stateProxy&&(ee=this.stateProxy(N,U)),ee||(ee=this.states[N]),ee&&B.push(ee)}var j=B[A-1],ae=!!(j&&j.hoverLayer||E);ae&&this._toggleHoverLayerFlag(!0);var fe=this._mergeStates(B),he=this.stateTransition;this.saveCurrentToNormalState(fe),this._applyStateObj(U.join(","),fe,this._normalState,!1,!L&&!this.__inHover&&he&&he.duration>0,he);var Ce=this._textContent,Se=this._textGuide;Ce&&Ce.useStates(U,L,ae),Se&&Se.useStates(U,L,ae),this._updateAnimationTargets(),this.currentStates=U.slice(),this.markRedraw(),!ae&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~G.YV)}else this.clearStates()},ce.prototype._updateAnimationTargets=function(){for(var U=0;U<this.animators.length;U++){var L=this.animators[U];L.targetName&&L.changeTarget(this[L.targetName])}},ce.prototype.removeState=function(U){var L=(0,me.indexOf)(this.currentStates,U);if(L>=0){var E=this.currentStates.slice();E.splice(L,1),this.useStates(E)}},ce.prototype.replaceState=function(U,L,E){var B=this.currentStates.slice(),H=(0,me.indexOf)(B,U),A=(0,me.indexOf)(B,L)>=0;H>=0?A?B.splice(H,1):B[H]=L:E&&!A&&B.push(L),this.useStates(B)},ce.prototype.toggleState=function(U,L){L?this.useState(U,!0):this.removeState(U)},ce.prototype._mergeStates=function(U){for(var E,L={},B=0;B<U.length;B++){var H=U[B];(0,me.extend)(L,H),H.textConfig&&(0,me.extend)(E=E||{},H.textConfig)}return E&&(L.textConfig=E),L},ce.prototype._applyStateObj=function(U,L,E,B,H,A){var O=!(L&&B);L&&L.textConfig?(this.textConfig=(0,me.extend)({},B?this.textConfig:E.textConfig),(0,me.extend)(this.textConfig,L.textConfig)):O&&E.textConfig&&(this.textConfig=E.textConfig);for(var I={},N=!1,ee=0;ee<Q.length;ee++){var j=Q[ee],ae=H&&W[j];L&&null!=L[j]?ae?(N=!0,I[j]=L[j]):this[j]=L[j]:O&&null!=E[j]&&(ae?(N=!0,I[j]=E[j]):this[j]=E[j])}if(!H)for(ee=0;ee<this.animators.length;ee++){var fe=this.animators[ee],he=fe.targetName;fe.getLoop()||fe.__changeFinalValue(he?(L||E)[he]:L||E)}N&&this._transitionState(U,I,A)},ce.prototype._attachComponent=function(U){if((!U.__zr||U.__hostTarget)&&U!==this){var L=this.__zr;L&&U.addSelfToZr(L),U.__zr=L,U.__hostTarget=this}},ce.prototype._detachComponent=function(U){U.__zr&&U.removeSelfFromZr(U.__zr),U.__zr=null,U.__hostTarget=null},ce.prototype.getClipPath=function(){return this._clipPath},ce.prototype.setClipPath=function(U){this._clipPath&&this._clipPath!==U&&this.removeClipPath(),this._attachComponent(U),this._clipPath=U,this.markRedraw()},ce.prototype.removeClipPath=function(){var U=this._clipPath;U&&(this._detachComponent(U),this._clipPath=null,this.markRedraw())},ce.prototype.getTextContent=function(){return this._textContent},ce.prototype.setTextContent=function(U){var L=this._textContent;L!==U&&(L&&L!==U&&this.removeTextContent(),U.innerTransformable=new _.ZP,this._attachComponent(U),this._textContent=U,this.markRedraw())},ce.prototype.setTextConfig=function(U){this.textConfig||(this.textConfig={}),(0,me.extend)(this.textConfig,U),this.markRedraw()},ce.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},ce.prototype.removeTextContent=function(){var U=this._textContent;U&&(U.innerTransformable=null,this._detachComponent(U),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},ce.prototype.getTextGuideLine=function(){return this._textGuide},ce.prototype.setTextGuideLine=function(U){this._textGuide&&this._textGuide!==U&&this.removeTextGuideLine(),this._attachComponent(U),this._textGuide=U,this.markRedraw()},ce.prototype.removeTextGuideLine=function(){var U=this._textGuide;U&&(this._detachComponent(U),this._textGuide=null,this.markRedraw())},ce.prototype.markRedraw=function(){this.__dirty|=G.YV;var U=this.__zr;U&&(this.__inHover?U.refreshHover():U.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},ce.prototype.dirty=function(){this.markRedraw()},ce.prototype._toggleHoverLayerFlag=function(U){this.__inHover=U;var L=this._textContent,E=this._textGuide;L&&(L.__inHover=U),E&&(E.__inHover=U)},ce.prototype.addSelfToZr=function(U){if(this.__zr!==U){this.__zr=U;var L=this.animators;if(L)for(var E=0;E<L.length;E++)U.animation.addAnimator(L[E]);this._clipPath&&this._clipPath.addSelfToZr(U),this._textContent&&this._textContent.addSelfToZr(U),this._textGuide&&this._textGuide.addSelfToZr(U)}},ce.prototype.removeSelfFromZr=function(U){if(this.__zr){this.__zr=null;var L=this.animators;if(L)for(var E=0;E<L.length;E++)U.animation.removeAnimator(L[E]);this._clipPath&&this._clipPath.removeSelfFromZr(U),this._textContent&&this._textContent.removeSelfFromZr(U),this._textGuide&&this._textGuide.removeSelfFromZr(U)}},ce.prototype.animate=function(U,L,E){var H=new T.Z(U?this[U]:this,L,E);return U&&(H.targetName=U),this.addAnimator(H,U),H},ce.prototype.addAnimator=function(U,L){var E=this.__zr,B=this;U.during(function(){B.updateDuringAnimation(L)}).done(function(){var H=B.animators,A=(0,me.indexOf)(H,U);A>=0&&H.splice(A,1)}),this.animators.push(U),E&&E.animation.addAnimator(U),E&&E.wakeUp()},ce.prototype.updateDuringAnimation=function(U){this.markRedraw()},ce.prototype.stopAnimation=function(U,L){for(var E=this.animators,B=E.length,H=[],A=0;A<B;A++){var O=E[A];U&&U!==O.scope?H.push(O):O.stop(L)}return this.animators=H,this},ce.prototype.animateTo=function(U,L,E){oe(this,U,L,E)},ce.prototype.animateFrom=function(U,L,E){oe(this,U,L,E,!0)},ce.prototype._transitionState=function(U,L,E,B){for(var H=oe(this,L,E,B),A=0;A<H.length;A++)H[A].__fromStateTransition=U},ce.prototype.getBoundingRect=function(){return null},ce.prototype.getPaintRect=function(){return null},ce.initDefaultProps=function(){var U=ce.prototype;function B(H,A,O,I){function N(ee,j){Object.defineProperty(j,0,{get:function(){return ee[O]},set:function(ae){ee[O]=ae}}),Object.defineProperty(j,1,{get:function(){return ee[I]},set:function(ae){ee[I]=ae}})}Object.defineProperty(U,H,{get:function(){return this[A]||N(this,this[A]=[]),this[A]},set:function(ee){this[O]=ee[0],this[I]=ee[1],this[A]=ee,N(this,ee)}})}U.type="element",U.name="",U.ignore=U.silent=U.isGroup=U.draggable=U.dragging=U.ignoreClip=U.__inHover=!1,U.__dirty=G.YV,Object.defineProperty&&(B("position","_legacyPos","x","y"),B("scale","_legacyScale","scaleX","scaleY"),B("origin","_legacyOrigin","originX","originY"))}(),ce}();function oe(ce,U,L,E,B){var H=[];$(ce,"",ce,U,L=L||{},E,H,B);var A=H.length,O=!1,I=L.done,N=L.aborted,ee=function(){O=!0,--A<=0&&(O?I&&I():N&&N())},j=function(){--A<=0&&(O?I&&I():N&&N())};A||I&&I(),H.length>0&&L.during&&H[0].during(function(he,Ce){L.during(Ce)});for(var ae=0;ae<H.length;ae++){var fe=H[ae];ee&&fe.done(ee),j&&fe.aborted(j),L.force&&fe.duration(L.duration),fe.start(L.easing)}return H}function M(ce,U,L){for(var E=0;E<L;E++)ce[E]=U[E]}function ge(ce,U,L){if((0,me.isArrayLike)(U[L]))if((0,me.isArrayLike)(ce[L])||(ce[L]=[]),(0,me.isTypedArray)(U[L])){var E=U[L].length;ce[L].length!==E&&(ce[L]=new U[L].constructor(E),M(ce[L],U[L],E))}else{var B=U[L],H=ce[L],A=B.length;if(function se(ce){return(0,me.isArrayLike)(ce[0])}(B))for(var O=B[0].length,I=0;I<A;I++)H[I]?M(H[I],B[I],O):H[I]=Array.prototype.slice.call(B[I]);else M(H,B,A);H.length=B.length}else ce[L]=U[L]}function $(ce,U,L,E,B,H,A,O){for(var I=(0,me.keys)(E),N=B.duration,ee=B.delay,j=B.additive,ae=B.setToFinal,fe=!(0,me.isObject)(H),he=ce.animators,Ce=[],Se=0;Se<I.length;Se++){var we=E[ye=I[Se]];if(null!=we&&null!=L[ye]&&(fe||H[ye]))if(!(0,me.isObject)(we)||(0,me.isArrayLike)(we)||(0,me.isGradientObject)(we))Ce.push(ye);else{if(U){O||(L[ye]=we,ce.updateDuringAnimation(U));continue}$(ce,ye,L[ye],we,B,H&&H[ye],A,O)}else O||(L[ye]=we,ce.updateDuringAnimation(U),Ce.push(ye))}var Ae=Ce.length;if(!j&&Ae)for(var Ne=0;Ne<he.length;Ne++)if((Le=he[Ne]).targetName===U&&Le.stopTracks(Ce)){var at=(0,me.indexOf)(he,Le);he.splice(at,1)}if(B.force||(Ce=(0,me.filter)(Ce,function(an){return!function K(ce,U){return ce===U||(0,me.isArrayLike)(ce)&&(0,me.isArrayLike)(U)&&function ve(ce,U){var L=ce.length;if(L!==U.length)return!1;for(var E=0;E<L;E++)if(ce[E]!==U[E])return!1;return!0}(ce,U)}(E[an],L[an])}),Ae=Ce.length),Ae>0||B.force&&!A.length){var Le,nt=void 0,dt=void 0,It=void 0;if(O)for(dt={},ae&&(nt={}),Ne=0;Ne<Ae;Ne++)dt[ye=Ce[Ne]]=L[ye],ae?nt[ye]=E[ye]:L[ye]=E[ye];else if(ae)for(It={},Ne=0;Ne<Ae;Ne++){var ye;It[ye=Ce[Ne]]=(0,T.V)(L[ye]),ge(L,E,ye)}(Le=new T.Z(L,!1,!1,j?(0,me.filter)(he,function(Yt){return Yt.targetName===U}):null)).targetName=U,B.scope&&(Le.scope=B.scope),ae&&nt&&Le.whenWithKeys(0,nt,Ce),It&&Le.whenWithKeys(0,It,Ce),Le.whenWithKeys(N??500,O?dt:E,Ce).delay(ee||0),ce.addAnimator(Le,U),A.push(Le)}}(0,me.mixin)(q,ie.Z),(0,me.mixin)(q,_.ZP);const X=q},9638:($t,We,C)=>{"use strict";C.d(We,{V:()=>M,Z:()=>I});var _={linear:function(N){return N},quadraticIn:function(N){return N*N},quadraticOut:function(N){return N*(2-N)},quadraticInOut:function(N){return(N*=2)<1?.5*N*N:-.5*(--N*(N-2)-1)},cubicIn:function(N){return N*N*N},cubicOut:function(N){return--N*N*N+1},cubicInOut:function(N){return(N*=2)<1?.5*N*N*N:.5*((N-=2)*N*N+2)},quarticIn:function(N){return N*N*N*N},quarticOut:function(N){return 1- --N*N*N*N},quarticInOut:function(N){return(N*=2)<1?.5*N*N*N*N:-.5*((N-=2)*N*N*N-2)},quinticIn:function(N){return N*N*N*N*N},quinticOut:function(N){return--N*N*N*N*N+1},quinticInOut:function(N){return(N*=2)<1?.5*N*N*N*N*N:.5*((N-=2)*N*N*N*N+2)},sinusoidalIn:function(N){return 1-Math.cos(N*Math.PI/2)},sinusoidalOut:function(N){return Math.sin(N*Math.PI/2)},sinusoidalInOut:function(N){return.5*(1-Math.cos(Math.PI*N))},exponentialIn:function(N){return 0===N?0:Math.pow(1024,N-1)},exponentialOut:function(N){return 1===N?1:1-Math.pow(2,-10*N)},exponentialInOut:function(N){return 0===N?0:1===N?1:(N*=2)<1?.5*Math.pow(1024,N-1):.5*(2-Math.pow(2,-10*(N-1)))},circularIn:function(N){return 1-Math.sqrt(1-N*N)},circularOut:function(N){return Math.sqrt(1- --N*N)},circularInOut:function(N){return(N*=2)<1?-.5*(Math.sqrt(1-N*N)-1):.5*(Math.sqrt(1-(N-=2)*N)+1)},elasticIn:function(N){var ee,j=.1;return 0===N?0:1===N?1:(!j||j<1?(j=1,ee=.1):ee=.4*Math.asin(1/j)/(2*Math.PI),-j*Math.pow(2,10*(N-=1))*Math.sin((N-ee)*(2*Math.PI)/.4))},elasticOut:function(N){var ee,j=.1;return 0===N?0:1===N?1:(!j||j<1?(j=1,ee=.1):ee=.4*Math.asin(1/j)/(2*Math.PI),j*Math.pow(2,-10*N)*Math.sin((N-ee)*(2*Math.PI)/.4)+1)},elasticInOut:function(N){var ee,j=.1;return 0===N?0:1===N?1:(!j||j<1?(j=1,ee=.1):ee=.4*Math.asin(1/j)/(2*Math.PI),(N*=2)<1?j*Math.pow(2,10*(N-=1))*Math.sin((N-ee)*(2*Math.PI)/.4)*-.5:j*Math.pow(2,-10*(N-=1))*Math.sin((N-ee)*(2*Math.PI)/.4)*.5+1)},backIn:function(N){return N*N*(2.70158*N-1.70158)},backOut:function(N){return--N*N*(2.70158*N+1.70158)+1},backInOut:function(N){var ee=2.5949095;return(N*=2)<1?N*N*((ee+1)*N-ee)*.5:.5*((N-=2)*N*((ee+1)*N+ee)+2)},bounceIn:function(N){return 1-_.bounceOut(1-N)},bounceOut:function(N){return N<1/2.75?7.5625*N*N:N<2/2.75?7.5625*(N-=1.5/2.75)*N+.75:N<2.5/2.75?7.5625*(N-=2.25/2.75)*N+.9375:7.5625*(N-=2.625/2.75)*N+.984375},bounceInOut:function(N){return N<.5?.5*_.bounceIn(2*N):.5*_.bounceOut(2*N-1)+.5}};const T=_;var Y=C(4404),ie=C(1861);const me=function(){function N(ee){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=ee.life||1e3,this._delay=ee.delay||0,this.loop=ee.loop||!1,this.onframe=ee.onframe||Y.noop,this.ondestroy=ee.ondestroy||Y.noop,this.onrestart=ee.onrestart||Y.noop,ee.easing&&this.setEasing(ee.easing)}return N.prototype.step=function(ee,j){if(this._inited||(this._startTime=ee+this._delay,this._inited=!0),!this._paused){var ae=this._life,fe=ee-this._startTime-this._pausedTime,he=fe/ae;he<0&&(he=0),he=Math.min(he,1);var Ce=this.easingFunc,Se=Ce?Ce(he):he;if(this.onframe(Se),1===he){if(!this.loop)return!0;this._startTime=ee-fe%ae,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=j},N.prototype.pause=function(){this._paused=!0},N.prototype.resume=function(){this._paused=!1},N.prototype.setEasing=function(ee){this.easing=ee,this.easingFunc=(0,Y.isFunction)(ee)?ee:T[ee]||(0,ie.H)(ee)},N}();var Me=C(2),de=C(2315),G=Array.prototype.slice;function Z(N,ee,j){return(ee-N)*j+N}function Q(N,ee,j,ae){for(var fe=ee.length,he=0;he<fe;he++)N[he]=Z(ee[he],j[he],ae);return N}function re(N,ee,j,ae){for(var fe=ee.length,he=0;he<fe;he++)N[he]=ee[he]+j[he]*ae;return N}function te(N,ee,j,ae){for(var fe=ee.length,he=fe&&ee[0].length,Ce=0;Ce<fe;Ce++){N[Ce]||(N[Ce]=[]);for(var Se=0;Se<he;Se++)N[Ce][Se]=ee[Ce][Se]+j[Ce][Se]*ae}return N}function q(N,ee){for(var j=N.length,ae=ee.length,fe=j>ae?ee:N,he=Math.min(j,ae),Ce=fe[he-1]||{color:[0,0,0,0],offset:0},Se=he;Se<Math.max(j,ae);Se++)fe.push({offset:Ce.offset,color:Ce.color.slice()})}function oe(N,ee,j){var ae=N,fe=ee;if(ae.push&&fe.push){var he=ae.length,Ce=fe.length;if(he!==Ce)if(he>Ce)ae.length=Ce;else for(var ye=he;ye<Ce;ye++)ae.push(1===j?fe[ye]:G.call(fe[ye]));var we=ae[0]&&ae[0].length;for(ye=0;ye<ae.length;ye++)if(1===j)isNaN(ae[ye])&&(ae[ye]=fe[ye]);else for(var Ae=0;Ae<we;Ae++)isNaN(ae[ye][Ae])&&(ae[ye][Ae]=fe[ye][Ae])}}function M(N){if((0,Y.isArrayLike)(N)){var ee=N.length;if((0,Y.isArrayLike)(N[0])){for(var j=[],ae=0;ae<ee;ae++)j.push(G.call(N[ae]));return j}return G.call(N)}return N}function se(N){return N[0]=Math.floor(N[0])||0,N[1]=Math.floor(N[1])||0,N[2]=Math.floor(N[2])||0,N[3]=null==N[3]?1:N[3],"rgba("+N.join(",")+")"}function E(N){return 4===N||5===N}function B(N){return 1===N||2===N}var H=[0,0,0,0],A=function(){function N(ee){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=ee}return N.prototype.isFinished=function(){return this._finished},N.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},N.prototype.needsAnimate=function(){return this.keyframes.length>=1},N.prototype.getAdditiveTrack=function(){return this._additiveTrack},N.prototype.addKeyframe=function(ee,j,ae){this._needsSort=!0;var fe=this.keyframes,he=fe.length,Ce=!1,Se=6,ye=j;if((0,Y.isArrayLike)(j)){var we=function ge(N){return(0,Y.isArrayLike)(N&&N[0])?2:1}(j);Se=we,(1===we&&!(0,Y.isNumber)(j[0])||2===we&&!(0,Y.isNumber)(j[0][0]))&&(Ce=!0)}else if((0,Y.isNumber)(j)&&!(0,Y.eqNaN)(j))Se=0;else if((0,Y.isString)(j))if(isNaN(+j)){var Ae=Me.parse(j);Ae&&(ye=Ae,Se=3)}else Se=0;else if((0,Y.isGradientObject)(j)){var Ne=(0,Y.extend)({},ye);Ne.colorStops=(0,Y.map)(j.colorStops,function(Je){return{offset:Je.offset,color:Me.parse(Je.color)}}),(0,de.I1)(j)?Se=4:(0,de.gO)(j)&&(Se=5),ye=Ne}0===he?this.valType=Se:(Se!==this.valType||6===Se)&&(Ce=!0),this.discrete=this.discrete||Ce;var Le={time:ee,value:ye,rawValue:j,percent:0};return ae&&(Le.easing=ae,Le.easingFunc=(0,Y.isFunction)(ae)?ae:T[ae]||(0,ie.H)(ae)),fe.push(Le),Le},N.prototype.prepare=function(ee,j){var ae=this.keyframes;this._needsSort&&ae.sort(function(nt,dt){return nt.time-dt.time});for(var fe=this.valType,he=ae.length,Ce=ae[he-1],Se=this.discrete,ye=B(fe),we=E(fe),Ae=0;Ae<he;Ae++){var Ne=ae[Ae],Le=Ne.value,Je=Ce.value;Ne.percent=Ne.time/ee,Se||(ye&&Ae!==he-1?oe(Le,Je,fe):we&&q(Le.colorStops,Je.colorStops))}if(!Se&&5!==fe&&j&&this.needsAnimate()&&j.needsAnimate()&&fe===j.valType&&!j._finished){this._additiveTrack=j;var at=ae[0].value;for(Ae=0;Ae<he;Ae++)0===fe?ae[Ae].additiveValue=ae[Ae].value-at:3===fe?ae[Ae].additiveValue=re([],ae[Ae].value,at,-1):B(fe)&&(ae[Ae].additiveValue=1===fe?re([],ae[Ae].value,at,-1):te([],ae[Ae].value,at,-1))}},N.prototype.step=function(ee,j){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var Ae,Je,at,ae=null!=this._additiveTrack,fe=ae?"additiveValue":"value",he=this.valType,Ce=this.keyframes,Se=Ce.length,ye=this.propName,we=3===he,Ne=this._lastFr,Le=Math.min;if(1===Se)Je=at=Ce[0];else{if(j<0)Ae=0;else if(j<this._lastFrP){for(Ae=Le(Ne+1,Se-1);Ae>=0&&!(Ce[Ae].percent<=j);Ae--);Ae=Le(Ae,Se-2)}else{for(Ae=Ne;Ae<Se&&!(Ce[Ae].percent>j);Ae++);Ae=Le(Ae-1,Se-2)}at=Ce[Ae+1],Je=Ce[Ae]}if(Je&&at){this._lastFr=Ae,this._lastFrP=j;var dt=at.percent-Je.percent,It=0===dt?1:Le((j-Je.percent)/dt,1);at.easingFunc&&(It=at.easingFunc(It));var an=ae?this._additiveValue:we?H:ee[ye];if((B(he)||we)&&!an&&(an=this._additiveValue=[]),this.discrete)ee[ye]=It<1?Je.rawValue:at.rawValue;else if(B(he))1===he?Q(an,Je[fe],at[fe],It):function W(N,ee,j,ae){for(var fe=ee.length,he=fe&&ee[0].length,Ce=0;Ce<fe;Ce++){N[Ce]||(N[Ce]=[]);for(var Se=0;Se<he;Se++)N[Ce][Se]=Z(ee[Ce][Se],j[Ce][Se],ae)}}(an,Je[fe],at[fe],It);else if(E(he)){var Yt=Je[fe],mn=at[fe],Cn=4===he;ee[ye]={type:Cn?"linear":"radial",x:Z(Yt.x,mn.x,It),y:Z(Yt.y,mn.y,It),colorStops:(0,Y.map)(Yt.colorStops,function(Wn,Fn){var Rr=mn.colorStops[Fn];return{offset:Z(Wn.offset,Rr.offset,It),color:se(Q([],Wn.color,Rr.color,It))}}),global:mn.global},Cn?(ee[ye].x2=Z(Yt.x2,mn.x2,It),ee[ye].y2=Z(Yt.y2,mn.y2,It)):ee[ye].r=Z(Yt.r,mn.r,It)}else if(we)Q(an,Je[fe],at[fe],It),ae||(ee[ye]=se(an));else{var Gn=Z(Je[fe],at[fe],It);ae?this._additiveValue=Gn:ee[ye]=Gn}ae&&this._addToTarget(ee)}}},N.prototype._addToTarget=function(ee){var j=this.valType,ae=this.propName,fe=this._additiveValue;0===j?ee[ae]=ee[ae]+fe:3===j?(Me.parse(ee[ae],H),re(H,H,fe,1),ee[ae]=se(H)):1===j?re(ee[ae],ee[ae],fe,1):2===j&&te(ee[ae],ee[ae],fe,1)},N}();const I=function(){function N(ee,j,ae,fe){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=ee,this._loop=j,j&&fe?(0,Y.logError)("Can' use additive animation on looped animation."):(this._additiveAnimators=fe,this._allowDiscrete=ae)}return N.prototype.getMaxTime=function(){return this._maxTime},N.prototype.getDelay=function(){return this._delay},N.prototype.getLoop=function(){return this._loop},N.prototype.getTarget=function(){return this._target},N.prototype.changeTarget=function(ee){this._target=ee},N.prototype.when=function(ee,j,ae){return this.whenWithKeys(ee,j,(0,Y.keys)(j),ae)},N.prototype.whenWithKeys=function(ee,j,ae,fe){for(var he=this._tracks,Ce=0;Ce<ae.length;Ce++){var Se=ae[Ce],ye=he[Se];if(!ye){ye=he[Se]=new A(Se);var we=void 0,Ae=this._getAdditiveTrack(Se);if(Ae){var Ne=Ae.keyframes,Le=Ne[Ne.length-1];we=Le&&Le.value,3===Ae.valType&&we&&(we=se(we))}else we=this._target[Se];if(null==we)continue;ee>0&&ye.addKeyframe(0,M(we),fe),this._trackKeys.push(Se)}ye.addKeyframe(ee,M(j[Se]),fe)}return this._maxTime=Math.max(this._maxTime,ee),this},N.prototype.pause=function(){this._clip.pause(),this._paused=!0},N.prototype.resume=function(){this._clip.resume(),this._paused=!1},N.prototype.isPaused=function(){return!!this._paused},N.prototype.duration=function(ee){return this._maxTime=ee,this._force=!0,this},N.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var ee=this._doneCbs;if(ee)for(var j=ee.length,ae=0;ae<j;ae++)ee[ae].call(this)},N.prototype._abortedCallback=function(){this._setTracksFinished();var ee=this.animation,j=this._abortedCbs;if(ee&&ee.removeClip(this._clip),this._clip=null,j)for(var ae=0;ae<j.length;ae++)j[ae].call(this)},N.prototype._setTracksFinished=function(){for(var ee=this._tracks,j=this._trackKeys,ae=0;ae<j.length;ae++)ee[j[ae]].setFinished()},N.prototype._getAdditiveTrack=function(ee){var j,ae=this._additiveAnimators;if(ae)for(var fe=0;fe<ae.length;fe++){var he=ae[fe].getTrack(ee);he&&(j=he)}return j},N.prototype.start=function(ee){if(!(this._started>0)){this._started=1;for(var j=this,ae=[],fe=this._maxTime||0,he=0;he<this._trackKeys.length;he++){var Ce=this._trackKeys[he],Se=this._tracks[Ce],ye=this._getAdditiveTrack(Ce),we=Se.keyframes,Ae=we.length;if(Se.prepare(fe,ye),Se.needsAnimate())if(!this._allowDiscrete&&Se.discrete){var Ne=we[Ae-1];Ne&&(j._target[Se.propName]=Ne.rawValue),Se.setFinished()}else ae.push(Se)}if(ae.length||this._force){var Le=new me({life:fe,loop:this._loop,delay:this._delay||0,onframe:function(Je){j._started=2;var at=j._additiveAnimators;if(at){for(var nt=!1,dt=0;dt<at.length;dt++)if(at[dt]._clip){nt=!0;break}nt||(j._additiveAnimators=null)}for(dt=0;dt<ae.length;dt++)ae[dt].step(j._target,Je);var It=j._onframeCbs;if(It)for(dt=0;dt<It.length;dt++)It[dt](j._target,Je)},ondestroy:function(){j._doneCallback()}});this._clip=Le,this.animation&&this.animation.addClip(Le),ee&&Le.setEasing(ee)}else this._doneCallback();return this}},N.prototype.stop=function(ee){this._clip&&(ee&&this._clip.onframe(1),this._abortedCallback())},N.prototype.delay=function(ee){return this._delay=ee,this},N.prototype.during=function(ee){return ee&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(ee)),this},N.prototype.done=function(ee){return ee&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(ee)),this},N.prototype.aborted=function(ee){return ee&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(ee)),this},N.prototype.getClip=function(){return this._clip},N.prototype.getTrack=function(ee){return this._tracks[ee]},N.prototype.getTracks=function(){var ee=this;return(0,Y.map)(this._trackKeys,function(j){return ee._tracks[j]})},N.prototype.stopTracks=function(ee,j){if(!ee.length||!this._clip)return!0;for(var ae=this._tracks,fe=this._trackKeys,he=0;he<ee.length;he++){var Ce=ae[ee[he]];Ce&&!Ce.isFinished()&&(j?Ce.step(this._target,1):1===this._started&&Ce.step(this._target,0),Ce.setFinished())}var Se=!0;for(he=0;he<fe.length;he++)if(!ae[fe[he]].isFinished()){Se=!1;break}return Se&&this._abortedCallback(),Se},N.prototype.saveTo=function(ee,j,ae){if(ee){j=j||this._trackKeys;for(var fe=0;fe<j.length;fe++){var he=j[fe],Ce=this._tracks[he];if(Ce&&!Ce.isFinished()){var Se=Ce.keyframes,ye=Se[ae?0:Se.length-1];ye&&(ee[he]=M(ye.rawValue))}}}},N.prototype.__changeFinalValue=function(ee,j){j=j||(0,Y.keys)(ee);for(var ae=0;ae<j.length;ae++){var fe=j[ae],he=this._tracks[fe];if(he){var Ce=he.keyframes;if(Ce.length>1){var Se=Ce.pop();he.addKeyframe(Se.time,ee[fe]),he.prepare(this._maxTime,he.getAdditiveTrack())}}}},N}()},1861:($t,We,C)=>{"use strict";C.d(We,{H:()=>ie});var _=C(3645),T=C(4404),Y=/cubic-bezier\(([0-9,\.e ]+)\)/;function ie(pe){var me=pe&&Y.exec(pe);if(me){var Me=me[1].split(","),de=+(0,T.trim)(Me[0]),G=+(0,T.trim)(Me[1]),Z=+(0,T.trim)(Me[2]),Q=+(0,T.trim)(Me[3]);if(isNaN(de+G+Z+Q))return;var W=[];return function(re){return re<=0?0:re>=1?1:(0,_.kD)(0,de,Z,1,re,W)&&(0,_.af)(0,G,Q,1,W[0])}}}},5962:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Y});const Y=C(8519).Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(ie){return setTimeout(ie,16)}},720:($t,We,C)=>{"use strict";C.d(We,{a:()=>Y});var _=C(4404);function Y(ie){var pe=ie.style,me=pe.lineDash&&pe.lineWidth>0&&function T(ie,pe){return ie&&"solid"!==ie&&pe>0?"dashed"===ie?[4*pe,2*pe]:"dotted"===ie?[pe]:(0,_.isNumber)(ie)?[ie]:(0,_.isArray)(ie)?ie:null:null}(pe.lineDash,pe.lineWidth),Me=pe.lineDashOffset;if(me){var de=pe.strokeNoScale&&ie.getLineScale?ie.getLineScale():1;de&&1!==de&&(me=(0,_.map)(me,function(G){return G/de}),Me/=de)}return[me,Me]}},4301:($t,We,C)=>{"use strict";C.d(We,{Dm:()=>he,RV:()=>fe,RZ:()=>se});var _=C(9746),T=C(7062),Y=C(2823),ie=C(6695),pe=C(649),me=C(1959),Me=C(6094),de=C(4404),G=C(720),Z=C(3825),Q=C(1240),W=new T.Z(!0);function re(Se){var ye=Se.stroke;return!(null==ye||"none"===ye||!(Se.lineWidth>0))}function te(Se){return"string"==typeof Se&&"none"!==Se}function q(Se){var ye=Se.fill;return null!=ye&&"none"!==ye}function oe(Se,ye){if(null!=ye.fillOpacity&&1!==ye.fillOpacity){var we=Se.globalAlpha;Se.globalAlpha=ye.fillOpacity*ye.opacity,Se.fill(),Se.globalAlpha=we}else Se.fill()}function M(Se,ye){if(null!=ye.strokeOpacity&&1!==ye.strokeOpacity){var we=Se.globalAlpha;Se.globalAlpha=ye.strokeOpacity*ye.opacity,Se.stroke(),Se.globalAlpha=we}else Se.stroke()}function se(Se,ye,we){var Ae=(0,Y.Gq)(ye.image,ye.__image,we);if((0,Y.v5)(Ae)){var Ne=Se.createPattern(Ae,ye.repeat||"repeat");if("function"==typeof DOMMatrix&&Ne&&Ne.setTransform){var Le=new DOMMatrix;Le.translateSelf(ye.x||0,ye.y||0),Le.rotateSelf(0,0,(ye.rotation||0)*de.RADIAN_TO_DEGREE),Le.scaleSelf(ye.scaleX||1,ye.scaleY||1),Ne.setTransform(Le)}return Ne}}var $=["shadowBlur","shadowOffsetX","shadowOffsetY"],X=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ce(Se,ye,we,Ae,Ne){var Le=!1;if(!Ae&&ye===(we=we||{}))return!1;if(Ae||ye.opacity!==we.opacity){j(Se,Ne),Le=!0;var Je=Math.max(Math.min(ye.opacity,1),0);Se.globalAlpha=isNaN(Je)?_.tj.opacity:Je}(Ae||ye.blend!==we.blend)&&(Le||(j(Se,Ne),Le=!0),Se.globalCompositeOperation=ye.blend||_.tj.blend);for(var at=0;at<$.length;at++){var nt=$[at];(Ae||ye[nt]!==we[nt])&&(Le||(j(Se,Ne),Le=!0),Se[nt]=Se.dpr*(ye[nt]||0))}return(Ae||ye.shadowColor!==we.shadowColor)&&(Le||(j(Se,Ne),Le=!0),Se.shadowColor=ye.shadowColor||_.tj.shadowColor),Le}function U(Se,ye,we,Ae,Ne){var Le=ae(ye,Ne.inHover),Je=Ae?null:we&&ae(we,Ne.inHover)||{};if(Le===Je)return!1;var at=ce(Se,Le,Je,Ae,Ne);if((Ae||Le.fill!==Je.fill)&&(at||(j(Se,Ne),at=!0),te(Le.fill)&&(Se.fillStyle=Le.fill)),(Ae||Le.stroke!==Je.stroke)&&(at||(j(Se,Ne),at=!0),te(Le.stroke)&&(Se.strokeStyle=Le.stroke)),(Ae||Le.opacity!==Je.opacity)&&(at||(j(Se,Ne),at=!0),Se.globalAlpha=null==Le.opacity?1:Le.opacity),ye.hasStroke()){var dt=Le.lineWidth/(Le.strokeNoScale&&ye.getLineScale?ye.getLineScale():1);Se.lineWidth!==dt&&(at||(j(Se,Ne),at=!0),Se.lineWidth=dt)}for(var It=0;It<X.length;It++){var an=X[It],Yt=an[0];(Ae||Le[Yt]!==Je[Yt])&&(at||(j(Se,Ne),at=!0),Se[Yt]=Le[Yt]||an[1])}return at}function E(Se,ye){var we=ye.transform,Ae=Se.dpr||1;we?Se.setTransform(Ae*we[0],Ae*we[1],Ae*we[2],Ae*we[3],Ae*we[4],Ae*we[5]):Se.setTransform(Ae,0,0,Ae,0,0)}var A=1,O=2,I=3,N=4;function j(Se,ye){ye.batchFill&&Se.fill(),ye.batchStroke&&Se.stroke(),ye.batchFill="",ye.batchStroke=""}function ae(Se,ye){return ye&&Se.__hoverStyle||Se.style}function fe(Se,ye){he(Se,ye,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function he(Se,ye,we,Ae){var Ne=ye.transform;if(!ye.shouldBePainted(we.viewWidth,we.viewHeight,!1,!1))return ye.__dirty&=~Z.YV,void(ye.__isRendered=!1);var Le=ye.__clipPaths,Je=we.prevElClipPaths,at=!1,nt=!1;if((!Je||(0,ie.cF)(Le,Je))&&(Je&&Je.length&&(j(Se,we),Se.restore(),nt=at=!0,we.prevElClipPaths=null,we.allClipped=!1,we.prevEl=null),Le&&Le.length&&(j(Se,we),Se.save(),function B(Se,ye,we){for(var Ae=!1,Ne=0;Ne<Se.length;Ne++){var Le=Se[Ne];Ae=Ae||Le.isZeroArea(),E(ye,Le),ye.beginPath(),Le.buildPath(ye,Le.shape),ye.clip()}we.allClipped=Ae}(Le,Se,we),at=!0),we.prevElClipPaths=Le),we.allClipped)ye.__isRendered=!1;else{ye.beforeBrush&&ye.beforeBrush(),ye.innerBeforeBrush();var dt=we.prevEl;dt||(nt=at=!0);var It=ye instanceof pe.ZP&&ye.autoBatch&&function ee(Se){var ye=q(Se),we=re(Se);return!(Se.lineDash||!(+ye^+we)||ye&&"string"!=typeof Se.fill||we&&"string"!=typeof Se.stroke||Se.strokePercent<1||Se.strokeOpacity<1||Se.fillOpacity<1)}(ye.style);at||function H(Se,ye){return Se&&ye?Se[0]!==ye[0]||Se[1]!==ye[1]||Se[2]!==ye[2]||Se[3]!==ye[3]||Se[4]!==ye[4]||Se[5]!==ye[5]:!(!Se&&!ye)}(Ne,dt.transform)?(j(Se,we),E(Se,ye)):It||j(Se,we);var an=ae(ye,we.inHover);ye instanceof pe.ZP?(we.lastDrawType!==A&&(nt=!0,we.lastDrawType=A),U(Se,ye,dt,nt,we),(!It||!we.batchFill&&!we.batchStroke)&&Se.beginPath(),function ge(Se,ye,we,Ae){var Ne,Le=re(we),Je=q(we),at=we.strokePercent,nt=at<1,dt=!ye.path;(!ye.silent||nt)&&dt&&ye.createPathProxy();var It=ye.path||W,an=ye.__dirty;if(!Ae){var Yt=we.fill,mn=we.stroke,Cn=Je&&!!Yt.colorStops,Gn=Le&&!!mn.colorStops,Wn=Je&&!!Yt.image,Fn=Le&&!!mn.image,Rr=void 0,hn=void 0,ot=void 0,Et=void 0,Tt=void 0;(Cn||Gn)&&(Tt=ye.getBoundingRect()),Cn&&(Rr=an?(0,ie.ZF)(Se,Yt,Tt):ye.__canvasFillGradient,ye.__canvasFillGradient=Rr),Gn&&(hn=an?(0,ie.ZF)(Se,mn,Tt):ye.__canvasStrokeGradient,ye.__canvasStrokeGradient=hn),Wn&&(ot=an||!ye.__canvasFillPattern?se(Se,Yt,ye):ye.__canvasFillPattern,ye.__canvasFillPattern=ot),Fn&&(Et=an||!ye.__canvasStrokePattern?se(Se,mn,ye):ye.__canvasStrokePattern,ye.__canvasStrokePattern=ot),Cn?Se.fillStyle=Rr:Wn&&(ot?Se.fillStyle=ot:Je=!1),Gn?Se.strokeStyle=hn:Fn&&(Et?Se.strokeStyle=Et:Le=!1)}var Wt,Dn,Xt=ye.getGlobalScale();It.setScale(Xt[0],Xt[1],ye.segmentIgnoreThreshold),Se.setLineDash&&we.lineDash&&(Wt=(Ne=(0,G.a)(ye))[0],Dn=Ne[1]);var Ln=!0;(dt||an&Z.RH)&&(It.setDPR(Se.dpr),nt?It.setContext(null):(It.setContext(Se),Ln=!1),It.reset(),ye.buildPath(It,ye.shape,Ae),It.toStatic(),ye.pathUpdated()),Ln&&It.rebuildPath(Se,nt?at:1),Wt&&(Se.setLineDash(Wt),Se.lineDashOffset=Dn),Ae||(we.strokeFirst?(Le&&M(Se,we),Je&&oe(Se,we)):(Je&&oe(Se,we),Le&&M(Se,we))),Wt&&Se.setLineDash([])}(Se,ye,an,It),It&&(we.batchFill=an.fill||"",we.batchStroke=an.stroke||"")):ye instanceof Me.Z?(we.lastDrawType!==I&&(nt=!0,we.lastDrawType=I),U(Se,ye,dt,nt,we),function ve(Se,ye,we){var Ae,Ne=we.text;if(null!=Ne&&(Ne+=""),Ne){Se.font=we.font||Q.Uo,Se.textAlign=we.textAlign,Se.textBaseline=we.textBaseline;var Le=void 0,Je=void 0;Se.setLineDash&&we.lineDash&&(Le=(Ae=(0,G.a)(ye))[0],Je=Ae[1]),Le&&(Se.setLineDash(Le),Se.lineDashOffset=Je),we.strokeFirst?(re(we)&&Se.strokeText(Ne,we.x,we.y),q(we)&&Se.fillText(Ne,we.x,we.y)):(q(we)&&Se.fillText(Ne,we.x,we.y),re(we)&&Se.strokeText(Ne,we.x,we.y)),Le&&Se.setLineDash([])}}(Se,ye,an)):ye instanceof me.ZP?(we.lastDrawType!==O&&(nt=!0,we.lastDrawType=O),function L(Se,ye,we,Ae,Ne){ce(Se,ae(ye,Ne.inHover),we&&ae(we,Ne.inHover),Ae,Ne)}(Se,ye,dt,nt,we),function K(Se,ye,we){var Ae=ye.__image=(0,Y.Gq)(we.image,ye.__image,ye,ye.onload);if(Ae&&(0,Y.v5)(Ae)){var Ne=we.x||0,Le=we.y||0,Je=ye.getWidth(),at=ye.getHeight(),nt=Ae.width/Ae.height;if(null==Je&&null!=at?Je=at*nt:null==at&&null!=Je?at=Je/nt:null==Je&&null==at&&(Je=Ae.width,at=Ae.height),we.sWidth&&we.sHeight)Se.drawImage(Ae,dt=we.sx||0,It=we.sy||0,we.sWidth,we.sHeight,Ne,Le,Je,at);else if(we.sx&&we.sy){var dt,It;Se.drawImage(Ae,dt=we.sx,It=we.sy,Je-dt,at-It,Ne,Le,Je,at)}else Se.drawImage(Ae,Ne,Le,Je,at)}}(Se,ye,an)):ye.getTemporalDisplayables&&(we.lastDrawType!==N&&(nt=!0,we.lastDrawType=N),function Ce(Se,ye,we){var Ae=ye.getDisplayables(),Ne=ye.getTemporalDisplayables();Se.save();var Je,at,Le={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:we.viewWidth,viewHeight:we.viewHeight,inHover:we.inHover};for(Je=ye.getCursor(),at=Ae.length;Je<at;Je++)(nt=Ae[Je]).beforeBrush&&nt.beforeBrush(),nt.innerBeforeBrush(),he(Se,nt,Le,Je===at-1),nt.innerAfterBrush(),nt.afterBrush&&nt.afterBrush(),Le.prevEl=nt;for(var dt=0,It=Ne.length;dt<It;dt++){var nt;(nt=Ne[dt]).beforeBrush&&nt.beforeBrush(),nt.innerBeforeBrush(),he(Se,nt,Le,dt===It-1),nt.innerAfterBrush(),nt.afterBrush&&nt.afterBrush(),Le.prevEl=nt}ye.clearTemporalDisplayables(),ye.notClear=!0,Se.restore()}(Se,ye,we)),It&&Ae&&j(Se,we),ye.innerAfterBrush(),ye.afterBrush&&ye.afterBrush(),we.prevEl=ye,ye.__dirty=0,ye.__isRendered=!0}}},6695:($t,We,C)=>{"use strict";function _(de){return isFinite(de)}function ie(de,G,Z){for(var Q="radial"===G.type?function Y(de,G,Z){var Q=Z.width,W=Z.height,re=Math.min(Q,W),te=null==G.x?.5:G.x,q=null==G.y?.5:G.y,oe=null==G.r?.5:G.r;return G.global||(te=te*Q+Z.x,q=q*W+Z.y,oe*=re),te=_(te)?te:.5,q=_(q)?q:.5,oe=oe>=0&&_(oe)?oe:.5,de.createRadialGradient(te,q,0,te,q,oe)}(de,G,Z):function T(de,G,Z){var Q=null==G.x?0:G.x,W=null==G.x2?1:G.x2,re=null==G.y?0:G.y,te=null==G.y2?0:G.y2;return G.global||(Q=Q*Z.width+Z.x,W=W*Z.width+Z.x,re=re*Z.height+Z.y,te=te*Z.height+Z.y),Q=_(Q)?Q:0,W=_(W)?W:1,re=_(re)?re:0,te=_(te)?te:0,de.createLinearGradient(Q,re,W,te)}(de,G,Z),W=G.colorStops,re=0;re<W.length;re++)Q.addColorStop(W[re].offset,W[re].color);return Q}function pe(de,G){if(de===G||!de&&!G)return!1;if(!de||!G||de.length!==G.length)return!0;for(var Z=0;Z<de.length;Z++)if(de[Z]!==G[Z])return!0;return!1}function me(de){return parseInt(de,10)}function Me(de,G,Z){var Q=["width","height"][G],W=["clientWidth","clientHeight"][G],re=["paddingLeft","paddingTop"][G],te=["paddingRight","paddingBottom"][G];if(null!=Z[Q]&&"auto"!==Z[Q])return parseFloat(Z[Q]);var q=document.defaultView.getComputedStyle(de);return(de[W]||me(q[Q])||me(de.style[Q]))-(me(q[re])||0)-(me(q[te])||0)|0}C.d(We,{ZF:()=>ie,ap:()=>Me,cF:()=>pe})},8783:($t,We,C)=>{"use strict";C.d(We,{Ak:()=>pe,GD:()=>Me,KL:()=>ie,iv:()=>de,vU:()=>me});var T=1;C(8519).Z.hasGlobalWindow&&(T=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ie=T,pe=.4,me="#333",Me="#ccc",de="#eee"},9043:($t,We,C)=>{"use strict";function _(T,Y,ie,pe,me,Me,de){if(0===me)return!1;var Z,G=me;if(de>Y+G&&de>pe+G||de<Y-G&&de<pe-G||Me>T+G&&Me>ie+G||Me<T-G&&Me<ie-G)return!1;if(T===ie)return Math.abs(Me-T)<=G/2;var W=(Z=(Y-pe)/(T-ie))*Me-de+(T*pe-ie*Y)/(T-ie);return W*W/(Z*Z+1)<=G/2*G/2}C.d(We,{m:()=>_})},7157:($t,We,C)=>{"use strict";C.d(We,{X:()=>ie});var _=C(2900),T=1e-8;function Y(pe,me){return Math.abs(pe-me)<T}function ie(pe,me,Me){var de=0,G=pe[0];if(!G)return!1;for(var Z=1;Z<pe.length;Z++){var Q=pe[Z];de+=(0,_.Z)(G[0],G[1],Q[0],Q[1],me,Me),G=Q}var W=pe[0];return(!Y(G[0],W[0])||!Y(G[1],W[1]))&&(de+=(0,_.Z)(G[0],G[1],W[0],W[1],me,Me)),0!==de}},3962:($t,We,C)=>{"use strict";C.d(We,{m:()=>T});var _=C(3645);function T(Y,ie,pe,me,Me,de,G,Z,Q){if(0===G)return!1;var W=G;return!(Q>ie+W&&Q>me+W&&Q>de+W||Q<ie-W&&Q<me-W&&Q<de-W||Z>Y+W&&Z>pe+W&&Z>Me+W||Z<Y-W&&Z<pe-W&&Z<Me-W)&&(0,_.Wr)(Y,ie,pe,me,Me,de,Z,Q,null)<=W/2}},4981:($t,We,C)=>{"use strict";C.d(We,{Dp:()=>Z,GM:()=>W,M3:()=>de,dz:()=>pe,lP:()=>Me,mU:()=>G,wI:()=>re});var _=C(3066),T=C(4862),Y=C(1240),ie={};function pe(te,q){var oe=ie[q=q||Y.Uo];oe||(oe=ie[q]=new T.ZP(500));var M=oe.get(te);return null==M&&(M=Y.qW.measureText(te,q).width,oe.put(te,M)),M}function me(te,q,oe,M){var se=pe(te,q),ge=Z(q),K=de(0,se,oe),ve=G(0,ge,M);return new _.Z(K,ve,se,ge)}function Me(te,q,oe,M){var se=((te||"")+"").split("\n");if(1===se.length)return me(se[0],q,oe,M);for(var K=new _.Z(0,0,0,0),ve=0;ve<se.length;ve++){var $=me(se[ve],q,oe,M);0===ve?K.copy($):K.union($)}return K}function de(te,q,oe){return"right"===oe?te-=q:"center"===oe&&(te-=q/2),te}function G(te,q,oe){return"middle"===oe?te-=q/2:"bottom"===oe&&(te-=q),te}function Z(te){return pe("\u56fd",te)}function W(te,q){return"string"==typeof te?te.lastIndexOf("%")>=0?parseFloat(te)/100*q:parseFloat(te):te}function re(te,q,oe){var M=q.position||"inside",se=null!=q.distance?q.distance:5,ge=oe.height,K=oe.width,ve=ge/2,$=oe.x,X=oe.y,ce="left",U="top";if(M instanceof Array)$+=W(M[0],oe.width),X+=W(M[1],oe.height),ce=null,U=null;else switch(M){case"left":$-=se,X+=ve,ce="right",U="middle";break;case"right":$+=se+K,X+=ve,U="middle";break;case"top":$+=K/2,X-=se,ce="center",U="bottom";break;case"bottom":$+=K/2,X+=ge+se,ce="center";break;case"inside":$+=K/2,X+=ve,ce="center",U="middle";break;case"insideLeft":$+=se,X+=ve,U="middle";break;case"insideRight":$+=K-se,X+=ve,ce="right",U="middle";break;case"insideTop":$+=K/2,X+=se,ce="center";break;case"insideBottom":$+=K/2,X+=ge-se,ce="center",U="bottom";break;case"insideTopLeft":$+=se,X+=se;break;case"insideTopRight":$+=K-se,X+=se,ce="right";break;case"insideBottomLeft":$+=se,X+=ge-se,U="bottom";break;case"insideBottomRight":$+=K-se,X+=ge-se,ce="right",U="bottom"}return(te=te||{}).x=$,te.y=X,te.align=ce,te.verticalAlign=U,te}},3144:($t,We,C)=>{"use strict";C.d(We,{m:()=>T});var _=2*Math.PI;function T(Y){return(Y%=_)<0&&(Y+=_),Y}},2900:($t,We,C)=>{"use strict";function _(T,Y,ie,pe,me,Me){if(Me>Y&&Me>pe||Me<Y&&Me<pe||pe===Y)return 0;var de=(Me-Y)/(pe-Y),G=pe<Y?1:-1;(1===de||0===de)&&(G=pe<Y?.5:-.5);var Z=de*(ie-T)+T;return Z===me?1/0:Z>me?G:0}C.d(We,{Z:()=>_})},3066:($t,We,C)=>{"use strict";C.d(We,{Z:()=>W});var _=C(1751),T=C(7881),Y=Math.min,ie=Math.max,pe=new T.Z,me=new T.Z,Me=new T.Z,de=new T.Z,G=new T.Z,Z=new T.Z;const W=function(){function re(te,q,oe,M){oe<0&&(te+=oe,oe=-oe),M<0&&(q+=M,M=-M),this.x=te,this.y=q,this.width=oe,this.height=M}return re.prototype.union=function(te){var q=Y(te.x,this.x),oe=Y(te.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?ie(te.x+te.width,this.x+this.width)-q:te.width,this.height=isFinite(this.y)&&isFinite(this.height)?ie(te.y+te.height,this.y+this.height)-oe:te.height,this.x=q,this.y=oe},re.prototype.applyTransform=function(te){re.applyTransform(this,this,te)},re.prototype.calculateTransform=function(te){var q=this,oe=te.width/q.width,M=te.height/q.height,se=_.create();return _.translate(se,se,[-q.x,-q.y]),_.scale(se,se,[oe,M]),_.translate(se,se,[te.x,te.y]),se},re.prototype.intersect=function(te,q){if(!te)return!1;te instanceof re||(te=re.create(te));var oe=this,M=oe.x,se=oe.x+oe.width,ge=oe.y,K=oe.y+oe.height,ve=te.x,$=te.x+te.width,X=te.y,ce=te.y+te.height,U=!(se<ve||$<M||K<X||ce<ge);if(q){var L=1/0,E=0,B=Math.abs(se-ve),H=Math.abs($-M),A=Math.abs(K-X),O=Math.abs(ce-ge),I=Math.min(B,H),N=Math.min(A,O);se<ve||$<M?I>E&&(E=I,T.Z.set(Z,B<H?-B:H,0)):I<L&&(L=I,T.Z.set(G,B<H?B:-H,0)),K<X||ce<ge?N>E&&(E=N,T.Z.set(Z,0,A<O?-A:O)):I<L&&(L=I,T.Z.set(G,0,A<O?A:-O))}return q&&T.Z.copy(q,U?G:Z),U},re.prototype.contain=function(te,q){var oe=this;return te>=oe.x&&te<=oe.x+oe.width&&q>=oe.y&&q<=oe.y+oe.height},re.prototype.clone=function(){return new re(this.x,this.y,this.width,this.height)},re.prototype.copy=function(te){re.copy(this,te)},re.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},re.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},re.prototype.isZero=function(){return 0===this.width||0===this.height},re.create=function(te){return new re(te.x,te.y,te.width,te.height)},re.copy=function(te,q){te.x=q.x,te.y=q.y,te.width=q.width,te.height=q.height},re.applyTransform=function(te,q,oe){if(oe){if(oe[1]<1e-5&&oe[1]>-1e-5&&oe[2]<1e-5&&oe[2]>-1e-5){var M=oe[0],se=oe[3],K=oe[5];return te.x=q.x*M+oe[4],te.y=q.y*se+K,te.width=q.width*M,te.height=q.height*se,te.width<0&&(te.x+=te.width,te.width=-te.width),void(te.height<0&&(te.y+=te.height,te.height=-te.height))}pe.x=Me.x=q.x,pe.y=de.y=q.y,me.x=de.x=q.x+q.width,me.y=Me.y=q.y+q.height,pe.transform(oe),de.transform(oe),me.transform(oe),Me.transform(oe),te.x=Y(pe.x,me.x,Me.x,de.x),te.y=Y(pe.y,me.y,Me.y,de.y);var ve=ie(pe.x,me.x,Me.x,de.x),$=ie(pe.y,me.y,Me.y,de.y);te.width=ve-te.x,te.height=$-te.y}else te!==q&&re.copy(te,q)},re}()},7481:($t,We,C)=>{"use strict";C.d(We,{Z:()=>T});const T=function(){function Y(ie){ie&&(this._$eventProcessor=ie)}return Y.prototype.on=function(ie,pe,me,Me){this._$handlers||(this._$handlers={});var de=this._$handlers;if("function"==typeof pe&&(Me=me,me=pe,pe=null),!me||!ie)return this;var G=this._$eventProcessor;null!=pe&&G&&G.normalizeQuery&&(pe=G.normalizeQuery(pe)),de[ie]||(de[ie]=[]);for(var Z=0;Z<de[ie].length;Z++)if(de[ie][Z].h===me)return this;var Q={h:me,query:pe,ctx:Me||this,callAtLast:me.zrEventfulCallAtLast},W=de[ie].length-1,re=de[ie][W];return re&&re.callAtLast?de[ie].splice(W,0,Q):de[ie].push(Q),this},Y.prototype.isSilent=function(ie){var pe=this._$handlers;return!pe||!pe[ie]||!pe[ie].length},Y.prototype.off=function(ie,pe){var me=this._$handlers;if(!me)return this;if(!ie)return this._$handlers={},this;if(pe){if(me[ie]){for(var Me=[],de=0,G=me[ie].length;de<G;de++)me[ie][de].h!==pe&&Me.push(me[ie][de]);me[ie]=Me}me[ie]&&0===me[ie].length&&delete me[ie]}else delete me[ie];return this},Y.prototype.trigger=function(ie){for(var pe=[],me=1;me<arguments.length;me++)pe[me-1]=arguments[me];if(!this._$handlers)return this;var Me=this._$handlers[ie],de=this._$eventProcessor;if(Me)for(var G=pe.length,Z=Me.length,Q=0;Q<Z;Q++){var W=Me[Q];if(!de||!de.filter||null==W.query||de.filter(ie,W.query))switch(G){case 0:W.h.call(W.ctx);break;case 1:W.h.call(W.ctx,pe[0]);break;case 2:W.h.call(W.ctx,pe[0],pe[1]);break;default:W.h.apply(W.ctx,pe)}}return de&&de.afterTrigger&&de.afterTrigger(ie),this},Y.prototype.triggerWithContext=function(ie){for(var pe=[],me=1;me<arguments.length;me++)pe[me-1]=arguments[me];if(!this._$handlers)return this;var Me=this._$handlers[ie],de=this._$eventProcessor;if(Me)for(var G=pe.length,Z=pe[G-1],Q=Me.length,W=0;W<Q;W++){var re=Me[W];if(!de||!de.filter||null==re.query||de.filter(ie,re.query))switch(G){case 0:re.h.call(Z);break;case 1:re.h.call(Z,pe[0]);break;case 2:re.h.call(Z,pe[0],pe[1]);break;default:re.h.apply(Z,pe.slice(1,G-1))}}return de&&de.afterTrigger&&de.afterTrigger(ie),this},Y}()},4862:($t,We,C)=>{"use strict";C.d(We,{ZP:()=>ie});var _=function pe(me){this.value=me},T=function(){function pe(){this._len=0}return pe.prototype.insert=function(me){var Me=new _(me);return this.insertEntry(Me),Me},pe.prototype.insertEntry=function(me){this.head?(this.tail.next=me,me.prev=this.tail,me.next=null,this.tail=me):this.head=this.tail=me,this._len++},pe.prototype.remove=function(me){var Me=me.prev,de=me.next;Me?Me.next=de:this.head=de,de?de.prev=Me:this.tail=Me,me.next=me.prev=null,this._len--},pe.prototype.len=function(){return this._len},pe.prototype.clear=function(){this.head=this.tail=null,this._len=0},pe}();const ie=function(){function pe(me){this._list=new T,this._maxSize=10,this._map={},this._maxSize=me}return pe.prototype.put=function(me,Me){var de=this._list,G=this._map,Z=null;if(null==G[me]){var Q=de.len(),W=this._lastRemovedEntry;if(Q>=this._maxSize&&Q>0){var re=de.head;de.remove(re),delete G[re.key],Z=re.value,this._lastRemovedEntry=re}W?W.value=Me:W=new _(Me),W.key=me,de.insertEntry(W),G[me]=W}return Z},pe.prototype.get=function(me){var Me=this._map[me],de=this._list;if(null!=Me)return Me!==de.tail&&(de.remove(Me),de.insertEntry(Me)),Me.value},pe.prototype.clear=function(){this._list.clear(),this._map={}},pe.prototype.len=function(){return this._list.len()},pe}()},7668:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Me});var _=C(7881),T=[0,0],Y=[0,0],ie=new _.Z,pe=new _.Z;const Me=function(){function de(G,Z){this._corners=[],this._axes=[],this._origin=[0,0];for(var Q=0;Q<4;Q++)this._corners[Q]=new _.Z;for(Q=0;Q<2;Q++)this._axes[Q]=new _.Z;G&&this.fromBoundingRect(G,Z)}return de.prototype.fromBoundingRect=function(G,Z){var Q=this._corners,W=this._axes,re=G.x,te=G.y,q=re+G.width,oe=te+G.height;if(Q[0].set(re,te),Q[1].set(q,te),Q[2].set(q,oe),Q[3].set(re,oe),Z)for(var M=0;M<4;M++)Q[M].transform(Z);for(_.Z.sub(W[0],Q[1],Q[0]),_.Z.sub(W[1],Q[3],Q[0]),W[0].normalize(),W[1].normalize(),M=0;M<2;M++)this._origin[M]=W[M].dot(Q[0])},de.prototype.intersect=function(G,Z){var Q=!0,W=!Z;return ie.set(1/0,1/0),pe.set(0,0),!this._intersectCheckOneSide(this,G,ie,pe,W,1)&&(Q=!1,W)||!this._intersectCheckOneSide(G,this,ie,pe,W,-1)&&(Q=!1,W)||W||_.Z.copy(Z,Q?ie:pe),Q},de.prototype._intersectCheckOneSide=function(G,Z,Q,W,re,te){for(var q=!0,oe=0;oe<2;oe++){var M=this._axes[oe];if(this._getProjMinMaxOnAxis(oe,G._corners,T),this._getProjMinMaxOnAxis(oe,Z._corners,Y),T[1]<Y[0]||T[0]>Y[1]){if(q=!1,re)return q;var se=Math.abs(Y[0]-T[1]),ge=Math.abs(T[0]-Y[1]);Math.min(se,ge)>W.len()&&_.Z.scale(W,M,se<ge?-se*te:ge*te)}else Q&&(se=Math.abs(Y[0]-T[1]),ge=Math.abs(T[0]-Y[1]),Math.min(se,ge)<Q.len()&&_.Z.scale(Q,M,se<ge?se*te:-ge*te))}return q},de.prototype._getProjMinMaxOnAxis=function(G,Z,Q){for(var W=this._axes[G],re=this._origin,te=Z[0].dot(W)+re[G],q=te,oe=te,M=1;M<Z.length;M++){var se=Z[M].dot(W)+re[G];q=Math.min(se,q),oe=Math.max(se,oe)}Q[0]=q,Q[1]=oe},de}()},7062:($t,We,C)=>{"use strict";C.d(We,{L:()=>X,Z:()=>U});var _=C(8060),T=C(3066),Y=C(8783),ie=C(9653),pe=C(3645),me={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Me=[],de=[],G=[],Z=[],Q=[],W=[],re=Math.min,te=Math.max,q=Math.cos,oe=Math.sin,M=Math.abs,se=Math.PI,ge=2*se,K=typeof Float32Array<"u",ve=[];function $(L){return Math.round(L/se*1e8)/1e8%2*se}function X(L,E){var B=$(L[0]);B<0&&(B+=ge);var A=L[1];A+=B-L[0],!E&&A-B>=ge?A=B+ge:E&&B-A>=ge?A=B-ge:!E&&B>A?A=B+(ge-$(B-A)):E&&B<A&&(A=B-(ge-$(A-B))),L[0]=B,L[1]=A}const U=function(){function L(E){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,E&&(this._saveData=!1),this._saveData&&(this.data=[])}return L.prototype.increaseVersion=function(){this._version++},L.prototype.getVersion=function(){return this._version},L.prototype.setScale=function(E,B,H){(H=H||0)>0&&(this._ux=M(H/Y.KL/E)||0,this._uy=M(H/Y.KL/B)||0)},L.prototype.setDPR=function(E){this.dpr=E},L.prototype.setContext=function(E){this._ctx=E},L.prototype.getContext=function(){return this._ctx},L.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},L.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},L.prototype.moveTo=function(E,B){return this._drawPendingPt(),this.addData(me.M,E,B),this._ctx&&this._ctx.moveTo(E,B),this._x0=E,this._y0=B,this._xi=E,this._yi=B,this},L.prototype.lineTo=function(E,B){var H=M(E-this._xi),A=M(B-this._yi),O=H>this._ux||A>this._uy;if(this.addData(me.L,E,B),this._ctx&&O&&this._ctx.lineTo(E,B),O)this._xi=E,this._yi=B,this._pendingPtDist=0;else{var I=H*H+A*A;I>this._pendingPtDist&&(this._pendingPtX=E,this._pendingPtY=B,this._pendingPtDist=I)}return this},L.prototype.bezierCurveTo=function(E,B,H,A,O,I){return this._drawPendingPt(),this.addData(me.C,E,B,H,A,O,I),this._ctx&&this._ctx.bezierCurveTo(E,B,H,A,O,I),this._xi=O,this._yi=I,this},L.prototype.quadraticCurveTo=function(E,B,H,A){return this._drawPendingPt(),this.addData(me.Q,E,B,H,A),this._ctx&&this._ctx.quadraticCurveTo(E,B,H,A),this._xi=H,this._yi=A,this},L.prototype.arc=function(E,B,H,A,O,I){return this._drawPendingPt(),ve[0]=A,ve[1]=O,X(ve,I),this.addData(me.A,E,B,H,H,A=ve[0],(O=ve[1])-A,0,I?0:1),this._ctx&&this._ctx.arc(E,B,H,A,O,I),this._xi=q(O)*H+E,this._yi=oe(O)*H+B,this},L.prototype.arcTo=function(E,B,H,A,O){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(E,B,H,A,O),this},L.prototype.rect=function(E,B,H,A){return this._drawPendingPt(),this._ctx&&this._ctx.rect(E,B,H,A),this.addData(me.R,E,B,H,A),this},L.prototype.closePath=function(){this._drawPendingPt(),this.addData(me.Z);var E=this._ctx,B=this._x0,H=this._y0;return E&&E.closePath(),this._xi=B,this._yi=H,this},L.prototype.fill=function(E){E&&E.fill(),this.toStatic()},L.prototype.stroke=function(E){E&&E.stroke(),this.toStatic()},L.prototype.len=function(){return this._len},L.prototype.setData=function(E){var B=E.length;(!this.data||this.data.length!==B)&&K&&(this.data=new Float32Array(B));for(var H=0;H<B;H++)this.data[H]=E[H];this._len=B},L.prototype.appendPath=function(E){E instanceof Array||(E=[E]);for(var B=E.length,H=0,A=this._len,O=0;O<B;O++)H+=E[O].len();for(K&&this.data instanceof Float32Array&&(this.data=new Float32Array(A+H)),O=0;O<B;O++)for(var I=E[O].data,N=0;N<I.length;N++)this.data[A++]=I[N];this._len=A},L.prototype.addData=function(E,B,H,A,O,I,N,ee,j){if(this._saveData){var ae=this.data;this._len+arguments.length>ae.length&&(this._expandData(),ae=this.data);for(var fe=0;fe<arguments.length;fe++)ae[this._len++]=arguments[fe]}},L.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},L.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var E=[],B=0;B<this._len;B++)E[B]=this.data[B];this.data=E}},L.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var E=this.data;E instanceof Array&&(E.length=this._len,K&&this._len>11&&(this.data=new Float32Array(E)))}},L.prototype.getBoundingRect=function(){G[0]=G[1]=Q[0]=Q[1]=Number.MAX_VALUE,Z[0]=Z[1]=W[0]=W[1]=-Number.MAX_VALUE;var I,E=this.data,B=0,H=0,A=0,O=0;for(I=0;I<this._len;){var N=E[I++],ee=1===I;switch(ee&&(A=B=E[I],O=H=E[I+1]),N){case me.M:B=A=E[I++],H=O=E[I++],Q[0]=A,Q[1]=O,W[0]=A,W[1]=O;break;case me.L:(0,ie.u4)(B,H,E[I],E[I+1],Q,W),B=E[I++],H=E[I++];break;case me.C:(0,ie.H9)(B,H,E[I++],E[I++],E[I++],E[I++],E[I],E[I+1],Q,W),B=E[I++],H=E[I++];break;case me.Q:(0,ie.mJ)(B,H,E[I++],E[I++],E[I],E[I+1],Q,W),B=E[I++],H=E[I++];break;case me.A:var j=E[I++],ae=E[I++],fe=E[I++],he=E[I++],Ce=E[I++],Se=E[I++]+Ce;I+=1;var ye=!E[I++];ee&&(A=q(Ce)*fe+j,O=oe(Ce)*he+ae),(0,ie.qL)(j,ae,fe,he,Ce,Se,ye,Q,W),B=q(Se)*fe+j,H=oe(Se)*he+ae;break;case me.R:A=B=E[I++],O=H=E[I++];var we=E[I++],Ae=E[I++];(0,ie.u4)(A,O,A+we,O+Ae,Q,W);break;case me.Z:B=A,H=O}_.min(G,G,Q),_.max(Z,Z,W)}return 0===I&&(G[0]=G[1]=Z[0]=Z[1]=0),new T.Z(G[0],G[1],Z[0]-G[0],Z[1]-G[1])},L.prototype._calculateLength=function(){var E=this.data,B=this._len,H=this._ux,A=this._uy,O=0,I=0,N=0,ee=0;this._pathSegLen||(this._pathSegLen=[]);for(var j=this._pathSegLen,ae=0,fe=0,he=0;he<B;){var Ce=E[he++],Se=1===he;Se&&(N=O=E[he],ee=I=E[he+1]);var ye=-1;switch(Ce){case me.M:O=N=E[he++],I=ee=E[he++];break;case me.L:var we=E[he++],Le=(Ae=E[he++])-I;(M(Ne=we-O)>H||M(Le)>A||he===B-1)&&(ye=Math.sqrt(Ne*Ne+Le*Le),O=we,I=Ae);break;case me.C:var Je=E[he++],at=E[he++],Ae=(we=E[he++],E[he++]),nt=E[he++],dt=E[he++];ye=(0,pe.Ci)(O,I,Je,at,we,Ae,nt,dt,10),O=nt,I=dt;break;case me.Q:Je=E[he++],at=E[he++],we=E[he++],Ae=E[he++],ye=(0,pe.wQ)(O,I,Je,at,we,Ae,10),O=we,I=Ae;break;case me.A:var It=E[he++],an=E[he++],Yt=E[he++],mn=E[he++],Cn=E[he++],Gn=E[he++],Wn=Gn+Cn;he+=1,he++,Se&&(N=q(Cn)*Yt+It,ee=oe(Cn)*mn+an),ye=te(Yt,mn)*re(ge,Math.abs(Gn)),O=q(Wn)*Yt+It,I=oe(Wn)*mn+an;break;case me.R:N=O=E[he++],ee=I=E[he++],ye=2*E[he++]+2*E[he++];break;case me.Z:var Ne=N-O;Le=ee-I,ye=Math.sqrt(Ne*Ne+Le*Le),O=N,I=ee}ye>=0&&(j[fe++]=ye,ae+=ye)}return this._pathLen=ae,ae},L.prototype.rebuildPath=function(E,B){var N,ee,j,ae,fe,he,Se,Ne,Je,at,H=this.data,A=this._ux,O=this._uy,I=this._len,Ce=B<1,we=0,Ae=0,Le=0;if(!Ce||(this._pathSegLen||this._calculateLength(),Se=this._pathSegLen,Ne=B*this._pathLen))e:for(var nt=0;nt<I;){var dt=H[nt++],It=1===nt;switch(It&&(N=j=H[nt],ee=ae=H[nt+1]),dt!==me.L&&Le>0&&(E.lineTo(Je,at),Le=0),dt){case me.M:N=j=H[nt++],ee=ae=H[nt++],E.moveTo(j,ae);break;case me.L:fe=H[nt++],he=H[nt++];var an=M(fe-j),Yt=M(he-ae);if(an>A||Yt>O){if(Ce){if(we+(mn=Se[Ae++])>Ne){E.lineTo(j*(1-(Cn=(Ne-we)/mn))+fe*Cn,ae*(1-Cn)+he*Cn);break e}we+=mn}E.lineTo(fe,he),j=fe,ae=he,Le=0}else{var Gn=an*an+Yt*Yt;Gn>Le&&(Je=fe,at=he,Le=Gn)}break;case me.C:var Wn=H[nt++],Fn=H[nt++],Rr=H[nt++],hn=H[nt++],ot=H[nt++],Et=H[nt++];if(Ce){if(we+(mn=Se[Ae++])>Ne){(0,pe.Vz)(j,Wn,Rr,ot,Cn=(Ne-we)/mn,Me),(0,pe.Vz)(ae,Fn,hn,Et,Cn,de),E.bezierCurveTo(Me[1],de[1],Me[2],de[2],Me[3],de[3]);break e}we+=mn}E.bezierCurveTo(Wn,Fn,Rr,hn,ot,Et),j=ot,ae=Et;break;case me.Q:if(Wn=H[nt++],Fn=H[nt++],Rr=H[nt++],hn=H[nt++],Ce){if(we+(mn=Se[Ae++])>Ne){(0,pe.Lx)(j,Wn,Rr,Cn=(Ne-we)/mn,Me),(0,pe.Lx)(ae,Fn,hn,Cn,de),E.quadraticCurveTo(Me[1],de[1],Me[2],de[2]);break e}we+=mn}E.quadraticCurveTo(Wn,Fn,Rr,hn),j=Rr,ae=hn;break;case me.A:var Tt=H[nt++],Xt=H[nt++],Wt=H[nt++],Dn=H[nt++],Ln=H[nt++],xr=H[nt++],lr=H[nt++],ct=!H[nt++],Ft=Wt>Dn?Wt:Dn,Un=M(Wt-Dn)>.001,Gt=Ln+xr,_t=!1;if(Ce&&(we+(mn=Se[Ae++])>Ne&&(Gt=Ln+xr*(Ne-we)/mn,_t=!0),we+=mn),Un&&E.ellipse?E.ellipse(Tt,Xt,Wt,Dn,lr,Ln,Gt,ct):E.arc(Tt,Xt,Ft,Ln,Gt,ct),_t)break e;It&&(N=q(Ln)*Wt+Tt,ee=oe(Ln)*Dn+Xt),j=q(Gt)*Wt+Tt,ae=oe(Gt)*Dn+Xt;break;case me.R:N=j=H[nt],ee=ae=H[nt+1],fe=H[nt++],he=H[nt++];var Xe=H[nt++],Ye=H[nt++];if(Ce){if(we+(mn=Se[Ae++])>Ne){var ke=Ne-we;E.moveTo(fe,he),E.lineTo(fe+re(ke,Xe),he),(ke-=Xe)>0&&E.lineTo(fe+Xe,he+re(ke,Ye)),(ke-=Ye)>0&&E.lineTo(fe+te(Xe-ke,0),he+Ye),(ke-=Xe)>0&&E.lineTo(fe,he+te(Ye-ke,0));break e}we+=mn}E.rect(fe,he,Xe,Ye);break;case me.Z:if(Ce){var mn;if(we+(mn=Se[Ae++])>Ne){var Cn;E.lineTo(j*(1-(Cn=(Ne-we)/mn))+N*Cn,ae*(1-Cn)+ee*Cn);break e}we+=mn}E.closePath(),j=N,ae=ee}}},L.prototype.clone=function(){var E=new L,B=this.data;return E.data=B.slice?B.slice():Array.prototype.slice.call(B),E._len=this._len,E},L.CMD=me,L.initDefaultProps=((E=L.prototype)._saveData=!0,E._ux=0,E._uy=0,E._pendingPtDist=0,void(E._version=0)),L;var E}()},7881:($t,We,C)=>{"use strict";C.d(We,{Z:()=>T});const T=function(){function Y(ie,pe){this.x=ie||0,this.y=pe||0}return Y.prototype.copy=function(ie){return this.x=ie.x,this.y=ie.y,this},Y.prototype.clone=function(){return new Y(this.x,this.y)},Y.prototype.set=function(ie,pe){return this.x=ie,this.y=pe,this},Y.prototype.equal=function(ie){return ie.x===this.x&&ie.y===this.y},Y.prototype.add=function(ie){return this.x+=ie.x,this.y+=ie.y,this},Y.prototype.scale=function(ie){this.x*=ie,this.y*=ie},Y.prototype.scaleAndAdd=function(ie,pe){this.x+=ie.x*pe,this.y+=ie.y*pe},Y.prototype.sub=function(ie){return this.x-=ie.x,this.y-=ie.y,this},Y.prototype.dot=function(ie){return this.x*ie.x+this.y*ie.y},Y.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Y.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Y.prototype.normalize=function(){var ie=this.len();return this.x/=ie,this.y/=ie,this},Y.prototype.distance=function(ie){var pe=this.x-ie.x,me=this.y-ie.y;return Math.sqrt(pe*pe+me*me)},Y.prototype.distanceSquare=function(ie){var pe=this.x-ie.x,me=this.y-ie.y;return pe*pe+me*me},Y.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Y.prototype.transform=function(ie){if(ie){var pe=this.x,me=this.y;return this.x=ie[0]*pe+ie[2]*me+ie[4],this.y=ie[1]*pe+ie[3]*me+ie[5],this}},Y.prototype.toArray=function(ie){return ie[0]=this.x,ie[1]=this.y,ie},Y.prototype.fromArray=function(ie){this.x=ie[0],this.y=ie[1]},Y.set=function(ie,pe,me){ie.x=pe,ie.y=me},Y.copy=function(ie,pe){ie.x=pe.x,ie.y=pe.y},Y.len=function(ie){return Math.sqrt(ie.x*ie.x+ie.y*ie.y)},Y.lenSquare=function(ie){return ie.x*ie.x+ie.y*ie.y},Y.dot=function(ie,pe){return ie.x*pe.x+ie.y*pe.y},Y.add=function(ie,pe,me){ie.x=pe.x+me.x,ie.y=pe.y+me.y},Y.sub=function(ie,pe,me){ie.x=pe.x-me.x,ie.y=pe.y-me.y},Y.scale=function(ie,pe,me){ie.x=pe.x*me,ie.y=pe.y*me},Y.scaleAndAdd=function(ie,pe,me,Me){ie.x=pe.x+me.x*Me,ie.y=pe.y+me.y*Me},Y.lerp=function(ie,pe,me,Me){var de=1-Me;ie.x=de*pe.x+Me*me.x,ie.y=de*pe.y+Me*me.y},Y}()},2353:($t,We,C)=>{"use strict";C.d(We,{ZP:()=>re,dN:()=>Q,kY:()=>W});var _=C(1751),T=C(8060),Y=_.identity;function pe(te){return te>5e-5||te<-5e-5}var me=[],Me=[],de=_.create(),G=Math.abs,Z=function(){function te(){}return te.prototype.getLocalTransform=function(q){return te.getLocalTransform(this,q)},te.prototype.setPosition=function(q){this.x=q[0],this.y=q[1]},te.prototype.setScale=function(q){this.scaleX=q[0],this.scaleY=q[1]},te.prototype.setSkew=function(q){this.skewX=q[0],this.skewY=q[1]},te.prototype.setOrigin=function(q){this.originX=q[0],this.originY=q[1]},te.prototype.needLocalTransform=function(){return pe(this.rotation)||pe(this.x)||pe(this.y)||pe(this.scaleX-1)||pe(this.scaleY-1)||pe(this.skewX)||pe(this.skewY)},te.prototype.updateTransform=function(){var q=this.parent&&this.parent.transform,oe=this.needLocalTransform(),M=this.transform;oe||q?(M=M||_.create(),oe?this.getLocalTransform(M):Y(M),q&&(oe?_.mul(M,q,M):_.copy(M,q)),this.transform=M,this._resolveGlobalScaleRatio(M)):M&&Y(M)},te.prototype._resolveGlobalScaleRatio=function(q){var oe=this.globalScaleRatio;if(null!=oe&&1!==oe){this.getGlobalScale(me);var M=me[0]<0?-1:1,se=me[1]<0?-1:1,ge=((me[0]-M)*oe+M)/me[0]||0,K=((me[1]-se)*oe+se)/me[1]||0;q[0]*=ge,q[1]*=ge,q[2]*=K,q[3]*=K}this.invTransform=this.invTransform||_.create(),_.invert(this.invTransform,q)},te.prototype.getComputedTransform=function(){for(var q=this,oe=[];q;)oe.push(q),q=q.parent;for(;q=oe.pop();)q.updateTransform();return this.transform},te.prototype.setLocalTransform=function(q){if(q){var oe=q[0]*q[0]+q[1]*q[1],M=q[2]*q[2]+q[3]*q[3],se=Math.atan2(q[1],q[0]),ge=Math.PI/2+se-Math.atan2(q[3],q[2]);M=Math.sqrt(M)*Math.cos(ge),oe=Math.sqrt(oe),this.skewX=ge,this.skewY=0,this.rotation=-se,this.x=+q[4],this.y=+q[5],this.scaleX=oe,this.scaleY=M,this.originX=0,this.originY=0}},te.prototype.decomposeTransform=function(){if(this.transform){var q=this.parent,oe=this.transform;q&&q.transform&&(_.mul(Me,q.invTransform,oe),oe=Me);var M=this.originX,se=this.originY;(M||se)&&(de[4]=M,de[5]=se,_.mul(Me,oe,de),Me[4]-=M,Me[5]-=se,oe=Me),this.setLocalTransform(oe)}},te.prototype.getGlobalScale=function(q){var oe=this.transform;return q=q||[],oe?(q[0]=Math.sqrt(oe[0]*oe[0]+oe[1]*oe[1]),q[1]=Math.sqrt(oe[2]*oe[2]+oe[3]*oe[3]),oe[0]<0&&(q[0]=-q[0]),oe[3]<0&&(q[1]=-q[1]),q):(q[0]=1,q[1]=1,q)},te.prototype.transformCoordToLocal=function(q,oe){var M=[q,oe],se=this.invTransform;return se&&T.applyTransform(M,M,se),M},te.prototype.transformCoordToGlobal=function(q,oe){var M=[q,oe],se=this.transform;return se&&T.applyTransform(M,M,se),M},te.prototype.getLineScale=function(){var q=this.transform;return q&&G(q[0]-1)>1e-10&&G(q[3]-1)>1e-10?Math.sqrt(G(q[0]*q[3]-q[2]*q[1])):1},te.prototype.copyTransform=function(q){W(this,q)},te.getLocalTransform=function(q,oe){oe=oe||[];var M=q.originX||0,se=q.originY||0,ge=q.scaleX,K=q.scaleY,ve=q.anchorX,$=q.anchorY,X=q.rotation||0,ce=q.x,U=q.y,L=q.skewX?Math.tan(q.skewX):0,E=q.skewY?Math.tan(-q.skewY):0;if(M||se||ve||$){var B=M+ve,H=se+$;oe[4]=-B*ge-L*H*K,oe[5]=-H*K-E*B*ge}else oe[4]=oe[5]=0;return oe[0]=ge,oe[3]=K,oe[1]=E*ge,oe[2]=L*K,X&&_.rotate(oe,oe,X),oe[4]+=M+ce,oe[5]+=se+U,oe},te.initDefaultProps=((q=te.prototype).scaleX=q.scaleY=q.globalScaleRatio=1,void(q.x=q.y=q.originX=q.originY=q.skewX=q.skewY=q.rotation=q.anchorX=q.anchorY=0)),te;var q}(),Q=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function W(te,q){for(var oe=0;oe<Q.length;oe++){var M=Q[oe];te[M]=q[M]}}const re=Z},9653:($t,We,C)=>{"use strict";C.d(We,{H9:()=>q,mJ:()=>oe,qL:()=>M,u4:()=>W,zk:()=>Q});var _=C(8060),T=C(3645),Y=Math.min,ie=Math.max,pe=Math.sin,me=Math.cos,Me=2*Math.PI,de=_.create(),G=_.create(),Z=_.create();function Q(se,ge,K){if(0!==se.length){for(var ve=se[0],$=ve[0],X=ve[0],ce=ve[1],U=ve[1],L=1;L<se.length;L++)$=Y($,(ve=se[L])[0]),X=ie(X,ve[0]),ce=Y(ce,ve[1]),U=ie(U,ve[1]);ge[0]=$,ge[1]=ce,K[0]=X,K[1]=U}}function W(se,ge,K,ve,$,X){$[0]=Y(se,K),$[1]=Y(ge,ve),X[0]=ie(se,K),X[1]=ie(ge,ve)}var re=[],te=[];function q(se,ge,K,ve,$,X,ce,U,L,E){var B=T.pP,H=T.af,A=B(se,K,$,ce,re);L[0]=1/0,L[1]=1/0,E[0]=-1/0,E[1]=-1/0;for(var O=0;O<A;O++){var I=H(se,K,$,ce,re[O]);L[0]=Y(I,L[0]),E[0]=ie(I,E[0])}for(A=B(ge,ve,X,U,te),O=0;O<A;O++){var N=H(ge,ve,X,U,te[O]);L[1]=Y(N,L[1]),E[1]=ie(N,E[1])}L[0]=Y(se,L[0]),E[0]=ie(se,E[0]),L[0]=Y(ce,L[0]),E[0]=ie(ce,E[0]),L[1]=Y(ge,L[1]),E[1]=ie(ge,E[1]),L[1]=Y(U,L[1]),E[1]=ie(U,E[1])}function oe(se,ge,K,ve,$,X,ce,U){var L=T.QC,E=T.Zm,B=ie(Y(L(se,K,$),1),0),H=ie(Y(L(ge,ve,X),1),0),A=E(se,K,$,B),O=E(ge,ve,X,H);ce[0]=Y(se,$,A),ce[1]=Y(ge,X,O),U[0]=ie(se,$,A),U[1]=ie(ge,X,O)}function M(se,ge,K,ve,$,X,ce,U,L){var E=_.min,B=_.max,H=Math.abs($-X);if(H%Me<1e-4&&H>1e-4)return U[0]=se-K,U[1]=ge-ve,L[0]=se+K,void(L[1]=ge+ve);if(de[0]=me($)*K+se,de[1]=pe($)*ve+ge,G[0]=me(X)*K+se,G[1]=pe(X)*ve+ge,E(U,de,G),B(L,de,G),($%=Me)<0&&($+=Me),(X%=Me)<0&&(X+=Me),$>X&&!ce?X+=Me:$<X&&ce&&($+=Me),ce){var A=X;X=$,$=A}for(var O=0;O<X;O+=Math.PI/2)O>$&&(Z[0]=me(O)*K+se,Z[1]=pe(O)*ve+ge,E(U,Z,U),B(L,Z,L))}},3645:($t,We,C)=>{"use strict";C.d(We,{AZ:()=>ve,Ci:()=>ge,Jz:()=>$,Lx:()=>ce,QC:()=>X,Vz:()=>M,Wr:()=>U,X_:()=>te,Zm:()=>K,af:()=>re,kD:()=>q,pP:()=>oe,t1:()=>se,wQ:()=>L});var _=C(8060),T=Math.pow,Y=Math.sqrt,ie=1e-8,pe=1e-4,me=Y(3),Me=1/3,de=(0,_.create)(),G=(0,_.create)(),Z=(0,_.create)();function Q(E){return E>-ie&&E<ie}function W(E){return E>ie||E<-ie}function re(E,B,H,A,O){var I=1-O;return I*I*(I*E+3*O*B)+O*O*(O*A+3*I*H)}function te(E,B,H,A,O){var I=1-O;return 3*(((B-E)*I+2*(H-B)*O)*I+(A-H)*O*O)}function q(E,B,H,A,O,I){var N=A+3*(B-H)-E,ee=3*(H-2*B+E),j=3*(B-E),ae=E-O,fe=ee*ee-3*N*j,he=ee*j-9*N*ae,Ce=j*j-3*ee*ae,Se=0;if(Q(fe)&&Q(he))Q(ee)?I[0]=0:(ye=-j/ee)>=0&&ye<=1&&(I[Se++]=ye);else{var we=he*he-4*fe*Ce;if(Q(we)){var Ae=he/fe,Ne=-Ae/2;(ye=-ee/N+Ae)>=0&&ye<=1&&(I[Se++]=ye),Ne>=0&&Ne<=1&&(I[Se++]=Ne)}else if(we>0){var Le=Y(we),Je=fe*ee+1.5*N*(-he+Le),at=fe*ee+1.5*N*(-he-Le);(ye=(-ee-((Je=Je<0?-T(-Je,Me):T(Je,Me))+(at=at<0?-T(-at,Me):T(at,Me))))/(3*N))>=0&&ye<=1&&(I[Se++]=ye)}else{var nt=(2*fe*ee-3*N*he)/(2*Y(fe*fe*fe)),dt=Math.acos(nt)/3,It=Y(fe),an=Math.cos(dt),ye=(-ee-2*It*an)/(3*N),Yt=(Ne=(-ee+It*(an+me*Math.sin(dt)))/(3*N),(-ee+It*(an-me*Math.sin(dt)))/(3*N));ye>=0&&ye<=1&&(I[Se++]=ye),Ne>=0&&Ne<=1&&(I[Se++]=Ne),Yt>=0&&Yt<=1&&(I[Se++]=Yt)}}return Se}function oe(E,B,H,A,O){var I=6*H-12*B+6*E,N=9*B+3*A-3*E-9*H,ee=3*B-3*E,j=0;if(Q(N))W(I)&&(ae=-ee/I)>=0&&ae<=1&&(O[j++]=ae);else{var fe=I*I-4*N*ee;if(Q(fe))O[0]=-I/(2*N);else if(fe>0){var ae,he=Y(fe),Ce=(-I-he)/(2*N);(ae=(-I+he)/(2*N))>=0&&ae<=1&&(O[j++]=ae),Ce>=0&&Ce<=1&&(O[j++]=Ce)}}return j}function M(E,B,H,A,O,I){var N=(B-E)*O+E,ee=(H-B)*O+B,j=(A-H)*O+H,ae=(ee-N)*O+N,fe=(j-ee)*O+ee,he=(fe-ae)*O+ae;I[0]=E,I[1]=N,I[2]=ae,I[3]=he,I[4]=he,I[5]=fe,I[6]=j,I[7]=A}function se(E,B,H,A,O,I,N,ee,j,ae,fe){var he,ye,we,Ae,Ne,Ce=.005,Se=1/0;de[0]=j,de[1]=ae;for(var Le=0;Le<1;Le+=.05)G[0]=re(E,H,O,N,Le),G[1]=re(B,A,I,ee,Le),(Ae=(0,_.distSquare)(de,G))<Se&&(he=Le,Se=Ae);Se=1/0;for(var Je=0;Je<32&&!(Ce<pe);Je++)we=he+Ce,G[0]=re(E,H,O,N,ye=he-Ce),G[1]=re(B,A,I,ee,ye),Ae=(0,_.distSquare)(G,de),ye>=0&&Ae<Se?(he=ye,Se=Ae):(Z[0]=re(E,H,O,N,we),Z[1]=re(B,A,I,ee,we),Ne=(0,_.distSquare)(Z,de),we<=1&&Ne<Se?(he=we,Se=Ne):Ce*=.5);return fe&&(fe[0]=re(E,H,O,N,he),fe[1]=re(B,A,I,ee,he)),Y(Se)}function ge(E,B,H,A,O,I,N,ee,j){for(var ae=E,fe=B,he=0,Ce=1/j,Se=1;Se<=j;Se++){var ye=Se*Ce,we=re(E,H,O,N,ye),Ae=re(B,A,I,ee,ye),Ne=we-ae,Le=Ae-fe;he+=Math.sqrt(Ne*Ne+Le*Le),ae=we,fe=Ae}return he}function K(E,B,H,A){var O=1-A;return O*(O*E+2*A*B)+A*A*H}function ve(E,B,H,A){return 2*((1-A)*(B-E)+A*(H-B))}function $(E,B,H,A,O){var I=E-2*B+H,N=2*(B-E),ee=E-A,j=0;if(Q(I))W(N)&&(ae=-ee/N)>=0&&ae<=1&&(O[j++]=ae);else{var fe=N*N-4*I*ee;if(Q(fe))(ae=-N/(2*I))>=0&&ae<=1&&(O[j++]=ae);else if(fe>0){var ae,he=Y(fe),Ce=(-N-he)/(2*I);(ae=(-N+he)/(2*I))>=0&&ae<=1&&(O[j++]=ae),Ce>=0&&Ce<=1&&(O[j++]=Ce)}}return j}function X(E,B,H){var A=E+H-2*B;return 0===A?.5:(E-B)/A}function ce(E,B,H,A,O){var I=(B-E)*A+E,N=(H-B)*A+B,ee=(N-I)*A+I;O[0]=E,O[1]=I,O[2]=ee,O[3]=ee,O[4]=N,O[5]=H}function U(E,B,H,A,O,I,N,ee,j){var ae,fe=.005,he=1/0;de[0]=N,de[1]=ee;for(var Ce=0;Ce<1;Ce+=.05)G[0]=K(E,H,O,Ce),G[1]=K(B,A,I,Ce),(Se=(0,_.distSquare)(de,G))<he&&(ae=Ce,he=Se);he=1/0;for(var ye=0;ye<32&&!(fe<pe);ye++){var we=ae-fe,Ae=ae+fe;G[0]=K(E,H,O,we),G[1]=K(B,A,I,we);var Se=(0,_.distSquare)(G,de);if(we>=0&&Se<he)ae=we,he=Se;else{Z[0]=K(E,H,O,Ae),Z[1]=K(B,A,I,Ae);var Ne=(0,_.distSquare)(Z,de);Ae<=1&&Ne<he?(ae=Ae,he=Ne):fe*=.5}}return j&&(j[0]=K(E,H,O,ae),j[1]=K(B,A,I,ae)),Y(he)}function L(E,B,H,A,O,I,N){for(var ee=E,j=B,ae=0,fe=1/N,he=1;he<=N;he++){var Ce=he*fe,Se=K(E,H,O,Ce),ye=K(B,A,I,Ce),we=Se-ee,Ae=ye-j;ae+=Math.sqrt(we*we+Ae*Ae),ee=Se,j=ye}return ae}},9626:($t,We,C)=>{"use strict";C.d(We,{F1:()=>te,UK:()=>Q,A4:()=>de,YB:()=>Me});var _=C(8519),T=Math.log(2);function Y(q,oe,M,se,ge,K){var ve=se+"-"+ge,$=q.length;if(K.hasOwnProperty(ve))return K[ve];if(1===oe){var X=Math.round(Math.log((1<<$)-1&~ge)/T);return q[M][X]}for(var ce=se|1<<M,U=M+1;se&1<<U;)U++;for(var L=0,E=0,B=0;E<$;E++){var H=1<<E;H&ge||(L+=(B%2?-1:1)*q[M][E]*Y(q,oe-1,U,ce,ge|H,K),B++)}return K[ve]=L,L}function ie(q,oe){var M=[[q[0],q[1],1,0,0,0,-oe[0]*q[0],-oe[0]*q[1]],[0,0,0,q[0],q[1],1,-oe[1]*q[0],-oe[1]*q[1]],[q[2],q[3],1,0,0,0,-oe[2]*q[2],-oe[2]*q[3]],[0,0,0,q[2],q[3],1,-oe[3]*q[2],-oe[3]*q[3]],[q[4],q[5],1,0,0,0,-oe[4]*q[4],-oe[4]*q[5]],[0,0,0,q[4],q[5],1,-oe[5]*q[4],-oe[5]*q[5]],[q[6],q[7],1,0,0,0,-oe[6]*q[6],-oe[6]*q[7]],[0,0,0,q[6],q[7],1,-oe[7]*q[6],-oe[7]*q[7]]],se={},ge=Y(M,8,0,0,0,se);if(0!==ge){for(var K=[],ve=0;ve<8;ve++)for(var $=0;$<8;$++)null==K[$]&&(K[$]=0),K[$]+=((ve+$)%2?-1:1)*Y(M,7,0===ve?1:0,1<<ve,1<<$,se)/ge*oe[ve];return function(X,ce,U){var L=ce*K[6]+U*K[7]+1;X[0]=(ce*K[0]+U*K[1]+K[2])/L,X[1]=(ce*K[3]+U*K[4]+K[5])/L}}}var pe="___zrEVENTSAVED",me=[];function Me(q,oe,M,se,ge){return de(me,oe,se,ge,!0)&&de(q,M,me[0],me[1])}function de(q,oe,M,se,ge){if(oe.getBoundingClientRect&&_.Z.domSupported&&!Q(oe)){var K=oe[pe]||(oe[pe]={}),ve=function G(q,oe){var M=oe.markers;if(M)return M;M=oe.markers=[];for(var se=["left","right"],ge=["top","bottom"],K=0;K<4;K++){var ve=document.createElement("div"),X=K%2,ce=(K>>1)%2;ve.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",se[X]+":0",ge[ce]+":0",se[1-X]+":auto",ge[1-ce]+":auto",""].join("!important;"),q.appendChild(ve),M.push(ve)}return M}(oe,K),$=function Z(q,oe,M){for(var se=M?"invTrans":"trans",ge=oe[se],K=oe.srcCoords,ve=[],$=[],X=!0,ce=0;ce<4;ce++){var U=q[ce].getBoundingClientRect(),L=2*ce,E=U.left,B=U.top;ve.push(E,B),X=X&&K&&E===K[L]&&B===K[L+1],$.push(q[ce].offsetLeft,q[ce].offsetTop)}return X&&ge?ge:(oe.srcCoords=ve,oe[se]=M?ie($,ve):ie(ve,$))}(ve,K,ge);if($)return $(q,M,se),!0}return!1}function Q(q){return"CANVAS"===q.nodeName.toUpperCase()}var W=/([&<>"'])/g,re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function te(q){return null==q?"":(q+"").replace(W,function(oe,M){return re[M]})}},8519:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=function me(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Y=new function me(){this.browser=new _,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Y.wxa=!0,Y.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Y.worker=!0:typeof navigator>"u"?(Y.node=!0,Y.svgSupported=!0):function ie(me,Me){var de=Me.browser,G=me.match(/Firefox\/([\d.]+)/),Z=me.match(/MSIE\s([\d.]+)/)||me.match(/Trident\/.+?rv:(([\d.]+))/),Q=me.match(/Edge?\/([\d.]+)/),W=/micromessenger/i.test(me);G&&(de.firefox=!0,de.version=G[1]),Z&&(de.ie=!0,de.version=Z[1]),Q&&(de.edge=!0,de.version=Q[1],de.newEdge=+Q[1].split(".")[0]>18),W&&(de.weChat=!0),Me.svgSupported=typeof SVGRect<"u",Me.touchEventsSupported="ontouchstart"in window&&!de.ie&&!de.edge,Me.pointerEventsSupported="onpointerdown"in window&&(de.edge||de.ie&&+de.version>=11),Me.domSupported=typeof document<"u";var re=document.documentElement.style;Me.transform3dSupported=(de.ie&&"transition"in re||de.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in re)&&!("OTransition"in re),Me.transformSupported=Me.transform3dSupported||de.ie&&+de.version>=9}(navigator.userAgent,Y);const pe=Y},9520:($t,We,C)=>{"use strict";C.d(We,{OD:()=>G,Oo:()=>Q,eV:()=>me,iP:()=>de,sT:()=>re,x1:()=>te,xg:()=>W});var _=C(8519),T=C(9626),Y=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ie=[],pe=_.Z.browser.firefox&&+_.Z.browser.version.split(".")[0]<39;function me(q,oe,M,se){return M=M||{},se?Me(q,oe,M):pe&&null!=oe.layerX&&oe.layerX!==oe.offsetX?(M.zrX=oe.layerX,M.zrY=oe.layerY):null!=oe.offsetX?(M.zrX=oe.offsetX,M.zrY=oe.offsetY):Me(q,oe,M),M}function Me(q,oe,M){if(_.Z.domSupported&&q.getBoundingClientRect){var se=oe.clientX,ge=oe.clientY;if((0,T.UK)(q)){var K=q.getBoundingClientRect();return M.zrX=se-K.left,void(M.zrY=ge-K.top)}if((0,T.A4)(ie,q,se,ge))return M.zrX=ie[0],void(M.zrY=ie[1])}M.zrX=M.zrY=0}function de(q){return q||window.event}function G(q,oe,M){if(null!=(oe=de(oe)).zrX)return oe;var se=oe.type;if(se&&se.indexOf("touch")>=0){var ve="touchend"!==se?oe.targetTouches[0]:oe.changedTouches[0];ve&&me(q,ve,oe,M)}else{me(q,oe,oe,M);var K=function Z(q){var oe=q.wheelDelta;if(oe)return oe;var M=q.deltaX,se=q.deltaY;return null==M||null==se?oe:3*Math.abs(0!==se?se:M)*(se>0?-1:se<0?1:M>0?-1:1)}(oe);oe.zrDelta=K?K/120:-(oe.detail||0)/3}var $=oe.button;return null==oe.which&&void 0!==$&&Y.test(oe.type)&&(oe.which=1&$?1:2&$?3:4&$?2:0),oe}function Q(q,oe,M,se){q.addEventListener(oe,M,se)}function W(q,oe,M,se){q.removeEventListener(oe,M,se)}var re=function(q){q.preventDefault(),q.stopPropagation(),q.cancelBubble=!0};function te(q){return 2===q.which||3===q.which}},1751:($t,We,C)=>{"use strict";function _(){return[1,0,0,1,0,0]}function T(Z){return Z[0]=1,Z[1]=0,Z[2]=0,Z[3]=1,Z[4]=0,Z[5]=0,Z}function Y(Z,Q){return Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4],Z[5]=Q[5],Z}function ie(Z,Q,W){var te=Q[1]*W[0]+Q[3]*W[1],q=Q[0]*W[2]+Q[2]*W[3],oe=Q[1]*W[2]+Q[3]*W[3],M=Q[0]*W[4]+Q[2]*W[5]+Q[4],se=Q[1]*W[4]+Q[3]*W[5]+Q[5];return Z[0]=Q[0]*W[0]+Q[2]*W[1],Z[1]=te,Z[2]=q,Z[3]=oe,Z[4]=M,Z[5]=se,Z}function pe(Z,Q,W){return Z[0]=Q[0],Z[1]=Q[1],Z[2]=Q[2],Z[3]=Q[3],Z[4]=Q[4]+W[0],Z[5]=Q[5]+W[1],Z}function me(Z,Q,W){var re=Q[0],te=Q[2],q=Q[4],oe=Q[1],M=Q[3],se=Q[5],ge=Math.sin(W),K=Math.cos(W);return Z[0]=re*K+oe*ge,Z[1]=-re*ge+oe*K,Z[2]=te*K+M*ge,Z[3]=-te*ge+K*M,Z[4]=K*q+ge*se,Z[5]=K*se-ge*q,Z}function Me(Z,Q,W){var re=W[0],te=W[1];return Z[0]=Q[0]*re,Z[1]=Q[1]*te,Z[2]=Q[2]*re,Z[3]=Q[3]*te,Z[4]=Q[4]*re,Z[5]=Q[5]*te,Z}function de(Z,Q){var W=Q[0],re=Q[2],te=Q[4],q=Q[1],oe=Q[3],M=Q[5],se=W*oe-q*re;return se?(Z[0]=oe*(se=1/se),Z[1]=-q*se,Z[2]=-re*se,Z[3]=W*se,Z[4]=(re*M-oe*te)*se,Z[5]=(q*te-W*M)*se,Z):null}function G(Z){var Q=[1,0,0,1,0,0];return Y(Q,Z),Q}C.r(We),C.d(We,{clone:()=>G,copy:()=>Y,create:()=>_,identity:()=>T,invert:()=>de,mul:()=>ie,rotate:()=>me,scale:()=>Me,translate:()=>pe})},1240:($t,We,C)=>{"use strict";C.d(We,{Uo:()=>Y,g2:()=>Z,n5:()=>_,qW:()=>G,rk:()=>T});var Q,W,_=12,T="sans-serif",Y=_+"px "+T,de=function Me(Q){var W={};if(typeof JSON>"u")return W;for(var re=0;re<Q.length;re++){var te=String.fromCharCode(re+32),q=(Q.charCodeAt(re)-20)/100;W[te]=q}return W}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),G={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(re,te){if(!Q){var q=G.createCanvas();Q=q&&q.getContext("2d")}if(Q)return W!==te&&(W=Q.font=te||Y),Q.measureText(re);re=re||"";var oe=/(\d+)px/.exec(te=te||Y),M=oe&&+oe[1]||_,se=0;if(te.indexOf("mono")>=0)se=M*re.length;else for(var ge=0;ge<re.length;ge++){var K=de[re[ge]];se+=null==K?M:K*M}return{width:se}},loadImage:function(Q,W,re){var te=new Image;return te.onload=W,te.onerror=re,te.src=Q,te}};function Z(Q){for(var W in G)Q[W]&&(G[W]=Q[W])}},8098:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Q});var _=32,T=7;function pe(W,re,te,q){var oe=re+1;if(oe===te)return 1;if(q(W[oe++],W[re])<0){for(;oe<te&&q(W[oe],W[oe-1])<0;)oe++;!function me(W,re,te){for(te--;re<te;){var q=W[re];W[re++]=W[te],W[te--]=q}}(W,re,oe)}else for(;oe<te&&q(W[oe],W[oe-1])>=0;)oe++;return oe-re}function Me(W,re,te,q,oe){for(q===re&&q++;q<te;q++){for(var K,M=W[q],se=re,ge=q;se<ge;)oe(M,W[K=se+ge>>>1])<0?ge=K:se=K+1;var ve=q-se;switch(ve){case 3:W[se+3]=W[se+2];case 2:W[se+2]=W[se+1];case 1:W[se+1]=W[se];break;default:for(;ve>0;)W[se+ve]=W[se+ve-1],ve--}W[se]=M}}function de(W,re,te,q,oe,M){var se=0,ge=0,K=1;if(M(W,re[te+oe])>0){for(ge=q-oe;K<ge&&M(W,re[te+oe+K])>0;)se=K,(K=1+(K<<1))<=0&&(K=ge);K>ge&&(K=ge),se+=oe,K+=oe}else{for(ge=oe+1;K<ge&&M(W,re[te+oe-K])<=0;)se=K,(K=1+(K<<1))<=0&&(K=ge);K>ge&&(K=ge);var ve=se;se=oe-K,K=oe-ve}for(se++;se<K;){var $=se+(K-se>>>1);M(W,re[te+$])>0?se=$+1:K=$}return K}function G(W,re,te,q,oe,M){var se=0,ge=0,K=1;if(M(W,re[te+oe])<0){for(ge=oe+1;K<ge&&M(W,re[te+oe-K])<0;)se=K,(K=1+(K<<1))<=0&&(K=ge);K>ge&&(K=ge);var ve=se;se=oe-K,K=oe-ve}else{for(ge=q-oe;K<ge&&M(W,re[te+oe+K])>=0;)se=K,(K=1+(K<<1))<=0&&(K=ge);K>ge&&(K=ge),se+=oe,K+=oe}for(se++;se<K;){var $=se+(K-se>>>1);M(W,re[te+$])<0?K=$:se=$+1}return K}function Q(W,re,te,q){te||(te=0),q||(q=W.length);var oe=q-te;if(!(oe<2)){var M=0;if(oe<_)return void Me(W,te,q,te+(M=pe(W,te,q,re)),re);var se=function Z(W,re){var se,ge,te=T,K=0,ve=[];function U(B){var H=se[B],A=ge[B],O=se[B+1],I=ge[B+1];ge[B]=A+I,B===K-3&&(se[B+1]=se[B+2],ge[B+1]=ge[B+2]),K--;var N=G(W[O],W,H,A,0,re);H+=N,0!=(A-=N)&&0!==(I=de(W[H+A-1],W,O,I,I-1,re))&&(A<=I?function L(B,H,A,O){var I=0;for(I=0;I<H;I++)ve[I]=W[B+I];var N=0,ee=A,j=B;if(W[j++]=W[ee++],0!=--O)if(1!==H){for(var fe,he,Ce,ae=te;;){fe=0,he=0,Ce=!1;do{if(re(W[ee],ve[N])<0){if(W[j++]=W[ee++],he++,fe=0,0==--O){Ce=!0;break}}else if(W[j++]=ve[N++],fe++,he=0,1==--H){Ce=!0;break}}while((fe|he)<ae);if(Ce)break;do{if(0!==(fe=G(W[ee],ve,N,H,0,re))){for(I=0;I<fe;I++)W[j+I]=ve[N+I];if(j+=fe,N+=fe,(H-=fe)<=1){Ce=!0;break}}if(W[j++]=W[ee++],0==--O){Ce=!0;break}if(0!==(he=de(ve[N],W,ee,O,0,re))){for(I=0;I<he;I++)W[j+I]=W[ee+I];if(j+=he,ee+=he,0==(O-=he)){Ce=!0;break}}if(W[j++]=ve[N++],1==--H){Ce=!0;break}ae--}while(fe>=T||he>=T);if(Ce)break;ae<0&&(ae=0),ae+=2}if((te=ae)<1&&(te=1),1===H){for(I=0;I<O;I++)W[j+I]=W[ee+I];W[j+O]=ve[N]}else{if(0===H)throw new Error;for(I=0;I<H;I++)W[j+I]=ve[N+I]}}else{for(I=0;I<O;I++)W[j+I]=W[ee+I];W[j+O]=ve[N]}else for(I=0;I<H;I++)W[j+I]=ve[N+I]}(H,A,O,I):function E(B,H,A,O){var I=0;for(I=0;I<O;I++)ve[I]=W[A+I];var N=B+H-1,ee=O-1,j=A+O-1,ae=0,fe=0;if(W[j--]=W[N--],0!=--H)if(1!==O){for(var he=te;;){var Ce=0,Se=0,ye=!1;do{if(re(ve[ee],W[N])<0){if(W[j--]=W[N--],Ce++,Se=0,0==--H){ye=!0;break}}else if(W[j--]=ve[ee--],Se++,Ce=0,1==--O){ye=!0;break}}while((Ce|Se)<he);if(ye)break;do{if(0!=(Ce=H-G(ve[ee],W,B,H,H-1,re))){for(H-=Ce,fe=1+(j-=Ce),ae=1+(N-=Ce),I=Ce-1;I>=0;I--)W[fe+I]=W[ae+I];if(0===H){ye=!0;break}}if(W[j--]=ve[ee--],1==--O){ye=!0;break}if(0!=(Se=O-de(W[N],ve,0,O,O-1,re))){for(O-=Se,fe=1+(j-=Se),ae=1+(ee-=Se),I=0;I<Se;I++)W[fe+I]=ve[ae+I];if(O<=1){ye=!0;break}}if(W[j--]=W[N--],0==--H){ye=!0;break}he--}while(Ce>=T||Se>=T);if(ye)break;he<0&&(he=0),he+=2}if((te=he)<1&&(te=1),1===O){for(fe=1+(j-=H),ae=1+(N-=H),I=H-1;I>=0;I--)W[fe+I]=W[ae+I];W[j]=ve[ee]}else{if(0===O)throw new Error;for(ae=j-(O-1),I=0;I<O;I++)W[ae+I]=ve[I]}}else{for(fe=1+(j-=H),ae=1+(N-=H),I=H-1;I>=0;I--)W[fe+I]=W[ae+I];W[j]=ve[ee]}else for(ae=j-(O-1),I=0;I<O;I++)W[ae+I]=ve[I]}(H,A,O,I))}return se=[],ge=[],{mergeRuns:function X(){for(;K>1;){var B=K-2;if(B>=1&&ge[B-1]<=ge[B]+ge[B+1]||B>=2&&ge[B-2]<=ge[B]+ge[B-1])ge[B-1]<ge[B+1]&&B--;else if(ge[B]>ge[B+1])break;U(B)}},forceMergeRuns:function ce(){for(;K>1;){var B=K-2;B>0&&ge[B-1]<ge[B+1]&&B--,U(B)}},pushRun:function $(B,H){se[K]=B,ge[K]=H,K+=1}}}(W,re),ge=function ie(W){for(var re=0;W>=_;)re|=1&W,W>>=1;return W+re}(oe);do{if((M=pe(W,te,q,re))<ge){var K=oe;K>ge&&(K=ge),Me(W,te,te+K,te+M,re),M=K}se.pushRun(te,M),se.mergeRuns(),oe-=M,te+=M}while(0!==oe);se.forceMergeRuns()}}},4404:($t,We,C)=>{"use strict";C.r(We),C.d(We,{HashMap:()=>Et,RADIAN_TO_DEGREE:()=>lr,assert:()=>mn,bind:()=>N,clone:()=>oe,concatArray:()=>Xt,createCanvas:()=>ve,createHashMap:()=>Tt,createObject:()=>Wt,curry:()=>ee,defaults:()=>K,disableUserSelect:()=>Dn,each:()=>L,eqNaN:()=>at,extend:()=>ge,filter:()=>H,find:()=>A,guid:()=>te,hasOwn:()=>Ln,indexOf:()=>$,inherits:()=>X,isArray:()=>j,isArrayLike:()=>U,isBuiltInObject:()=>ye,isDom:()=>Ae,isFunction:()=>ae,isGradientObject:()=>Ne,isImagePatternObject:()=>Le,isNumber:()=>Ce,isObject:()=>Se,isPrimitive:()=>Fn,isRegExp:()=>Je,isString:()=>fe,isStringSafe:()=>he,isTypedArray:()=>we,keys:()=>O,logError:()=>q,map:()=>E,merge:()=>M,mergeAll:()=>se,mixin:()=>ce,noop:()=>xr,normalizeCssArray:()=>Yt,reduce:()=>B,retrieve:()=>nt,retrieve2:()=>dt,retrieve3:()=>It,setAsPrimitive:()=>Wn,slice:()=>an,trim:()=>Cn});var _=C(1240),T=B(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(ct,Ft){return ct["[object "+Ft+"]"]=!0,ct},{}),Y=B(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(ct,Ft){return ct["[object "+Ft+"Array]"]=!0,ct},{}),ie=Object.prototype.toString,pe=Array.prototype,me=pe.forEach,Me=pe.filter,de=pe.slice,G=pe.map,Z=function(){}.constructor,Q=Z?Z.prototype:null,W="__proto__",re=2311;function te(){return re++}function q(){for(var ct=[],Ft=0;Ft<arguments.length;Ft++)ct[Ft]=arguments[Ft];typeof console<"u"&&console.error.apply(console,ct)}function oe(ct){if(null==ct||"object"!=typeof ct)return ct;var Ft=ct,Un=ie.call(ct);if("[object Array]"===Un){if(!Fn(ct)){Ft=[];for(var Gt=0,_t=ct.length;Gt<_t;Gt++)Ft[Gt]=oe(ct[Gt])}}else if(Y[Un]){if(!Fn(ct)){var Xe=ct.constructor;if(Xe.from)Ft=Xe.from(ct);else for(Ft=new Xe(ct.length),Gt=0,_t=ct.length;Gt<_t;Gt++)Ft[Gt]=ct[Gt]}}else if(!T[Un]&&!Fn(ct)&&!Ae(ct))for(var Ye in Ft={},ct)ct.hasOwnProperty(Ye)&&Ye!==W&&(Ft[Ye]=oe(ct[Ye]));return Ft}function M(ct,Ft,Un){if(!Se(Ft)||!Se(ct))return Un?oe(Ft):ct;for(var Gt in Ft)if(Ft.hasOwnProperty(Gt)&&Gt!==W){var _t=ct[Gt],Xe=Ft[Gt];!Se(Xe)||!Se(_t)||j(Xe)||j(_t)||Ae(Xe)||Ae(_t)||ye(Xe)||ye(_t)||Fn(Xe)||Fn(_t)?(Un||!(Gt in ct))&&(ct[Gt]=oe(Ft[Gt])):M(_t,Xe,Un)}return ct}function se(ct,Ft){for(var Un=ct[0],Gt=1,_t=ct.length;Gt<_t;Gt++)Un=M(Un,ct[Gt],Ft);return Un}function ge(ct,Ft){if(Object.assign)Object.assign(ct,Ft);else for(var Un in Ft)Ft.hasOwnProperty(Un)&&Un!==W&&(ct[Un]=Ft[Un]);return ct}function K(ct,Ft,Un){for(var Gt=O(Ft),_t=0;_t<Gt.length;_t++){var Xe=Gt[_t];(Un?null!=Ft[Xe]:null==ct[Xe])&&(ct[Xe]=Ft[Xe])}return ct}var ve=_.qW.createCanvas;function $(ct,Ft){if(ct){if(ct.indexOf)return ct.indexOf(Ft);for(var Un=0,Gt=ct.length;Un<Gt;Un++)if(ct[Un]===Ft)return Un}return-1}function X(ct,Ft){var Un=ct.prototype;function Gt(){}for(var _t in Gt.prototype=Ft.prototype,ct.prototype=new Gt,Un)Un.hasOwnProperty(_t)&&(ct.prototype[_t]=Un[_t]);ct.prototype.constructor=ct,ct.superClass=Ft}function ce(ct,Ft,Un){if(ct="prototype"in ct?ct.prototype:ct,Ft="prototype"in Ft?Ft.prototype:Ft,Object.getOwnPropertyNames)for(var Gt=Object.getOwnPropertyNames(Ft),_t=0;_t<Gt.length;_t++){var Xe=Gt[_t];"constructor"!==Xe&&(Un?null!=Ft[Xe]:null==ct[Xe])&&(ct[Xe]=Ft[Xe])}else K(ct,Ft,Un)}function U(ct){return!(!ct||"string"==typeof ct)&&"number"==typeof ct.length}function L(ct,Ft,Un){if(ct&&Ft)if(ct.forEach&&ct.forEach===me)ct.forEach(Ft,Un);else if(ct.length===+ct.length)for(var Gt=0,_t=ct.length;Gt<_t;Gt++)Ft.call(Un,ct[Gt],Gt,ct);else for(var Xe in ct)ct.hasOwnProperty(Xe)&&Ft.call(Un,ct[Xe],Xe,ct)}function E(ct,Ft,Un){if(!ct)return[];if(!Ft)return an(ct);if(ct.map&&ct.map===G)return ct.map(Ft,Un);for(var Gt=[],_t=0,Xe=ct.length;_t<Xe;_t++)Gt.push(Ft.call(Un,ct[_t],_t,ct));return Gt}function B(ct,Ft,Un,Gt){if(ct&&Ft){for(var _t=0,Xe=ct.length;_t<Xe;_t++)Un=Ft.call(Gt,Un,ct[_t],_t,ct);return Un}}function H(ct,Ft,Un){if(!ct)return[];if(!Ft)return an(ct);if(ct.filter&&ct.filter===Me)return ct.filter(Ft,Un);for(var Gt=[],_t=0,Xe=ct.length;_t<Xe;_t++)Ft.call(Un,ct[_t],_t,ct)&&Gt.push(ct[_t]);return Gt}function A(ct,Ft,Un){if(ct&&Ft)for(var Gt=0,_t=ct.length;Gt<_t;Gt++)if(Ft.call(Un,ct[Gt],Gt,ct))return ct[Gt]}function O(ct){if(!ct)return[];if(Object.keys)return Object.keys(ct);var Ft=[];for(var Un in ct)ct.hasOwnProperty(Un)&&Ft.push(Un);return Ft}var N=Q&&ae(Q.bind)?Q.call.bind(Q.bind):function I(ct,Ft){for(var Un=[],Gt=2;Gt<arguments.length;Gt++)Un[Gt-2]=arguments[Gt];return function(){return ct.apply(Ft,Un.concat(de.call(arguments)))}};function ee(ct){for(var Ft=[],Un=1;Un<arguments.length;Un++)Ft[Un-1]=arguments[Un];return function(){return ct.apply(this,Ft.concat(de.call(arguments)))}}function j(ct){return Array.isArray?Array.isArray(ct):"[object Array]"===ie.call(ct)}function ae(ct){return"function"==typeof ct}function fe(ct){return"string"==typeof ct}function he(ct){return"[object String]"===ie.call(ct)}function Ce(ct){return"number"==typeof ct}function Se(ct){var Ft=typeof ct;return"function"===Ft||!!ct&&"object"===Ft}function ye(ct){return!!T[ie.call(ct)]}function we(ct){return!!Y[ie.call(ct)]}function Ae(ct){return"object"==typeof ct&&"number"==typeof ct.nodeType&&"object"==typeof ct.ownerDocument}function Ne(ct){return null!=ct.colorStops}function Le(ct){return null!=ct.image}function Je(ct){return"[object RegExp]"===ie.call(ct)}function at(ct){return ct!=ct}function nt(){for(var ct=[],Ft=0;Ft<arguments.length;Ft++)ct[Ft]=arguments[Ft];for(var Un=0,Gt=ct.length;Un<Gt;Un++)if(null!=ct[Un])return ct[Un]}function dt(ct,Ft){return ct??Ft}function It(ct,Ft,Un){return ct??Ft??Un}function an(ct){for(var Ft=[],Un=1;Un<arguments.length;Un++)Ft[Un-1]=arguments[Un];return de.apply(ct,Ft)}function Yt(ct){if("number"==typeof ct)return[ct,ct,ct,ct];var Ft=ct.length;return 2===Ft?[ct[0],ct[1],ct[0],ct[1]]:3===Ft?[ct[0],ct[1],ct[2],ct[1]]:ct}function mn(ct,Ft){if(!ct)throw new Error(Ft)}function Cn(ct){return null==ct?null:"function"==typeof ct.trim?ct.trim():ct.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Gn="__ec_primitive__";function Wn(ct){ct[Gn]=!0}function Fn(ct){return ct[Gn]}var Rr=function(){function ct(){this.data={}}return ct.prototype.delete=function(Ft){var Un=this.has(Ft);return Un&&delete this.data[Ft],Un},ct.prototype.has=function(Ft){return this.data.hasOwnProperty(Ft)},ct.prototype.get=function(Ft){return this.data[Ft]},ct.prototype.set=function(Ft,Un){return this.data[Ft]=Un,this},ct.prototype.keys=function(){return O(this.data)},ct.prototype.forEach=function(Ft){var Un=this.data;for(var Gt in Un)Un.hasOwnProperty(Gt)&&Ft(Un[Gt],Gt)},ct}(),hn="function"==typeof Map,Et=function(){function ct(Ft){var Un=j(Ft);this.data=function ot(){return hn?new Map:new Rr}();var Gt=this;function _t(Xe,Ye){Un?Gt.set(Xe,Ye):Gt.set(Ye,Xe)}Ft instanceof ct?Ft.each(_t):Ft&&L(Ft,_t)}return ct.prototype.hasKey=function(Ft){return this.data.has(Ft)},ct.prototype.get=function(Ft){return this.data.get(Ft)},ct.prototype.set=function(Ft,Un){return this.data.set(Ft,Un),Un},ct.prototype.each=function(Ft,Un){this.data.forEach(function(Gt,_t){Ft.call(Un,Gt,_t)})},ct.prototype.keys=function(){var Ft=this.data.keys();return hn?Array.from(Ft):Ft},ct.prototype.removeKey=function(Ft){this.data.delete(Ft)},ct}();function Tt(ct){return new Et(ct)}function Xt(ct,Ft){for(var Un=new ct.constructor(ct.length+Ft.length),Gt=0;Gt<ct.length;Gt++)Un[Gt]=ct[Gt];var _t=ct.length;for(Gt=0;Gt<Ft.length;Gt++)Un[Gt+_t]=Ft[Gt];return Un}function Wt(ct,Ft){var Un;if(Object.create)Un=Object.create(ct);else{var Gt=function(){};Gt.prototype=ct,Un=new Gt}return Ft&&ge(Un,Ft),Un}function Dn(ct){var Ft=ct.style;Ft.webkitUserSelect="none",Ft.userSelect="none",Ft.webkitTapHighlightColor="rgba(0,0,0,0)",Ft["-webkit-touch-callout"]="none"}function Ln(ct,Ft){return ct.hasOwnProperty(Ft)}function xr(){}var lr=180/Math.PI},8060:($t,We,C)=>{"use strict";function _(L,E){return null==L&&(L=0),null==E&&(E=0),[L,E]}function T(L,E){return L[0]=E[0],L[1]=E[1],L}function Y(L){return[L[0],L[1]]}function ie(L,E,B){return L[0]=E,L[1]=B,L}function pe(L,E,B){return L[0]=E[0]+B[0],L[1]=E[1]+B[1],L}function me(L,E,B,H){return L[0]=E[0]+B[0]*H,L[1]=E[1]+B[1]*H,L}function Me(L,E,B){return L[0]=E[0]-B[0],L[1]=E[1]-B[1],L}function de(L){return Math.sqrt(Z(L))}C.r(We),C.d(We,{add:()=>pe,applyTransform:()=>X,clone:()=>Y,copy:()=>T,create:()=>_,dist:()=>se,distSquare:()=>K,distance:()=>M,distanceSquare:()=>ge,div:()=>re,dot:()=>te,len:()=>de,lenSquare:()=>Z,length:()=>G,lengthSquare:()=>Q,lerp:()=>$,max:()=>U,min:()=>ce,mul:()=>W,negate:()=>ve,normalize:()=>oe,scale:()=>q,scaleAndAdd:()=>me,set:()=>ie,sub:()=>Me});var G=de;function Z(L){return L[0]*L[0]+L[1]*L[1]}var Q=Z;function W(L,E,B){return L[0]=E[0]*B[0],L[1]=E[1]*B[1],L}function re(L,E,B){return L[0]=E[0]/B[0],L[1]=E[1]/B[1],L}function te(L,E){return L[0]*E[0]+L[1]*E[1]}function q(L,E,B){return L[0]=E[0]*B,L[1]=E[1]*B,L}function oe(L,E){var B=de(E);return 0===B?(L[0]=0,L[1]=0):(L[0]=E[0]/B,L[1]=E[1]/B),L}function M(L,E){return Math.sqrt((L[0]-E[0])*(L[0]-E[0])+(L[1]-E[1])*(L[1]-E[1]))}var se=M;function ge(L,E){return(L[0]-E[0])*(L[0]-E[0])+(L[1]-E[1])*(L[1]-E[1])}var K=ge;function ve(L,E){return L[0]=-E[0],L[1]=-E[1],L}function $(L,E,B,H){return L[0]=E[0]+H*(B[0]-E[0]),L[1]=E[1]+H*(B[1]-E[1]),L}function X(L,E,B){var H=E[0],A=E[1];return L[0]=B[0]*H+B[2]*A+B[4],L[1]=B[1]*H+B[3]*A+B[5],L}function ce(L,E,B){return L[0]=Math.min(E[0],B[0]),L[1]=Math.min(E[1],B[1]),L}function U(L,E,B){return L[0]=Math.max(E[0],B[0]),L[1]=Math.max(E[1],B[1]),L}},50:($t,We,C)=>{"use strict";C.d(We,{Z:()=>ie});var _=C(4311),T=C(649);const ie=function(pe){function me(){var Me=null!==pe&&pe.apply(this,arguments)||this;return Me.type="compound",Me}return(0,_.ZT)(me,pe),me.prototype._updatePathDirty=function(){for(var Me=this.shape.paths,de=this.shapeChanged(),G=0;G<Me.length;G++)de=de||Me[G].shapeChanged();de&&this.dirtyShape()},me.prototype.beforeBrush=function(){this._updatePathDirty();for(var Me=this.shape.paths||[],de=this.getGlobalScale(),G=0;G<Me.length;G++)Me[G].path||Me[G].createPathProxy(),Me[G].path.setScale(de[0],de[1],Me[G].segmentIgnoreThreshold)},me.prototype.buildPath=function(Me,de){for(var G=de.paths||[],Z=0;Z<G.length;Z++)G[Z].buildPath(Me,G[Z].shape,!0)},me.prototype.afterBrush=function(){for(var Me=this.shape.paths||[],de=0;de<Me.length;de++)Me[de].pathUpdated()},me.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),T.ZP.prototype.getBoundingRect.call(this)},me}(T.ZP)},9746:($t,We,C)=>{"use strict";C.d(We,{ZP:()=>q,ik:()=>de,tj:()=>Me});var _=C(4311),T=C(2717),Y=C(3066),ie=C(4404),pe=C(3825),me="__zr_style_"+Math.round(10*Math.random()),Me={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},de={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Me[me]=!0;var G=["z","z2","invisible"],Z=["invisible"],Q=function(oe){function M(se){return oe.call(this,se)||this}return(0,_.ZT)(M,oe),M.prototype._init=function(se){for(var ge=(0,ie.keys)(se),K=0;K<ge.length;K++){var ve=ge[K];"style"===ve?this.useStyle(se[ve]):oe.prototype.attrKV.call(this,ve,se[ve])}this.style||this.useStyle({})},M.prototype.beforeBrush=function(){},M.prototype.afterBrush=function(){},M.prototype.innerBeforeBrush=function(){},M.prototype.innerAfterBrush=function(){},M.prototype.shouldBePainted=function(se,ge,K,ve){var $=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function te(oe,M,se){return W.copy(oe.getBoundingRect()),oe.transform&&W.applyTransform(oe.transform),re.width=M,re.height=se,!W.intersect(re)}(this,se,ge)||$&&!$[0]&&!$[3])return!1;if(K&&this.__clipPaths)for(var X=0;X<this.__clipPaths.length;++X)if(this.__clipPaths[X].isZeroArea())return!1;if(ve&&this.parent)for(var ce=this.parent;ce;){if(ce.ignore)return!1;ce=ce.parent}return!0},M.prototype.contain=function(se,ge){return this.rectContain(se,ge)},M.prototype.traverse=function(se,ge){se.call(ge,this)},M.prototype.rectContain=function(se,ge){var K=this.transformCoordToLocal(se,ge);return this.getBoundingRect().contain(K[0],K[1])},M.prototype.getPaintRect=function(){var se=this._paintRect;if(!this._paintRect||this.__dirty){var ge=this.transform,K=this.getBoundingRect(),ve=this.style,$=ve.shadowBlur||0,X=ve.shadowOffsetX||0,ce=ve.shadowOffsetY||0;se=this._paintRect||(this._paintRect=new Y.Z(0,0,0,0)),ge?Y.Z.applyTransform(se,K,ge):se.copy(K),($||X||ce)&&(se.width+=2*$+Math.abs(X),se.height+=2*$+Math.abs(ce),se.x=Math.min(se.x,se.x+X-$),se.y=Math.min(se.y,se.y+ce-$));var U=this.dirtyRectTolerance;se.isZero()||(se.x=Math.floor(se.x-U),se.y=Math.floor(se.y-U),se.width=Math.ceil(se.width+1+2*U),se.height=Math.ceil(se.height+1+2*U))}return se},M.prototype.setPrevPaintRect=function(se){se?(this._prevPaintRect=this._prevPaintRect||new Y.Z(0,0,0,0),this._prevPaintRect.copy(se)):this._prevPaintRect=null},M.prototype.getPrevPaintRect=function(){return this._prevPaintRect},M.prototype.animateStyle=function(se){return this.animate("style",se)},M.prototype.updateDuringAnimation=function(se){"style"===se?this.dirtyStyle():this.markRedraw()},M.prototype.attrKV=function(se,ge){"style"!==se?oe.prototype.attrKV.call(this,se,ge):this.style?this.setStyle(ge):this.useStyle(ge)},M.prototype.setStyle=function(se,ge){return"string"==typeof se?this.style[se]=ge:(0,ie.extend)(this.style,se),this.dirtyStyle(),this},M.prototype.dirtyStyle=function(se){se||this.markRedraw(),this.__dirty|=pe.SE,this._rect&&(this._rect=null)},M.prototype.dirty=function(){this.dirtyStyle()},M.prototype.styleChanged=function(){return!!(this.__dirty&pe.SE)},M.prototype.styleUpdated=function(){this.__dirty&=~pe.SE},M.prototype.createStyle=function(se){return(0,ie.createObject)(Me,se)},M.prototype.useStyle=function(se){se[me]||(se=this.createStyle(se)),this.__inHover?this.__hoverStyle=se:this.style=se,this.dirtyStyle()},M.prototype.isStyleObject=function(se){return se[me]},M.prototype._innerSaveToNormal=function(se){oe.prototype._innerSaveToNormal.call(this,se);var ge=this._normalState;se.style&&!ge.style&&(ge.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(se,ge,G)},M.prototype._applyStateObj=function(se,ge,K,ve,$,X){oe.prototype._applyStateObj.call(this,se,ge,K,ve,$,X);var U,ce=!(ge&&ve);if(ge&&ge.style?$?ve?U=ge.style:(U=this._mergeStyle(this.createStyle(),K.style),this._mergeStyle(U,ge.style)):(U=this._mergeStyle(this.createStyle(),ve?this.style:K.style),this._mergeStyle(U,ge.style)):ce&&(U=K.style),U)if($){var L=this.style;if(this.style=this.createStyle(ce?{}:L),ce)for(var E=(0,ie.keys)(L),B=0;B<E.length;B++)(H=E[B])in U&&(U[H]=U[H],this.style[H]=L[H]);var A=(0,ie.keys)(U);for(B=0;B<A.length;B++)this.style[H=A[B]]=this.style[H];this._transitionState(se,{style:U},X,this.getAnimationStyleProps())}else this.useStyle(U);var O=this.__inHover?Z:G;for(B=0;B<O.length;B++){var H=O[B];ge&&null!=ge[H]?this[H]=ge[H]:ce&&null!=K[H]&&(this[H]=K[H])}},M.prototype._mergeStates=function(se){for(var K,ge=oe.prototype._mergeStates.call(this,se),ve=0;ve<se.length;ve++){var $=se[ve];$.style&&this._mergeStyle(K=K||{},$.style)}return K&&(ge.style=K),ge},M.prototype._mergeStyle=function(se,ge){return(0,ie.extend)(se,ge),se},M.prototype.getAnimationStyleProps=function(){return de},M.initDefaultProps=((se=M.prototype).type="displayable",se.invisible=!1,se.z=0,se.z2=0,se.zlevel=0,se.culling=!1,se.cursor="pointer",se.rectHover=!1,se.incremental=!1,se._rect=null,se.dirtyRectTolerance=0,void(se.__dirty=pe.YV|pe.SE)),M;var se}(T.Z),W=new Y.Z(0,0,0,0),re=new Y.Z(0,0,0,0);const q=Q},7303:($t,We,C)=>{"use strict";C.d(We,{Z:()=>T});const T=function(){function Y(ie){this.colorStops=ie||[]}return Y.prototype.addColorStop=function(ie,pe){this.colorStops.push({offset:ie,color:pe})},Y}()},4271:($t,We,C)=>{"use strict";C.d(We,{Z:()=>me});var _=C(4311),T=C(4404),Y=C(2717),ie=C(3066),pe=function(Me){function de(G){var Z=Me.call(this)||this;return Z.isGroup=!0,Z._children=[],Z.attr(G),Z}return(0,_.ZT)(de,Me),de.prototype.childrenRef=function(){return this._children},de.prototype.children=function(){return this._children.slice()},de.prototype.childAt=function(G){return this._children[G]},de.prototype.childOfName=function(G){for(var Z=this._children,Q=0;Q<Z.length;Q++)if(Z[Q].name===G)return Z[Q]},de.prototype.childCount=function(){return this._children.length},de.prototype.add=function(G){return G&&G!==this&&G.parent!==this&&(this._children.push(G),this._doAdd(G)),this},de.prototype.addBefore=function(G,Z){if(G&&G!==this&&G.parent!==this&&Z&&Z.parent===this){var Q=this._children,W=Q.indexOf(Z);W>=0&&(Q.splice(W,0,G),this._doAdd(G))}return this},de.prototype.replace=function(G,Z){var Q=T.indexOf(this._children,G);return Q>=0&&this.replaceAt(Z,Q),this},de.prototype.replaceAt=function(G,Z){var Q=this._children,W=Q[Z];if(G&&G!==this&&G.parent!==this&&G!==W){Q[Z]=G,W.parent=null;var re=this.__zr;re&&W.removeSelfFromZr(re),this._doAdd(G)}return this},de.prototype._doAdd=function(G){G.parent&&G.parent.remove(G),G.parent=this;var Z=this.__zr;Z&&Z!==G.__zr&&G.addSelfToZr(Z),Z&&Z.refresh()},de.prototype.remove=function(G){var Z=this.__zr,Q=this._children,W=T.indexOf(Q,G);return W<0||(Q.splice(W,1),G.parent=null,Z&&G.removeSelfFromZr(Z),Z&&Z.refresh()),this},de.prototype.removeAll=function(){for(var G=this._children,Z=this.__zr,Q=0;Q<G.length;Q++){var W=G[Q];Z&&W.removeSelfFromZr(Z),W.parent=null}return G.length=0,this},de.prototype.eachChild=function(G,Z){for(var Q=this._children,W=0;W<Q.length;W++)G.call(Z,Q[W],W);return this},de.prototype.traverse=function(G,Z){for(var Q=0;Q<this._children.length;Q++){var W=this._children[Q],re=G.call(Z,W);W.isGroup&&!re&&W.traverse(G,Z)}return this},de.prototype.addSelfToZr=function(G){Me.prototype.addSelfToZr.call(this,G);for(var Z=0;Z<this._children.length;Z++)this._children[Z].addSelfToZr(G)},de.prototype.removeSelfFromZr=function(G){Me.prototype.removeSelfFromZr.call(this,G);for(var Z=0;Z<this._children.length;Z++)this._children[Z].removeSelfFromZr(G)},de.prototype.getBoundingRect=function(G){for(var Z=new ie.Z(0,0,0,0),Q=G||this._children,W=[],re=null,te=0;te<Q.length;te++){var q=Q[te];if(!q.ignore&&!q.invisible){var oe=q.getBoundingRect(),M=q.getLocalTransform(W);M?(ie.Z.applyTransform(Z,oe,M),(re=re||Z.clone()).union(Z)):(re=re||oe.clone()).union(oe)}}return re||Z},de}(Y.Z);pe.prototype.type="group";const me=pe},1959:($t,We,C)=>{"use strict";C.d(We,{ZP:()=>G});var _=C(4311),T=C(9746),Y=C(3066),ie=C(4404),pe=(0,ie.defaults)({x:0,y:0},T.tj),me={style:(0,ie.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},T.ik.style)},de=function(Z){function Q(){return null!==Z&&Z.apply(this,arguments)||this}return(0,_.ZT)(Q,Z),Q.prototype.createStyle=function(W){return(0,ie.createObject)(pe,W)},Q.prototype._getSize=function(W){var re=this.style,te=re[W];if(null!=te)return te;var q=function Me(Z){return!!(Z&&"string"!=typeof Z&&Z.width&&Z.height)}(re.image)?re.image:this.__image;if(!q)return 0;var oe="width"===W?"height":"width",M=re[oe];return null==M?q[W]:q[W]/q[oe]*M},Q.prototype.getWidth=function(){return this._getSize("width")},Q.prototype.getHeight=function(){return this._getSize("height")},Q.prototype.getAnimationStyleProps=function(){return me},Q.prototype.getBoundingRect=function(){var W=this.style;return this._rect||(this._rect=new Y.Z(W.x||0,W.y||0,this.getWidth(),this.getHeight())),this._rect},Q}(T.ZP);de.prototype.type="image";const G=de},464:($t,We,C)=>{"use strict";C.d(We,{Z:()=>me});var _=C(4311),T=C(9746),Y=C(3066),ie=[];const me=function(Me){function de(){var G=null!==Me&&Me.apply(this,arguments)||this;return G.notClear=!0,G.incremental=!0,G._displayables=[],G._temporaryDisplayables=[],G._cursor=0,G}return(0,_.ZT)(de,Me),de.prototype.traverse=function(G,Z){G.call(Z,this)},de.prototype.useStyle=function(){this.style={}},de.prototype.getCursor=function(){return this._cursor},de.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},de.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},de.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},de.prototype.addDisplayable=function(G,Z){Z?this._temporaryDisplayables.push(G):this._displayables.push(G),this.markRedraw()},de.prototype.addDisplayables=function(G,Z){Z=Z||!1;for(var Q=0;Q<G.length;Q++)this.addDisplayable(G[Q],Z)},de.prototype.getDisplayables=function(){return this._displayables},de.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},de.prototype.eachPendingDisplayable=function(G){for(var Z=this._cursor;Z<this._displayables.length;Z++)G&&G(this._displayables[Z]);for(Z=0;Z<this._temporaryDisplayables.length;Z++)G&&G(this._temporaryDisplayables[Z])},de.prototype.update=function(){this.updateTransform();for(var G=this._cursor;G<this._displayables.length;G++)(Z=this._displayables[G]).parent=this,Z.update(),Z.parent=null;for(G=0;G<this._temporaryDisplayables.length;G++){var Z;(Z=this._temporaryDisplayables[G]).parent=this,Z.update(),Z.parent=null}},de.prototype.getBoundingRect=function(){if(!this._rect){for(var G=new Y.Z(1/0,1/0,-1/0,-1/0),Z=0;Z<this._displayables.length;Z++){var Q=this._displayables[Z],W=Q.getBoundingRect().clone();Q.needLocalTransform()&&W.applyTransform(Q.getLocalTransform(ie)),G.union(W)}this._rect=G}return this._rect},de.prototype.contain=function(G,Z){var Q=this.transformCoordToLocal(G,Z);if(this.getBoundingRect().contain(Q[0],Q[1]))for(var re=0;re<this._displayables.length;re++)if(this._displayables[re].contain(G,Z))return!0;return!1},de}(T.ZP)},2920:($t,We,C)=>{"use strict";C.d(We,{Z:()=>ie});var _=C(4311);const ie=function(pe){function me(Me,de,G,Z,Q,W){var re=pe.call(this,Q)||this;return re.x=Me??0,re.y=de??0,re.x2=G??1,re.y2=Z??0,re.type="linear",re.global=W||!1,re}return(0,_.ZT)(me,pe),me}(C(7303).Z)},649:($t,We,C)=>{"use strict";C.d(We,{$t:()=>A,ZP:()=>ee});var _=C(4311),T=C(9746),Y=C(7062),ie=C(9043),pe=C(3645);function me(j,ae,fe,he,Ce,Se,ye,we,Ae,Ne,Le){if(0===Ae)return!1;var Je=Ae;return!(Le>ae+Je&&Le>he+Je&&Le>Se+Je&&Le>we+Je||Le<ae-Je&&Le<he-Je&&Le<Se-Je&&Le<we-Je||Ne>j+Je&&Ne>fe+Je&&Ne>Ce+Je&&Ne>ye+Je||Ne<j-Je&&Ne<fe-Je&&Ne<Ce-Je&&Ne<ye-Je)&&pe.t1(j,ae,fe,he,Ce,Se,ye,we,Ne,Le,null)<=Je/2}var Me=C(3962),de=C(3144),G=2*Math.PI;function Z(j,ae,fe,he,Ce,Se,ye,we,Ae){if(0===ye)return!1;var Ne=ye;we-=j,Ae-=ae;var Le=Math.sqrt(we*we+Ae*Ae);if(Le-Ne>fe||Le+Ne<fe)return!1;if(Math.abs(he-Ce)%G<1e-4)return!0;if(Se){var Je=he;he=(0,de.m)(Ce),Ce=(0,de.m)(Je)}else he=(0,de.m)(he),Ce=(0,de.m)(Ce);he>Ce&&(Ce+=G);var at=Math.atan2(Ae,we);return at<0&&(at+=G),at>=he&&at<=Ce||at+G>=he&&at+G<=Ce}var Q=C(2900),W=Y.Z.CMD,re=2*Math.PI,oe=[-1,-1,-1],M=[-1,-1];function se(){var j=M[0];M[0]=M[1],M[1]=j}function ge(j,ae,fe,he,Ce,Se,ye,we,Ae,Ne){if(Ne>ae&&Ne>he&&Ne>Se&&Ne>we||Ne<ae&&Ne<he&&Ne<Se&&Ne<we)return 0;var Le=pe.kD(ae,he,Se,we,Ne,oe);if(0===Le)return 0;for(var Je=0,at=-1,nt=void 0,dt=void 0,It=0;It<Le;It++){var an=oe[It],Yt=0===an||1===an?.5:1;pe.af(j,fe,Ce,ye,an)<Ae||(at<0&&(at=pe.pP(ae,he,Se,we,M),M[1]<M[0]&&at>1&&se(),nt=pe.af(ae,he,Se,we,M[0]),at>1&&(dt=pe.af(ae,he,Se,we,M[1]))),Je+=2===at?an<M[0]?nt<ae?Yt:-Yt:an<M[1]?dt<nt?Yt:-Yt:we<dt?Yt:-Yt:an<M[0]?nt<ae?Yt:-Yt:we<nt?Yt:-Yt)}return Je}function K(j,ae,fe,he,Ce,Se,ye,we){if(we>ae&&we>he&&we>Se||we<ae&&we<he&&we<Se)return 0;var Ae=pe.Jz(ae,he,Se,we,oe);if(0===Ae)return 0;var Ne=pe.QC(ae,he,Se);if(Ne>=0&&Ne<=1){for(var Le=0,Je=pe.Zm(ae,he,Se,Ne),at=0;at<Ae;at++){var nt=0===oe[at]||1===oe[at]?.5:1;pe.Zm(j,fe,Ce,oe[at])<ye||(Le+=oe[at]<Ne?Je<ae?nt:-nt:Se<Je?nt:-nt)}return Le}return nt=0===oe[0]||1===oe[0]?.5:1,pe.Zm(j,fe,Ce,oe[0])<ye?0:Se<ae?nt:-nt}function ve(j,ae,fe,he,Ce,Se,ye,we){if((we-=ae)>fe||we<-fe)return 0;var Ae=Math.sqrt(fe*fe-we*we);oe[0]=-Ae,oe[1]=Ae;var Ne=Math.abs(he-Ce);if(Ne<1e-4)return 0;if(Ne>=re-1e-4){he=0,Ce=re;var Le=Se?1:-1;return ye>=oe[0]+j&&ye<=oe[1]+j?Le:0}if(he>Ce){var Je=he;he=Ce,Ce=Je}he<0&&(he+=re,Ce+=re);for(var at=0,nt=0;nt<2;nt++){var dt=oe[nt];if(dt+j>ye){var It=Math.atan2(we,dt);Le=Se?1:-1,It<0&&(It=re+It),(It>=he&&It<=Ce||It+re>=he&&It+re<=Ce)&&(It>Math.PI/2&&It<1.5*Math.PI&&(Le=-Le),at+=Le)}}return at}function $(j,ae,fe,he,Ce){for(var at,nt,Se=j.data,ye=j.len(),we=0,Ae=0,Ne=0,Le=0,Je=0,dt=0;dt<ye;){var It=Se[dt++],an=1===dt;switch(It===W.M&&dt>1&&(fe||(we+=(0,Q.Z)(Ae,Ne,Le,Je,he,Ce))),an&&(Le=Ae=Se[dt],Je=Ne=Se[dt+1]),It){case W.M:Ae=Le=Se[dt++],Ne=Je=Se[dt++];break;case W.L:if(fe){if(ie.m(Ae,Ne,Se[dt],Se[dt+1],ae,he,Ce))return!0}else we+=(0,Q.Z)(Ae,Ne,Se[dt],Se[dt+1],he,Ce)||0;Ae=Se[dt++],Ne=Se[dt++];break;case W.C:if(fe){if(me(Ae,Ne,Se[dt++],Se[dt++],Se[dt++],Se[dt++],Se[dt],Se[dt+1],ae,he,Ce))return!0}else we+=ge(Ae,Ne,Se[dt++],Se[dt++],Se[dt++],Se[dt++],Se[dt],Se[dt+1],he,Ce)||0;Ae=Se[dt++],Ne=Se[dt++];break;case W.Q:if(fe){if(Me.m(Ae,Ne,Se[dt++],Se[dt++],Se[dt],Se[dt+1],ae,he,Ce))return!0}else we+=K(Ae,Ne,Se[dt++],Se[dt++],Se[dt],Se[dt+1],he,Ce)||0;Ae=Se[dt++],Ne=Se[dt++];break;case W.A:var Yt=Se[dt++],mn=Se[dt++],Cn=Se[dt++],Gn=Se[dt++],Wn=Se[dt++],Fn=Se[dt++];dt+=1;var Rr=!!(1-Se[dt++]);at=Math.cos(Wn)*Cn+Yt,nt=Math.sin(Wn)*Gn+mn,an?(Le=at,Je=nt):we+=(0,Q.Z)(Ae,Ne,at,nt,he,Ce);var hn=(he-Yt)*Gn/Cn+Yt;if(fe){if(Z(Yt,mn,Gn,Wn,Wn+Fn,Rr,ae,hn,Ce))return!0}else we+=ve(Yt,mn,Gn,Wn,Wn+Fn,Rr,hn,Ce);Ae=Math.cos(Wn+Fn)*Cn+Yt,Ne=Math.sin(Wn+Fn)*Gn+mn;break;case W.R:if(Le=Ae=Se[dt++],Je=Ne=Se[dt++],at=Le+Se[dt++],nt=Je+Se[dt++],fe){if(ie.m(Le,Je,at,Je,ae,he,Ce)||ie.m(at,Je,at,nt,ae,he,Ce)||ie.m(at,nt,Le,nt,ae,he,Ce)||ie.m(Le,nt,Le,Je,ae,he,Ce))return!0}else we+=(0,Q.Z)(at,Je,at,nt,he,Ce),we+=(0,Q.Z)(Le,nt,Le,Je,he,Ce);break;case W.Z:if(fe){if(ie.m(Ae,Ne,Le,Je,ae,he,Ce))return!0}else we+=(0,Q.Z)(Ae,Ne,Le,Je,he,Ce);Ae=Le,Ne=Je}}return!fe&&!function q(j,ae){return Math.abs(j-ae)<1e-4}(Ne,Je)&&(we+=(0,Q.Z)(Ae,Ne,Le,Je,he,Ce)||0),0!==we}var U=C(4404),L=C(2),E=C(8783),B=C(3825),H=C(2353),A=(0,U.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},T.tj),O={style:(0,U.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},T.ik.style)},I=H.dN.concat(["invisible","culling","z","z2","zlevel","parent"]);const ee=function(j){function ae(fe){return j.call(this,fe)||this}return(0,_.ZT)(ae,j),ae.prototype.update=function(){var fe=this;j.prototype.update.call(this);var he=this.style;if(he.decal){var Ce=this._decalEl=this._decalEl||new ae;Ce.buildPath===ae.prototype.buildPath&&(Ce.buildPath=function(Ae){fe.buildPath(Ae,fe.shape)}),Ce.silent=!0;var Se=Ce.style;for(var ye in he)Se[ye]!==he[ye]&&(Se[ye]=he[ye]);Se.fill=he.fill?he.decal:null,Se.decal=null,Se.shadowColor=null,he.strokeFirst&&(Se.stroke=null);for(var we=0;we<I.length;++we)Ce[I[we]]=this[I[we]];Ce.__dirty|=B.YV}else this._decalEl&&(this._decalEl=null)},ae.prototype.getDecalElement=function(){return this._decalEl},ae.prototype._init=function(fe){var he=(0,U.keys)(fe);this.shape=this.getDefaultShape();var Ce=this.getDefaultStyle();Ce&&this.useStyle(Ce);for(var Se=0;Se<he.length;Se++){var ye=he[Se],we=fe[ye];"style"===ye?this.style?(0,U.extend)(this.style,we):this.useStyle(we):"shape"===ye?(0,U.extend)(this.shape,we):j.prototype.attrKV.call(this,ye,we)}this.style||this.useStyle({})},ae.prototype.getDefaultStyle=function(){return null},ae.prototype.getDefaultShape=function(){return{}},ae.prototype.canBeInsideText=function(){return this.hasFill()},ae.prototype.getInsideTextFill=function(){var fe=this.style.fill;if("none"!==fe){if((0,U.isString)(fe)){var he=(0,L.lum)(fe,0);return he>.5?E.vU:he>.2?E.iv:E.GD}if(fe)return E.GD}return E.vU},ae.prototype.getInsideTextStroke=function(fe){var he=this.style.fill;if((0,U.isString)(he)){var Ce=this.__zr;if(!(!Ce||!Ce.isDarkMode())==(0,L.lum)(fe,0)<E.Ak)return he}},ae.prototype.buildPath=function(fe,he,Ce){},ae.prototype.pathUpdated=function(){this.__dirty&=~B.RH},ae.prototype.getUpdatedPathProxy=function(fe){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,fe),this.path},ae.prototype.createPathProxy=function(){this.path=new Y.Z(!1)},ae.prototype.hasStroke=function(){var fe=this.style,he=fe.stroke;return!(null==he||"none"===he||!(fe.lineWidth>0))},ae.prototype.hasFill=function(){var he=this.style.fill;return null!=he&&"none"!==he},ae.prototype.getBoundingRect=function(){var fe=this._rect,he=this.style,Ce=!fe;if(Ce){var Se=!1;this.path||(Se=!0,this.createPathProxy());var ye=this.path;(Se||this.__dirty&B.RH)&&(ye.beginPath(),this.buildPath(ye,this.shape,!1),this.pathUpdated()),fe=ye.getBoundingRect()}if(this._rect=fe,this.hasStroke()&&this.path&&this.path.len()>0){var we=this._rectStroke||(this._rectStroke=fe.clone());if(this.__dirty||Ce){we.copy(fe);var Ae=he.strokeNoScale?this.getLineScale():1,Ne=he.lineWidth;this.hasFill()||(Ne=Math.max(Ne,this.strokeContainThreshold??4)),Ae>1e-10&&(we.width+=Ne/Ae,we.height+=Ne/Ae,we.x-=Ne/Ae/2,we.y-=Ne/Ae/2)}return we}return fe},ae.prototype.contain=function(fe,he){var Ce=this.transformCoordToLocal(fe,he),Se=this.getBoundingRect(),ye=this.style;if(Se.contain(fe=Ce[0],he=Ce[1])){var we=this.path;if(this.hasStroke()){var Ae=ye.lineWidth,Ne=ye.strokeNoScale?this.getLineScale():1;if(Ne>1e-10&&(this.hasFill()||(Ae=Math.max(Ae,this.strokeContainThreshold)),function ce(j,ae,fe,he){return $(j,ae,!0,fe,he)}(we,Ae/Ne,fe,he)))return!0}if(this.hasFill())return function X(j,ae,fe){return $(j,0,!1,ae,fe)}(we,fe,he)}return!1},ae.prototype.dirtyShape=function(){this.__dirty|=B.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},ae.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},ae.prototype.animateShape=function(fe){return this.animate("shape",fe)},ae.prototype.updateDuringAnimation=function(fe){"style"===fe?this.dirtyStyle():"shape"===fe?this.dirtyShape():this.markRedraw()},ae.prototype.attrKV=function(fe,he){"shape"===fe?this.setShape(he):j.prototype.attrKV.call(this,fe,he)},ae.prototype.setShape=function(fe,he){var Ce=this.shape;return Ce||(Ce=this.shape={}),"string"==typeof fe?Ce[fe]=he:(0,U.extend)(Ce,fe),this.dirtyShape(),this},ae.prototype.shapeChanged=function(){return!!(this.__dirty&B.RH)},ae.prototype.createStyle=function(fe){return(0,U.createObject)(A,fe)},ae.prototype._innerSaveToNormal=function(fe){j.prototype._innerSaveToNormal.call(this,fe);var he=this._normalState;fe.shape&&!he.shape&&(he.shape=(0,U.extend)({},this.shape))},ae.prototype._applyStateObj=function(fe,he,Ce,Se,ye,we){j.prototype._applyStateObj.call(this,fe,he,Ce,Se,ye,we);var Ne,Ae=!(he&&Se);if(he&&he.shape?ye?Se?Ne=he.shape:(Ne=(0,U.extend)({},Ce.shape),(0,U.extend)(Ne,he.shape)):(Ne=(0,U.extend)({},Se?this.shape:Ce.shape),(0,U.extend)(Ne,he.shape)):Ae&&(Ne=Ce.shape),Ne)if(ye){this.shape=(0,U.extend)({},this.shape);for(var Le={},Je=(0,U.keys)(Ne),at=0;at<Je.length;at++){var nt=Je[at];"object"==typeof Ne[nt]?this.shape[nt]=Ne[nt]:Le[nt]=Ne[nt]}this._transitionState(fe,{shape:Le},we)}else this.shape=Ne,this.dirtyShape()},ae.prototype._mergeStates=function(fe){for(var Ce,he=j.prototype._mergeStates.call(this,fe),Se=0;Se<fe.length;Se++){var ye=fe[Se];ye.shape&&this._mergeStyle(Ce=Ce||{},ye.shape)}return Ce&&(he.shape=Ce),he},ae.prototype.getAnimationStyleProps=function(){return O},ae.prototype.isZeroArea=function(){return!1},ae.extend=function(fe){var he=function(Se){function ye(we){var Ae=Se.call(this,we)||this;return fe.init&&fe.init.call(Ae,we),Ae}return(0,_.ZT)(ye,Se),ye.prototype.getDefaultStyle=function(){return(0,U.clone)(fe.style)},ye.prototype.getDefaultShape=function(){return(0,U.clone)(fe.shape)},ye}(ae);for(var Ce in fe)"function"==typeof fe[Ce]&&(he.prototype[Ce]=fe[Ce]);return he},ae.initDefaultProps=((fe=ae.prototype).type="path",fe.strokeContainThreshold=5,fe.segmentIgnoreThreshold=0,fe.subPixelOptimize=!1,fe.autoBatch=!1,void(fe.__dirty=B.YV|B.SE|B.RH)),ae;var fe}(T.ZP)},1592:($t,We,C)=>{"use strict";C.d(We,{Z:()=>ie});var _=C(4311);const ie=function(pe){function me(Me,de,G,Z,Q){var W=pe.call(this,Z)||this;return W.x=Me??.5,W.y=de??.5,W.r=G??.5,W.type="radial",W.global=Q||!1,W}return(0,_.ZT)(me,pe),me}(C(7303).Z)},6094:($t,We,C)=>{"use strict";C.d(We,{Z:()=>G});var _=C(4311),T=C(9746),Y=C(4981),ie=C(649),pe=C(4404),me=C(1240),Me=(0,pe.defaults)({strokeFirst:!0,font:me.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},ie.$t),de=function(Z){function Q(){return null!==Z&&Z.apply(this,arguments)||this}return(0,_.ZT)(Q,Z),Q.prototype.hasStroke=function(){var W=this.style,re=W.stroke;return null!=re&&"none"!==re&&W.lineWidth>0},Q.prototype.hasFill=function(){var re=this.style.fill;return null!=re&&"none"!==re},Q.prototype.createStyle=function(W){return(0,pe.createObject)(Me,W)},Q.prototype.setBoundingRect=function(W){this._rect=W},Q.prototype.getBoundingRect=function(){var W=this.style;if(!this._rect){var re=W.text;null!=re?re+="":re="";var te=(0,Y.lP)(re,W.font,W.textAlign,W.textBaseline);if(te.x+=W.x||0,te.y+=W.y||0,this.hasStroke()){var q=W.lineWidth;te.x-=q/2,te.y-=q/2,te.width+=q,te.height+=q}this._rect=te}return this._rect},Q.initDefaultProps=void(Q.prototype.dirtyRectTolerance=10),Q}(T.ZP);de.prototype.type="tspan";const G=de},2054:($t,We,C)=>{"use strict";C.d(We,{VG:()=>se,Y1:()=>K,ZP:()=>B});var _=C(4311),T=C(1310),Y=C(6094),ie=C(4404),pe=C(4981),me=C(1959),Me=C(2501),de=C(3066),G=C(9746),Z=C(1240),Q={fill:"#000"},re={style:(0,ie.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},G.ik.style)},te=function(H){function A(O){var I=H.call(this)||this;return I.type="text",I._children=[],I._defaultStyle=Q,I.attr(O),I}return(0,_.ZT)(A,H),A.prototype.childrenRef=function(){return this._children},A.prototype.update=function(){H.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var O=0;O<this._children.length;O++){var I=this._children[O];I.zlevel=this.zlevel,I.z=this.z,I.z2=this.z2,I.culling=this.culling,I.cursor=this.cursor,I.invisible=this.invisible}},A.prototype.updateTransform=function(){var O=this.innerTransformable;O?(O.updateTransform(),O.transform&&(this.transform=O.transform)):H.prototype.updateTransform.call(this)},A.prototype.getLocalTransform=function(O){var I=this.innerTransformable;return I?I.getLocalTransform(O):H.prototype.getLocalTransform.call(this,O)},A.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),H.prototype.getComputedTransform.call(this)},A.prototype._updateSubTexts=function(){this._childCursor=0,function ve(H){$(H),(0,ie.each)(H.rich,$)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},A.prototype.addSelfToZr=function(O){H.prototype.addSelfToZr.call(this,O);for(var I=0;I<this._children.length;I++)this._children[I].__zr=O},A.prototype.removeSelfFromZr=function(O){H.prototype.removeSelfFromZr.call(this,O);for(var I=0;I<this._children.length;I++)this._children[I].__zr=null},A.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var O=new de.Z(0,0,0,0),I=this._children,N=[],ee=null,j=0;j<I.length;j++){var ae=I[j],fe=ae.getBoundingRect(),he=ae.getLocalTransform(N);he?(O.copy(fe),O.applyTransform(he),(ee=ee||O.clone()).union(O)):(ee=ee||fe.clone()).union(fe)}this._rect=ee||O}return this._rect},A.prototype.setDefaultTextStyle=function(O){this._defaultStyle=O||Q},A.prototype.setTextContent=function(O){},A.prototype._mergeStyle=function(O,I){if(!I)return O;var N=I.rich,ee=O.rich||N&&{};return(0,ie.extend)(O,I),N&&ee?(this._mergeRich(ee,N),O.rich=ee):ee&&(O.rich=ee),O},A.prototype._mergeRich=function(O,I){for(var N=(0,ie.keys)(I),ee=0;ee<N.length;ee++){var j=N[ee];O[j]=O[j]||{},(0,ie.extend)(O[j],I[j])}},A.prototype.getAnimationStyleProps=function(){return re},A.prototype._getOrCreateChild=function(O){var I=this._children[this._childCursor];return(!I||!(I instanceof O))&&(I=new O),this._children[this._childCursor++]=I,I.__zr=this.__zr,I.parent=this,I},A.prototype._updatePlainTexts=function(){var O=this.style,I=O.font||Z.Uo,N=O.padding,ee=L(O),j=(0,T.NY)(ee,O),ae=E(O),fe=!!O.backgroundColor,he=j.outerHeight,Ce=j.outerWidth,Se=j.contentWidth,ye=j.lines,we=j.lineHeight,Ae=this._defaultStyle,Ne=O.x||0,Le=O.y||0,Je=O.align||Ae.align||"left",at=O.verticalAlign||Ae.verticalAlign||"top",nt=Ne,dt=(0,pe.mU)(Le,j.contentHeight,at);if(ae||N){var It=(0,pe.M3)(Ne,Ce,Je),an=(0,pe.mU)(Le,he,at);ae&&this._renderBackground(O,O,It,an,Ce,he)}dt+=we/2,N&&(nt=U(Ne,Je,N),"top"===at?dt+=N[0]:"bottom"===at&&(dt-=N[2]));for(var Yt=0,mn=!1,Cn=(ce("fill"in O?O.fill:(mn=!0,Ae.fill))),Gn=(X("stroke"in O?O.stroke:fe||Ae.autoStroke&&!mn?null:(Yt=2,Ae.stroke))),Wn=O.textShadowBlur>0,Fn=null!=O.width&&("truncate"===O.overflow||"break"===O.overflow||"breakAll"===O.overflow),Rr=j.calculatedLineHeight,hn=0;hn<ye.length;hn++){var ot=this._getOrCreateChild(Y.Z),Et=ot.createStyle();ot.useStyle(Et),Et.text=ye[hn],Et.x=nt,Et.y=dt,Je&&(Et.textAlign=Je),Et.textBaseline="middle",Et.opacity=O.opacity,Et.strokeFirst=!0,Wn&&(Et.shadowBlur=O.textShadowBlur||0,Et.shadowColor=O.textShadowColor||"transparent",Et.shadowOffsetX=O.textShadowOffsetX||0,Et.shadowOffsetY=O.textShadowOffsetY||0),Et.stroke=Gn,Et.fill=Cn,Gn&&(Et.lineWidth=O.lineWidth||Yt,Et.lineDash=O.lineDash,Et.lineDashOffset=O.lineDashOffset||0),Et.font=I,ge(Et,O),dt+=we,Fn&&ot.setBoundingRect(new de.Z((0,pe.M3)(Et.x,O.width,Et.textAlign),(0,pe.mU)(Et.y,Rr,Et.textBaseline),Se,Rr))}},A.prototype._updateRichTexts=function(){var O=this.style,I=L(O),N=(0,T.$F)(I,O),ee=N.width,j=N.outerWidth,ae=N.outerHeight,fe=O.padding,Ce=O.y||0,Se=this._defaultStyle,we=O.verticalAlign||Se.verticalAlign,Ae=(0,pe.M3)(O.x||0,j,O.align||Se.align),Ne=(0,pe.mU)(Ce,ae,we),Le=Ae,Je=Ne;fe&&(Le+=fe[3],Je+=fe[0]);var at=Le+ee;E(O)&&this._renderBackground(O,O,Ae,Ne,j,ae);for(var nt=!!O.backgroundColor,dt=0;dt<N.lines.length;dt++){for(var It=N.lines[dt],an=It.tokens,Yt=an.length,mn=It.lineHeight,Cn=It.width,Gn=0,Wn=Le,Fn=at,Rr=Yt-1,hn=void 0;Gn<Yt&&(!(hn=an[Gn]).align||"left"===hn.align);)this._placeToken(hn,O,mn,Je,Wn,"left",nt),Cn-=hn.width,Wn+=hn.width,Gn++;for(;Rr>=0&&"right"===(hn=an[Rr]).align;)this._placeToken(hn,O,mn,Je,Fn,"right",nt),Cn-=hn.width,Fn-=hn.width,Rr--;for(Wn+=(ee-(Wn-Le)-(at-Fn)-Cn)/2;Gn<=Rr;)this._placeToken(hn=an[Gn],O,mn,Je,Wn+hn.width/2,"center",nt),Wn+=hn.width,Gn++;Je+=mn}},A.prototype._placeToken=function(O,I,N,ee,j,ae,fe){var he=I.rich[O.styleName]||{};he.text=O.text;var Ce=O.verticalAlign,Se=ee+N/2;"top"===Ce?Se=ee+O.height/2:"bottom"===Ce&&(Se=ee+N-O.height/2),!O.isLineHolder&&E(he)&&this._renderBackground(he,I,"right"===ae?j-O.width:"center"===ae?j-O.width/2:j,Se-O.height/2,O.width,O.height);var we=!!he.backgroundColor,Ae=O.textPadding;Ae&&(j=U(j,ae,Ae),Se-=O.height/2-Ae[0]-O.innerHeight/2);var Ne=this._getOrCreateChild(Y.Z),Le=Ne.createStyle();Ne.useStyle(Le);var Je=this._defaultStyle,at=!1,nt=0,dt=ce("fill"in he?he.fill:"fill"in I?I.fill:(at=!0,Je.fill)),It=X("stroke"in he?he.stroke:"stroke"in I?I.stroke:we||fe||Je.autoStroke&&!at?null:(nt=2,Je.stroke)),an=he.textShadowBlur>0||I.textShadowBlur>0;Le.text=O.text,Le.x=j,Le.y=Se,an&&(Le.shadowBlur=he.textShadowBlur||I.textShadowBlur||0,Le.shadowColor=he.textShadowColor||I.textShadowColor||"transparent",Le.shadowOffsetX=he.textShadowOffsetX||I.textShadowOffsetX||0,Le.shadowOffsetY=he.textShadowOffsetY||I.textShadowOffsetY||0),Le.textAlign=ae,Le.textBaseline="middle",Le.font=O.font||Z.Uo,Le.opacity=(0,ie.retrieve3)(he.opacity,I.opacity,1),ge(Le,he),It&&(Le.lineWidth=(0,ie.retrieve3)(he.lineWidth,I.lineWidth,nt),Le.lineDash=(0,ie.retrieve2)(he.lineDash,I.lineDash),Le.lineDashOffset=I.lineDashOffset||0,Le.stroke=It),dt&&(Le.fill=dt);var Yt=O.contentWidth,mn=O.contentHeight;Ne.setBoundingRect(new de.Z((0,pe.M3)(Le.x,Yt,Le.textAlign),(0,pe.mU)(Le.y,mn,Le.textBaseline),Yt,mn))},A.prototype._renderBackground=function(O,I,N,ee,j,ae){var Ne,Le,at,fe=O.backgroundColor,he=O.borderWidth,Ce=O.borderColor,Se=fe&&fe.image,ye=fe&&!Se,we=O.borderRadius,Ae=this;if(ye||O.lineHeight||he&&Ce){(Ne=this._getOrCreateChild(Me.Z)).useStyle(Ne.createStyle()),Ne.style.fill=null;var Je=Ne.shape;Je.x=N,Je.y=ee,Je.width=j,Je.height=ae,Je.r=we,Ne.dirtyShape()}if(ye)(at=Ne.style).fill=fe||null,at.fillOpacity=(0,ie.retrieve2)(O.fillOpacity,1);else if(Se){(Le=this._getOrCreateChild(me.ZP)).onload=function(){Ae.dirtyStyle()};var nt=Le.style;nt.image=fe.image,nt.x=N,nt.y=ee,nt.width=j,nt.height=ae}he&&Ce&&((at=Ne.style).lineWidth=he,at.stroke=Ce,at.strokeOpacity=(0,ie.retrieve2)(O.strokeOpacity,1),at.lineDash=O.borderDash,at.lineDashOffset=O.borderDashOffset||0,Ne.strokeContainThreshold=0,Ne.hasFill()&&Ne.hasStroke()&&(at.strokeFirst=!0,at.lineWidth*=2));var dt=(Ne||Le).style;dt.shadowBlur=O.shadowBlur||0,dt.shadowColor=O.shadowColor||"transparent",dt.shadowOffsetX=O.shadowOffsetX||0,dt.shadowOffsetY=O.shadowOffsetY||0,dt.opacity=(0,ie.retrieve3)(O.opacity,I.opacity,1)},A.makeFont=function(O){var I="";return K(O)&&(I=[O.fontStyle,O.fontWeight,se(O.fontSize),O.fontFamily||"sans-serif"].join(" ")),I&&(0,ie.trim)(I)||O.textFont||O.font},A}(G.ZP),q={left:!0,right:1,center:1},oe={top:1,bottom:1,middle:1},M=["fontStyle","fontWeight","fontSize","fontFamily"];function se(H){return"string"!=typeof H||-1===H.indexOf("px")&&-1===H.indexOf("rem")&&-1===H.indexOf("em")?isNaN(+H)?Z.n5+"px":H+"px":H}function ge(H,A){for(var O=0;O<M.length;O++){var I=M[O],N=A[I];null!=N&&(H[I]=N)}}function K(H){return null!=H.fontSize||H.fontFamily||H.fontWeight}function $(H){if(H){H.font=te.makeFont(H);var A=H.align;"middle"===A&&(A="center"),H.align=null==A||q[A]?A:"left";var O=H.verticalAlign;"center"===O&&(O="middle"),H.verticalAlign=null==O||oe[O]?O:"top",H.padding&&(H.padding=(0,ie.normalizeCssArray)(H.padding))}}function X(H,A){return null==H||A<=0||"transparent"===H||"none"===H?null:H.image||H.colorStops?"#000":H}function ce(H){return null==H||"none"===H?null:H.image||H.colorStops?"#000":H}function U(H,A,O){return"right"===A?H-O[1]:"center"===A?H+O[3]/2-O[1]/2:H+O[3]}function L(H){var A=H.text;return null!=A&&(A+=""),A}function E(H){return!!(H.backgroundColor||H.lineHeight||H.borderWidth&&H.borderColor)}const B=te},3825:($t,We,C)=>{"use strict";C.d(We,{RH:()=>Y,SE:()=>T,YV:()=>_});var _=1,T=2,Y=4},2823:($t,We,C)=>{"use strict";C.d(We,{Gq:()=>pe,ko:()=>ie,v5:()=>Me});var _=C(4862),T=C(1240),Y=new _.ZP(50);function ie(de){if("string"==typeof de){var G=Y.get(de);return G&&G.image}return de}function pe(de,G,Z,Q,W){if(de){if("string"==typeof de){if(G&&G.__zrImageSrc===de||!Z)return G;var re=Y.get(de),te={hostEl:Z,cb:Q,cbPayload:W};return re?!Me(G=re.image)&&re.pending.push(te):((G=T.qW.loadImage(de,me,me)).__zrImageSrc=de,Y.put(de,G.__cachedImgObj={image:G,pending:[te]})),G}return de}return G}function me(){var de=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var G=0;G<de.pending.length;G++){var Z=de.pending[G],Q=Z.cb;Q&&Q(this,Z.cbPayload),Z.hostEl.dirty()}de.pending.length=0}function Me(de){return de&&de.width&&de.height}},1310:($t,We,C)=>{"use strict";C.d(We,{$F:()=>re,NY:()=>G,aF:()=>pe});var _=C(2823),T=C(4404),Y=C(4981),ie=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function pe(ge,K,ve,$,X){if(!K)return"";var ce=(ge+"").split("\n");X=me(K,ve,$,X);for(var U=0,L=ce.length;U<L;U++)ce[U]=Me(ce[U],X);return ce.join("\n")}function me(ge,K,ve,$){var X=(0,T.extend)({},$=$||{});X.font=K,ve=(0,T.retrieve2)(ve,"..."),X.maxIterations=(0,T.retrieve2)($.maxIterations,2);var ce=X.minChar=(0,T.retrieve2)($.minChar,0);X.cnCharWidth=(0,Y.dz)("\u56fd",K);var U=X.ascCharWidth=(0,Y.dz)("a",K);X.placeholder=(0,T.retrieve2)($.placeholder,"");for(var L=ge=Math.max(0,ge-1),E=0;E<ce&&L>=U;E++)L-=U;var B=(0,Y.dz)(ve,K);return B>L&&(ve="",B=0),L=ge-B,X.ellipsis=ve,X.ellipsisWidth=B,X.contentWidth=L,X.containerWidth=ge,X}function Me(ge,K){var ve=K.containerWidth,$=K.font,X=K.contentWidth;if(!ve)return"";var ce=(0,Y.dz)(ge,$);if(ce<=ve)return ge;for(var U=0;;U++){if(ce<=X||U>=K.maxIterations){ge+=K.ellipsis;break}var L=0===U?de(ge,X,K.ascCharWidth,K.cnCharWidth):ce>0?Math.floor(ge.length*X/ce):0;ge=ge.substr(0,L),ce=(0,Y.dz)(ge,$)}return""===ge&&(ge=K.placeholder),ge}function de(ge,K,ve,$){for(var X=0,ce=0,U=ge.length;ce<U&&X<K;ce++){var L=ge.charCodeAt(ce);X+=0<=L&&L<=127?ve:$}return ce}function G(ge,K){null!=ge&&(ge+="");var A,ve=K.overflow,$=K.padding,X=K.font,ce="truncate"===ve,U=(0,Y.Dp)(X),L=(0,T.retrieve2)(K.lineHeight,U),E=!!K.backgroundColor,B="truncate"===K.lineOverflow,H=K.width,O=(A=null==H||"break"!==ve&&"breakAll"!==ve?ge?ge.split("\n"):[]:ge?se(ge,K.font,H,"breakAll"===ve,0).lines:[]).length*L,I=(0,T.retrieve2)(K.height,O);if(O>I&&B){var N=Math.floor(I/L);A=A.slice(0,N)}if(ge&&ce&&null!=H)for(var ee=me(H,X,K.ellipsis,{minChar:K.truncateMinChar,placeholder:K.placeholder}),j=0;j<A.length;j++)A[j]=Me(A[j],ee);var ae=I,fe=0;for(j=0;j<A.length;j++)fe=Math.max((0,Y.dz)(A[j],X),fe);null==H&&(H=fe);var he=fe;return $&&(ae+=$[0]+$[2],he+=$[1]+$[3],H+=$[1]+$[3]),E&&(he=H),{lines:A,height:I,outerWidth:he,outerHeight:ae,lineHeight:L,calculatedLineHeight:U,contentWidth:fe,contentHeight:O,width:H}}var Z=function ge(){},Q=function ge(K){this.tokens=[],K&&(this.tokens=K)},W=function ge(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function re(ge,K){var ve=new W;if(null!=ge&&(ge+=""),!ge)return ve;for(var E,$=K.width,X=K.height,ce=K.overflow,U="break"!==ce&&"breakAll"!==ce||null==$?null:{width:$,accumWidth:0,breakAll:"breakAll"===ce},L=ie.lastIndex=0;null!=(E=ie.exec(ge));){var B=E.index;B>L&&te(ve,ge.substring(L,B),K,U),te(ve,E[2],K,U,E[1]),L=ie.lastIndex}L<ge.length&&te(ve,ge.substring(L,ge.length),K,U);var H=[],A=0,O=0,I=K.padding,N="truncate"===ce,ee="truncate"===K.lineOverflow;function j(mn,Cn,Gn){mn.width=Cn,mn.lineHeight=Gn,A+=Gn,O=Math.max(O,Cn)}e:for(var ae=0;ae<ve.lines.length;ae++){for(var fe=ve.lines[ae],he=0,Ce=0,Se=0;Se<fe.tokens.length;Se++){var we=(ye=fe.tokens[Se]).styleName&&K.rich[ye.styleName]||{},Ae=ye.textPadding=we.padding,Ne=Ae?Ae[1]+Ae[3]:0,Le=ye.font=we.font||K.font;ye.contentHeight=(0,Y.Dp)(Le);var Je=(0,T.retrieve2)(we.height,ye.contentHeight);if(ye.innerHeight=Je,Ae&&(Je+=Ae[0]+Ae[2]),ye.height=Je,ye.lineHeight=(0,T.retrieve3)(we.lineHeight,K.lineHeight,Je),ye.align=we&&we.align||K.align,ye.verticalAlign=we&&we.verticalAlign||"middle",ee&&null!=X&&A+ye.lineHeight>X){Se>0?(fe.tokens=fe.tokens.slice(0,Se),j(fe,Ce,he),ve.lines=ve.lines.slice(0,ae+1)):ve.lines=ve.lines.slice(0,ae);break e}var at=we.width,nt=null==at||"auto"===at;if("string"==typeof at&&"%"===at.charAt(at.length-1))ye.percentWidth=at,H.push(ye),ye.contentWidth=(0,Y.dz)(ye.text,Le);else{if(nt){var dt=we.backgroundColor,It=dt&&dt.image;It&&(It=_.ko(It),_.v5(It)&&(ye.width=Math.max(ye.width,It.width*Je/It.height)))}var an=N&&null!=$?$-Ce:null;null!=an&&an<ye.width?!nt||an<Ne?(ye.text="",ye.width=ye.contentWidth=0):(ye.text=pe(ye.text,an-Ne,Le,K.ellipsis,{minChar:K.truncateMinChar}),ye.width=ye.contentWidth=(0,Y.dz)(ye.text,Le)):ye.contentWidth=(0,Y.dz)(ye.text,Le)}ye.width+=Ne,Ce+=ye.width,we&&(he=Math.max(he,ye.lineHeight))}j(fe,Ce,he)}for(ve.outerWidth=ve.width=(0,T.retrieve2)($,O),ve.outerHeight=ve.height=(0,T.retrieve2)(X,A),ve.contentHeight=A,ve.contentWidth=O,I&&(ve.outerWidth+=I[1]+I[3],ve.outerHeight+=I[0]+I[2]),ae=0;ae<H.length;ae++){var ye;(ye=H[ae]).width=parseInt(ye.percentWidth,10)/100*ve.width}return ve}function te(ge,K,ve,$,X){var H,A,ce=""===K,U=X&&ve.rich[X]||{},L=ge.lines,E=U.font||ve.font,B=!1;if($){var O=U.padding,I=O?O[1]+O[3]:0;if(null!=U.width&&"auto"!==U.width){var N=(0,Y.GM)(U.width,$.width)+I;L.length>0&&N+$.accumWidth>$.width&&(H=K.split("\n"),B=!0),$.accumWidth=N}else{var ee=se(K,E,$.width,$.breakAll,$.accumWidth);$.accumWidth=ee.accumWidth+I,A=ee.linesWidths,H=ee.lines}}else H=K.split("\n");for(var j=0;j<H.length;j++){var ae=H[j],fe=new Z;if(fe.styleName=X,fe.text=ae,fe.isLineHolder=!ae&&!ce,fe.width="number"==typeof U.width?U.width:A?A[j]:(0,Y.dz)(ae,E),j||B)L.push(new Q([fe]));else{var he=(L[L.length-1]||(L[0]=new Q)).tokens,Ce=he.length;1===Ce&&he[0].isLineHolder?he[0]=fe:(ae||!Ce||ce)&&he.push(fe)}}}var oe=(0,T.reduce)(",&?/;] ".split(""),function(ge,K){return ge[K]=!0,ge},{});function M(ge){return!function q(ge){var K=ge.charCodeAt(0);return K>=32&&K<=591||K>=880&&K<=4351||K>=4608&&K<=5119||K>=7680&&K<=8303}(ge)||!!oe[ge]}function se(ge,K,ve,$,X){for(var ce=[],U=[],L="",E="",B=0,H=0,A=0;A<ge.length;A++){var O=ge.charAt(A);if("\n"!==O){var I=(0,Y.dz)(O,K),N=!$&&!M(O);(ce.length?H+I>ve:X+H+I>ve)?H?(L||E)&&(N?(L||(L=E,E="",H=B=0),ce.push(L),U.push(H-B),E+=O,L="",H=B+=I):(E&&(L+=E,E="",B=0),ce.push(L),U.push(H),L=O,H=I)):N?(ce.push(E),U.push(B),E=O,B=I):(ce.push(O),U.push(I)):(H+=I,N?(E+=O,B+=I):(E&&(L+=E,E="",B=0),L+=O))}else E&&(L+=E,H+=B),ce.push(L),U.push(H),L="",E="",B=0,H=0}return!ce.length&&!L&&(L=ge,E="",B=0),E&&(L+=E),L&&(ce.push(L),U.push(H)),1===ce.length&&(H+=X),{accumWidth:H,lines:ce,linesWidths:U}}},9236:($t,We,C)=>{"use strict";C.d(We,{L:()=>Y});var _=C(8060);function Y(ie,pe,me){var Me=pe.smooth,de=pe.points;if(de&&de.length>=2){if(Me){var G=function T(ie,pe,me,Me){var W,re,te,q,de=[],G=[],Z=[],Q=[];if(Me){te=[1/0,1/0],q=[-1/0,-1/0];for(var oe=0,M=ie.length;oe<M;oe++)(0,_.min)(te,te,ie[oe]),(0,_.max)(q,q,ie[oe]);(0,_.min)(te,te,Me[0]),(0,_.max)(q,q,Me[1])}for(oe=0,M=ie.length;oe<M;oe++){var se=ie[oe];if(me)W=ie[oe?oe-1:M-1],re=ie[(oe+1)%M];else{if(0===oe||oe===M-1){de.push((0,_.clone)(ie[oe]));continue}W=ie[oe-1],re=ie[oe+1]}(0,_.sub)(G,re,W),(0,_.scale)(G,G,pe);var ge=(0,_.distance)(se,W),K=(0,_.distance)(se,re),ve=ge+K;0!==ve&&(ge/=ve,K/=ve),(0,_.scale)(Z,G,-ge),(0,_.scale)(Q,G,K);var $=(0,_.add)([],se,Z),X=(0,_.add)([],se,Q);Me&&((0,_.max)($,$,te),(0,_.min)($,$,q),(0,_.max)(X,X,te),(0,_.min)(X,X,q)),de.push($),de.push(X)}return me&&de.push(de.shift()),de}(de,Me,me,pe.smoothConstraint);ie.moveTo(de[0][0],de[0][1]);for(var Z=de.length,Q=0;Q<(me?Z:Z-1);Q++){var W=G[2*Q],re=G[2*Q+1],te=de[(Q+1)%Z];ie.bezierCurveTo(W[0],W[1],re[0],re[1],te[0],te[1])}}else{ie.moveTo(de[0][0],de[0][1]),Q=1;for(var q=de.length;Q<q;Q++)ie.lineTo(de[Q][0],de[Q][1])}me&&ie.closePath()}}},4210:($t,We,C)=>{"use strict";C.d(We,{Pw:()=>Y,_3:()=>T,vu:()=>ie});var _=Math.round;function T(pe,me,Me){if(me){var de=me.x1,G=me.x2,Z=me.y1,Q=me.y2;pe.x1=de,pe.x2=G,pe.y1=Z,pe.y2=Q;var W=Me&&Me.lineWidth;return W&&(_(2*de)===_(2*G)&&(pe.x1=pe.x2=ie(de,W,!0)),_(2*Z)===_(2*Q)&&(pe.y1=pe.y2=ie(Z,W,!0))),pe}}function Y(pe,me,Me){if(me){var de=me.x,G=me.y,Z=me.width,Q=me.height;pe.x=de,pe.y=G,pe.width=Z,pe.height=Q;var W=Me&&Me.lineWidth;return W&&(pe.x=ie(de,W,!0),pe.y=ie(G,W,!0),pe.width=Math.max(ie(de+Z,W,!1)-pe.x,0===Z?0:1),pe.height=Math.max(ie(G+Q,W,!1)-pe.y,0===Q?0:1)),pe}}function ie(pe,me,Me){if(!me)return pe;var de=_(2*pe);return(de+_(me))%2==0?de/2:(de+(Me?1:-1))/2}},8972:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=C(4311),T=C(649),Y=function me(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},ie=function(me){function Me(de){return me.call(this,de)||this}return(0,_.ZT)(Me,me),Me.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Me.prototype.getDefaultShape=function(){return new Y},Me.prototype.buildPath=function(de,G){var Z=G.cx,Q=G.cy,W=Math.max(G.r,0),re=G.startAngle,te=G.endAngle,q=G.clockwise,oe=Math.cos(re),M=Math.sin(re);de.moveTo(oe*W+Z,M*W+Q),de.arc(Z,Q,W,re,te,!q)},Me}(T.ZP);ie.prototype.type="arc";const pe=ie},6830:($t,We,C)=>{"use strict";C.d(We,{Z:()=>G});var _=C(4311),T=C(649),Y=C(8060),ie=C(3645),pe=[],me=function Z(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Me(Z,Q,W){return null!=Z.cpx2||null!=Z.cpy2?[(W?ie.X_:ie.af)(Z.x1,Z.cpx1,Z.cpx2,Z.x2,Q),(W?ie.X_:ie.af)(Z.y1,Z.cpy1,Z.cpy2,Z.y2,Q)]:[(W?ie.AZ:ie.Zm)(Z.x1,Z.cpx1,Z.x2,Q),(W?ie.AZ:ie.Zm)(Z.y1,Z.cpy1,Z.y2,Q)]}var de=function(Z){function Q(W){return Z.call(this,W)||this}return(0,_.ZT)(Q,Z),Q.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Q.prototype.getDefaultShape=function(){return new me},Q.prototype.buildPath=function(W,re){var te=re.x1,q=re.y1,oe=re.x2,M=re.y2,se=re.cpx1,ge=re.cpy1,K=re.cpx2,ve=re.cpy2,$=re.percent;0!==$&&(W.moveTo(te,q),null==K||null==ve?($<1&&((0,ie.Lx)(te,se,oe,$,pe),se=pe[1],oe=pe[2],(0,ie.Lx)(q,ge,M,$,pe),ge=pe[1],M=pe[2]),W.quadraticCurveTo(se,ge,oe,M)):($<1&&((0,ie.Vz)(te,se,K,oe,$,pe),se=pe[1],K=pe[2],oe=pe[3],(0,ie.Vz)(q,ge,ve,M,$,pe),ge=pe[1],ve=pe[2],M=pe[3]),W.bezierCurveTo(se,ge,K,ve,oe,M)))},Q.prototype.pointAt=function(W){return Me(this.shape,W,!1)},Q.prototype.tangentAt=function(W){var re=Me(this.shape,W,!0);return Y.normalize(re,re)},Q}(T.ZP);de.prototype.type="bezier-curve";const G=de},1283:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=C(4311),T=C(649),Y=function me(){this.cx=0,this.cy=0,this.r=0},ie=function(me){function Me(de){return me.call(this,de)||this}return(0,_.ZT)(Me,me),Me.prototype.getDefaultShape=function(){return new Y},Me.prototype.buildPath=function(de,G){de.moveTo(G.cx+G.r,G.cy),de.arc(G.cx,G.cy,G.r,0,2*Math.PI)},Me}(T.ZP);ie.prototype.type="circle";const pe=ie},1462:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=C(4311),T=C(649),Y=function me(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},ie=function(me){function Me(de){return me.call(this,de)||this}return(0,_.ZT)(Me,me),Me.prototype.getDefaultShape=function(){return new Y},Me.prototype.buildPath=function(de,G){var Z=.5522848,Q=G.cx,W=G.cy,re=G.rx,te=G.ry,q=re*Z,oe=te*Z;de.moveTo(Q-re,W),de.bezierCurveTo(Q-re,W-oe,Q-q,W-te,Q,W-te),de.bezierCurveTo(Q+q,W-te,Q+re,W-oe,Q+re,W),de.bezierCurveTo(Q+re,W+oe,Q+q,W+te,Q,W+te),de.bezierCurveTo(Q-q,W+te,Q-re,W+oe,Q-re,W),de.closePath()},Me}(T.ZP);ie.prototype.type="ellipse";const pe=ie},2139:($t,We,C)=>{"use strict";C.d(We,{Z:()=>Me});var _=C(4311),T=C(649),Y=C(4210),ie={},pe=function de(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},me=function(de){function G(Z){return de.call(this,Z)||this}return(0,_.ZT)(G,de),G.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},G.prototype.getDefaultShape=function(){return new pe},G.prototype.buildPath=function(Z,Q){var W,re,te,q;if(this.subPixelOptimize){var oe=(0,Y._3)(ie,Q,this.style);W=oe.x1,re=oe.y1,te=oe.x2,q=oe.y2}else W=Q.x1,re=Q.y1,te=Q.x2,q=Q.y2;var M=Q.percent;0!==M&&(Z.moveTo(W,re),M<1&&(te=W*(1-M)+te*M,q=re*(1-M)+q*M),Z.lineTo(te,q))},G.prototype.pointAt=function(Z){var Q=this.shape;return[Q.x1*(1-Z)+Q.x2*Z,Q.y1*(1-Z)+Q.y2*Z]},G}(T.ZP);me.prototype.type="line";const Me=me},9213:($t,We,C)=>{"use strict";C.d(We,{Z:()=>me});var _=C(4311),T=C(649),Y=C(9236),ie=function Me(){this.points=null,this.smooth=0,this.smoothConstraint=null},pe=function(Me){function de(G){return Me.call(this,G)||this}return(0,_.ZT)(de,Me),de.prototype.getDefaultShape=function(){return new ie},de.prototype.buildPath=function(G,Z){Y.L(G,Z,!0)},de}(T.ZP);pe.prototype.type="polygon";const me=pe},2459:($t,We,C)=>{"use strict";C.d(We,{Z:()=>me});var _=C(4311),T=C(649),Y=C(9236),ie=function Me(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},pe=function(Me){function de(G){return Me.call(this,G)||this}return(0,_.ZT)(de,Me),de.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},de.prototype.getDefaultShape=function(){return new ie},de.prototype.buildPath=function(G,Z){Y.L(G,Z,!1)},de}(T.ZP);pe.prototype.type="polyline";const me=pe},2501:($t,We,C)=>{"use strict";C.d(We,{Z:()=>de});var _=C(4311),T=C(649),ie=C(4210),pe=function G(){this.x=0,this.y=0,this.width=0,this.height=0},me={},Me=function(G){function Z(Q){return G.call(this,Q)||this}return(0,_.ZT)(Z,G),Z.prototype.getDefaultShape=function(){return new pe},Z.prototype.buildPath=function(Q,W){var re,te,q,oe;if(this.subPixelOptimize){var M=(0,ie.Pw)(me,W,this.style);re=M.x,te=M.y,q=M.width,oe=M.height,M.r=W.r,W=M}else re=W.x,te=W.y,q=W.width,oe=W.height;W.r?function Y(G,Z){var oe,M,se,ge,K,Q=Z.x,W=Z.y,re=Z.width,te=Z.height,q=Z.r;re<0&&(Q+=re,re=-re),te<0&&(W+=te,te=-te),"number"==typeof q?oe=M=se=ge=q:q instanceof Array?1===q.length?oe=M=se=ge=q[0]:2===q.length?(oe=se=q[0],M=ge=q[1]):3===q.length?(oe=q[0],M=ge=q[1],se=q[2]):(oe=q[0],M=q[1],se=q[2],ge=q[3]):oe=M=se=ge=0,oe+M>re&&(oe*=re/(K=oe+M),M*=re/K),se+ge>re&&(se*=re/(K=se+ge),ge*=re/K),M+se>te&&(M*=te/(K=M+se),se*=te/K),oe+ge>te&&(oe*=te/(K=oe+ge),ge*=te/K),G.moveTo(Q+oe,W),G.lineTo(Q+re-M,W),0!==M&&G.arc(Q+re-M,W+M,M,-Math.PI/2,0),G.lineTo(Q+re,W+te-se),0!==se&&G.arc(Q+re-se,W+te-se,se,0,Math.PI/2),G.lineTo(Q+ge,W+te),0!==ge&&G.arc(Q+ge,W+te-ge,ge,Math.PI/2,Math.PI),G.lineTo(Q,W+oe),0!==oe&&G.arc(Q+oe,W+oe,oe,Math.PI,1.5*Math.PI)}(Q,W):Q.rect(re,te,q,oe)},Z.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Z}(T.ZP);Me.prototype.type="rect";const de=Me},1576:($t,We,C)=>{"use strict";C.d(We,{Z:()=>pe});var _=C(4311),T=C(649),Y=function me(){this.cx=0,this.cy=0,this.r=0,this.r0=0},ie=function(me){function Me(de){return me.call(this,de)||this}return(0,_.ZT)(Me,me),Me.prototype.getDefaultShape=function(){return new Y},Me.prototype.buildPath=function(de,G){var Z=G.cx,Q=G.cy,W=2*Math.PI;de.moveTo(Z+G.r,Q),de.arc(Z,Q,G.r,0,W,!1),de.moveTo(Z+G.r0,Q),de.arc(Z,Q,G.r0,0,W,!0)},Me}(T.ZP);ie.prototype.type="ring";const pe=ie},117:($t,We,C)=>{"use strict";C.d(We,{C:()=>ve});var _=C(4311),T=C(649),Y=C(4404),ie=Math.PI,pe=2*ie,me=Math.sin,Me=Math.cos,de=Math.acos,G=Math.atan2,Z=Math.abs,Q=Math.sqrt,W=Math.max,re=Math.min,te=1e-4;function oe($,X,ce,U,L,E,B){var H=$-ce,A=X-U,O=(B?E:-E)/Q(H*H+A*A),I=O*A,N=-O*H,ee=$+I,j=X+N,ae=ce+I,fe=U+N,he=(ee+ae)/2,Ce=(j+fe)/2,Se=ae-ee,ye=fe-j,we=Se*Se+ye*ye,Ae=L-E,Ne=ee*fe-ae*j,Le=(ye<0?-1:1)*Q(W(0,Ae*Ae*we-Ne*Ne)),Je=(Ne*ye-Se*Le)/we,at=(-Ne*Se-ye*Le)/we,nt=(Ne*ye+Se*Le)/we,dt=(-Ne*Se+ye*Le)/we,It=Je-he,an=at-Ce,Yt=nt-he,mn=dt-Ce;return It*It+an*an>Yt*Yt+mn*mn&&(Je=nt,at=dt),{cx:Je,cy:at,x0:-I,y0:-N,x1:Je*(L/Ae-1),y1:at*(L/Ae-1)}}var ge=function $(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},K=function($){function X(ce){return $.call(this,ce)||this}return(0,_.ZT)(X,$),X.prototype.getDefaultShape=function(){return new ge},X.prototype.buildPath=function(ce,U){!function se($,X){var ce,U=W(X.r,0),L=W(X.r0||0,0),E=U>0;if(E||L>0){if(E||(U=L,L=0),L>U){var H=U;U=L,L=H}var A=X.startAngle,O=X.endAngle;if(!isNaN(A)&&!isNaN(O)){var I=X.cx,N=X.cy,ee=!!X.clockwise,j=Z(O-A),ae=j>pe&&j%pe;if(ae>te&&(j=ae),U>te)if(j>pe-te)$.moveTo(I+U*Me(A),N+U*me(A)),$.arc(I,N,U,A,O,!ee),L>te&&($.moveTo(I+L*Me(O),N+L*me(O)),$.arc(I,N,L,O,A,ee));else{var fe=void 0,he=void 0,Ce=void 0,Se=void 0,ye=void 0,we=void 0,Ae=void 0,Ne=void 0,Le=void 0,Je=void 0,at=void 0,nt=void 0,dt=void 0,It=void 0,an=void 0,Yt=void 0,mn=U*Me(A),Cn=U*me(A),Gn=L*Me(O),Wn=L*me(O),Fn=j>te;if(Fn){var Rr=X.cornerRadius;Rr&&(ce=function M($){var X;if((0,Y.isArray)($)){var ce=$.length;if(!ce)return $;X=1===ce?[$[0],$[0],0,0]:2===ce?[$[0],$[0],$[1],$[1]]:3===ce?$.concat($[2]):$}else X=[$,$,$,$];return X}(Rr),fe=ce[0],he=ce[1],Ce=ce[2],Se=ce[3]);var hn=Z(U-L)/2;if(ye=re(hn,Ce),we=re(hn,Se),Ae=re(hn,fe),Ne=re(hn,he),at=Le=W(ye,we),nt=Je=W(Ae,Ne),(Le>te||Je>te)&&(dt=U*Me(O),It=U*me(O),an=L*Me(A),Yt=L*me(A),j<ie)){var ot=function q($,X,ce,U,L,E,B,H){var A=ce-$,O=U-X,I=B-L,N=H-E,ee=N*A-I*O;if(!(ee*ee<te))return[$+(ee=(I*(X-E)-N*($-L))/ee)*A,X+ee*O]}(mn,Cn,an,Yt,dt,It,Gn,Wn);if(ot){var Et=mn-ot[0],Tt=Cn-ot[1],Xt=dt-ot[0],Wt=It-ot[1],Dn=1/me(de((Et*Xt+Tt*Wt)/(Q(Et*Et+Tt*Tt)*Q(Xt*Xt+Wt*Wt)))/2),Ln=Q(ot[0]*ot[0]+ot[1]*ot[1]);at=re(Le,(U-Ln)/(Dn+1)),nt=re(Je,(L-Ln)/(Dn-1))}}}if(Fn)if(at>te){var xr=re(Ce,at),lr=re(Se,at),ct=oe(an,Yt,mn,Cn,U,xr,ee),Ft=oe(dt,It,Gn,Wn,U,lr,ee);$.moveTo(I+ct.cx+ct.x0,N+ct.cy+ct.y0),at<Le&&xr===lr?$.arc(I+ct.cx,N+ct.cy,at,G(ct.y0,ct.x0),G(Ft.y0,Ft.x0),!ee):(xr>0&&$.arc(I+ct.cx,N+ct.cy,xr,G(ct.y0,ct.x0),G(ct.y1,ct.x1),!ee),$.arc(I,N,U,G(ct.cy+ct.y1,ct.cx+ct.x1),G(Ft.cy+Ft.y1,Ft.cx+Ft.x1),!ee),lr>0&&$.arc(I+Ft.cx,N+Ft.cy,lr,G(Ft.y1,Ft.x1),G(Ft.y0,Ft.x0),!ee))}else $.moveTo(I+mn,N+Cn),$.arc(I,N,U,A,O,!ee);else $.moveTo(I+mn,N+Cn);L>te&&Fn?nt>te?(xr=re(fe,nt),ct=oe(Gn,Wn,dt,It,L,-(lr=re(he,nt)),ee),Ft=oe(mn,Cn,an,Yt,L,-xr,ee),$.lineTo(I+ct.cx+ct.x0,N+ct.cy+ct.y0),nt<Je&&xr===lr?$.arc(I+ct.cx,N+ct.cy,nt,G(ct.y0,ct.x0),G(Ft.y0,Ft.x0),!ee):(lr>0&&$.arc(I+ct.cx,N+ct.cy,lr,G(ct.y0,ct.x0),G(ct.y1,ct.x1),!ee),$.arc(I,N,L,G(ct.cy+ct.y1,ct.cx+ct.x1),G(Ft.cy+Ft.y1,Ft.cx+Ft.x1),ee),xr>0&&$.arc(I+Ft.cx,N+Ft.cy,xr,G(Ft.y1,Ft.x1),G(Ft.y0,Ft.x0),!ee))):($.lineTo(I+Gn,N+Wn),$.arc(I,N,L,O,A,ee)):$.lineTo(I+Gn,N+Wn)}else $.moveTo(I,N);$.closePath()}}}(ce,U)},X.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},X}(T.ZP);K.prototype.type="sector";const ve=K},2315:($t,We,C)=>{"use strict";C.d(We,{Cv:()=>M,Gk:()=>ce,H3:()=>$,I1:()=>K,Pn:()=>G,R:()=>ge,gA:()=>U,gO:()=>ve,i2:()=>te,jY:()=>W,m1:()=>X,mU:()=>re,n1:()=>q,oF:()=>L,qV:()=>Q,ut:()=>pe,zT:()=>Me});var _=C(4404),T=C(2),Y=C(8519),ie=Math.round;function pe(E){var B;if(E&&"transparent"!==E){if("string"==typeof E&&E.indexOf("rgba")>-1){var H=(0,T.parse)(E);H&&(E="rgb("+H[0]+","+H[1]+","+H[2]+")",B=H[3])}}else E="none";return{color:E,opacity:B??1}}var me=1e-4;function Me(E){return E<me&&E>-me}function de(E){return ie(1e3*E)/1e3}function G(E){return ie(1e4*E)/1e4}function Q(E){return"matrix("+de(E[0])+","+de(E[1])+","+de(E[2])+","+de(E[3])+","+G(E[4])+","+G(E[5])+")"}var W={left:"start",right:"end",center:"middle",middle:"middle"};function re(E,B,H){return"top"===H?E+=B/2:"bottom"===H&&(E-=B/2),E}function te(E){return E&&(E.shadowBlur||E.shadowOffsetX||E.shadowOffsetY)}function q(E){var B=E.style,H=E.getGlobalScale();return[B.shadowColor,(B.shadowBlur||0).toFixed(2),(B.shadowOffsetX||0).toFixed(2),(B.shadowOffsetY||0).toFixed(2),H[0],H[1]].join(",")}function M(E){return E&&!!E.image}function ge(E){return M(E)||function se(E){return E&&!!E.svgElement}(E)}function K(E){return"linear"===E.type}function ve(E){return"radial"===E.type}function $(E){return E&&("linear"===E.type||"radial"===E.type)}function X(E){return"url(#"+E+")"}function ce(E){var B=E.getGlobalScale(),H=Math.max(B[0],B[1]);return Math.max(Math.ceil(Math.log(H)/Math.log(10)),1)}function U(E){var B=E.x||0,H=E.y||0,A=(E.rotation||0)*_.RADIAN_TO_DEGREE,O=(0,_.retrieve2)(E.scaleX,1),I=(0,_.retrieve2)(E.scaleY,1),N=E.skewX||0,ee=E.skewY||0,j=[];return(B||H)&&j.push("translate("+B+"px,"+H+"px)"),A&&j.push("rotate("+A+")"),(1!==O||1!==I)&&j.push("scale("+O+","+I+")"),(N||ee)&&j.push("skew("+ie(N*_.RADIAN_TO_DEGREE)+"deg, "+ie(ee*_.RADIAN_TO_DEGREE)+"deg)"),j.join(" ")}var L=Y.Z.hasGlobalWindow&&(0,_.isFunction)(window.btoa)?function(E){return window.btoa(unescape(encodeURIComponent(E)))}:typeof Buffer<"u"?function(E){return Buffer.from(E).toString("base64")}:function(E){return null}},2:($t,We,C)=>{"use strict";C.r(We),C.d(We,{fastLerp:()=>K,fastMapToColor:()=>ve,lerp:()=>$,lift:()=>se,lum:()=>E,mapToColor:()=>X,modifyAlpha:()=>U,modifyHSL:()=>ce,parse:()=>q,random:()=>B,stringify:()=>L,toHex:()=>ge});var _=C(4862),T={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Y(H){return(H=Math.round(H))<0?0:H>255?255:H}function pe(H){return H<0?0:H>1?1:H}function me(H){var A=H;return A.length&&"%"===A.charAt(A.length-1)?Y(parseFloat(A)/100*255):Y(parseInt(A,10))}function Me(H){var A=H;return A.length&&"%"===A.charAt(A.length-1)?pe(parseFloat(A)/100):pe(parseFloat(A))}function de(H,A,O){return O<0?O+=1:O>1&&(O-=1),6*O<1?H+(A-H)*O*6:2*O<1?A:3*O<2?H+(A-H)*(2/3-O)*6:H}function G(H,A,O){return H+(A-H)*O}function Z(H,A,O,I,N){return H[0]=A,H[1]=O,H[2]=I,H[3]=N,H}function Q(H,A){return H[0]=A[0],H[1]=A[1],H[2]=A[2],H[3]=A[3],H}var W=new _.ZP(20),re=null;function te(H,A){re&&Q(re,A),re=W.put(H,re||A.slice())}function q(H,A){if(H){A=A||[];var O=W.get(H);if(O)return Q(A,O);var I=(H+="").replace(/ /g,"").toLowerCase();if(I in T)return Q(A,T[I]),te(H,A),A;var ee,N=I.length;if("#"===I.charAt(0))return 4===N||5===N?(ee=parseInt(I.slice(1,4),16))>=0&&ee<=4095?(Z(A,(3840&ee)>>4|(3840&ee)>>8,240&ee|(240&ee)>>4,15&ee|(15&ee)<<4,5===N?parseInt(I.slice(4),16)/15:1),te(H,A),A):void Z(A,0,0,0,1):7===N||9===N?(ee=parseInt(I.slice(1,7),16))>=0&&ee<=16777215?(Z(A,(16711680&ee)>>16,(65280&ee)>>8,255&ee,9===N?parseInt(I.slice(7),16)/255:1),te(H,A),A):void Z(A,0,0,0,1):void 0;var j=I.indexOf("("),ae=I.indexOf(")");if(-1!==j&&ae+1===N){var fe=I.substr(0,j),he=I.substr(j+1,ae-(j+1)).split(","),Ce=1;switch(fe){case"rgba":if(4!==he.length)return 3===he.length?Z(A,+he[0],+he[1],+he[2],1):Z(A,0,0,0,1);Ce=Me(he.pop());case"rgb":return he.length>=3?(Z(A,me(he[0]),me(he[1]),me(he[2]),3===he.length?Ce:Me(he[3])),te(H,A),A):void Z(A,0,0,0,1);case"hsla":return 4!==he.length?void Z(A,0,0,0,1):(he[3]=Me(he[3]),oe(he,A),te(H,A),A);case"hsl":return 3!==he.length?void Z(A,0,0,0,1):(oe(he,A),te(H,A),A);default:return}}Z(A,0,0,0,1)}}function oe(H,A){var O=(parseFloat(H[0])%360+360)%360/360,I=Me(H[1]),N=Me(H[2]),ee=N<=.5?N*(I+1):N+I-N*I,j=2*N-ee;return Z(A=A||[],Y(255*de(j,ee,O+1/3)),Y(255*de(j,ee,O)),Y(255*de(j,ee,O-1/3)),1),4===H.length&&(A[3]=H[3]),A}function se(H,A){var O=q(H);if(O){for(var I=0;I<3;I++)O[I]=A<0?O[I]*(1-A)|0:(255-O[I])*A+O[I]|0,O[I]>255?O[I]=255:O[I]<0&&(O[I]=0);return L(O,4===O.length?"rgba":"rgb")}}function ge(H){var A=q(H);if(A)return((1<<24)+(A[0]<<16)+(A[1]<<8)+ +A[2]).toString(16).slice(1)}function K(H,A,O){if(A&&A.length&&H>=0&&H<=1){O=O||[];var I=H*(A.length-1),N=Math.floor(I),ee=Math.ceil(I),j=A[N],ae=A[ee],fe=I-N;return O[0]=Y(G(j[0],ae[0],fe)),O[1]=Y(G(j[1],ae[1],fe)),O[2]=Y(G(j[2],ae[2],fe)),O[3]=pe(G(j[3],ae[3],fe)),O}}var ve=K;function $(H,A,O){if(A&&A.length&&H>=0&&H<=1){var I=H*(A.length-1),N=Math.floor(I),ee=Math.ceil(I),j=q(A[N]),ae=q(A[ee]),fe=I-N,he=L([Y(G(j[0],ae[0],fe)),Y(G(j[1],ae[1],fe)),Y(G(j[2],ae[2],fe)),pe(G(j[3],ae[3],fe))],"rgba");return O?{color:he,leftIndex:N,rightIndex:ee,value:I}:he}}var X=$;function ce(H,A,O,I){var N=q(H);if(H)return N=function M(H){if(H){var fe,he,A=H[0]/255,O=H[1]/255,I=H[2]/255,N=Math.min(A,O,I),ee=Math.max(A,O,I),j=ee-N,ae=(ee+N)/2;if(0===j)fe=0,he=0;else{he=ae<.5?j/(ee+N):j/(2-ee-N);var Ce=((ee-A)/6+j/2)/j,Se=((ee-O)/6+j/2)/j,ye=((ee-I)/6+j/2)/j;A===ee?fe=ye-Se:O===ee?fe=1/3+Ce-ye:I===ee&&(fe=2/3+Se-Ce),fe<0&&(fe+=1),fe>1&&(fe-=1)}var we=[360*fe,he,ae];return null!=H[3]&&we.push(H[3]),we}}(N),null!=A&&(N[0]=function ie(H){return(H=Math.round(H))<0?0:H>360?360:H}(A)),null!=O&&(N[1]=Me(O)),null!=I&&(N[2]=Me(I)),L(oe(N),"rgba")}function U(H,A){var O=q(H);if(O&&null!=A)return O[3]=pe(A),L(O,"rgba")}function L(H,A){if(H&&H.length){var O=H[0]+","+H[1]+","+H[2];return("rgba"===A||"hsva"===A||"hsla"===A)&&(O+=","+H[3]),A+"("+O+")"}}function E(H,A){var O=q(H);return O?(.299*O[0]+.587*O[1]+.114*O[2])*O[3]/255+(1-O[3])*A:0}function B(){return L([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}},8209:($t,We,C)=>{"use strict";C.d(We,{U5:()=>B,iR:()=>U,Pc:()=>L,AA:()=>E});var _=C(4311),T=C(649),Y=C(7062),ie=C(8060),pe=Y.Z.CMD,me=[[],[],[]],Me=Math.sqrt,de=Math.atan2;function G(H,A){if(A){var N,ee,j,ae,fe,he,O=H.data,I=H.len(),Ce=pe.M,Se=pe.C,ye=pe.L,we=pe.R,Ae=pe.A,Ne=pe.Q;for(j=0,ae=0;j<I;){switch(N=O[j++],ae=j,ee=0,N){case Ce:case ye:ee=1;break;case Se:ee=3;break;case Ne:ee=2;break;case Ae:var Le=A[4],Je=A[5],at=Me(A[0]*A[0]+A[1]*A[1]),nt=Me(A[2]*A[2]+A[3]*A[3]),dt=de(-A[1]/nt,A[0]/at);O[j]*=at,O[j++]+=Le,O[j]*=nt,O[j++]+=Je,O[j++]*=at,O[j++]*=nt,O[j++]+=dt,O[j++]+=dt,ae=j+=2;break;case we:he[0]=O[j++],he[1]=O[j++],(0,ie.applyTransform)(he,he,A),O[ae++]=he[0],O[ae++]=he[1],he[0]+=O[j++],he[1]+=O[j++],(0,ie.applyTransform)(he,he,A),O[ae++]=he[0],O[ae++]=he[1]}for(fe=0;fe<ee;fe++){var It=me[fe];It[0]=O[j++],It[1]=O[j++],(0,ie.applyTransform)(It,It,A),O[ae++]=It[0],O[ae++]=It[1]}}H.increaseVersion()}}var Z=C(4404),Q=Math.sqrt,W=Math.sin,re=Math.cos,te=Math.PI;function q(H){return Math.sqrt(H[0]*H[0]+H[1]*H[1])}function oe(H,A){return(H[0]*A[0]+H[1]*A[1])/(q(H)*q(A))}function M(H,A){return(H[0]*A[1]<H[1]*A[0]?-1:1)*Math.acos(oe(H,A))}function se(H,A,O,I,N,ee,j,ae,fe,he,Ce){var Se=fe*(te/180),ye=re(Se)*(H-O)/2+W(Se)*(A-I)/2,we=-1*W(Se)*(H-O)/2+re(Se)*(A-I)/2,Ae=ye*ye/(j*j)+we*we/(ae*ae);Ae>1&&(j*=Q(Ae),ae*=Q(Ae));var Ne=(N===ee?-1:1)*Q((j*j*(ae*ae)-j*j*(we*we)-ae*ae*(ye*ye))/(j*j*(we*we)+ae*ae*(ye*ye)))||0,Le=Ne*j*we/ae,Je=Ne*-ae*ye/j,at=(H+O)/2+re(Se)*Le-W(Se)*Je,nt=(A+I)/2+W(Se)*Le+re(Se)*Je,dt=M([1,0],[(ye-Le)/j,(we-Je)/ae]),It=[(ye-Le)/j,(we-Je)/ae],an=[(-1*ye-Le)/j,(-1*we-Je)/ae],Yt=M(It,an);if(oe(It,an)<=-1&&(Yt=te),oe(It,an)>=1&&(Yt=0),Yt<0){var mn=Math.round(Yt/te*1e6)/1e6;Yt=2*te+mn%2*te}Ce.addData(he,at,nt,j,ae,dt,Yt,Se,ee)}var ge=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,K=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,$=function(H){function A(){return null!==H&&H.apply(this,arguments)||this}return(0,_.ZT)(A,H),A.prototype.applyTransform=function(O){},A}(T.ZP);function X(H){return null!=H.setData}function ce(H,A){var O=function ve(H){var A=new Y.Z;if(!H)return A;var j,O=0,I=0,N=O,ee=I,ae=Y.Z.CMD,fe=H.match(ge);if(!fe)return A;for(var he=0;he<fe.length;he++){for(var Ce=fe[he],Se=Ce.charAt(0),ye=void 0,we=Ce.match(K)||[],Ae=we.length,Ne=0;Ne<Ae;Ne++)we[Ne]=parseFloat(we[Ne]);for(var Le=0;Le<Ae;){var Je=void 0,at=void 0,nt=void 0,dt=void 0,It=void 0,an=void 0,Yt=void 0,mn=O,Cn=I,Gn=void 0,Wn=void 0;switch(Se){case"l":O+=we[Le++],I+=we[Le++],A.addData(ye=ae.L,O,I);break;case"L":O=we[Le++],I=we[Le++],A.addData(ye=ae.L,O,I);break;case"m":O+=we[Le++],I+=we[Le++],A.addData(ye=ae.M,O,I),N=O,ee=I,Se="l";break;case"M":O=we[Le++],I=we[Le++],A.addData(ye=ae.M,O,I),N=O,ee=I,Se="L";break;case"h":O+=we[Le++],A.addData(ye=ae.L,O,I);break;case"H":O=we[Le++],A.addData(ye=ae.L,O,I);break;case"v":I+=we[Le++],A.addData(ye=ae.L,O,I);break;case"V":I=we[Le++],A.addData(ye=ae.L,O,I);break;case"C":A.addData(ye=ae.C,we[Le++],we[Le++],we[Le++],we[Le++],we[Le++],we[Le++]),O=we[Le-2],I=we[Le-1];break;case"c":A.addData(ye=ae.C,we[Le++]+O,we[Le++]+I,we[Le++]+O,we[Le++]+I,we[Le++]+O,we[Le++]+I),O+=we[Le-2],I+=we[Le-1];break;case"S":Je=O,at=I,Gn=A.len(),Wn=A.data,j===ae.C&&(Je+=O-Wn[Gn-4],at+=I-Wn[Gn-3]),mn=we[Le++],Cn=we[Le++],O=we[Le++],I=we[Le++],A.addData(ye=ae.C,Je,at,mn,Cn,O,I);break;case"s":Je=O,at=I,Gn=A.len(),Wn=A.data,j===ae.C&&(Je+=O-Wn[Gn-4],at+=I-Wn[Gn-3]),mn=O+we[Le++],Cn=I+we[Le++],O+=we[Le++],I+=we[Le++],A.addData(ye=ae.C,Je,at,mn,Cn,O,I);break;case"Q":mn=we[Le++],Cn=we[Le++],O=we[Le++],I=we[Le++],A.addData(ye=ae.Q,mn,Cn,O,I);break;case"q":mn=we[Le++]+O,Cn=we[Le++]+I,O+=we[Le++],I+=we[Le++],A.addData(ye=ae.Q,mn,Cn,O,I);break;case"T":Je=O,at=I,Gn=A.len(),Wn=A.data,j===ae.Q&&(Je+=O-Wn[Gn-4],at+=I-Wn[Gn-3]),O=we[Le++],I=we[Le++],A.addData(ye=ae.Q,Je,at,O,I);break;case"t":Je=O,at=I,Gn=A.len(),Wn=A.data,j===ae.Q&&(Je+=O-Wn[Gn-4],at+=I-Wn[Gn-3]),O+=we[Le++],I+=we[Le++],A.addData(ye=ae.Q,Je,at,O,I);break;case"A":nt=we[Le++],dt=we[Le++],It=we[Le++],an=we[Le++],Yt=we[Le++],se(mn=O,Cn=I,O=we[Le++],I=we[Le++],an,Yt,nt,dt,It,ye=ae.A,A);break;case"a":nt=we[Le++],dt=we[Le++],It=we[Le++],an=we[Le++],Yt=we[Le++],se(mn=O,Cn=I,O+=we[Le++],I+=we[Le++],an,Yt,nt,dt,It,ye=ae.A,A)}}("z"===Se||"Z"===Se)&&(A.addData(ye=ae.Z),O=N,I=ee),j=ye}return A.toStatic(),A}(H),I=(0,Z.extend)({},A);return I.buildPath=function(N){var ee;X(N)?(N.setData(O.data),(ee=N.getContext())&&N.rebuildPath(ee,1)):O.rebuildPath(ee=N,1)},I.applyTransform=function(N){G(O,N),this.dirtyShape()},I}function U(H,A){return new $(ce(H,A))}function L(H,A){var O=ce(H,A);return function(N){function ee(j){var ae=N.call(this,j)||this;return ae.applyTransform=O.applyTransform,ae.buildPath=O.buildPath,ae}return(0,_.ZT)(ee,N),ee}($)}function E(H,A){for(var O=[],I=H.length,N=0;N<I;N++)O.push(H[N].getUpdatedPathProxy(!0));var j=new T.ZP(A);return j.createPathProxy(),j.buildPath=function(ae){if(X(ae)){ae.appendPath(O);var fe=ae.getContext();fe&&ae.rebuildPath(fe,1)}},j}function B(H,A){A=A||{};var O=new T.ZP;return H.shape&&O.setShape(H.shape),O.setStyle(H.style),A.bakeTransform?G(O.path,H.getComputedTransform()):A.toLocal?O.setLocalTransform(H.getComputedTransform()):O.copyTransform(H),O.buildPath=H.buildPath,O.applyTransform=O.applyTransform,O.z=H.z,O.z2=H.z2,O.zlevel=H.zlevel,O}},8555:($t,We,C)=>{"use strict";C.r(We),C.d(We,{dispose:()=>lr,disposeAll:()=>ct,getInstance:()=>Ft,init:()=>xr,registerPainter:()=>Un,version:()=>Gt});var _=C(8519),T=C(4404),Y=C(4311),ie=C(8060),pe=function _t(Xe,Ye){this.target=Xe,this.topTarget=Ye&&Ye.topTarget},me=function(){function _t(Xe){this.handler=Xe,Xe.on("mousedown",this._dragStart,this),Xe.on("mousemove",this._drag,this),Xe.on("mouseup",this._dragEnd,this)}return _t.prototype._dragStart=function(Xe){for(var Ye=Xe.target;Ye&&!Ye.draggable;)Ye=Ye.parent||Ye.__hostTarget;Ye&&(this._draggingTarget=Ye,Ye.dragging=!0,this._x=Xe.offsetX,this._y=Xe.offsetY,this.handler.dispatchToElement(new pe(Ye,Xe),"dragstart",Xe.event))},_t.prototype._drag=function(Xe){var Ye=this._draggingTarget;if(Ye){var ke=Xe.offsetX,Ct=Xe.offsetY,Mt=ke-this._x,Jt=Ct-this._y;this._x=ke,this._y=Ct,Ye.drift(Mt,Jt,Xe),this.handler.dispatchToElement(new pe(Ye,Xe),"drag",Xe.event);var bn=this.handler.findHover(ke,Ct,Ye).target,ar=this._dropTarget;this._dropTarget=bn,Ye!==bn&&(ar&&bn!==ar&&this.handler.dispatchToElement(new pe(ar,Xe),"dragleave",Xe.event),bn&&bn!==ar&&this.handler.dispatchToElement(new pe(bn,Xe),"dragenter",Xe.event))}},_t.prototype._dragEnd=function(Xe){var Ye=this._draggingTarget;Ye&&(Ye.dragging=!1),this.handler.dispatchToElement(new pe(Ye,Xe),"dragend",Xe.event),this._dropTarget&&this.handler.dispatchToElement(new pe(this._dropTarget,Xe),"drop",Xe.event),this._draggingTarget=null,this._dropTarget=null},_t}();const Me=me;var de=C(7481),G=C(9520),Z=function(){function _t(){this._track=[]}return _t.prototype.recognize=function(Xe,Ye,ke){return this._doTrack(Xe,Ye,ke),this._recognize(Xe)},_t.prototype.clear=function(){return this._track.length=0,this},_t.prototype._doTrack=function(Xe,Ye,ke){var Ct=Xe.touches;if(Ct){for(var Mt={points:[],touches:[],target:Ye,event:Xe},Jt=0,bn=Ct.length;Jt<bn;Jt++){var ar=Ct[Jt],Ar=G.eV(ke,ar,{});Mt.points.push([Ar.zrX,Ar.zrY]),Mt.touches.push(ar)}this._track.push(Mt)}},_t.prototype._recognize=function(Xe){for(var Ye in re)if(re.hasOwnProperty(Ye)){var ke=re[Ye](this._track,Xe);if(ke)return ke}},_t}();function Q(_t){var Xe=_t[1][0]-_t[0][0],Ye=_t[1][1]-_t[0][1];return Math.sqrt(Xe*Xe+Ye*Ye)}var re={pinch:function(_t,Xe){var Ye=_t.length;if(Ye){var ke=(_t[Ye-1]||{}).points,Ct=(_t[Ye-2]||{}).points||ke;if(Ct&&Ct.length>1&&ke&&ke.length>1){var Mt=Q(ke)/Q(Ct);!isFinite(Mt)&&(Mt=1),Xe.pinchScale=Mt;var Jt=function W(_t){return[(_t[0][0]+_t[1][0])/2,(_t[0][1]+_t[1][1])/2]}(ke);return Xe.pinchX=Jt[0],Xe.pinchY=Jt[1],{type:"pinch",target:_t[0].target,event:Xe}}}}},te=C(3066),q="silent";function M(){G.sT(this.event)}var se=function(_t){function Xe(){var Ye=null!==_t&&_t.apply(this,arguments)||this;return Ye.handler=null,Ye}return(0,Y.ZT)(Xe,_t),Xe.prototype.dispose=function(){},Xe.prototype.setCursor=function(){},Xe}(de.Z),ge=function _t(Xe,Ye){this.x=Xe,this.y=Ye},K=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ve=new te.Z(0,0,0,0),$=function(_t){function Xe(Ye,ke,Ct,Mt,Jt){var bn=_t.call(this)||this;return bn._hovered=new ge(0,0),bn.storage=Ye,bn.painter=ke,bn.painterRoot=Mt,bn._pointerSize=Jt,Ct=Ct||new se,bn.proxy=null,bn.setHandlerProxy(Ct),bn._draggingMgr=new Me(bn),bn}return(0,Y.ZT)(Xe,_t),Xe.prototype.setHandlerProxy=function(Ye){this.proxy&&this.proxy.dispose(),Ye&&(T.each(K,function(ke){Ye.on&&Ye.on(ke,this[ke],this)},this),Ye.handler=this),this.proxy=Ye},Xe.prototype.mousemove=function(Ye){var ke=Ye.zrX,Ct=Ye.zrY,Mt=U(this,ke,Ct),Jt=this._hovered,bn=Jt.target;bn&&!bn.__zr&&(bn=(Jt=this.findHover(Jt.x,Jt.y)).target);var ar=this._hovered=Mt?new ge(ke,Ct):this.findHover(ke,Ct),Ar=ar.target,Gr=this.proxy;Gr.setCursor&&Gr.setCursor(Ar?Ar.cursor:"default"),bn&&Ar!==bn&&this.dispatchToElement(Jt,"mouseout",Ye),this.dispatchToElement(ar,"mousemove",Ye),Ar&&Ar!==bn&&this.dispatchToElement(ar,"mouseover",Ye)},Xe.prototype.mouseout=function(Ye){var ke=Ye.zrEventControl;"only_globalout"!==ke&&this.dispatchToElement(this._hovered,"mouseout",Ye),"no_globalout"!==ke&&this.trigger("globalout",{type:"globalout",event:Ye})},Xe.prototype.resize=function(){this._hovered=new ge(0,0)},Xe.prototype.dispatch=function(Ye,ke){var Ct=this[Ye];Ct&&Ct.call(this,ke)},Xe.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Xe.prototype.setCursorStyle=function(Ye){var ke=this.proxy;ke.setCursor&&ke.setCursor(Ye)},Xe.prototype.dispatchToElement=function(Ye,ke,Ct){var Mt=(Ye=Ye||{}).target;if(!Mt||!Mt.silent){for(var Jt="on"+ke,bn=function oe(_t,Xe,Ye){return{type:_t,event:Ye,target:Xe.target,topTarget:Xe.topTarget,cancelBubble:!1,offsetX:Ye.zrX,offsetY:Ye.zrY,gestureEvent:Ye.gestureEvent,pinchX:Ye.pinchX,pinchY:Ye.pinchY,pinchScale:Ye.pinchScale,wheelDelta:Ye.zrDelta,zrByTouch:Ye.zrByTouch,which:Ye.which,stop:M}}(ke,Ye,Ct);Mt&&(Mt[Jt]&&(bn.cancelBubble=!!Mt[Jt].call(Mt,bn)),Mt.trigger(ke,bn),Mt=Mt.__hostTarget?Mt.__hostTarget:Mt.parent,!bn.cancelBubble););bn.cancelBubble||(this.trigger(ke,bn),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(ar){"function"==typeof ar[Jt]&&ar[Jt].call(ar,bn),ar.trigger&&ar.trigger(ke,bn)}))}},Xe.prototype.findHover=function(Ye,ke,Ct){var Mt=this.storage.getDisplayList(),Jt=new ge(Ye,ke);if(ce(Mt,Jt,Ye,ke,Ct),this._pointerSize&&!Jt.target){for(var bn=[],ar=this._pointerSize,Ar=ar/2,Gr=new te.Z(Ye-Ar,ke-Ar,ar,ar),Mn=Mt.length-1;Mn>=0;Mn--){var on=Mt[Mn];on!==Ct&&!on.ignore&&!on.ignoreCoarsePointer&&(!on.parent||!on.parent.ignoreCoarsePointer)&&(ve.copy(on.getBoundingRect()),on.transform&&ve.applyTransform(on.transform),ve.intersect(Gr)&&bn.push(on))}if(bn.length)for(var tn=Math.PI/12,Xn=2*Math.PI,Lr=0;Lr<Ar;Lr+=4)for(var Br=0;Br<Xn;Br+=tn)if(ce(bn,Jt,Ye+Lr*Math.cos(Br),ke+Lr*Math.sin(Br),Ct),Jt.target)return Jt}return Jt},Xe.prototype.processGesture=function(Ye,ke){this._gestureMgr||(this._gestureMgr=new Z);var Ct=this._gestureMgr;"start"===ke&&Ct.clear();var Mt=Ct.recognize(Ye,this.findHover(Ye.zrX,Ye.zrY,null).target,this.proxy.dom);if("end"===ke&&Ct.clear(),Mt){var Jt=Mt.type;Ye.gestureEvent=Jt;var bn=new ge;bn.target=Mt.target,this.dispatchToElement(bn,Jt,Mt.event)}},Xe}(de.Z);function X(_t,Xe,Ye){if(_t[_t.rectHover?"rectContain":"contain"](Xe,Ye)){for(var ke=_t,Ct=void 0,Mt=!1;ke;){if(ke.ignoreClip&&(Mt=!0),!Mt){var Jt=ke.getClipPath();if(Jt&&!Jt.contain(Xe,Ye))return!1;ke.silent&&(Ct=!0)}ke=ke.__hostTarget||ke.parent}return!Ct||q}return!1}function ce(_t,Xe,Ye,ke,Ct){for(var Mt=_t.length-1;Mt>=0;Mt--){var Jt=_t[Mt],bn=void 0;if(Jt!==Ct&&!Jt.ignore&&(bn=X(Jt,Ye,ke))&&(!Xe.topTarget&&(Xe.topTarget=Jt),bn!==q)){Xe.target=Jt;break}}}function U(_t,Xe,Ye){var ke=_t.painter;return Xe<0||Xe>ke.getWidth()||Ye<0||Ye>ke.getHeight()}T.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(_t){$.prototype[_t]=function(Xe){var Mt,Jt,Ye=Xe.zrX,ke=Xe.zrY,Ct=U(this,Ye,ke);if(("mouseup"!==_t||!Ct)&&(Jt=(Mt=this.findHover(Ye,ke)).target),"mousedown"===_t)this._downEl=Jt,this._downPoint=[Xe.zrX,Xe.zrY],this._upEl=Jt;else if("mouseup"===_t)this._upEl=Jt;else if("click"===_t){if(this._downEl!==this._upEl||!this._downPoint||ie.dist(this._downPoint,[Xe.zrX,Xe.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Mt,_t,Xe)}});const L=$;var E=C(8098),B=C(3825),H=!1;function A(){H||(H=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function O(_t,Xe){return _t.zlevel===Xe.zlevel?_t.z===Xe.z?_t.z2-Xe.z2:_t.z-Xe.z:_t.zlevel-Xe.zlevel}var I=function(){function _t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=O}return _t.prototype.traverse=function(Xe,Ye){for(var ke=0;ke<this._roots.length;ke++)this._roots[ke].traverse(Xe,Ye)},_t.prototype.getDisplayList=function(Xe,Ye){Ye=Ye||!1;var ke=this._displayList;return(Xe||!ke.length)&&this.updateDisplayList(Ye),ke},_t.prototype.updateDisplayList=function(Xe){this._displayListLen=0;for(var Ye=this._roots,ke=this._displayList,Ct=0,Mt=Ye.length;Ct<Mt;Ct++)this._updateAndAddDisplayable(Ye[Ct],null,Xe);ke.length=this._displayListLen,(0,E.Z)(ke,O)},_t.prototype._updateAndAddDisplayable=function(Xe,Ye,ke){if(!Xe.ignore||ke){Xe.beforeUpdate(),Xe.update(),Xe.afterUpdate();var Ct=Xe.getClipPath();if(Xe.ignoreClip)Ye=null;else if(Ct){Ye=Ye?Ye.slice():[];for(var Mt=Ct,Jt=Xe;Mt;)Mt.parent=Jt,Mt.updateTransform(),Ye.push(Mt),Jt=Mt,Mt=Mt.getClipPath()}if(Xe.childrenRef){for(var bn=Xe.childrenRef(),ar=0;ar<bn.length;ar++){var Ar=bn[ar];Xe.__dirty&&(Ar.__dirty|=B.YV),this._updateAndAddDisplayable(Ar,Ye,ke)}Xe.__dirty=0}else{var Gr=Xe;Ye&&Ye.length?Gr.__clipPaths=Ye:Gr.__clipPaths&&Gr.__clipPaths.length>0&&(Gr.__clipPaths=[]),isNaN(Gr.z)&&(A(),Gr.z=0),isNaN(Gr.z2)&&(A(),Gr.z2=0),isNaN(Gr.zlevel)&&(A(),Gr.zlevel=0),this._displayList[this._displayListLen++]=Gr}var Mn=Xe.getDecalElement&&Xe.getDecalElement();Mn&&this._updateAndAddDisplayable(Mn,Ye,ke);var on=Xe.getTextGuideLine();on&&this._updateAndAddDisplayable(on,Ye,ke);var Ht=Xe.getTextContent();Ht&&this._updateAndAddDisplayable(Ht,Ye,ke)}},_t.prototype.addRoot=function(Xe){Xe.__zr&&Xe.__zr.storage===this||this._roots.push(Xe)},_t.prototype.delRoot=function(Xe){if(Xe instanceof Array)for(var Ye=0,ke=Xe.length;Ye<ke;Ye++)this.delRoot(Xe[Ye]);else{var Ct=T.indexOf(this._roots,Xe);Ct>=0&&this._roots.splice(Ct,1)}},_t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},_t.prototype.getRoots=function(){return this._roots},_t.prototype.dispose=function(){this._displayList=null,this._roots=null},_t}();const N=I;var ee=C(5962),j=C(9638);function ae(){return(new Date).getTime()}var fe=function(_t){function Xe(Ye){var ke=_t.call(this)||this;return ke._running=!1,ke._time=0,ke._pausedTime=0,ke._pauseStart=0,ke._paused=!1,ke.stage=(Ye=Ye||{}).stage||{},ke}return(0,Y.ZT)(Xe,_t),Xe.prototype.addClip=function(Ye){Ye.animation&&this.removeClip(Ye),this._head?(this._tail.next=Ye,Ye.prev=this._tail,Ye.next=null,this._tail=Ye):this._head=this._tail=Ye,Ye.animation=this},Xe.prototype.addAnimator=function(Ye){Ye.animation=this;var ke=Ye.getClip();ke&&this.addClip(ke)},Xe.prototype.removeClip=function(Ye){if(Ye.animation){var ke=Ye.prev,Ct=Ye.next;ke?ke.next=Ct:this._head=Ct,Ct?Ct.prev=ke:this._tail=ke,Ye.next=Ye.prev=Ye.animation=null}},Xe.prototype.removeAnimator=function(Ye){var ke=Ye.getClip();ke&&this.removeClip(ke),Ye.animation=null},Xe.prototype.update=function(Ye){for(var ke=ae()-this._pausedTime,Ct=ke-this._time,Mt=this._head;Mt;){var Jt=Mt.next;Mt.step(ke,Ct)&&(Mt.ondestroy(),this.removeClip(Mt)),Mt=Jt}this._time=ke,Ye||(this.trigger("frame",Ct),this.stage.update&&this.stage.update())},Xe.prototype._startLoop=function(){var Ye=this;this._running=!0,(0,ee.Z)(function ke(){Ye._running&&((0,ee.Z)(ke),!Ye._paused&&Ye.update())})},Xe.prototype.start=function(){this._running||(this._time=ae(),this._pausedTime=0,this._startLoop())},Xe.prototype.stop=function(){this._running=!1},Xe.prototype.pause=function(){this._paused||(this._pauseStart=ae(),this._paused=!0)},Xe.prototype.resume=function(){this._paused&&(this._pausedTime+=ae()-this._pauseStart,this._paused=!1)},Xe.prototype.clear=function(){for(var Ye=this._head;Ye;){var ke=Ye.next;Ye.prev=Ye.next=Ye.animation=null,Ye=ke}this._head=this._tail=null},Xe.prototype.isFinished=function(){return null==this._head},Xe.prototype.animate=function(Ye,ke){ke=ke||{},this.start();var Ct=new j.Z(Ye,ke.loop);return this.addAnimator(Ct),Ct},Xe}(de.Z);const he=fe;var _t,Ye,Se=_.Z.domSupported,ye=(Ye={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:_t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:T.map(_t,function(Ct){var Mt=Ct.replace("mouse","pointer");return Ye.hasOwnProperty(Mt)?Mt:Ct})}),we_mouse=["mousemove","mouseup"],we_pointer=["pointermove","pointerup"],Ae=!1;function Ne(_t){var Xe=_t.pointerType;return"pen"===Xe||"touch"===Xe}function Je(_t){_t&&(_t.zrByTouch=!0)}function nt(_t,Xe){for(var Ye=Xe,ke=!1;Ye&&9!==Ye.nodeType&&!(ke=Ye.domBelongToZr||Ye!==Xe&&Ye===_t.painterRoot);)Ye=Ye.parentNode;return ke}var dt=function _t(Xe,Ye){this.stopPropagation=T.noop,this.stopImmediatePropagation=T.noop,this.preventDefault=T.noop,this.type=Ye.type,this.target=this.currentTarget=Xe.dom,this.pointerType=Ye.pointerType,this.clientX=Ye.clientX,this.clientY=Ye.clientY},It={mousedown:function(_t){_t=(0,G.OD)(this.dom,_t),this.__mayPointerCapture=[_t.zrX,_t.zrY],this.trigger("mousedown",_t)},mousemove:function(_t){_t=(0,G.OD)(this.dom,_t);var Xe=this.__mayPointerCapture;Xe&&(_t.zrX!==Xe[0]||_t.zrY!==Xe[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",_t)},mouseup:function(_t){_t=(0,G.OD)(this.dom,_t),this.__togglePointerCapture(!1),this.trigger("mouseup",_t)},mouseout:function(_t){nt(this,(_t=(0,G.OD)(this.dom,_t)).toElement||_t.relatedTarget)||(this.__pointerCapturing&&(_t.zrEventControl="no_globalout"),this.trigger("mouseout",_t))},wheel:function(_t){Ae=!0,_t=(0,G.OD)(this.dom,_t),this.trigger("mousewheel",_t)},mousewheel:function(_t){Ae||(_t=(0,G.OD)(this.dom,_t),this.trigger("mousewheel",_t))},touchstart:function(_t){Je(_t=(0,G.OD)(this.dom,_t)),this.__lastTouchMoment=new Date,this.handler.processGesture(_t,"start"),It.mousemove.call(this,_t),It.mousedown.call(this,_t)},touchmove:function(_t){Je(_t=(0,G.OD)(this.dom,_t)),this.handler.processGesture(_t,"change"),It.mousemove.call(this,_t)},touchend:function(_t){Je(_t=(0,G.OD)(this.dom,_t)),this.handler.processGesture(_t,"end"),It.mouseup.call(this,_t),+new Date-+this.__lastTouchMoment<300&&It.click.call(this,_t)},pointerdown:function(_t){It.mousedown.call(this,_t)},pointermove:function(_t){Ne(_t)||It.mousemove.call(this,_t)},pointerup:function(_t){It.mouseup.call(this,_t)},pointerout:function(_t){Ne(_t)||It.mouseout.call(this,_t)}};T.each(["click","dblclick","contextmenu"],function(_t){It[_t]=function(Xe){Xe=(0,G.OD)(this.dom,Xe),this.trigger(_t,Xe)}});var an={pointermove:function(_t){Ne(_t)||an.mousemove.call(this,_t)},pointerup:function(_t){an.mouseup.call(this,_t)},mousemove:function(_t){this.trigger("mousemove",_t)},mouseup:function(_t){var Xe=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",_t),Xe&&(_t.zrEventControl="only_globalout",this.trigger("mouseout",_t))}};function Cn(_t,Xe,Ye,ke){_t.mounted[Xe]=Ye,_t.listenerOpts[Xe]=ke,(0,G.Oo)(_t.domTarget,Xe,Ye,ke)}function Gn(_t){var Xe=_t.mounted;for(var Ye in Xe)Xe.hasOwnProperty(Ye)&&(0,G.xg)(_t.domTarget,Ye,Xe[Ye],_t.listenerOpts[Ye]);_t.mounted={}}var Wn=function _t(Xe,Ye){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Xe,this.domHandlers=Ye},Fn=function(_t){function Xe(Ye,ke){var Ct=_t.call(this)||this;return Ct.__pointerCapturing=!1,Ct.dom=Ye,Ct.painterRoot=ke,Ct._localHandlerScope=new Wn(Ye,It),Se&&(Ct._globalHandlerScope=new Wn(document,an)),function Yt(_t,Xe){var Ye=Xe.domHandlers;_.Z.pointerEventsSupported?T.each(ye.pointer,function(ke){Cn(Xe,ke,function(Ct){Ye[ke].call(_t,Ct)})}):(_.Z.touchEventsSupported&&T.each(ye.touch,function(ke){Cn(Xe,ke,function(Ct){Ye[ke].call(_t,Ct),function Le(_t){_t.touching=!0,null!=_t.touchTimer&&(clearTimeout(_t.touchTimer),_t.touchTimer=null),_t.touchTimer=setTimeout(function(){_t.touching=!1,_t.touchTimer=null},700)}(Xe)})}),T.each(ye.mouse,function(ke){Cn(Xe,ke,function(Ct){Ct=(0,G.iP)(Ct),Xe.touching||Ye[ke].call(_t,Ct)})}))}(Ct,Ct._localHandlerScope),Ct}return(0,Y.ZT)(Xe,_t),Xe.prototype.dispose=function(){Gn(this._localHandlerScope),Se&&Gn(this._globalHandlerScope)},Xe.prototype.setCursor=function(Ye){this.dom.style&&(this.dom.style.cursor=Ye||"default")},Xe.prototype.__togglePointerCapture=function(Ye){if(this.__mayPointerCapture=null,Se&&+this.__pointerCapturing^+Ye){this.__pointerCapturing=Ye;var ke=this._globalHandlerScope;Ye?function mn(_t,Xe){function Ye(ke){Cn(Xe,ke,function Ct(Mt){Mt=(0,G.iP)(Mt),nt(_t,Mt.target)||(Mt=function at(_t,Xe){return(0,G.OD)(_t.dom,new dt(_t,Xe),!0)}(_t,Mt),Xe.domHandlers[ke].call(_t,Mt))},{capture:!0})}_.Z.pointerEventsSupported?T.each(we_pointer,Ye):_.Z.touchEventsSupported||T.each(we_mouse,Ye)}(this,ke):Gn(ke)}},Xe}(de.Z);const Rr=Fn;var hn=C(2),ot=C(8783),Et=C(4271),Tt={},Xt={},Ln=function(){function _t(Xe,Ye,ke){var Ct=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,ke=ke||{},this.dom=Ye,this.id=Xe;var Mt=new N,Jt=ke.renderer||"canvas";Tt[Jt]||(Jt=T.keys(Tt)[0]),ke.useDirtyRect=null!=ke.useDirtyRect&&ke.useDirtyRect;var bn=new Tt[Jt](Ye,Mt,ke,Xe),ar=ke.ssr||bn.ssrOnly;this.storage=Mt,this.painter=bn;var Ht,Ar=_.Z.node||_.Z.worker||ar?null:new Rr(bn.getViewportRoot(),bn.root),Gr=ke.useCoarsePointer;(null==Gr||"auto"===Gr?_.Z.touchEventsSupported:!!Gr)&&(Ht=T.retrieve2(ke.pointerSize,44)),this.handler=new L(Mt,bn,Ar,bn.root,Ht),this.animation=new he({stage:{update:ar?null:function(){return Ct._flush(!0)}}}),ar||this.animation.start()}return _t.prototype.add=function(Xe){Xe&&(this.storage.addRoot(Xe),Xe.addSelfToZr(this),this.refresh())},_t.prototype.remove=function(Xe){Xe&&(this.storage.delRoot(Xe),Xe.removeSelfFromZr(this),this.refresh())},_t.prototype.configLayer=function(Xe,Ye){this.painter.configLayer&&this.painter.configLayer(Xe,Ye),this.refresh()},_t.prototype.setBackgroundColor=function(Xe){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(Xe),this.refresh(),this._backgroundColor=Xe,this._darkMode=function Dn(_t){if(!_t)return!1;if("string"==typeof _t)return(0,hn.lum)(_t,1)<ot.Ak;if(_t.colorStops){for(var Xe=_t.colorStops,Ye=0,ke=Xe.length,Ct=0;Ct<ke;Ct++)Ye+=(0,hn.lum)(Xe[Ct].color,1);return(Ye/=ke)<ot.Ak}return!1}(Xe)},_t.prototype.getBackgroundColor=function(){return this._backgroundColor},_t.prototype.setDarkMode=function(Xe){this._darkMode=Xe},_t.prototype.isDarkMode=function(){return this._darkMode},_t.prototype.refreshImmediately=function(Xe){Xe||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},_t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},_t.prototype.flush=function(){this._flush(!1)},_t.prototype._flush=function(Xe){var Ye,ke=ae();this._needsRefresh&&(Ye=!0,this.refreshImmediately(Xe)),this._needsRefreshHover&&(Ye=!0,this.refreshHoverImmediately());var Ct=ae();Ye?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Ct-ke})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},_t.prototype.setSleepAfterStill=function(Xe){this._sleepAfterStill=Xe},_t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},_t.prototype.refreshHover=function(){this._needsRefreshHover=!0},_t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},_t.prototype.resize=function(Xe){this.painter.resize((Xe=Xe||{}).width,Xe.height),this.handler.resize()},_t.prototype.clearAnimation=function(){this.animation.clear()},_t.prototype.getWidth=function(){return this.painter.getWidth()},_t.prototype.getHeight=function(){return this.painter.getHeight()},_t.prototype.setCursorStyle=function(Xe){this.handler.setCursorStyle(Xe)},_t.prototype.findHover=function(Xe,Ye){return this.handler.findHover(Xe,Ye)},_t.prototype.on=function(Xe,Ye,ke){return this.handler.on(Xe,Ye,ke),this},_t.prototype.off=function(Xe,Ye){this.handler.off(Xe,Ye)},_t.prototype.trigger=function(Xe,Ye){this.handler.trigger(Xe,Ye)},_t.prototype.clear=function(){for(var Xe=this.storage.getRoots(),Ye=0;Ye<Xe.length;Ye++)Xe[Ye]instanceof Et.Z&&Xe[Ye].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},_t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function Wt(_t){delete Xt[_t]}(this.id)},_t}();function xr(_t,Xe){var Ye=new Ln(T.guid(),_t,Xe);return Xt[Ye.id]=Ye,Ye}function lr(_t){_t.dispose()}function ct(){for(var _t in Xt)Xt.hasOwnProperty(_t)&&Xt[_t].dispose();Xt={}}function Ft(_t){return Xt[_t]}function Un(_t,Xe){Tt[_t]=Xe}var Gt="5.4.3"},8299:($t,We,C)=>{"use strict";C.d(We,{ZT:()=>T});var _=function(E,B){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,A){H.__proto__=A}||function(H,A){for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(H[O]=A[O])})(E,B)};function T(E,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function H(){this.constructor=E}_(E,B),E.prototype=null===B?Object.create(B):(H.prototype=B.prototype,new H)}},8108:($t,We,C)=>{"use strict";function pe(I,N,ee,j){var he,ae=arguments.length,fe=ae<3?N:null===j?j=Object.getOwnPropertyDescriptor(N,ee):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(I,N,ee,j);else for(var Ce=I.length-1;Ce>=0;Ce--)(he=I[Ce])&&(fe=(ae<3?he(fe):ae>3?he(N,ee,fe):he(N,ee))||fe);return ae>3&&fe&&Object.defineProperty(N,ee,fe),fe}C.d(We,{gn:()=>pe})},5987:($t,We,C)=>{"use strict";function W(I,N,ee,j){return new(ee||(ee=Promise))(function(fe,he){function Ce(we){try{ye(j.next(we))}catch(Ae){he(Ae)}}function Se(we){try{ye(j.throw(we))}catch(Ae){he(Ae)}}function ye(we){we.done?fe(we.value):function ae(fe){return fe instanceof ee?fe:new ee(function(he){he(fe)})}(we.value).then(Ce,Se)}ye((j=j.apply(I,N||[])).next())})}function ve(I){return this instanceof ve?(this.v=I,this):new ve(I)}function $(I,N,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,j=ee.apply(I,N||[]),fe=[];return ae={},he("next"),he("throw"),he("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function he(Ne){j[Ne]&&(ae[Ne]=function(Le){return new Promise(function(Je,at){fe.push([Ne,Le,Je,at])>1||Ce(Ne,Le)})})}function Ce(Ne,Le){try{!function Se(Ne){Ne.value instanceof ve?Promise.resolve(Ne.value.v).then(ye,we):Ae(fe[0][2],Ne)}(j[Ne](Le))}catch(Je){Ae(fe[0][3],Je)}}function ye(Ne){Ce("next",Ne)}function we(Ne){Ce("throw",Ne)}function Ae(Ne,Le){Ne(Le),fe.shift(),fe.length&&Ce(fe[0][0],fe[0][1])}}function ce(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,N=I[Symbol.asyncIterator];return N?N.call(I):(I=function oe(I){var N="function"==typeof Symbol&&Symbol.iterator,ee=N&&I[N],j=0;if(ee)return ee.call(I);if(I&&"number"==typeof I.length)return{next:function(){return I&&j>=I.length&&(I=void 0),{value:I&&I[j++],done:!I}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}(I),ee={},j("next"),j("throw"),j("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function j(fe){ee[fe]=I[fe]&&function(he){return new Promise(function(Ce,Se){!function ae(fe,he,Ce,Se){Promise.resolve(Se).then(function(ye){fe({value:ye,done:Ce})},he)}(Ce,Se,(he=I[fe](he)).done,he.value)})}}}C.d(We,{FC:()=>$,KL:()=>ce,mG:()=>W,qq:()=>ve})},4311:($t,We,C)=>{"use strict";C.d(We,{ZT:()=>T});var _=function(E,B){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,A){H.__proto__=A}||function(H,A){for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(H[O]=A[O])})(E,B)};function T(E,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function H(){this.constructor=E}_(E,B),E.prototype=null===B?Object.create(B):(H.prototype=B.prototype,new H)}},9671:($t,We,C)=>{"use strict";function _(Y,ie,pe,me,Me,de,G){try{var Z=Y[de](G),Q=Z.value}catch(W){return void pe(W)}Z.done?ie(Q):Promise.resolve(Q).then(me,Me)}function T(Y){return function(){var ie=this,pe=arguments;return new Promise(function(me,Me){var de=Y.apply(ie,pe);function G(Q){_(de,me,Me,G,Z,"next",Q)}function Z(Q){_(de,me,Me,G,Z,"throw",Q)}G(void 0)})}}C.d(We,{Z:()=>T})},2242:($t,We,C)=>{"use strict";C.d(We,{_w:()=>se,Ns:()=>ve,SU:()=>ge});var _=C(9671),T=C(9212),Y=C(7328),ie=C(7394),pe=C(8645),me=C(6321),Me=C(5592),de=C(9360),G=C(8251),Z=C(4829);const Q={leading:!0,trailing:!1};var re=C(4825);var q=C(4664);class oe{constructor(){this.subject=new Y.t(1),this.subscriptions=new ie.w0}doFilter(X){this.subject.next(X)}dispose(){this.subscriptions.unsubscribe()}notEmpty(X,ce){this.subscriptions.add(this.subject.subscribe(U=>{if(U[X]){const L=U[X].currentValue;null!=L&&ce(L)}}))}has(X,ce){this.subscriptions.add(this.subject.subscribe(U=>{U[X]&&ce(U[X].currentValue)}))}notFirst(X,ce){this.subscriptions.add(this.subject.subscribe(U=>{U[X]&&!U[X].isFirstChange()&&ce(U[X].currentValue)}))}notFirstAndEmpty(X,ce){this.subscriptions.add(this.subject.subscribe(U=>{if(U[X]&&!U[X].isFirstChange()){const L=U[X].currentValue;null!=L&&ce(L)}}))}}const M=new T.OlP("NGX_ECHARTS_CONFIG");let se=(()=>{class ${constructor(ce,U,L){this.el=U,this.ngZone=L,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new T.vpe,this.optionsError=new T.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new Y.t(1),this.resize$=new pe.x,this.changeFilter=new oe,this.echarts=ce.echarts}ngOnChanges(ce){this.changeFilter.doFilter(ce)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(function te($,X=me.z,ce=Q){const U=(0,re.H)($,X);return function W($,X=Q){return(0,de.e)((ce,U)=>{const{leading:L,trailing:E}=X;let B=!1,H=null,A=null,O=!1;const I=()=>{A?.unsubscribe(),A=null,E&&(j(),O&&U.complete())},N=()=>{A=null,O&&U.complete()},ee=ae=>A=(0,Z.Xf)($(ae)).subscribe((0,G.x)(U,I,N)),j=()=>{if(B){B=!1;const ae=H;H=null,U.next(ae),!O&&ee(ae)}};ce.subscribe((0,G.x)(U,ae=>{B=!0,H=ae,(!A||A.closed)&&(L?j():ee(ae))},()=>{O=!0,(!(E&&B&&A)||A.closed)&&U.complete()}))})}(()=>U,ce)}(100,me.z,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",ce=>this.onOptionsChange(ce)),this.changeFilter.notFirstAndEmpty("merge",ce=>this.setOption(ce)),this.changeFilter.has("loading",ce=>this.toggleLoading(!!ce)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(ce){this.chart?ce?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(U=>ce?U.showLoading(this.loadingType,this.loadingOpts):U.hideLoading())}setOption(ce,U){if(this.chart)try{this.chart.setOption(ce,U)}catch(L){console.error(L),this.optionsError.emit(L)}}refreshChart(){var ce=this;return(0,_.Z)(function*(){ce.dispose(),yield ce.initChart()})()}createChart(){const ce=this.el.nativeElement;if(window&&window.getComputedStyle){const U=window.getComputedStyle(ce,null).getPropertyValue("height");(!U||"0px"===U)&&(!ce.style.height||"0px"===ce.style.height)&&(ce.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:L})=>L(ce,this.theme,this.initOpts)))}initChart(){var ce=this;return(0,_.Z)(function*(){yield ce.onOptionsChange(ce.options),ce.merge&&ce.chart&&ce.setOption(ce.merge)})()}onOptionsChange(ce){var U=this;return(0,_.Z)(function*(){ce&&(U.chart||(U.chart=yield U.createChart(),U.chart$.next(U.chart),U.chartInit.emit(U.chart)),U.setOption(U.options,!0))})()}createLazyEvent(ce){return this.chartInit.pipe((0,q.w)(U=>new Me.y(L=>(U.on(ce,E=>this.ngZone.run(()=>L.next(E))),()=>{this.chart&&(this.chart.isDisposed()||U.off(ce))}))))}static#e=this.\u0275fac=function(U){return new(U||$)(T.Y36(M),T.Y36(T.SBq),T.Y36(T.R0b))};static#t=this.\u0275dir=T.lG2({type:$,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[T.TTD]})}return $})();const ge=()=>({provide:M,useFactory:()=>({echarts:()=>Promise.resolve().then(C.bind(C,6674))})}),K=$=>({provide:M,useValue:$});let ve=(()=>{class ${static forRoot(ce){return{ngModule:$,providers:[K(ce)]}}static forChild(){return{ngModule:$}}static#e=this.\u0275fac=function(U){return new(U||$)};static#t=this.\u0275mod=T.oAB({type:$});static#n=this.\u0275inj=T.cJS({})}return $})()},6825:($t,We,C)=>{"use strict";C.d(We,{EY:()=>te,IO:()=>re,SB:()=>Me,X$:()=>T,ZE:()=>ce,ZN:()=>X,eR:()=>G,jt:()=>Y,k1:()=>U,l3:()=>_,oB:()=>me,vP:()=>pe});const _="*";function T(L,E){return{type:7,name:L,definitions:E,options:{}}}function Y(L,E=null){return{type:4,styles:E,timings:L}}function pe(L,E=null){return{type:2,steps:L,options:E}}function me(L){return{type:6,styles:L,offset:null}}function Me(L,E,B){return{type:0,name:L,styles:E,options:B}}function G(L,E,B=null){return{type:1,expr:L,animation:E,options:B}}function re(L,E,B=null){return{type:11,selector:L,animation:E,options:B}}function te(L,E){return{type:12,timings:L,animation:E}}class X{constructor(E=0,B=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=E+B}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(E=>E()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(E){this._position=this.totalTime?E*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(E){const B="start"==E?this._onStartFns:this._onDoneFns;B.forEach(H=>H()),B.length=0}}class ce{constructor(E){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=E;let B=0,H=0,A=0;const O=this.players.length;0==O?queueMicrotask(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++B==O&&this._onFinish()}),I.onDestroy(()=>{++H==O&&this._onDestroy()}),I.onStart(()=>{++A==O&&this._onStart()})}),this.totalTime=this.players.reduce((I,N)=>Math.max(I,N.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this.players.forEach(E=>E.init())}onStart(E){this._onStartFns.push(E)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(E=>E()),this._onStartFns=[])}onDone(E){this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(E=>E.play())}pause(){this.players.forEach(E=>E.pause())}restart(){this.players.forEach(E=>E.restart())}finish(){this._onFinish(),this.players.forEach(E=>E.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(E=>E.destroy()),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}reset(){this.players.forEach(E=>E.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(E){const B=E*this.totalTime;this.players.forEach(H=>{const A=H.totalTime?Math.min(1,B/H.totalTime):1;H.setPosition(A)})}getPosition(){const E=this.players.reduce((B,H)=>null===B||H.totalTime>B.totalTime?H:B,null);return null!=E?E.getPosition():0}beforeDestroy(){this.players.forEach(E=>{E.beforeDestroy&&E.beforeDestroy()})}triggerCallback(E){const B="start"==E?this._onStartFns:this._onDoneFns;B.forEach(H=>H()),B.length=0}}const U="!"},9388:($t,We,C)=>{"use strict";C.d(We,{Is:()=>Me,vT:()=>G});var _=C(9212),T=C(6814);const Y=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function ie(){return(0,_.f3M)(T.K0)}}),pe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Me=(()=>{class Z{constructor(W){this.value="ltr",this.change=new _.vpe,W&&(this.value=function me(Z){const Q=Z?.toLowerCase()||"";return"auto"===Q&&typeof navigator<"u"&&navigator?.language?pe.test(navigator.language)?"rtl":"ltr":"rtl"===Q?"rtl":"ltr"}((W.body?W.body.dir:null)||(W.documentElement?W.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(re){return new(re||Z)(_.LFG(Y,8))};static#t=this.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),G=(()=>{class Z{static#e=this.\u0275fac=function(re){return new(re||Z)};static#t=this.\u0275mod=_.oAB({type:Z});static#n=this.\u0275inj=_.cJS({})}return Z})()},2495:($t,We,C)=>{"use strict";C.d(We,{Eq:()=>pe,HM:()=>me,Ig:()=>T,fI:()=>Me,su:()=>Y});var _=C(9212);function T(G){return null!=G&&"false"!=`${G}`}function Y(G,Z=0){return function ie(G){return!isNaN(parseFloat(G))&&!isNaN(Number(G))}(G)?Number(G):Z}function pe(G){return Array.isArray(G)?G:[G]}function me(G){return null==G?"":"string"==typeof G?G:`${G}px`}function Me(G){return G instanceof _.SBq?G.nativeElement:G}},6028:($t,We,C)=>{"use strict";C.d(We,{A:()=>Ce,JH:()=>K,JU:()=>me,K5:()=>pe,Ku:()=>re,LH:()=>se,L_:()=>W,MW:()=>Dn,Mf:()=>Y,SV:()=>ge,Sd:()=>oe,VM:()=>te,Vb:()=>aa,Z:()=>Wt,aO:()=>ee,b2:()=>Di,hY:()=>Q,jx:()=>Me,oh:()=>M,uR:()=>q,xE:()=>U,zL:()=>de});const Y=9,pe=13,me=16,Me=17,de=18,Q=27,W=32,re=33,te=34,q=35,oe=36,M=37,se=38,ge=39,K=40,U=48,ee=57,Ce=65,Wt=90,Dn=91,Di=224;function aa(Ui,...hr){return hr.length?hr.some(ai=>Ui[ai]):Ui.altKey||Ui.shiftKey||Ui.ctrlKey||Ui.metaKey}},1088:($t,We,C)=>{"use strict";C.d(We,{Yg:()=>K,vx:()=>M,xu:()=>te});var _=C(9212),T=C(2495),Y=C(8645),ie=C(2572),pe=C(5211),me=C(5592),Me=C(8180),de=C(836),G=C(3620),Z=C(7398),Q=C(7921),W=C(9773),re=C(2831);let te=(()=>{class X{static#e=this.\u0275fac=function(L){return new(L||X)};static#t=this.\u0275mod=_.oAB({type:X});static#n=this.\u0275inj=_.cJS({})}return X})();const q=new Set;let oe,M=(()=>{class X{constructor(U,L){this._platform=U,this._nonce=L,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ge}matchMedia(U){return(this._platform.WEBKIT||this._platform.BLINK)&&function se(X,ce){if(!q.has(X))try{oe||(oe=document.createElement("style"),ce&&(oe.nonce=ce),oe.setAttribute("type","text/css"),document.head.appendChild(oe)),oe.sheet&&(oe.sheet.insertRule(`@media ${X} {body{ }}`,0),q.add(X))}catch(U){console.error(U)}}(U,this._nonce),this._matchMedia(U)}static#e=this.\u0275fac=function(L){return new(L||X)(_.LFG(re.t4),_.LFG(_.Ojb,8))};static#t=this.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})();function ge(X){return{matches:"all"===X||""===X,media:X,addListener:()=>{},removeListener:()=>{}}}let K=(()=>{class X{constructor(U,L){this._mediaMatcher=U,this._zone=L,this._queries=new Map,this._destroySubject=new Y.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(U){return ve((0,T.Eq)(U)).some(E=>this._registerQuery(E).mql.matches)}observe(U){const E=ve((0,T.Eq)(U)).map(H=>this._registerQuery(H).observable);let B=(0,ie.a)(E);return B=(0,pe.z)(B.pipe((0,Me.q)(1)),B.pipe((0,de.T)(1),(0,G.b)(0))),B.pipe((0,Z.U)(H=>{const A={matches:!1,breakpoints:{}};return H.forEach(({matches:O,query:I})=>{A.matches=A.matches||O,A.breakpoints[I]=O}),A}))}_registerQuery(U){if(this._queries.has(U))return this._queries.get(U);const L=this._mediaMatcher.matchMedia(U),B={observable:new me.y(H=>{const A=O=>this._zone.run(()=>H.next(O));return L.addListener(A),()=>{L.removeListener(A)}}).pipe((0,Q.O)(L),(0,Z.U)(({matches:H})=>({query:U,matches:H})),(0,W.R)(this._destroySubject)),mql:L};return this._queries.set(U,B),B}static#e=this.\u0275fac=function(L){return new(L||X)(_.LFG(M),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})();function ve(X){return X.map(ce=>ce.split(",")).reduce((ce,U)=>ce.concat(U)).map(ce=>ce.trim())}},3651:($t,We,C)=>{"use strict";C.d(We,{pI:()=>Cn,xu:()=>mn,tR:()=>B,aV:()=>It,U8:()=>Fn});var _=C(6672),T=C(6814),Y=C(9212),ie=C(2495),pe=C(2831),me=C(2181),Me=C(8180),de=C(9773),G=C(9360),Z=C(8251),W=C(9388),re=C(8484),te=C(8645),q=C(7394),oe=C(3019),M=C(6028);const se=(0,pe.Mq)();class ge{constructor(ot,Et){this._viewportRuler=ot,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Et}attach(){}enable(){if(this._canBeEnabled()){const ot=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ot.style.left||"",this._previousHTMLStyles.top=ot.style.top||"",ot.style.left=(0,ie.HM)(-this._previousScrollPosition.left),ot.style.top=(0,ie.HM)(-this._previousScrollPosition.top),ot.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ot=this._document.documentElement,Tt=ot.style,Xt=this._document.body.style,Wt=Tt.scrollBehavior||"",Dn=Xt.scrollBehavior||"";this._isEnabled=!1,Tt.left=this._previousHTMLStyles.left,Tt.top=this._previousHTMLStyles.top,ot.classList.remove("cdk-global-scrollblock"),se&&(Tt.scrollBehavior=Xt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),se&&(Tt.scrollBehavior=Wt,Xt.scrollBehavior=Dn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Et=this._document.body,Tt=this._viewportRuler.getViewportSize();return Et.scrollHeight>Tt.height||Et.scrollWidth>Tt.width}}class ve{constructor(ot,Et,Tt,Xt){this._scrollDispatcher=ot,this._ngZone=Et,this._viewportRuler=Tt,this._config=Xt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ot){this._overlayRef=ot}enable(){if(this._scrollSubscription)return;const ot=this._scrollDispatcher.scrolled(0).pipe((0,me.h)(Et=>!Et||!this._overlayRef.overlayElement.contains(Et.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ot.subscribe(()=>{const Et=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Et-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ot.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ${enable(){}disable(){}attach(){}}function X(hn,ot){return ot.some(Et=>hn.bottom<Et.top||hn.top>Et.bottom||hn.right<Et.left||hn.left>Et.right)}function ce(hn,ot){return ot.some(Et=>hn.top<Et.top||hn.bottom>Et.bottom||hn.left<Et.left||hn.right>Et.right)}class U{constructor(ot,Et,Tt,Xt){this._scrollDispatcher=ot,this._viewportRuler=Et,this._ngZone=Tt,this._config=Xt,this._scrollSubscription=null}attach(ot){this._overlayRef=ot}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Et=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Tt,height:Xt}=this._viewportRuler.getViewportSize();X(Et,[{width:Tt,height:Xt,bottom:Xt,right:Tt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let L=(()=>{class hn{constructor(Et,Tt,Xt,Wt){this._scrollDispatcher=Et,this._viewportRuler=Tt,this._ngZone=Xt,this.noop=()=>new $,this.close=Dn=>new ve(this._scrollDispatcher,this._ngZone,this._viewportRuler,Dn),this.block=()=>new ge(this._viewportRuler,this._document),this.reposition=Dn=>new U(this._scrollDispatcher,this._viewportRuler,this._ngZone,Dn),this._document=Wt}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(_.mF),Y.LFG(_.rL),Y.LFG(Y.R0b),Y.LFG(T.K0))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})();class E{constructor(ot){if(this.scrollStrategy=new $,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ot){const Et=Object.keys(ot);for(const Tt of Et)void 0!==ot[Tt]&&(this[Tt]=ot[Tt])}}}class B{constructor(ot,Et,Tt,Xt,Wt){this.offsetX=Tt,this.offsetY=Xt,this.panelClass=Wt,this.originX=ot.originX,this.originY=ot.originY,this.overlayX=Et.overlayX,this.overlayY=Et.overlayY}}class A{constructor(ot,Et){this.connectionPair=ot,this.scrollableViewProperties=Et}}let N=(()=>{class hn{constructor(Et){this._attachedOverlays=[],this._document=Et}ngOnDestroy(){this.detach()}add(Et){this.remove(Et),this._attachedOverlays.push(Et)}remove(Et){const Tt=this._attachedOverlays.indexOf(Et);Tt>-1&&this._attachedOverlays.splice(Tt,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(T.K0))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})(),ee=(()=>{class hn extends N{constructor(Et,Tt){super(Et),this._ngZone=Tt,this._keydownListener=Xt=>{const Wt=this._attachedOverlays;for(let Dn=Wt.length-1;Dn>-1;Dn--)if(Wt[Dn]._keydownEvents.observers.length>0){const Ln=Wt[Dn]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ln.next(Xt)):Ln.next(Xt);break}}}add(Et){super.add(Et),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(T.K0),Y.LFG(Y.R0b,8))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})(),j=(()=>{class hn extends N{constructor(Et,Tt,Xt){super(Et),this._platform=Tt,this._ngZone=Xt,this._cursorStyleIsSet=!1,this._pointerDownListener=Wt=>{this._pointerDownEventTarget=(0,pe.sA)(Wt)},this._clickListener=Wt=>{const Dn=(0,pe.sA)(Wt),Ln="click"===Wt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Dn;this._pointerDownEventTarget=null;const xr=this._attachedOverlays.slice();for(let lr=xr.length-1;lr>-1;lr--){const ct=xr[lr];if(ct._outsidePointerEvents.observers.length<1||!ct.hasAttached())continue;if(ct.overlayElement.contains(Dn)||ct.overlayElement.contains(Ln))break;const Ft=ct._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ft.next(Wt)):Ft.next(Wt)}}}add(Et){if(super.add(Et),!this._isAttached){const Tt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Tt)):this._addEventListeners(Tt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Tt.style.cursor,Tt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Et=this._document.body;Et.removeEventListener("pointerdown",this._pointerDownListener,!0),Et.removeEventListener("click",this._clickListener,!0),Et.removeEventListener("auxclick",this._clickListener,!0),Et.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Et.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Et){Et.addEventListener("pointerdown",this._pointerDownListener,!0),Et.addEventListener("click",this._clickListener,!0),Et.addEventListener("auxclick",this._clickListener,!0),Et.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(T.K0),Y.LFG(pe.t4),Y.LFG(Y.R0b,8))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})(),ae=(()=>{class hn{constructor(Et,Tt){this._platform=Tt,this._document=Et}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Et="cdk-overlay-container";if(this._platform.isBrowser||(0,pe.Oy)()){const Xt=this._document.querySelectorAll(`.${Et}[platform="server"], .${Et}[platform="test"]`);for(let Wt=0;Wt<Xt.length;Wt++)Xt[Wt].remove()}const Tt=this._document.createElement("div");Tt.classList.add(Et),(0,pe.Oy)()?Tt.setAttribute("platform","test"):this._platform.isBrowser||Tt.setAttribute("platform","server"),this._document.body.appendChild(Tt),this._containerElement=Tt}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(T.K0),Y.LFG(pe.t4))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})();class fe{constructor(ot,Et,Tt,Xt,Wt,Dn,Ln,xr,lr,ct=!1){this._portalOutlet=ot,this._host=Et,this._pane=Tt,this._config=Xt,this._ngZone=Wt,this._keyboardDispatcher=Dn,this._document=Ln,this._location=xr,this._outsideClickDispatcher=lr,this._animationsDisabled=ct,this._backdropElement=null,this._backdropClick=new te.x,this._attachments=new te.x,this._detachments=new te.x,this._locationChanges=q.w0.EMPTY,this._backdropClickHandler=Ft=>this._backdropClick.next(Ft),this._backdropTransitionendHandler=Ft=>{this._disposeBackdrop(Ft.target)},this._keydownEvents=new te.x,this._outsidePointerEvents=new te.x,Xt.scrollStrategy&&(this._scrollStrategy=Xt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Xt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ot){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Et=this._portalOutlet.attach(ot);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Me.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Et?.onDestroy&&Et.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Et}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ot=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ot}dispose(){const ot=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ot&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ot){ot!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ot,this.hasAttached()&&(ot.attach(this),this.updatePosition()))}updateSize(ot){this._config={...this._config,...ot},this._updateElementSize()}setDirection(ot){this._config={...this._config,direction:ot},this._updateElementDirection()}addPanelClass(ot){this._pane&&this._toggleClasses(this._pane,ot,!0)}removePanelClass(ot){this._pane&&this._toggleClasses(this._pane,ot,!1)}getDirection(){const ot=this._config.direction;return ot?"string"==typeof ot?ot:ot.value:"ltr"}updateScrollStrategy(ot){ot!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ot,this.hasAttached()&&(ot.attach(this),ot.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ot=this._pane.style;ot.width=(0,ie.HM)(this._config.width),ot.height=(0,ie.HM)(this._config.height),ot.minWidth=(0,ie.HM)(this._config.minWidth),ot.minHeight=(0,ie.HM)(this._config.minHeight),ot.maxWidth=(0,ie.HM)(this._config.maxWidth),ot.maxHeight=(0,ie.HM)(this._config.maxHeight)}_togglePointerEvents(ot){this._pane.style.pointerEvents=ot?"":"none"}_attachBackdrop(){const ot="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ot)})}):this._backdropElement.classList.add(ot)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ot=this._backdropElement;if(ot){if(this._animationsDisabled)return void this._disposeBackdrop(ot);ot.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ot.addEventListener("transitionend",this._backdropTransitionendHandler)}),ot.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ot)},500))}}_toggleClasses(ot,Et,Tt){const Xt=(0,ie.Eq)(Et||[]).filter(Wt=>!!Wt);Xt.length&&(Tt?ot.classList.add(...Xt):ot.classList.remove(...Xt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ot=this._ngZone.onStable.pipe((0,de.R)((0,oe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ot.unsubscribe())})})}_disposeScrollStrategy(){const ot=this._scrollStrategy;ot&&(ot.disable(),ot.detach&&ot.detach())}_disposeBackdrop(ot){ot&&(ot.removeEventListener("click",this._backdropClickHandler),ot.removeEventListener("transitionend",this._backdropTransitionendHandler),ot.remove(),this._backdropElement===ot&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const he="cdk-overlay-connected-position-bounding-box",Ce=/([A-Za-z%]+)$/;class Se{get positions(){return this._preferredPositions}constructor(ot,Et,Tt,Xt,Wt){this._viewportRuler=Et,this._document=Tt,this._platform=Xt,this._overlayContainer=Wt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new te.x,this._resizeSubscription=q.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ot)}attach(ot){this._validatePositions(),ot.hostElement.classList.add(he),this._overlayRef=ot,this._boundingBox=ot.hostElement,this._pane=ot.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ot=this._originRect,Et=this._overlayRect,Tt=this._viewportRect,Xt=this._containerRect,Wt=[];let Dn;for(let Ln of this._preferredPositions){let xr=this._getOriginPoint(ot,Xt,Ln),lr=this._getOverlayPoint(xr,Et,Ln),ct=this._getOverlayFit(lr,Et,Tt,Ln);if(ct.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ln,xr);this._canFitWithFlexibleDimensions(ct,lr,Tt)?Wt.push({position:Ln,origin:xr,overlayRect:Et,boundingBoxRect:this._calculateBoundingBoxRect(xr,Ln)}):(!Dn||Dn.overlayFit.visibleArea<ct.visibleArea)&&(Dn={overlayFit:ct,overlayPoint:lr,originPoint:xr,position:Ln,overlayRect:Et})}if(Wt.length){let Ln=null,xr=-1;for(const lr of Wt){const ct=lr.boundingBoxRect.width*lr.boundingBoxRect.height*(lr.position.weight||1);ct>xr&&(xr=ct,Ln=lr)}return this._isPushed=!1,void this._applyPosition(Ln.position,Ln.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Dn.position,Dn.originPoint);this._applyPosition(Dn.position,Dn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ye(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(he),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ot=this._lastPosition;if(ot){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Et=this._getOriginPoint(this._originRect,this._containerRect,ot);this._applyPosition(ot,Et)}else this.apply()}withScrollableContainers(ot){return this._scrollables=ot,this}withPositions(ot){return this._preferredPositions=ot,-1===ot.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ot){return this._viewportMargin=ot,this}withFlexibleDimensions(ot=!0){return this._hasFlexibleDimensions=ot,this}withGrowAfterOpen(ot=!0){return this._growAfterOpen=ot,this}withPush(ot=!0){return this._canPush=ot,this}withLockedPosition(ot=!0){return this._positionLocked=ot,this}setOrigin(ot){return this._origin=ot,this}withDefaultOffsetX(ot){return this._offsetX=ot,this}withDefaultOffsetY(ot){return this._offsetY=ot,this}withTransformOriginOn(ot){return this._transformOriginSelector=ot,this}_getOriginPoint(ot,Et,Tt){let Xt,Wt;if("center"==Tt.originX)Xt=ot.left+ot.width/2;else{const Dn=this._isRtl()?ot.right:ot.left,Ln=this._isRtl()?ot.left:ot.right;Xt="start"==Tt.originX?Dn:Ln}return Et.left<0&&(Xt-=Et.left),Wt="center"==Tt.originY?ot.top+ot.height/2:"top"==Tt.originY?ot.top:ot.bottom,Et.top<0&&(Wt-=Et.top),{x:Xt,y:Wt}}_getOverlayPoint(ot,Et,Tt){let Xt,Wt;return Xt="center"==Tt.overlayX?-Et.width/2:"start"===Tt.overlayX?this._isRtl()?-Et.width:0:this._isRtl()?0:-Et.width,Wt="center"==Tt.overlayY?-Et.height/2:"top"==Tt.overlayY?0:-Et.height,{x:ot.x+Xt,y:ot.y+Wt}}_getOverlayFit(ot,Et,Tt,Xt){const Wt=Ae(Et);let{x:Dn,y:Ln}=ot,xr=this._getOffset(Xt,"x"),lr=this._getOffset(Xt,"y");xr&&(Dn+=xr),lr&&(Ln+=lr);let Un=0-Ln,Gt=Ln+Wt.height-Tt.height,_t=this._subtractOverflows(Wt.width,0-Dn,Dn+Wt.width-Tt.width),Xe=this._subtractOverflows(Wt.height,Un,Gt),Ye=_t*Xe;return{visibleArea:Ye,isCompletelyWithinViewport:Wt.width*Wt.height===Ye,fitsInViewportVertically:Xe===Wt.height,fitsInViewportHorizontally:_t==Wt.width}}_canFitWithFlexibleDimensions(ot,Et,Tt){if(this._hasFlexibleDimensions){const Xt=Tt.bottom-Et.y,Wt=Tt.right-Et.x,Dn=we(this._overlayRef.getConfig().minHeight),Ln=we(this._overlayRef.getConfig().minWidth);return(ot.fitsInViewportVertically||null!=Dn&&Dn<=Xt)&&(ot.fitsInViewportHorizontally||null!=Ln&&Ln<=Wt)}return!1}_pushOverlayOnScreen(ot,Et,Tt){if(this._previousPushAmount&&this._positionLocked)return{x:ot.x+this._previousPushAmount.x,y:ot.y+this._previousPushAmount.y};const Xt=Ae(Et),Wt=this._viewportRect,Dn=Math.max(ot.x+Xt.width-Wt.width,0),Ln=Math.max(ot.y+Xt.height-Wt.height,0),xr=Math.max(Wt.top-Tt.top-ot.y,0),lr=Math.max(Wt.left-Tt.left-ot.x,0);let ct=0,Ft=0;return ct=Xt.width<=Wt.width?lr||-Dn:ot.x<this._viewportMargin?Wt.left-Tt.left-ot.x:0,Ft=Xt.height<=Wt.height?xr||-Ln:ot.y<this._viewportMargin?Wt.top-Tt.top-ot.y:0,this._previousPushAmount={x:ct,y:Ft},{x:ot.x+ct,y:ot.y+Ft}}_applyPosition(ot,Et){if(this._setTransformOrigin(ot),this._setOverlayElementStyles(Et,ot),this._setBoundingBoxStyles(Et,ot),ot.panelClass&&this._addPanelClasses(ot.panelClass),this._lastPosition=ot,this._positionChanges.observers.length){const Tt=this._getScrollVisibility(),Xt=new A(ot,Tt);this._positionChanges.next(Xt)}this._isInitialRender=!1}_setTransformOrigin(ot){if(!this._transformOriginSelector)return;const Et=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Tt,Xt=ot.overlayY;Tt="center"===ot.overlayX?"center":this._isRtl()?"start"===ot.overlayX?"right":"left":"start"===ot.overlayX?"left":"right";for(let Wt=0;Wt<Et.length;Wt++)Et[Wt].style.transformOrigin=`${Tt} ${Xt}`}_calculateBoundingBoxRect(ot,Et){const Tt=this._viewportRect,Xt=this._isRtl();let Wt,Dn,Ln,ct,Ft,Un;if("top"===Et.overlayY)Dn=ot.y,Wt=Tt.height-Dn+this._viewportMargin;else if("bottom"===Et.overlayY)Ln=Tt.height-ot.y+2*this._viewportMargin,Wt=Tt.height-Ln+this._viewportMargin;else{const Gt=Math.min(Tt.bottom-ot.y+Tt.top,ot.y),_t=this._lastBoundingBoxSize.height;Wt=2*Gt,Dn=ot.y-Gt,Wt>_t&&!this._isInitialRender&&!this._growAfterOpen&&(Dn=ot.y-_t/2)}if("end"===Et.overlayX&&!Xt||"start"===Et.overlayX&&Xt)Un=Tt.width-ot.x+this._viewportMargin,ct=ot.x-this._viewportMargin;else if("start"===Et.overlayX&&!Xt||"end"===Et.overlayX&&Xt)Ft=ot.x,ct=Tt.right-ot.x;else{const Gt=Math.min(Tt.right-ot.x+Tt.left,ot.x),_t=this._lastBoundingBoxSize.width;ct=2*Gt,Ft=ot.x-Gt,ct>_t&&!this._isInitialRender&&!this._growAfterOpen&&(Ft=ot.x-_t/2)}return{top:Dn,left:Ft,bottom:Ln,right:Un,width:ct,height:Wt}}_setBoundingBoxStyles(ot,Et){const Tt=this._calculateBoundingBoxRect(ot,Et);!this._isInitialRender&&!this._growAfterOpen&&(Tt.height=Math.min(Tt.height,this._lastBoundingBoxSize.height),Tt.width=Math.min(Tt.width,this._lastBoundingBoxSize.width));const Xt={};if(this._hasExactPosition())Xt.top=Xt.left="0",Xt.bottom=Xt.right=Xt.maxHeight=Xt.maxWidth="",Xt.width=Xt.height="100%";else{const Wt=this._overlayRef.getConfig().maxHeight,Dn=this._overlayRef.getConfig().maxWidth;Xt.height=(0,ie.HM)(Tt.height),Xt.top=(0,ie.HM)(Tt.top),Xt.bottom=(0,ie.HM)(Tt.bottom),Xt.width=(0,ie.HM)(Tt.width),Xt.left=(0,ie.HM)(Tt.left),Xt.right=(0,ie.HM)(Tt.right),Xt.alignItems="center"===Et.overlayX?"center":"end"===Et.overlayX?"flex-end":"flex-start",Xt.justifyContent="center"===Et.overlayY?"center":"bottom"===Et.overlayY?"flex-end":"flex-start",Wt&&(Xt.maxHeight=(0,ie.HM)(Wt)),Dn&&(Xt.maxWidth=(0,ie.HM)(Dn))}this._lastBoundingBoxSize=Tt,ye(this._boundingBox.style,Xt)}_resetBoundingBoxStyles(){ye(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ye(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ot,Et){const Tt={},Xt=this._hasExactPosition(),Wt=this._hasFlexibleDimensions,Dn=this._overlayRef.getConfig();if(Xt){const ct=this._viewportRuler.getViewportScrollPosition();ye(Tt,this._getExactOverlayY(Et,ot,ct)),ye(Tt,this._getExactOverlayX(Et,ot,ct))}else Tt.position="static";let Ln="",xr=this._getOffset(Et,"x"),lr=this._getOffset(Et,"y");xr&&(Ln+=`translateX(${xr}px) `),lr&&(Ln+=`translateY(${lr}px)`),Tt.transform=Ln.trim(),Dn.maxHeight&&(Xt?Tt.maxHeight=(0,ie.HM)(Dn.maxHeight):Wt&&(Tt.maxHeight="")),Dn.maxWidth&&(Xt?Tt.maxWidth=(0,ie.HM)(Dn.maxWidth):Wt&&(Tt.maxWidth="")),ye(this._pane.style,Tt)}_getExactOverlayY(ot,Et,Tt){let Xt={top:"",bottom:""},Wt=this._getOverlayPoint(Et,this._overlayRect,ot);return this._isPushed&&(Wt=this._pushOverlayOnScreen(Wt,this._overlayRect,Tt)),"bottom"===ot.overlayY?Xt.bottom=this._document.documentElement.clientHeight-(Wt.y+this._overlayRect.height)+"px":Xt.top=(0,ie.HM)(Wt.y),Xt}_getExactOverlayX(ot,Et,Tt){let Dn,Xt={left:"",right:""},Wt=this._getOverlayPoint(Et,this._overlayRect,ot);return this._isPushed&&(Wt=this._pushOverlayOnScreen(Wt,this._overlayRect,Tt)),Dn=this._isRtl()?"end"===ot.overlayX?"left":"right":"end"===ot.overlayX?"right":"left","right"===Dn?Xt.right=this._document.documentElement.clientWidth-(Wt.x+this._overlayRect.width)+"px":Xt.left=(0,ie.HM)(Wt.x),Xt}_getScrollVisibility(){const ot=this._getOriginRect(),Et=this._pane.getBoundingClientRect(),Tt=this._scrollables.map(Xt=>Xt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ce(ot,Tt),isOriginOutsideView:X(ot,Tt),isOverlayClipped:ce(Et,Tt),isOverlayOutsideView:X(Et,Tt)}}_subtractOverflows(ot,...Et){return Et.reduce((Tt,Xt)=>Tt-Math.max(Xt,0),ot)}_getNarrowedViewportRect(){const ot=this._document.documentElement.clientWidth,Et=this._document.documentElement.clientHeight,Tt=this._viewportRuler.getViewportScrollPosition();return{top:Tt.top+this._viewportMargin,left:Tt.left+this._viewportMargin,right:Tt.left+ot-this._viewportMargin,bottom:Tt.top+Et-this._viewportMargin,width:ot-2*this._viewportMargin,height:Et-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ot,Et){return"x"===Et?null==ot.offsetX?this._offsetX:ot.offsetX:null==ot.offsetY?this._offsetY:ot.offsetY}_validatePositions(){}_addPanelClasses(ot){this._pane&&(0,ie.Eq)(ot).forEach(Et=>{""!==Et&&-1===this._appliedPanelClasses.indexOf(Et)&&(this._appliedPanelClasses.push(Et),this._pane.classList.add(Et))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ot=>{this._pane.classList.remove(ot)}),this._appliedPanelClasses=[])}_getOriginRect(){const ot=this._origin;if(ot instanceof Y.SBq)return ot.nativeElement.getBoundingClientRect();if(ot instanceof Element)return ot.getBoundingClientRect();const Et=ot.width||0,Tt=ot.height||0;return{top:ot.y,bottom:ot.y+Tt,left:ot.x,right:ot.x+Et,height:Tt,width:Et}}}function ye(hn,ot){for(let Et in ot)ot.hasOwnProperty(Et)&&(hn[Et]=ot[Et]);return hn}function we(hn){if("number"!=typeof hn&&null!=hn){const[ot,Et]=hn.split(Ce);return Et&&"px"!==Et?null:parseFloat(ot)}return hn||null}function Ae(hn){return{top:Math.floor(hn.top),right:Math.floor(hn.right),bottom:Math.floor(hn.bottom),left:Math.floor(hn.left),width:Math.floor(hn.width),height:Math.floor(hn.height)}}const Je="cdk-global-overlay-wrapper";class at{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ot){const Et=ot.getConfig();this._overlayRef=ot,this._width&&!Et.width&&ot.updateSize({width:this._width}),this._height&&!Et.height&&ot.updateSize({height:this._height}),ot.hostElement.classList.add(Je),this._isDisposed=!1}top(ot=""){return this._bottomOffset="",this._topOffset=ot,this._alignItems="flex-start",this}left(ot=""){return this._xOffset=ot,this._xPosition="left",this}bottom(ot=""){return this._topOffset="",this._bottomOffset=ot,this._alignItems="flex-end",this}right(ot=""){return this._xOffset=ot,this._xPosition="right",this}start(ot=""){return this._xOffset=ot,this._xPosition="start",this}end(ot=""){return this._xOffset=ot,this._xPosition="end",this}width(ot=""){return this._overlayRef?this._overlayRef.updateSize({width:ot}):this._width=ot,this}height(ot=""){return this._overlayRef?this._overlayRef.updateSize({height:ot}):this._height=ot,this}centerHorizontally(ot=""){return this.left(ot),this._xPosition="center",this}centerVertically(ot=""){return this.top(ot),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ot=this._overlayRef.overlayElement.style,Et=this._overlayRef.hostElement.style,Tt=this._overlayRef.getConfig(),{width:Xt,height:Wt,maxWidth:Dn,maxHeight:Ln}=Tt,xr=!("100%"!==Xt&&"100vw"!==Xt||Dn&&"100%"!==Dn&&"100vw"!==Dn),lr=!("100%"!==Wt&&"100vh"!==Wt||Ln&&"100%"!==Ln&&"100vh"!==Ln),ct=this._xPosition,Ft=this._xOffset,Un="rtl"===this._overlayRef.getConfig().direction;let Gt="",_t="",Xe="";xr?Xe="flex-start":"center"===ct?(Xe="center",Un?_t=Ft:Gt=Ft):Un?"left"===ct||"end"===ct?(Xe="flex-end",Gt=Ft):("right"===ct||"start"===ct)&&(Xe="flex-start",_t=Ft):"left"===ct||"start"===ct?(Xe="flex-start",Gt=Ft):("right"===ct||"end"===ct)&&(Xe="flex-end",_t=Ft),ot.position=this._cssPosition,ot.marginLeft=xr?"0":Gt,ot.marginTop=lr?"0":this._topOffset,ot.marginBottom=this._bottomOffset,ot.marginRight=xr?"0":_t,Et.justifyContent=Xe,Et.alignItems=lr?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ot=this._overlayRef.overlayElement.style,Et=this._overlayRef.hostElement,Tt=Et.style;Et.classList.remove(Je),Tt.justifyContent=Tt.alignItems=ot.marginTop=ot.marginBottom=ot.marginLeft=ot.marginRight=ot.position="",this._overlayRef=null,this._isDisposed=!0}}let nt=(()=>{class hn{constructor(Et,Tt,Xt,Wt){this._viewportRuler=Et,this._document=Tt,this._platform=Xt,this._overlayContainer=Wt}global(){return new at}flexibleConnectedTo(Et){return new Se(Et,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(_.rL),Y.LFG(T.K0),Y.LFG(pe.t4),Y.LFG(ae))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})(),dt=0,It=(()=>{class hn{constructor(Et,Tt,Xt,Wt,Dn,Ln,xr,lr,ct,Ft,Un,Gt){this.scrollStrategies=Et,this._overlayContainer=Tt,this._componentFactoryResolver=Xt,this._positionBuilder=Wt,this._keyboardDispatcher=Dn,this._injector=Ln,this._ngZone=xr,this._document=lr,this._directionality=ct,this._location=Ft,this._outsideClickDispatcher=Un,this._animationsModuleType=Gt}create(Et){const Tt=this._createHostElement(),Xt=this._createPaneElement(Tt),Wt=this._createPortalOutlet(Xt),Dn=new E(Et);return Dn.direction=Dn.direction||this._directionality.value,new fe(Wt,Tt,Xt,Dn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Et){const Tt=this._document.createElement("div");return Tt.id="cdk-overlay-"+dt++,Tt.classList.add("cdk-overlay-pane"),Et.appendChild(Tt),Tt}_createHostElement(){const Et=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Et),Et}_createPortalOutlet(Et){return this._appRef||(this._appRef=this._injector.get(Y.z2F)),new re.u0(Et,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.LFG(L),Y.LFG(ae),Y.LFG(Y._Vd),Y.LFG(nt),Y.LFG(ee),Y.LFG(Y.zs3),Y.LFG(Y.R0b),Y.LFG(T.K0),Y.LFG(W.Is),Y.LFG(T.Ye),Y.LFG(j),Y.LFG(Y.QbO,8))};static#t=this.\u0275prov=Y.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})();const an=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yt=new Y.OlP("cdk-connected-overlay-scroll-strategy");let mn=(()=>{class hn{constructor(Et){this.elementRef=Et}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.Y36(Y.SBq))};static#t=this.\u0275dir=Y.lG2({type:hn,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return hn})(),Cn=(()=>{class hn{get offsetX(){return this._offsetX}set offsetX(Et){this._offsetX=Et,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Et){this._offsetY=Et,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Et){this._hasBackdrop=(0,ie.Ig)(Et)}get lockPosition(){return this._lockPosition}set lockPosition(Et){this._lockPosition=(0,ie.Ig)(Et)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Et){this._flexibleDimensions=(0,ie.Ig)(Et)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Et){this._growAfterOpen=(0,ie.Ig)(Et)}get push(){return this._push}set push(Et){this._push=(0,ie.Ig)(Et)}constructor(Et,Tt,Xt,Wt,Dn){this._overlay=Et,this._dir=Dn,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=q.w0.EMPTY,this._attachSubscription=q.w0.EMPTY,this._detachSubscription=q.w0.EMPTY,this._positionSubscription=q.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Y.vpe,this.positionChange=new Y.vpe,this.attach=new Y.vpe,this.detach=new Y.vpe,this.overlayKeydown=new Y.vpe,this.overlayOutsideClick=new Y.vpe,this._templatePortal=new re.UE(Tt,Xt),this._scrollStrategyFactory=Wt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Et){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Et.origin&&this.open&&this._position.apply()),Et.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=an);const Et=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Et.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Et.detachments().subscribe(()=>this.detach.emit()),Et.keydownEvents().subscribe(Tt=>{this.overlayKeydown.next(Tt),Tt.keyCode===M.hY&&!this.disableClose&&!(0,M.Vb)(Tt)&&(Tt.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Tt=>{this.overlayOutsideClick.next(Tt)})}_buildConfig(){const Et=this._position=this.positionStrategy||this._createPositionStrategy(),Tt=new E({direction:this._dir,positionStrategy:Et,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Tt.width=this.width),(this.height||0===this.height)&&(Tt.height=this.height),(this.minWidth||0===this.minWidth)&&(Tt.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Tt.minHeight=this.minHeight),this.backdropClass&&(Tt.backdropClass=this.backdropClass),this.panelClass&&(Tt.panelClass=this.panelClass),Tt}_updatePositionStrategy(Et){const Tt=this.positions.map(Xt=>({originX:Xt.originX,originY:Xt.originY,overlayX:Xt.overlayX,overlayY:Xt.overlayY,offsetX:Xt.offsetX||this.offsetX,offsetY:Xt.offsetY||this.offsetY,panelClass:Xt.panelClass||void 0}));return Et.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Tt).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Et=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Et),Et}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof mn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Et=>{this.backdropClick.emit(Et)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Q(hn,ot=!1){return(0,G.e)((Et,Tt)=>{let Xt=0;Et.subscribe((0,Z.x)(Tt,Wt=>{const Dn=hn(Wt,Xt++);(Dn||ot)&&Tt.next(Wt),!Dn&&Tt.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Et=>{this.positionChange.emit(Et),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Tt){return new(Tt||hn)(Y.Y36(It),Y.Y36(Y.Rgc),Y.Y36(Y.s_b),Y.Y36(Yt),Y.Y36(W.Is,8))};static#t=this.\u0275dir=Y.lG2({type:hn,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Y.TTD]})}return hn})();const Wn={provide:Yt,deps:[It],useFactory:function Gn(hn){return()=>hn.scrollStrategies.reposition()}};let Fn=(()=>{class hn{static#e=this.\u0275fac=function(Tt){return new(Tt||hn)};static#t=this.\u0275mod=Y.oAB({type:hn});static#n=this.\u0275inj=Y.cJS({providers:[It,Wn],imports:[W.vT,re.eL,_.Cl,_.Cl]})}return hn})()},2831:($t,We,C)=>{"use strict";C.d(We,{Mq:()=>te,Oy:()=>ve,i$:()=>Q,kV:()=>se,sA:()=>K,t4:()=>ie,ud:()=>pe});var _=C(9212),T=C(6814);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let G,re,oe,ie=(()=>{class ${constructor(ce){this._platformId=ce,this.isBrowser=this._platformId?(0,T.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(U){return new(U||$)(_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})(),pe=(()=>{class ${static#e=this.\u0275fac=function(U){return new(U||$)};static#t=this.\u0275mod=_.oAB({type:$});static#n=this.\u0275inj=_.cJS({})}return $})();function Q($){return function Z(){if(null==G&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>G=!0}))}finally{G=G||!1}return G}()?$:!!$.capture}function te(){if(null==re){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return re=!1,re;if("scrollBehavior"in document.documentElement.style)re=!0;else{const $=Element.prototype.scrollTo;re=!!$&&!/\{\s*\[native code\]\s*\}/.test($.toString())}}return re}function se($){if(function M(){if(null==oe){const $=typeof document<"u"?document.head:null;oe=!(!$||!$.createShadowRoot&&!$.attachShadow)}return oe}()){const X=$.getRootNode?$.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&X instanceof ShadowRoot)return X}return null}function K($){return $.composedPath?$.composedPath()[0]:$.target}function ve(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:($t,We,C)=>{"use strict";C.d(We,{C5:()=>G,UE:()=>Z,eL:()=>K,u0:()=>te});var _=C(9212);class de{attach(X){return this._attachedHost=X,X.attach(this)}detach(){let X=this._attachedHost;null!=X&&(this._attachedHost=null,X.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(X){this._attachedHost=X}}class G extends de{constructor(X,ce,U,L,E){super(),this.component=X,this.viewContainerRef=ce,this.injector=U,this.componentFactoryResolver=L,this.projectableNodes=E}}class Z extends de{constructor(X,ce,U,L){super(),this.templateRef=X,this.viewContainerRef=ce,this.context=U,this.injector=L}get origin(){return this.templateRef.elementRef}attach(X,ce=this.context){return this.context=ce,super.attach(X)}detach(){return this.context=void 0,super.detach()}}class Q extends de{constructor(X){super(),this.element=X instanceof _.SBq?X.nativeElement:X}}class W{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(X){return X instanceof G?(this._attachedPortal=X,this.attachComponentPortal(X)):X instanceof Z?(this._attachedPortal=X,this.attachTemplatePortal(X)):this.attachDomPortal&&X instanceof Q?(this._attachedPortal=X,this.attachDomPortal(X)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(X){this._disposeFn=X}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class te extends W{constructor(X,ce,U,L,E){super(),this.outletElement=X,this._componentFactoryResolver=ce,this._appRef=U,this._defaultInjector=L,this.attachDomPortal=B=>{const H=B.element,A=this._document.createComment("dom-portal");H.parentNode.insertBefore(A,H),this.outletElement.appendChild(H),this._attachedPortal=B,super.setDisposeFn(()=>{A.parentNode&&A.parentNode.replaceChild(H,A)})},this._document=E}attachComponentPortal(X){const U=(X.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(X.component);let L;return X.viewContainerRef?(L=X.viewContainerRef.createComponent(U,X.viewContainerRef.length,X.injector||X.viewContainerRef.injector,X.projectableNodes||void 0),this.setDisposeFn(()=>L.destroy())):(L=U.create(X.injector||this._defaultInjector||_.zs3.NULL),this._appRef.attachView(L.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(L.hostView),L.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(L)),this._attachedPortal=X,L}attachTemplatePortal(X){let ce=X.viewContainerRef,U=ce.createEmbeddedView(X.templateRef,X.context,{injector:X.injector});return U.rootNodes.forEach(L=>this.outletElement.appendChild(L)),U.detectChanges(),this.setDisposeFn(()=>{let L=ce.indexOf(U);-1!==L&&ce.remove(L)}),this._attachedPortal=X,U}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(X){return X.hostView.rootNodes[0]}}let K=(()=>{class ${static#e=this.\u0275fac=function(U){return new(U||$)};static#t=this.\u0275mod=_.oAB({type:$});static#n=this.\u0275inj=_.cJS({})}return $})()},6672:($t,We,C)=>{"use strict";C.d(We,{Cl:()=>j,ZD:()=>ee,mF:()=>ve,rL:()=>ce});var _=C(2495),T=C(9212),Y=C(8645),ie=C(2096),pe=C(5592),me=C(2438),G=(C(927),C(6410),C(9028)),Z=C(2181),Q=C(2831),W=C(6814),re=C(9388);let ve=(()=>{class ae{constructor(he,Ce,Se){this._ngZone=he,this._platform=Ce,this._scrolled=new Y.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Se}register(he){this.scrollContainers.has(he)||this.scrollContainers.set(he,he.elementScrolled().subscribe(()=>this._scrolled.next(he)))}deregister(he){const Ce=this.scrollContainers.get(he);Ce&&(Ce.unsubscribe(),this.scrollContainers.delete(he))}scrolled(he=20){return this._platform.isBrowser?new pe.y(Ce=>{this._globalSubscription||this._addGlobalListener();const Se=he>0?this._scrolled.pipe((0,G.e)(he)).subscribe(Ce):this._scrolled.subscribe(Ce);return this._scrolledCount++,()=>{Se.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ie.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((he,Ce)=>this.deregister(Ce)),this._scrolled.complete()}ancestorScrolled(he,Ce){const Se=this.getAncestorScrollContainers(he);return this.scrolled(Ce).pipe((0,Z.h)(ye=>!ye||Se.indexOf(ye)>-1))}getAncestorScrollContainers(he){const Ce=[];return this.scrollContainers.forEach((Se,ye)=>{this._scrollableContainsElement(ye,he)&&Ce.push(ye)}),Ce}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(he,Ce){let Se=(0,_.fI)(Ce),ye=he.getElementRef().nativeElement;do{if(Se==ye)return!0}while(Se=Se.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const he=this._getWindow();return(0,me.R)(he.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ce){return new(Ce||ae)(T.LFG(T.R0b),T.LFG(Q.t4),T.LFG(W.K0,8))};static#t=this.\u0275prov=T.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),ce=(()=>{class ae{constructor(he,Ce,Se){this._platform=he,this._change=new Y.x,this._changeListener=ye=>{this._change.next(ye)},this._document=Se,Ce.runOutsideAngular(()=>{if(he.isBrowser){const ye=this._getWindow();ye.addEventListener("resize",this._changeListener),ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const he=this._getWindow();he.removeEventListener("resize",this._changeListener),he.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const he={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),he}getViewportRect(){const he=this.getViewportScrollPosition(),{width:Ce,height:Se}=this.getViewportSize();return{top:he.top,left:he.left,bottom:he.top+Se,right:he.left+Ce,height:Se,width:Ce}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const he=this._document,Ce=this._getWindow(),Se=he.documentElement,ye=Se.getBoundingClientRect();return{top:-ye.top||he.body.scrollTop||Ce.scrollY||Se.scrollTop||0,left:-ye.left||he.body.scrollLeft||Ce.scrollX||Se.scrollLeft||0}}change(he=20){return he>0?this._change.pipe((0,G.e)(he)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const he=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:he.innerWidth,height:he.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ce){return new(Ce||ae)(T.LFG(Q.t4),T.LFG(T.R0b),T.LFG(W.K0,8))};static#t=this.\u0275prov=T.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),ee=(()=>{class ae{static#e=this.\u0275fac=function(Ce){return new(Ce||ae)};static#t=this.\u0275mod=T.oAB({type:ae});static#n=this.\u0275inj=T.cJS({})}return ae})(),j=(()=>{class ae{static#e=this.\u0275fac=function(Ce){return new(Ce||ae)};static#t=this.\u0275mod=T.oAB({type:ae});static#n=this.\u0275inj=T.cJS({imports:[re.vT,ee,re.vT,ee]})}return ae})()},6814:($t,We,C)=>{"use strict";C.d(We,{Do:()=>oe,ED:()=>ni,EM:()=>yt,HT:()=>ie,JF:()=>hi,K0:()=>me,Mx:()=>Qt,NF:()=>Tl,O5:()=>Di,Ov:()=>Hr,PC:()=>Oa,PM:()=>ul,RF:()=>Ba,S$:()=>re,V_:()=>de,Ye:()=>M,b0:()=>q,bD:()=>t1,ez:()=>Ni,mk:()=>yn,n9:()=>bo,q:()=>Y,qS:()=>st,sg:()=>dr,tP:()=>vs,w_:()=>pe});var _=C(9212);let T=null;function Y(){return T}function ie(De){T||(T=De)}class pe{}const me=new _.OlP("DocumentToken");let Me=(()=>{class De{historyGo(Fe){throw new Error("Not implemented")}static#e=this.\u0275fac=function(et){return new(et||De)};static#t=this.\u0275prov=_.Yz7({token:De,factory:()=>(0,_.f3M)(G),providedIn:"platform"})}return De})();const de=new _.OlP("Location Initialized");let G=(()=>{class De extends Me{constructor(){super(),this._doc=(0,_.f3M)(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(Fe){const et=Y().getGlobalEventTarget(this._doc,"window");return et.addEventListener("popstate",Fe,!1),()=>et.removeEventListener("popstate",Fe)}onHashChange(Fe){const et=Y().getGlobalEventTarget(this._doc,"window");return et.addEventListener("hashchange",Fe,!1),()=>et.removeEventListener("hashchange",Fe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Fe){this._location.pathname=Fe}pushState(Fe,et,Nt){this._history.pushState(Fe,et,Nt)}replaceState(Fe,et,Nt){this._history.replaceState(Fe,et,Nt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Fe=0){this._history.go(Fe)}getState(){return this._history.state}static#e=this.\u0275fac=function(et){return new(et||De)};static#t=this.\u0275prov=_.Yz7({token:De,factory:()=>new De,providedIn:"platform"})}return De})();function Z(De,lt){if(0==De.length)return lt;if(0==lt.length)return De;let Fe=0;return De.endsWith("/")&&Fe++,lt.startsWith("/")&&Fe++,2==Fe?De+lt.substring(1):1==Fe?De+lt:De+"/"+lt}function Q(De){const lt=De.match(/#|\?|$/),Fe=lt&&lt.index||De.length;return De.slice(0,Fe-("/"===De[Fe-1]?1:0))+De.slice(Fe)}function W(De){return De&&"?"!==De[0]?"?"+De:De}let re=(()=>{class De{historyGo(Fe){throw new Error("Not implemented")}static#e=this.\u0275fac=function(et){return new(et||De)};static#t=this.\u0275prov=_.Yz7({token:De,factory:()=>(0,_.f3M)(q),providedIn:"root"})}return De})();const te=new _.OlP("appBaseHref");let q=(()=>{class De extends re{constructor(Fe,et){super(),this._platformLocation=Fe,this._removeListenerFns=[],this._baseHref=et??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Fe){this._removeListenerFns.push(this._platformLocation.onPopState(Fe),this._platformLocation.onHashChange(Fe))}getBaseHref(){return this._baseHref}prepareExternalUrl(Fe){return Z(this._baseHref,Fe)}path(Fe=!1){const et=this._platformLocation.pathname+W(this._platformLocation.search),Nt=this._platformLocation.hash;return Nt&&Fe?`${et}${Nt}`:et}pushState(Fe,et,Nt,Rn){const $n=this.prepareExternalUrl(Nt+W(Rn));this._platformLocation.pushState(Fe,et,$n)}replaceState(Fe,et,Nt,Rn){const $n=this.prepareExternalUrl(Nt+W(Rn));this._platformLocation.replaceState(Fe,et,$n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Fe=0){this._platformLocation.historyGo?.(Fe)}static#e=this.\u0275fac=function(et){return new(et||De)(_.LFG(Me),_.LFG(te,8))};static#t=this.\u0275prov=_.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),oe=(()=>{class De extends re{constructor(Fe,et){super(),this._platformLocation=Fe,this._baseHref="",this._removeListenerFns=[],null!=et&&(this._baseHref=et)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Fe){this._removeListenerFns.push(this._platformLocation.onPopState(Fe),this._platformLocation.onHashChange(Fe))}getBaseHref(){return this._baseHref}path(Fe=!1){let et=this._platformLocation.hash;return null==et&&(et="#"),et.length>0?et.substring(1):et}prepareExternalUrl(Fe){const et=Z(this._baseHref,Fe);return et.length>0?"#"+et:et}pushState(Fe,et,Nt,Rn){let $n=this.prepareExternalUrl(Nt+W(Rn));0==$n.length&&($n=this._platformLocation.pathname),this._platformLocation.pushState(Fe,et,$n)}replaceState(Fe,et,Nt,Rn){let $n=this.prepareExternalUrl(Nt+W(Rn));0==$n.length&&($n=this._platformLocation.pathname),this._platformLocation.replaceState(Fe,et,$n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Fe=0){this._platformLocation.historyGo?.(Fe)}static#e=this.\u0275fac=function(et){return new(et||De)(_.LFG(Me),_.LFG(te,8))};static#t=this.\u0275prov=_.Yz7({token:De,factory:De.\u0275fac})}return De})(),M=(()=>{class De{constructor(Fe){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Fe;const et=this._locationStrategy.getBaseHref();this._basePath=function ve(De){if(new RegExp("^(https?:)?//").test(De)){const[,Fe]=De.split(/\/\/[^\/]+/);return Fe}return De}(Q(K(et))),this._locationStrategy.onPopState(Nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Nt.state,type:Nt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Fe=!1){return this.normalize(this._locationStrategy.path(Fe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Fe,et=""){return this.path()==this.normalize(Fe+W(et))}normalize(Fe){return De.stripTrailingSlash(function ge(De,lt){if(!De||!lt.startsWith(De))return lt;const Fe=lt.substring(De.length);return""===Fe||["/",";","?","#"].includes(Fe[0])?Fe:lt}(this._basePath,K(Fe)))}prepareExternalUrl(Fe){return Fe&&"/"!==Fe[0]&&(Fe="/"+Fe),this._locationStrategy.prepareExternalUrl(Fe)}go(Fe,et="",Nt=null){this._locationStrategy.pushState(Nt,"",Fe,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Fe+W(et)),Nt)}replaceState(Fe,et="",Nt=null){this._locationStrategy.replaceState(Nt,"",Fe,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Fe+W(et)),Nt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Fe=0){this._locationStrategy.historyGo?.(Fe)}onUrlChange(Fe){return this._urlChangeListeners.push(Fe),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(et=>{this._notifyUrlChangeListeners(et.url,et.state)})),()=>{const et=this._urlChangeListeners.indexOf(Fe);this._urlChangeListeners.splice(et,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Fe="",et){this._urlChangeListeners.forEach(Nt=>Nt(Fe,et))}subscribe(Fe,et,Nt){return this._subject.subscribe({next:Fe,error:et,complete:Nt})}static#e=this.normalizeQueryParams=W;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=Q;static#r=this.\u0275fac=function(et){return new(et||De)(_.LFG(re))};static#i=this.\u0275prov=_.Yz7({token:De,factory:()=>function se(){return new M((0,_.LFG)(re))}(),providedIn:"root"})}return De})();function K(De){return De.replace(/\/index.html$/,"")}function st(De,lt,Fe){return(0,_.dwT)(De,lt,Fe)}function Qt(De,lt){lt=encodeURIComponent(lt);for(const Fe of De.split(";")){const et=Fe.indexOf("="),[Nt,Rn]=-1==et?[Fe,""]:[Fe.slice(0,et),Fe.slice(et+1)];if(Nt.trim()===lt)return decodeURIComponent(Rn)}return null}const xn=/\s+/,Pn=[];let yn=(()=>{class De{constructor(Fe,et,Nt,Rn){this._iterableDiffers=Fe,this._keyValueDiffers=et,this._ngEl=Nt,this._renderer=Rn,this.initialClasses=Pn,this.stateMap=new Map}set klass(Fe){this.initialClasses=null!=Fe?Fe.trim().split(xn):Pn}set ngClass(Fe){this.rawClass="string"==typeof Fe?Fe.trim().split(xn):Fe}ngDoCheck(){for(const et of this.initialClasses)this._updateState(et,!0);const Fe=this.rawClass;if(Array.isArray(Fe)||Fe instanceof Set)for(const et of Fe)this._updateState(et,!0);else if(null!=Fe)for(const et of Object.keys(Fe))this._updateState(et,!!Fe[et]);this._applyStateDiff()}_updateState(Fe,et){const Nt=this.stateMap.get(Fe);void 0!==Nt?(Nt.enabled!==et&&(Nt.changed=!0,Nt.enabled=et),Nt.touched=!0):this.stateMap.set(Fe,{enabled:et,changed:!0,touched:!0})}_applyStateDiff(){for(const Fe of this.stateMap){const et=Fe[0],Nt=Fe[1];Nt.changed?(this._toggleClass(et,Nt.enabled),Nt.changed=!1):Nt.touched||(Nt.enabled&&this._toggleClass(et,!1),this.stateMap.delete(et)),Nt.touched=!1}}_toggleClass(Fe,et){(Fe=Fe.trim()).length>0&&Fe.split(xn).forEach(Nt=>{et?this._renderer.addClass(this._ngEl.nativeElement,Nt):this._renderer.removeClass(this._ngEl.nativeElement,Nt)})}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return De})();class Bn{constructor(lt,Fe,et,Nt){this.$implicit=lt,this.ngForOf=Fe,this.index=et,this.count=Nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class De{set ngForOf(Fe){this._ngForOf=Fe,this._ngForOfDirty=!0}set ngForTrackBy(Fe){this._trackByFn=Fe}get ngForTrackBy(){return this._trackByFn}constructor(Fe,et,Nt){this._viewContainer=Fe,this._template=et,this._differs=Nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Fe){Fe&&(this._template=Fe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Fe=this._ngForOf;!this._differ&&Fe&&(this._differ=this._differs.find(Fe).create(this.ngForTrackBy))}if(this._differ){const Fe=this._differ.diff(this._ngForOf);Fe&&this._applyChanges(Fe)}}_applyChanges(Fe){const et=this._viewContainer;Fe.forEachOperation((Nt,Rn,$n)=>{if(null==Nt.previousIndex)et.createEmbeddedView(this._template,new Bn(Nt.item,this._ngForOf,-1,-1),null===$n?void 0:$n);else if(null==$n)et.remove(null===Rn?void 0:Rn);else if(null!==Rn){const _r=et.get(Rn);et.move(_r,$n),Qn(_r,Nt)}});for(let Nt=0,Rn=et.length;Nt<Rn;Nt++){const _r=et.get(Nt).context;_r.index=Nt,_r.count=Rn,_r.ngForOf=this._ngForOf}Fe.forEachIdentityChange(Nt=>{Qn(et.get(Nt.currentIndex),Nt)})}static ngTemplateContextGuard(Fe,et){return!0}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return De})();function Qn(De,lt){De.context.$implicit=lt.item}let Di=(()=>{class De{constructor(Fe,et){this._viewContainer=Fe,this._context=new aa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=et}set ngIf(Fe){this._context.$implicit=this._context.ngIf=Fe,this._updateView()}set ngIfThen(Fe){Ui("ngIfThen",Fe),this._thenTemplateRef=Fe,this._thenViewRef=null,this._updateView()}set ngIfElse(Fe){Ui("ngIfElse",Fe),this._elseTemplateRef=Fe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Fe,et){return!0}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.s_b),_.Y36(_.Rgc))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return De})();class aa{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(De,lt){if(lt&&!lt.createEmbeddedView)throw new Error(`${De} must be a TemplateRef, but received '${(0,_.AaK)(lt)}'.`)}class ai{constructor(lt,Fe){this._viewContainerRef=lt,this._templateRef=Fe,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(lt){lt&&!this._created?this.create():!lt&&this._created&&this.destroy()}}let Ba=(()=>{class De{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Fe){this._ngSwitch=Fe,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Fe){this._defaultViews.push(Fe)}_matchCase(Fe){const et=Fe===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||et,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),et}_updateDefaultCases(Fe){if(this._defaultViews.length>0&&Fe!==this._defaultUsed){this._defaultUsed=Fe;for(const et of this._defaultViews)et.enforceState(Fe)}}static#e=this.\u0275fac=function(et){return new(et||De)};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return De})(),bo=(()=>{class De{constructor(Fe,et,Nt){this.ngSwitch=Nt,Nt._addCase(),this._view=new ai(Fe,et)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Ba,9))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return De})(),ni=(()=>{class De{constructor(Fe,et,Nt){Nt._addDefault(new ai(Fe,et))}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Ba,9))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return De})(),Oa=(()=>{class De{constructor(Fe,et,Nt){this._ngEl=Fe,this._differs=et,this._renderer=Nt,this._ngStyle=null,this._differ=null}set ngStyle(Fe){this._ngStyle=Fe,!this._differ&&Fe&&(this._differ=this._differs.find(Fe).create())}ngDoCheck(){if(this._differ){const Fe=this._differ.diff(this._ngStyle);Fe&&this._applyChanges(Fe)}}_setStyle(Fe,et){const[Nt,Rn]=Fe.split("."),$n=-1===Nt.indexOf("-")?void 0:_.JOm.DashCase;null!=et?this._renderer.setStyle(this._ngEl.nativeElement,Nt,Rn?`${et}${Rn}`:et,$n):this._renderer.removeStyle(this._ngEl.nativeElement,Nt,$n)}_applyChanges(Fe){Fe.forEachRemovedItem(et=>this._setStyle(et.key,null)),Fe.forEachAddedItem(et=>this._setStyle(et.key,et.currentValue)),Fe.forEachChangedItem(et=>this._setStyle(et.key,et.currentValue))}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.SBq),_.Y36(_.aQg),_.Y36(_.Qsj))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return De})(),vs=(()=>{class De{constructor(Fe){this._viewContainerRef=Fe,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Fe){if(this._shouldRecreateView(Fe)){const et=this._viewContainerRef;if(this._viewRef&&et.remove(et.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Nt=this._createContextForwardProxy();this._viewRef=et.createEmbeddedView(this.ngTemplateOutlet,Nt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Fe){return!!Fe.ngTemplateOutlet||!!Fe.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Fe,et,Nt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,et,Nt),get:(Fe,et,Nt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,et,Nt)}})}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.s_b))};static#t=this.\u0275dir=_.lG2({type:De,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]})}return De})();class Sl{createSubscription(lt,Fe){return(0,_.rg0)(()=>lt.subscribe({next:Fe,error:et=>{throw et}}))}dispose(lt){(0,_.rg0)(()=>lt.unsubscribe())}}class Xc{createSubscription(lt,Fe){return lt.then(Fe,et=>{throw et})}dispose(lt){}}const vc=new Xc,Za=new Sl;let Hr=(()=>{class De{constructor(Fe){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Fe}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Fe){return this._obj?Fe!==this._obj?(this._dispose(),this.transform(Fe)):this._latestValue:(Fe&&this._subscribe(Fe),this._latestValue)}_subscribe(Fe){this._obj=Fe,this._strategy=this._selectStrategy(Fe),this._subscription=this._strategy.createSubscription(Fe,et=>this._updateLatestValue(Fe,et))}_selectStrategy(Fe){if((0,_.QGY)(Fe))return vc;if((0,_.F4k)(Fe))return Za;throw function Po(De,lt){return new _.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Fe,et){Fe===this._obj&&(this._latestValue=et,this._ref.markForCheck())}static#e=this.\u0275fac=function(et){return new(et||De)(_.Y36(_.sBO,16))};static#t=this.\u0275pipe=_.Yjl({name:"async",type:De,pure:!1,standalone:!0})}return De})(),Ni=(()=>{class De{static#e=this.\u0275fac=function(et){return new(et||De)};static#t=this.\u0275mod=_.oAB({type:De});static#n=this.\u0275inj=_.cJS({})}return De})();const t1="browser",co="server";function Tl(De){return De===t1}function ul(De){return De===co}let yt=(()=>{class De{static#e=this.\u0275prov=(0,_.Yz7)({token:De,providedIn:"root",factory:()=>new Lt((0,_.LFG)(me),window)})}return De})();class Lt{constructor(lt,Fe){this.document=lt,this.window=Fe,this.offset=()=>[0,0]}setOffset(lt){this.offset=Array.isArray(lt)?()=>lt:lt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(lt){this.supportsScrolling()&&this.window.scrollTo(lt[0],lt[1])}scrollToAnchor(lt){if(!this.supportsScrolling())return;const Fe=function En(De,lt){const Fe=De.getElementById(lt)||De.getElementsByName(lt)[0];if(Fe)return Fe;if("function"==typeof De.createTreeWalker&&De.body&&"function"==typeof De.body.attachShadow){const et=De.createTreeWalker(De.body,NodeFilter.SHOW_ELEMENT);let Nt=et.currentNode;for(;Nt;){const Rn=Nt.shadowRoot;if(Rn){const $n=Rn.getElementById(lt)||Rn.querySelector(`[name="${lt}"]`);if($n)return $n}Nt=et.nextNode()}}return null}(this.document,lt);Fe&&(this.scrollToElement(Fe),Fe.focus())}setHistoryScrollRestoration(lt){this.supportsScrolling()&&(this.window.history.scrollRestoration=lt)}scrollToElement(lt){const Fe=lt.getBoundingClientRect(),et=Fe.left+this.window.pageXOffset,Nt=Fe.top+this.window.pageYOffset,Rn=this.offset();this.window.scrollTo(et-Rn[0],Nt-Rn[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hi{}},9862:($t,We,C)=>{"use strict";C.d(We,{JF:()=>vi,eN:()=>fe,jN:()=>re}),C(9671);var T=C(9212),Y=C(2096),ie=C(5592),pe=C(7715),me=C(6328),Me=C(2181),de=C(7398),G=C(4716),Z=C(4664),Q=C(6814);class W{}class re{}class te{constructor(st){this.normalizedNames=new Map,this.lazyUpdate=null,st?"string"==typeof st?this.lazyInit=()=>{this.headers=new Map,st.split("\n").forEach(Qt=>{const xn=Qt.indexOf(":");if(xn>0){const Pn=Qt.slice(0,xn),yn=Pn.toLowerCase(),mr=Qt.slice(xn+1).trim();this.maybeSetNormalizedName(Pn,yn),this.headers.has(yn)?this.headers.get(yn).push(mr):this.headers.set(yn,[mr])}})}:typeof Headers<"u"&&st instanceof Headers?(this.headers=new Map,st.forEach((Qt,xn)=>{this.setHeaderEntries(xn,Qt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(st).forEach(([Qt,xn])=>{this.setHeaderEntries(Qt,xn)})}:this.headers=new Map}has(st){return this.init(),this.headers.has(st.toLowerCase())}get(st){this.init();const Qt=this.headers.get(st.toLowerCase());return Qt&&Qt.length>0?Qt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(st){return this.init(),this.headers.get(st.toLowerCase())||null}append(st,Qt){return this.clone({name:st,value:Qt,op:"a"})}set(st,Qt){return this.clone({name:st,value:Qt,op:"s"})}delete(st,Qt){return this.clone({name:st,value:Qt,op:"d"})}maybeSetNormalizedName(st,Qt){this.normalizedNames.has(Qt)||this.normalizedNames.set(Qt,st)}init(){this.lazyInit&&(this.lazyInit instanceof te?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(st=>this.applyUpdate(st)),this.lazyUpdate=null))}copyFrom(st){st.init(),Array.from(st.headers.keys()).forEach(Qt=>{this.headers.set(Qt,st.headers.get(Qt)),this.normalizedNames.set(Qt,st.normalizedNames.get(Qt))})}clone(st){const Qt=new te;return Qt.lazyInit=this.lazyInit&&this.lazyInit instanceof te?this.lazyInit:this,Qt.lazyUpdate=(this.lazyUpdate||[]).concat([st]),Qt}applyUpdate(st){const Qt=st.name.toLowerCase();switch(st.op){case"a":case"s":let xn=st.value;if("string"==typeof xn&&(xn=[xn]),0===xn.length)return;this.maybeSetNormalizedName(st.name,Qt);const Pn=("a"===st.op?this.headers.get(Qt):void 0)||[];Pn.push(...xn),this.headers.set(Qt,Pn);break;case"d":const yn=st.value;if(yn){let mr=this.headers.get(Qt);if(!mr)return;mr=mr.filter(li=>-1===yn.indexOf(li)),0===mr.length?(this.headers.delete(Qt),this.normalizedNames.delete(Qt)):this.headers.set(Qt,mr)}else this.headers.delete(Qt),this.normalizedNames.delete(Qt)}}setHeaderEntries(st,Qt){const xn=(Array.isArray(Qt)?Qt:[Qt]).map(yn=>yn.toString()),Pn=st.toLowerCase();this.headers.set(Pn,xn),this.maybeSetNormalizedName(st,Pn)}forEach(st){this.init(),Array.from(this.normalizedNames.keys()).forEach(Qt=>st(this.normalizedNames.get(Qt),this.headers.get(Qt)))}}class oe{encodeKey(st){return K(st)}encodeValue(st){return K(st)}decodeKey(st){return decodeURIComponent(st)}decodeValue(st){return decodeURIComponent(st)}}const se=/%(\d[a-f0-9])/gi,ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K(rn){return encodeURIComponent(rn).replace(se,(st,Qt)=>ge[Qt]??st)}function ve(rn){return`${rn}`}class ${constructor(st={}){if(this.updates=null,this.cloneFrom=null,this.encoder=st.encoder||new oe,st.fromString){if(st.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M(rn,st){const Qt=new Map;return rn.length>0&&rn.replace(/^\?/,"").split("&").forEach(Pn=>{const yn=Pn.indexOf("="),[mr,li]=-1==yn?[st.decodeKey(Pn),""]:[st.decodeKey(Pn.slice(0,yn)),st.decodeValue(Pn.slice(yn+1))],Bn=Qt.get(mr)||[];Bn.push(li),Qt.set(mr,Bn)}),Qt}(st.fromString,this.encoder)}else st.fromObject?(this.map=new Map,Object.keys(st.fromObject).forEach(Qt=>{const xn=st.fromObject[Qt],Pn=Array.isArray(xn)?xn.map(ve):[ve(xn)];this.map.set(Qt,Pn)})):this.map=null}has(st){return this.init(),this.map.has(st)}get(st){this.init();const Qt=this.map.get(st);return Qt?Qt[0]:null}getAll(st){return this.init(),this.map.get(st)||null}keys(){return this.init(),Array.from(this.map.keys())}append(st,Qt){return this.clone({param:st,value:Qt,op:"a"})}appendAll(st){const Qt=[];return Object.keys(st).forEach(xn=>{const Pn=st[xn];Array.isArray(Pn)?Pn.forEach(yn=>{Qt.push({param:xn,value:yn,op:"a"})}):Qt.push({param:xn,value:Pn,op:"a"})}),this.clone(Qt)}set(st,Qt){return this.clone({param:st,value:Qt,op:"s"})}delete(st,Qt){return this.clone({param:st,value:Qt,op:"d"})}toString(){return this.init(),this.keys().map(st=>{const Qt=this.encoder.encodeKey(st);return this.map.get(st).map(xn=>Qt+"="+this.encoder.encodeValue(xn)).join("&")}).filter(st=>""!==st).join("&")}clone(st){const Qt=new $({encoder:this.encoder});return Qt.cloneFrom=this.cloneFrom||this,Qt.updates=(this.updates||[]).concat(st),Qt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(st=>this.map.set(st,this.cloneFrom.map.get(st))),this.updates.forEach(st=>{switch(st.op){case"a":case"s":const Qt=("a"===st.op?this.map.get(st.param):void 0)||[];Qt.push(ve(st.value)),this.map.set(st.param,Qt);break;case"d":if(void 0===st.value){this.map.delete(st.param);break}{let xn=this.map.get(st.param)||[];const Pn=xn.indexOf(ve(st.value));-1!==Pn&&xn.splice(Pn,1),xn.length>0?this.map.set(st.param,xn):this.map.delete(st.param)}}}),this.cloneFrom=this.updates=null)}}class ce{constructor(){this.map=new Map}set(st,Qt){return this.map.set(st,Qt),this}get(st){return this.map.has(st)||this.map.set(st,st.defaultValue()),this.map.get(st)}delete(st){return this.map.delete(st),this}has(st){return this.map.has(st)}keys(){return this.map.keys()}}function L(rn){return typeof ArrayBuffer<"u"&&rn instanceof ArrayBuffer}function E(rn){return typeof Blob<"u"&&rn instanceof Blob}function B(rn){return typeof FormData<"u"&&rn instanceof FormData}class A{constructor(st,Qt,xn,Pn){let yn;if(this.url=Qt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=st.toUpperCase(),function U(rn){switch(rn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Pn?(this.body=void 0!==xn?xn:null,yn=Pn):yn=xn,yn&&(this.reportProgress=!!yn.reportProgress,this.withCredentials=!!yn.withCredentials,yn.responseType&&(this.responseType=yn.responseType),yn.headers&&(this.headers=yn.headers),yn.context&&(this.context=yn.context),yn.params&&(this.params=yn.params),this.transferCache=yn.transferCache),this.headers||(this.headers=new te),this.context||(this.context=new ce),this.params){const mr=this.params.toString();if(0===mr.length)this.urlWithParams=Qt;else{const li=Qt.indexOf("?");this.urlWithParams=Qt+(-1===li?"?":li<Qt.length-1?"&":"")+mr}}else this.params=new $,this.urlWithParams=Qt}serializeBody(){return null===this.body?null:L(this.body)||E(this.body)||B(this.body)||function H(rn){return typeof URLSearchParams<"u"&&rn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B(this.body)?null:E(this.body)?this.body.type||null:L(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(st={}){const Qt=st.method||this.method,xn=st.url||this.url,Pn=st.responseType||this.responseType,yn=void 0!==st.body?st.body:this.body,mr=void 0!==st.withCredentials?st.withCredentials:this.withCredentials,li=void 0!==st.reportProgress?st.reportProgress:this.reportProgress;let Bn=st.headers||this.headers,dr=st.params||this.params;const Qn=st.context??this.context;return void 0!==st.setHeaders&&(Bn=Object.keys(st.setHeaders).reduce((er,Di)=>er.set(Di,st.setHeaders[Di]),Bn)),st.setParams&&(dr=Object.keys(st.setParams).reduce((er,Di)=>er.set(Di,st.setParams[Di]),dr)),new A(Qt,xn,yn,{params:dr,headers:Bn,context:Qn,reportProgress:li,responseType:Pn,withCredentials:mr})}}var O=function(rn){return rn[rn.Sent=0]="Sent",rn[rn.UploadProgress=1]="UploadProgress",rn[rn.ResponseHeader=2]="ResponseHeader",rn[rn.DownloadProgress=3]="DownloadProgress",rn[rn.Response=4]="Response",rn[rn.User=5]="User",rn}(O||{});class I{constructor(st,Qt=200,xn="OK"){this.headers=st.headers||new te,this.status=void 0!==st.status?st.status:Qt,this.statusText=st.statusText||xn,this.url=st.url||null,this.ok=this.status>=200&&this.status<300}}class N extends I{constructor(st={}){super(st),this.type=O.ResponseHeader}clone(st={}){return new N({headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class ee extends I{constructor(st={}){super(st),this.type=O.Response,this.body=void 0!==st.body?st.body:null}clone(st={}){return new ee({body:void 0!==st.body?st.body:this.body,headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class j extends I{constructor(st){super(st,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${st.url||"(unknown url)"}`:`Http failure response for ${st.url||"(unknown url)"}: ${st.status} ${st.statusText}`,this.error=st.error||null}}function ae(rn,st){return{body:st,headers:rn.headers,context:rn.context,observe:rn.observe,params:rn.params,reportProgress:rn.reportProgress,responseType:rn.responseType,withCredentials:rn.withCredentials,transferCache:rn.transferCache}}let fe=(()=>{class rn{constructor(Qt){this.handler=Qt}request(Qt,xn,Pn={}){let yn;if(Qt instanceof A)yn=Qt;else{let Bn,dr;Bn=Pn.headers instanceof te?Pn.headers:new te(Pn.headers),Pn.params&&(dr=Pn.params instanceof $?Pn.params:new $({fromObject:Pn.params})),yn=new A(Qt,xn,void 0!==Pn.body?Pn.body:null,{headers:Bn,context:Pn.context,params:dr,reportProgress:Pn.reportProgress,responseType:Pn.responseType||"json",withCredentials:Pn.withCredentials,transferCache:Pn.transferCache})}const mr=(0,Y.of)(yn).pipe((0,me.b)(Bn=>this.handler.handle(Bn)));if(Qt instanceof A||"events"===Pn.observe)return mr;const li=mr.pipe((0,Me.h)(Bn=>Bn instanceof ee));switch(Pn.observe||"body"){case"body":switch(yn.responseType){case"arraybuffer":return li.pipe((0,de.U)(Bn=>{if(null!==Bn.body&&!(Bn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Bn.body}));case"blob":return li.pipe((0,de.U)(Bn=>{if(null!==Bn.body&&!(Bn.body instanceof Blob))throw new Error("Response is not a Blob.");return Bn.body}));case"text":return li.pipe((0,de.U)(Bn=>{if(null!==Bn.body&&"string"!=typeof Bn.body)throw new Error("Response is not a string.");return Bn.body}));default:return li.pipe((0,de.U)(Bn=>Bn.body))}case"response":return li;default:throw new Error(`Unreachable: unhandled observe type ${Pn.observe}}`)}}delete(Qt,xn={}){return this.request("DELETE",Qt,xn)}get(Qt,xn={}){return this.request("GET",Qt,xn)}head(Qt,xn={}){return this.request("HEAD",Qt,xn)}jsonp(Qt,xn){return this.request("JSONP",Qt,{params:(new $).append(xn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Qt,xn={}){return this.request("OPTIONS",Qt,xn)}patch(Qt,xn,Pn={}){return this.request("PATCH",Qt,ae(Pn,xn))}post(Qt,xn,Pn={}){return this.request("POST",Qt,ae(Pn,xn))}put(Qt,xn,Pn={}){return this.request("PUT",Qt,ae(Pn,xn))}static#e=this.\u0275fac=function(xn){return new(xn||rn)(T.LFG(W))};static#t=this.\u0275prov=T.Yz7({token:rn,factory:rn.\u0275fac})}return rn})();function Le(rn,st){return st(rn)}function Je(rn,st){return(Qt,xn)=>st.intercept(Qt,{handle:Pn=>rn(Pn,xn)})}const nt=new T.OlP(""),dt=new T.OlP(""),It=new T.OlP(""),an=new T.OlP("");function Yt(){let rn=null;return(st,Qt)=>{null===rn&&(rn=((0,T.f3M)(nt,{optional:!0})??[]).reduceRight(Je,Le));const xn=(0,T.f3M)(T.HDt),Pn=xn.add();return rn(st,Qt).pipe((0,G.x)(()=>xn.remove(Pn)))}}let Gn=(()=>{class rn extends W{constructor(Qt,xn){super(),this.backend=Qt,this.injector=xn,this.chain=null,this.pendingTasks=(0,T.f3M)(T.HDt);const Pn=(0,T.f3M)(an,{optional:!0});this.backend=Pn??Qt}handle(Qt){if(null===this.chain){const Pn=Array.from(new Set([...this.injector.get(dt),...this.injector.get(It,[])]));this.chain=Pn.reduceRight((yn,mr)=>function at(rn,st,Qt){return(xn,Pn)=>Qt.runInContext(()=>st(xn,yn=>rn(yn,Pn)))}(yn,mr,this.injector),Le)}const xn=this.pendingTasks.add();return this.chain(Qt,Pn=>this.backend.handle(Pn)).pipe((0,G.x)(()=>this.pendingTasks.remove(xn)))}static#e=this.\u0275fac=function(xn){return new(xn||rn)(T.LFG(re),T.LFG(T.lqb))};static#t=this.\u0275prov=T.Yz7({token:rn,factory:rn.\u0275fac})}return rn})();const xr=/^\)\]\}',?\n/;let ct=(()=>{class rn{constructor(Qt){this.xhrFactory=Qt}handle(Qt){if("JSONP"===Qt.method)throw new T.vHH(-2800,!1);const xn=this.xhrFactory;return(xn.\u0275loadImpl?(0,pe.D)(xn.\u0275loadImpl()):(0,Y.of)(null)).pipe((0,Z.w)(()=>new ie.y(yn=>{const mr=xn.build();if(mr.open(Qt.method,Qt.urlWithParams),Qt.withCredentials&&(mr.withCredentials=!0),Qt.headers.forEach((hr,ai)=>mr.setRequestHeader(hr,ai.join(","))),Qt.headers.has("Accept")||mr.setRequestHeader("Accept","application/json, text/plain, */*"),!Qt.headers.has("Content-Type")){const hr=Qt.detectContentTypeHeader();null!==hr&&mr.setRequestHeader("Content-Type",hr)}if(Qt.responseType){const hr=Qt.responseType.toLowerCase();mr.responseType="json"!==hr?hr:"text"}const li=Qt.serializeBody();let Bn=null;const dr=()=>{if(null!==Bn)return Bn;const hr=mr.statusText||"OK",ai=new te(mr.getAllResponseHeaders()),Ba=function lr(rn){return"responseURL"in rn&&rn.responseURL?rn.responseURL:/^X-Request-URL:/m.test(rn.getAllResponseHeaders())?rn.getResponseHeader("X-Request-URL"):null}(mr)||Qt.url;return Bn=new N({headers:ai,status:mr.status,statusText:hr,url:Ba}),Bn},Qn=()=>{let{headers:hr,status:ai,statusText:Ba,url:bo}=dr(),ni=null;204!==ai&&(ni=typeof mr.response>"u"?mr.responseText:mr.response),0===ai&&(ai=ni?200:0);let wr=ai>=200&&ai<300;if("json"===Qt.responseType&&"string"==typeof ni){const $r=ni;ni=ni.replace(xr,"");try{ni=""!==ni?JSON.parse(ni):null}catch(Tr){ni=$r,wr&&(wr=!1,ni={error:Tr,text:ni})}}wr?(yn.next(new ee({body:ni,headers:hr,status:ai,statusText:Ba,url:bo||void 0})),yn.complete()):yn.error(new j({error:ni,headers:hr,status:ai,statusText:Ba,url:bo||void 0}))},er=hr=>{const{url:ai}=dr(),Ba=new j({error:hr,status:mr.status||0,statusText:mr.statusText||"Unknown Error",url:ai||void 0});yn.error(Ba)};let Di=!1;const aa=hr=>{Di||(yn.next(dr()),Di=!0);let ai={type:O.DownloadProgress,loaded:hr.loaded};hr.lengthComputable&&(ai.total=hr.total),"text"===Qt.responseType&&mr.responseText&&(ai.partialText=mr.responseText),yn.next(ai)},Ui=hr=>{let ai={type:O.UploadProgress,loaded:hr.loaded};hr.lengthComputable&&(ai.total=hr.total),yn.next(ai)};return mr.addEventListener("load",Qn),mr.addEventListener("error",er),mr.addEventListener("timeout",er),mr.addEventListener("abort",er),Qt.reportProgress&&(mr.addEventListener("progress",aa),null!==li&&mr.upload&&mr.upload.addEventListener("progress",Ui)),mr.send(li),yn.next({type:O.Sent}),()=>{mr.removeEventListener("error",er),mr.removeEventListener("abort",er),mr.removeEventListener("load",Qn),mr.removeEventListener("timeout",er),Qt.reportProgress&&(mr.removeEventListener("progress",aa),null!==li&&mr.upload&&mr.upload.removeEventListener("progress",Ui)),mr.readyState!==mr.DONE&&mr.abort()}})))}static#e=this.\u0275fac=function(xn){return new(xn||rn)(T.LFG(Q.JF))};static#t=this.\u0275prov=T.Yz7({token:rn,factory:rn.\u0275fac})}return rn})();const Ft=new T.OlP("XSRF_ENABLED"),Gt=new T.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Xe=new T.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ye{}let ke=(()=>{class rn{constructor(Qt,xn,Pn){this.doc=Qt,this.platform=xn,this.cookieName=Pn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Qt=this.doc.cookie||"";return Qt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Q.Mx)(Qt,this.cookieName),this.lastCookieString=Qt),this.lastToken}static#e=this.\u0275fac=function(xn){return new(xn||rn)(T.LFG(Q.K0),T.LFG(T.Lbi),T.LFG(Gt))};static#t=this.\u0275prov=T.Yz7({token:rn,factory:rn.\u0275fac})}return rn})();function Ct(rn,st){const Qt=rn.url.toLowerCase();if(!(0,T.f3M)(Ft)||"GET"===rn.method||"HEAD"===rn.method||Qt.startsWith("http://")||Qt.startsWith("https://"))return st(rn);const xn=(0,T.f3M)(Ye).getToken(),Pn=(0,T.f3M)(Xe);return null!=xn&&!rn.headers.has(Pn)&&(rn=rn.clone({headers:rn.headers.set(Pn,xn)})),st(rn)}var Jt=function(rn){return rn[rn.Interceptors=0]="Interceptors",rn[rn.LegacyInterceptors=1]="LegacyInterceptors",rn[rn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",rn[rn.NoXsrfProtection=3]="NoXsrfProtection",rn[rn.JsonpSupport=4]="JsonpSupport",rn[rn.RequestsMadeViaParent=5]="RequestsMadeViaParent",rn[rn.Fetch=6]="Fetch",rn}(Jt||{});function ar(...rn){const st=[fe,ct,Gn,{provide:W,useExisting:Gn},{provide:re,useExisting:ct},{provide:dt,useValue:Ct,multi:!0},{provide:Ft,useValue:!0},{provide:Ye,useClass:ke}];for(const Qt of rn)st.push(...Qt.\u0275providers);return(0,T.MR2)(st)}const Gr=new T.OlP("LEGACY_INTERCEPTOR_FN");function Mn(){return function bn(rn,st){return{\u0275kind:rn,\u0275providers:st}}(Jt.LegacyInterceptors,[{provide:Gr,useFactory:Yt},{provide:dt,useExisting:Gr,multi:!0}])}let vi=(()=>{class rn{static#e=this.\u0275fac=function(xn){return new(xn||rn)};static#t=this.\u0275mod=T.oAB({type:rn});static#n=this.\u0275inj=T.cJS({providers:[ar(Mn())]})}return rn})()},9212:($t,We,C)=>{"use strict";C.d(We,{QbO:()=>ah,tb:()=>np,AFp:()=>U6,ip1:()=>T9,hGG:()=>eb,z2F:()=>Of,Ojb:()=>G6,sBO:()=>Hv,Sil:()=>yx,_Vd:()=>_0,EJc:()=>D9,Xts:()=>bs,SBq:()=>M0,lqb:()=>eo,qLn:()=>sc,vpe:()=>B4,XFs:()=>Qn,OlP:()=>ni,zs3:()=>Il,ZZ4:()=>Oh,aQg:()=>$u,soG:()=>q5,YKP:()=>o9,h0i:()=>au,R0b:()=>ds,FiY:()=>Io,Lbi:()=>g3,g9A:()=>y2,n_E:()=>og,Qsj:()=>Ah,FYo:()=>Gu,JOm:()=>_4,q3G:()=>C2,tp0:()=>as,Rgc:()=>W5,dDg:()=>_b,eoX:()=>Y_,GfV:()=>x1,s_b:()=>B2,ifc:()=>Ea,T8G:()=>Yv,VuI:()=>Ib,MMx:()=>Uy,Lck:()=>DM,eFA:()=>L9,G48:()=>fg,Gpc:()=>Xt,f3M:()=>gi,X6Q:()=>jx,$WT:()=>Zs,MR2:()=>p4,_c5:()=>qx,qFp:()=>Vb,r_H:()=>qf,rg0:()=>sl,c2e:()=>G2,zSh:()=>f3,HDt:()=>z_,wAp:()=>le,vHH:()=>ct,lri:()=>F_,rWj:()=>U_,JZr:()=>lr,EiD:()=>Ch,mCW:()=>wh,qzn:()=>m0,JVY:()=>fp,pB0:()=>gp,eBb:()=>ov,L6k:()=>vp,LAX:()=>pp,cg1:()=>m,kuF:()=>Ft,kL8:()=>D,dqk:()=>ai,Z0I:()=>Qt,eJc:()=>nc,QGY:()=>Z7,F4k:()=>jm,dwT:()=>v,RDi:()=>ih,AaK:()=>hn,z3N:()=>Oc,qOj:()=>Zv,Xq5:()=>Xp,TTD:()=>va,_Bn:()=>ky,jDz:()=>Yy,xp6:()=>R3,uIk:()=>$v,ekj:()=>$h,Suo:()=>Af,Xpm:()=>Is,lG2:()=>ho,Yz7:()=>Nr,cJS:()=>rn,oAB:()=>Dl,Yjl:()=>r1,Y36:()=>w0,_UZ:()=>B7,BQk:()=>U2,ynx:()=>c6,qZA:()=>I5,TgZ:()=>$c,EpF:()=>Vm,n5z:()=>U8,LFG:()=>Oi,$8M:()=>uu,$Z:()=>Ed,NdJ:()=>Wm,CRH:()=>s_,oxw:()=>Zm,ALo:()=>e_,lcZ:()=>j5,xi3:()=>t_,Hsn:()=>gy,F$t:()=>py,Q6J:()=>nm,DdM:()=>ng,iGM:()=>v9,MAs:()=>qm,KtG:()=>Pl,CHM:()=>W0,oJD:()=>sd,LSH:()=>ld,P3R:()=>E3,Udp:()=>Kh,d8E:()=>Y7,YNc:()=>M8,W1O:()=>ug,_uU:()=>n9,Oqu:()=>r9,hij:()=>F5,Gf:()=>o_});let T=null,ie=1;function me(s){const u=T;return T=s,u}function re(s){if((!X(s)||s.dirty)&&(s.dirty||s.lastCleanEpoch!==ie)){if(!s.producerMustRecompute(s)&&!ge(s))return s.dirty=!1,void(s.lastCleanEpoch=ie);s.producerRecomputeValue(s),s.dirty=!1,s.lastCleanEpoch=ie}}function ge(s){ce(s);for(let u=0;u<s.producerNode.length;u++){const f=s.producerNode[u],g=s.producerLastReadVersion[u];if(g!==f.version||(re(f),g!==f.version))return!0}return!1}function $(s,u){if(function U(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),ce(s),1===s.liveConsumerNode.length)for(let g=0;g<s.producerNode.length;g++)$(s.producerNode[g],s.producerIndexOfThis[g]);const f=s.liveConsumerNode.length-1;if(s.liveConsumerNode[u]=s.liveConsumerNode[f],s.liveConsumerIndexOfThis[u]=s.liveConsumerIndexOfThis[f],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,u<s.liveConsumerNode.length){const g=s.liveConsumerIndexOfThis[u],S=s.liveConsumerNode[u];ce(S),S.producerIndexOfThis[g]=u}}function X(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function ce(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let I=null;var nt=C(8645),dt=C(7394),It=C(5592),an=C(3019),Yt=C(5619),mn=C(2096),Cn=C(3020),Gn=C(4664),Wn=C(3997);function Fn(s){for(let u in s)if(s[u]===Fn)return u;throw Error("Could not find renamed property on target object.")}function Rr(s,u){for(const f in u)u.hasOwnProperty(f)&&!s.hasOwnProperty(f)&&(s[f]=u[f])}function hn(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(hn).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const u=s.toString();if(null==u)return""+u;const f=u.indexOf("\n");return-1===f?u:u.substring(0,f)}function ot(s,u){return null==s||""===s?null===u?"":u:null==u||""===u?s:s+" "+u}const Tt=Fn({__forward_ref__:Fn});function Xt(s){return s.__forward_ref__=Xt,s.toString=function(){return hn(this())},s}function Wt(s){return Dn(s)?s():s}function Dn(s){return"function"==typeof s&&s.hasOwnProperty(Tt)&&s.__forward_ref__===Xt}function Ln(s){return s&&!!s.\u0275providers}const lr="https://g.co/ng/security#xss";class ct extends Error{constructor(u,f){super(Ft(u,f)),this.code=u}}function Ft(s,u){return`NG0${Math.abs(s)}${u?": "+u:""}`}const Un=Fn({\u0275cmp:Fn}),Gt=Fn({\u0275dir:Fn}),_t=Fn({\u0275pipe:Fn}),Xe=Fn({\u0275mod:Fn}),Ye=Fn({\u0275fac:Fn}),ke=Fn({__NG_ELEMENT_ID__:Fn}),Ct=Fn({__NG_ENV_ID__:Fn});function Mt(s){return"string"==typeof s?s:null==s?"":String(s)}function on(s,u){throw new ct(-201,!1)}function pt(s,u){null==s&&function jt(s,u,f,g){throw new Error(`ASSERTION ERROR: ${s}`+(null==g?"":` [Expected=> ${f} ${g} ${u} <=Actual]`))}(u,s,null,"!=")}function Nr(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function st(s){return xn(s,mr)||xn(s,Bn)}function Qt(s){return null!==st(s)}function xn(s,u){return s.hasOwnProperty(u)?s[u]:null}function yn(s){return s&&(s.hasOwnProperty(li)||s.hasOwnProperty(dr))?s[li]:null}const mr=Fn({\u0275prov:Fn}),li=Fn({\u0275inj:Fn}),Bn=Fn({ngInjectableDef:Fn}),dr=Fn({ngInjectorDef:Fn});var Qn=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(Qn||{});let er;function Di(){return er}function aa(s){const u=er;return er=s,u}function Ui(s,u,f){const g=st(s);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:f&Qn.Optional?null:void 0!==u?u:void on(hn(s))}const ai=globalThis;class ni{constructor(u,f){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Nr({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Za={},Hr="__NG_DI_FLAG__",po="ngTempTokenPath",ps=/\n/gm,Os="__source";let Ka;function gs(s){const u=Ka;return Ka=s,u}function e1(s,u=Qn.Default){if(void 0===Ka)throw new ct(-203,!1);return null===Ka?Ui(s,void 0,u):Ka.get(s,u&Qn.Optional?null:void 0,u)}function Oi(s,u=Qn.Default){return(Di()||e1)(Wt(s),u)}function gi(s,u=Qn.Default){return Oi(s,In(u))}function In(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Cl(s){const u=[];for(let f=0;f<s.length;f++){const g=Wt(s[f]);if(Array.isArray(g)){if(0===g.length)throw new ct(900,!1);let S,R=Qn.Default;for(let ne=0;ne<g.length;ne++){const be=g[ne],Pe=js(be);"number"==typeof Pe?-1===Pe?S=be.token:R|=Pe:S=be}u.push(Oi(S,R))}else u.push(Oi(g))}return u}function Bo(s,u){return s[Hr]=u,s.prototype[Hr]=u,s}function js(s){return s[Hr]}function na(s){return{toString:s}.toString()}var Ko=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Ko||{}),Ea=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Ea||{});const ga={},Ni=[];function t1(s,u,f){let g=s.length;for(;;){const S=s.indexOf(u,f);if(-1===S)return S;if(0===S||s.charCodeAt(S-1)<=32){const R=u.length;if(S+R===g||s.charCodeAt(S+R)<=32)return S}f=S+1}}function co(s,u,f){let g=0;for(;g<f.length;){const S=f[g];if("number"==typeof S){if(0!==S)break;g++;const R=f[g++],ne=f[g++],be=f[g++];s.setAttribute(u,ne,be,R)}else{const R=S,ne=f[++g];n1(R)?s.setProperty(u,R,ne):s.setAttribute(u,R,ne),g++}}return g}function D1(s){return 3===s||4===s||6===s}function n1(s){return 64===s.charCodeAt(0)}function Tl(s,u){if(null!==u&&0!==u.length)if(null===s||0===s.length)s=u.slice();else{let f=-1;for(let g=0;g<u.length;g++){const S=u[g];"number"==typeof S?f=S:0===f||ul(s,f,S,null,-1===f||2===f?u[++g]:null)}}return s}function ul(s,u,f,g,S){let R=0,ne=s.length;if(-1===u)ne=-1;else for(;R<s.length;){const be=s[R++];if("number"==typeof be){if(be===u){ne=-1;break}if(be>u){ne=R-1;break}}}for(;R<s.length;){const be=s[R];if("number"==typeof be)break;if(be===f){if(null===g)return void(null!==S&&(s[R+1]=S));if(g===s[R+1])return void(s[R+2]=S)}R++,null!==g&&R++,null!==S&&R++}-1!==ne&&(s.splice(ne,0,u),R=ne+1),s.splice(R++,0,f),null!==g&&s.splice(R++,0,g),null!==S&&s.splice(R++,0,S)}const Ut="ng-template";function dn(s,u,f){let g=0,S=!0;for(;g<s.length;){let R=s[g++];if("string"==typeof R&&S){const ne=s[g++];if(f&&"class"===R&&-1!==t1(ne.toLowerCase(),u,0))return!0}else{if(1===R){for(;g<s.length&&"string"==typeof(R=s[g++]);)if(R.toLowerCase()===u)return!0;return!1}"number"==typeof R&&(S=!1)}}return!1}function Ze(s){return 4===s.type&&s.value!==Ut}function yt(s,u,f){return u===(4!==s.type||f?s.value:Ut)}function Lt(s,u,f){let g=4;const S=s.attrs||[],R=function ma(s){for(let u=0;u<s.length;u++)if(D1(s[u]))return u;return s.length}(S);let ne=!1;for(let be=0;be<u.length;be++){const Pe=u[be];if("number"!=typeof Pe){if(!ne)if(4&g){if(g=2|1&g,""!==Pe&&!yt(s,Pe,f)||""===Pe&&1===u.length){if(En(g))return!1;ne=!0}}else{const Ke=8&g?Pe:u[++be];if(8&g&&null!==s.attrs){if(!dn(s.attrs,Ke,f)){if(En(g))return!1;ne=!0}continue}const zt=Ir(8&g?"class":Pe,S,Ze(s),f);if(-1===zt){if(En(g))return!1;ne=!0;continue}if(""!==Ke){let cn;cn=zt>R?"":S[zt+1].toLowerCase();const pn=8&g?cn:null;if(pn&&-1!==t1(pn,Ke,0)||2&g&&Ke!==cn){if(En(g))return!1;ne=!0}}}}else{if(!ne&&!En(g)&&!En(Pe))return!1;if(ne&&En(Pe))continue;ne=!1,g=Pe|1&g}}return En(g)||ne}function En(s){return 0==(1&s)}function Ir(s,u,f,g){if(null===u)return-1;let S=0;if(g||!f){let R=!1;for(;S<u.length;){const ne=u[S];if(ne===s)return S;if(3===ne||6===ne)R=!0;else{if(1===ne||2===ne){let be=u[++S];for(;"string"==typeof be;)be=u[++S];continue}if(4===ne)break;if(0===ne){S+=4;continue}}S+=R?1:2}return-1}return function ts(s,u){let f=s.indexOf(4);if(f>-1)for(f++;f<s.length;){const g=s[f];if("number"==typeof g)return-1;if(g===u)return f;f++}return-1}(u,s)}function hi(s,u,f=!1){for(let g=0;g<u.length;g++)if(Lt(s,u[g],f))return!0;return!1}function Lo(s,u){e:for(let f=0;f<u.length;f++){const g=u[f];if(s.length===g.length){for(let S=0;S<s.length;S++)if(s[S]!==g[S])continue e;return!0}}return!1}function ko(s,u){return s?":not("+u.trim()+")":u}function hl(s){let u=s[0],f=1,g=2,S="",R=!1;for(;f<s.length;){let ne=s[f];if("string"==typeof ne)if(2&g){const be=s[++f];S+="["+ne+(be.length>0?'="'+be+'"':"")+"]"}else 8&g?S+="."+ne:4&g&&(S+=" "+ne);else""!==S&&!En(ne)&&(u+=ko(R,S),S=""),g=ne,R=R||!En(g);f++}return""!==S&&(u+=ko(R,S)),u}function Is(s){return na(()=>{const u=Ks(s),f={...u,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Ko.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Ea.Emulated,styles:s.styles||Ni,_:null,schemas:s.schemas||null,tView:null,id:""};rs(f);const g=s.dependencies;return f.directiveDefs=El(g,!1),f.pipeDefs=El(g,!0),f.id=function gc(s){let u=0;const f=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const S of f)u=Math.imul(31,u)+S.charCodeAt(0)<<0;return u+=2147483648,"c"+u}(f),f})}function $a(s){return Vi(s)||La(s)}function uo(s){return null!==s}function Dl(s){return na(()=>({type:s.type,bootstrap:s.bootstrap||Ni,declarations:s.declarations||Ni,imports:s.imports||Ni,exports:s.exports||Ni,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ns(s,u){if(null==s)return ga;const f={};for(const g in s)if(s.hasOwnProperty(g)){let S=s[g],R=S;Array.isArray(S)&&(R=S[1],S=S[0]),f[S]=g,u&&(u[S]=R)}return f}function ho(s){return na(()=>{const u=Ks(s);return rs(u),u})}function r1(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Vi(s){return s[Un]||null}function La(s){return s[Gt]||null}function ro(s){return s[_t]||null}function Zs(s){const u=Vi(s)||La(s)||ro(s);return null!==u&&u.standalone}function Xa(s,u){const f=s[Xe]||null;if(!f&&!0===u)throw new Error(`Type ${hn(s)} does not have '\u0275mod' property.`);return f}function Ks(s){const u={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:s.inputs||ga,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Ni,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ns(s.inputs,u),outputs:ns(s.outputs),debugInfo:null}}function rs(s){s.features?.forEach(u=>u(s))}function El(s,u){if(!s)return null;const f=u?ro:$a;return()=>("function"==typeof s?s():s).map(g=>f(g)).filter(uo)}const za=0,Or=1,_i=2,Ii=3,ys=4,wo=5,Rs=6,Vs=7,Mi=8,Oo=9,zl=10,bi=11,Nl=12,Qc=13,a1=14,Ra=15,o1=16,$s=17,mo=18,_s=19,mc=20,Hs=21,Xs=22,Qs=23,Vr=25,s1=1,E1=2,yc=6,Ms=7,dl=9,gt=11;function rt(s){return Array.isArray(s)&&"object"==typeof s[s1]}function mt(s){return Array.isArray(s)&&!0===s[s1]}function Dt(s){return 0!=(4&s.flags)}function Bt(s){return s.componentOffset>-1}function ln(s){return 1==(1&s.flags)}function Kn(s){return!!s.template}function Yn(s){return 0!=(512&s[_i])}function Fa(s,u){return s.hasOwnProperty(Ye)?s[Ye]:null}class xa{constructor(u,f,g){this.previousValue=u,this.currentValue=f,this.firstChange=g}isFirstChange(){return this.firstChange}}function va(){return Bl}function Bl(s){return s.type.prototype.ngOnChanges&&(s.setInput=xs),fl}function fl(){const s=X1(this),u=s?.current;if(u){const f=s.previous;if(f===ga)s.previous=u;else for(let g in u)f[g]=u[g];s.current=null,this.ngOnChanges(u)}}function xs(s,u,f,g){const S=this.declaredInputs[f],R=X1(s)||function X4(s,u){return s[vl]=u}(s,{previous:ga,current:null}),ne=R.current||(R.current={}),be=R.previous,Pe=be[S];ne[S]=new xa(Pe&&Pe.currentValue,u,be===ga),s[g]=u}va.ngInherit=!0;const vl="__ngSimpleChanges__";function X1(s){return s[vl]||null}const pl=function(s,u,f){};function ba(s){for(;Array.isArray(s);)s=s[za];return s}function gl(s,u){return ba(u[s])}function Ua(s,u){return ba(u[s.index])}function e4(s,u){return s.data[u]}function Ji(s,u){return s[u]}function Jr(s,u){const f=u[s];return rt(f)?f:f[za]}function Js(s){return 128==(128&s[_i])}function ml(s,u){return null==u?null:s[u]}function Al(s){s[$s]=0}function J4(s){1024&s[_i]||(s[_i]|=1024,Js(s)&&c1(s))}function Q1(s){9216&s[_i]&&c1(s)}function c1(s){let u=s[Ii];for(;null!==u&&!(mt(u)&&u[yc]||rt(u)&&8192&u[_i]);){if(mt(u))u[yc]=!0;else if(u[_i]|=8192,!Js(u))break;u=u[Ii]}}function qs(s,u){if(256==(256&s[_i]))throw new ct(911,!1);null===s[Hs]&&(s[Hs]=[]),s[Hs].push(u)}const zi={lFrame:Pi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Z2(){return zi.bindingsEnabled}function e2(){return null!==zi.skipHydrationRootTNode}function rr(){return zi.lFrame.lView}function ya(){return zi.lFrame.tView}function W0(s){return zi.lFrame.contextLView=s,s[Mi]}function Pl(s){return zi.lFrame.contextLView=null,s}function Ca(){let s=n4();for(;null!==s&&64===s.type;)s=s.parent;return s}function n4(){return zi.lFrame.currentTNode}function kl(s,u){const f=zi.lFrame;f.currentTNode=s,f.isParent=u}function Z0(){return zi.lFrame.isParent}function n2(){zi.lFrame.isParent=!1}function Bs(){const s=zi.lFrame;let u=s.bindingRootIndex;return-1===u&&(u=s.bindingRootIndex=s.tView.bindingStartIndex),u}function Ll(){return zi.lFrame.bindingIndex++}function Te(s,u){const f=zi.lFrame;f.bindingIndex=f.bindingRootIndex=s,Ee(u)}function Ee(s){zi.lFrame.currentDirectiveIndex=s}function Be(s){const u=zi.lFrame.currentDirectiveIndex;return-1===u?null:s[u]}function tt(){return zi.lFrame.currentQueryIndex}function bt(s){zi.lFrame.currentQueryIndex=s}function Zt(s){const u=s[Or];return 2===u.type?u.declTNode:1===u.type?s[wo]:null}function kn(s,u,f){if(f&Qn.SkipSelf){let S=u,R=s;for(;!(S=S.parent,null!==S||f&Qn.Host||(S=Zt(R),null===S||(R=R[a1],10&S.type))););if(null===S)return!1;u=S,s=R}const g=zi.lFrame=Ur();return g.currentTNode=u,g.lView=s,!0}function Vn(s){const u=Ur(),f=s[Or];zi.lFrame=u,u.currentTNode=f.firstChild,u.lView=s,u.tView=f,u.contextLView=s,u.bindingIndex=f.bindingStartIndex,u.inI18n=!1}function Ur(){const s=zi.lFrame,u=null===s?null:s.child;return null===u?Pi(s):u}function Pi(s){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=u),u}function qi(){const s=zi.lFrame;return zi.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ao=qi;function wc(){const s=qi();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function So(){return zi.lFrame.selectedIndex}function Fl(s){zi.lFrame.selectedIndex=s}function Aa(){const s=zi.lFrame;return e4(s.tView,s.selectedIndex)}let Ul=!0;function $0(){return Ul}function r4(s){Ul=s}function X0(s,u){for(let f=u.directiveStart,g=u.directiveEnd;f<g;f++){const R=s.data[f].type.prototype,{ngAfterContentInit:ne,ngAfterContentChecked:be,ngAfterViewInit:Pe,ngAfterViewChecked:Ke,ngOnDestroy:ht}=R;ne&&(s.contentHooks??=[]).push(-f,ne),be&&((s.contentHooks??=[]).push(f,be),(s.contentCheckHooks??=[]).push(f,be)),Pe&&(s.viewHooks??=[]).push(-f,Pe),Ke&&((s.viewHooks??=[]).push(f,Ke),(s.viewCheckHooks??=[]).push(f,Ke)),null!=ht&&(s.destroyHooks??=[]).push(f,ht)}}function cu(s,u,f){b6(s,u,3,f)}function q1(s,u,f,g){(3&s[_i])===f&&b6(s,u,f,g)}function X2(s,u){let f=s[_i];(3&f)===u&&(f&=16383,f+=1,s[_i]=f)}function b6(s,u,f,g){const R=g??-1,ne=u.length-1;let be=0;for(let Pe=void 0!==g?65535&s[$s]:0;Pe<ne;Pe++)if("number"==typeof u[Pe+1]){if(be=u[Pe],null!=g&&be>=g)break}else u[Pe]<0&&(s[$s]+=65536),(be<R||-1==R)&&(a2(s,f,u,Pe),s[$s]=(4294901760&s[$s])+Pe+2),Pe++}function w6(s,u){pl(4,s,u);const f=me(null);try{u.call(s)}finally{me(f),pl(5,s,u)}}function a2(s,u,f,g){const S=f[g]<0,R=f[g+1],be=s[S?-f[g]:f[g]];S?s[_i]>>14<s[$s]>>16&&(3&s[_i])===u&&(s[_i]+=16384,w6(be,R)):w6(be,R)}const a4=-1;class Q2{constructor(u,f,g){this.factory=u,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=g}}function H8(s){return s!==a4}function o2(s){return 32767&s}function o4(s,u){let f=function nl(s){return s>>16}(s),g=u;for(;f>0;)g=g[a1],f--;return g}let q0=!0;function e3(s){const u=q0;return q0=s,u}const Ol=255,Sc=5;let kf=0;const d1={};function s2(s,u){const f=l4(s,u);if(-1!==f)return f;const g=u[Or];g.firstCreatePass&&(s.injectorIndex=u.length,s4(g.data,s),s4(u,null),s4(g.blueprint,null));const S=J2(s,u),R=s.injectorIndex;if(H8(S)){const ne=o2(S),be=o4(S,u),Pe=be[Or].data;for(let Ke=0;Ke<8;Ke++)u[R+Ke]=be[ne+Ke]|Pe[ne+Ke]}return u[R+8]=S,R}function s4(s,u){s.push(0,0,0,0,0,0,0,0,u)}function l4(s,u){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===u[s.injectorIndex+8]?-1:s.injectorIndex}function J2(s,u){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let f=0,g=null,S=u;for(;null!==S;){if(g=G8(S),null===g)return a4;if(f++,S=S[a1],-1!==g.injectorIndex)return g.injectorIndex|f<<16}return a4}function B8(s,u,f){!function N8(s,u,f){let g;"string"==typeof f?g=f.charCodeAt(0)||0:f.hasOwnProperty(ke)&&(g=f[ke]),null==g&&(g=f[ke]=kf++);const S=g&Ol;u.data[s+(S>>Sc)]|=1<<S}(s,u,f)}function C6(s,u,f){if(f&Qn.Optional||void 0!==s)return s;on()}function e0(s,u,f,g){if(f&Qn.Optional&&void 0===g&&(g=null),!(f&(Qn.Self|Qn.Host))){const S=s[Oo],R=aa(void 0);try{return S?S.get(u,g,f&Qn.Optional):Ui(u,g,f&Qn.Optional)}finally{aa(R)}}return C6(g,0,f)}function k8(s,u,f,g=Qn.Default,S){if(null!==s){if(2048&u[_i]&&!(g&Qn.Self)){const ne=function Y8(s,u,f,g,S){let R=s,ne=u;for(;null!==R&&null!==ne&&2048&ne[_i]&&!(512&ne[_i]);){const be=T6(R,ne,f,g|Qn.Self,d1);if(be!==d1)return be;let Pe=R.parent;if(!Pe){const Ke=ne[mc];if(Ke){const ht=Ke.get(f,d1,g);if(ht!==d1)return ht}Pe=G8(ne),ne=ne[a1]}R=Pe}return S}(s,u,f,g,d1);if(ne!==d1)return ne}const R=T6(s,u,f,g,d1);if(R!==d1)return R}return e0(u,f,g,S)}function T6(s,u,f,g,S){const R=function t3(s){if("string"==typeof s)return s.charCodeAt(0)||0;const u=s.hasOwnProperty(ke)?s[ke]:void 0;return"number"==typeof u?u>=0?u&Ol:f1:u}(f);if("function"==typeof R){if(!kn(u,s,g))return g&Qn.Host?C6(S,0,g):e0(u,f,g,S);try{let ne;if(ne=R(g),null!=ne||g&Qn.Optional)return ne;on()}finally{ao()}}else if("number"==typeof R){let ne=null,be=l4(s,u),Pe=a4,Ke=g&Qn.Host?u[Ra][wo]:null;for((-1===be||g&Qn.SkipSelf)&&(Pe=-1===be?J2(s,u):u[be+8],Pe!==a4&&E6(g,!1)?(ne=u[Or],be=o2(Pe),u=o4(Pe,u)):be=-1);-1!==be;){const ht=u[Or];if(F8(R,be,ht.data)){const zt=D6(be,u,f,ne,g,Ke);if(zt!==d1)return zt}Pe=u[be+8],Pe!==a4&&E6(g,u[Or].data[be+8]===Ke)&&F8(R,be,u)?(ne=ht,be=o2(Pe),u=o4(Pe,u)):be=-1}}return S}function D6(s,u,f,g,S,R){const ne=u[Or],be=ne.data[s+8],ht=ec(be,ne,f,null==g?Bt(be)&&q0:g!=ne&&0!=(3&be.type),S&Qn.Host&&R===be);return null!==ht?tc(u,ne,ht,be):d1}function ec(s,u,f,g,S){const R=s.providerIndexes,ne=u.data,be=1048575&R,Pe=s.directiveStart,ht=R>>20,cn=S?be+ht:s.directiveEnd;for(let pn=g?be:be+ht;pn<cn;pn++){const tr=ne[pn];if(pn<Pe&&f===tr||pn>=Pe&&tr.type===f)return pn}if(S){const pn=ne[Pe];if(pn&&Kn(pn)&&pn.type===f)return Pe}return null}function tc(s,u,f,g){let S=s[f];const R=u.data;if(function A1(s){return s instanceof Q2}(S)){const ne=S;ne.resolving&&function Ar(s,u){const f=u?`. Dependency path: ${u.join(" > ")} > ${s}`:"";throw new ct(-200,`Circular dependency in DI detected for ${s}${f}`)}(function Jt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Mt(s)}(R[f]));const be=e3(ne.canSeeViewProviders);ne.resolving=!0;const Ke=ne.injectImpl?aa(ne.injectImpl):null;kn(s,g,Qn.Default);try{S=s[f]=ne.factory(void 0,R,s,g),u.firstCreatePass&&f>=g.directiveStart&&function yo(s,u,f){const{ngOnChanges:g,ngOnInit:S,ngDoCheck:R}=u.type.prototype;if(g){const ne=Bl(u);(f.preOrderHooks??=[]).push(s,ne),(f.preOrderCheckHooks??=[]).push(s,ne)}S&&(f.preOrderHooks??=[]).push(0-s,S),R&&((f.preOrderHooks??=[]).push(s,R),(f.preOrderCheckHooks??=[]).push(s,R))}(f,R[f],u)}finally{null!==Ke&&aa(Ke),e3(be),ne.resolving=!1,ao()}}return S}function F8(s,u,f){return!!(f[u+(s>>Sc)]&1<<s)}function E6(s,u){return!(s&Qn.Self||s&Qn.Host&&u)}class $o{constructor(u,f){this._tNode=u,this._lView=f}get(u,f,g){return k8(this._tNode,this._lView,u,In(g),f)}}function f1(){return new $o(Ca(),rr())}function U8(s){return na(()=>{const u=s.prototype.constructor,f=u[Ye]||rl(u),g=Object.prototype;let S=Object.getPrototypeOf(s.prototype).constructor;for(;S&&S!==g;){const R=S[Ye]||rl(S);if(R&&R!==f)return R;S=Object.getPrototypeOf(S)}return R=>new R})}function rl(s){return Dn(s)?()=>{const u=rl(Wt(s));return u&&u()}:Fa(s)}function G8(s){const u=s[Or],f=u.type;return 2===f?u.declTNode:1===f?s[wo]:null}function uu(s){return function q2(s,u){if("class"===u)return s.classes;if("style"===u)return s.styles;const f=s.attrs;if(f){const g=f.length;let S=0;for(;S<g;){const R=f[S];if(D1(R))break;if(0===R)S+=2;else if("number"==typeof R)for(S++;S<g&&"string"==typeof f[S];)S++;else{if(R===u)return f[S+1];S+=2}}}return null}(Ca(),s)}const r3="__parameters__";function t0(s,u,f){return na(()=>{const g=function a3(s){return function(...f){if(s){const g=s(...f);for(const S in g)this[S]=g[S]}}}(u);function S(...R){if(this instanceof S)return g.apply(this,R),this;const ne=new S(...R);return be.annotation=ne,be;function be(Pe,Ke,ht){const zt=Pe.hasOwnProperty(r3)?Pe[r3]:Object.defineProperty(Pe,r3,{value:[]})[r3];for(;zt.length<=ht;)zt.push(null);return(zt[ht]=zt[ht]||[]).push(ne),Pe}}return f&&(S.prototype=Object.create(f.prototype)),S.prototype.ngMetadataName=s,S.annotationCls=S,S})}function Cc(s,u){s.forEach(f=>Array.isArray(f)?Cc(f,u):u(f))}function L6(s,u,f){u>=s.length?s.push(f):s.splice(u,0,f)}function hu(s,u){return u>=s.length-1?s.pop():s.splice(u,1)[0]}function o3(s,u){const f=[];for(let g=0;g<s;g++)f.push(u);return f}function ks(s,u,f){let g=d4(s,u);return g>=0?s[1|g]=f:(g=~g,function O6(s,u,f,g){let S=s.length;if(S==u)s.push(f,g);else if(1===S)s.push(g,s[0]),s[0]=f;else{for(S--,s.push(s[S-1],s[S]);S>u;)s[S]=s[S-2],S--;s[u]=f,s[u+1]=g}}(s,g,u,f)),g}function L1(s,u){const f=d4(s,u);if(f>=0)return s[1|f]}function d4(s,u){return function s3(s,u,f){let g=0,S=s.length>>f;for(;S!==g;){const R=g+(S-g>>1),ne=s[R<<f];if(u===ne)return R<<f;ne>u?S=R:g=R+1}return~(S<<f)}(s,u,1)}const Io=Bo(t0("Optional"),8),as=Bo(t0("SkipSelf"),4),bs=new ni("ENVIRONMENT_INITIALIZER"),vu=new ni("INJECTOR",-1),f2=new ni("INJECTOR_DEF_TYPES");class a0{get(u,f=Za){if(f===Za){const g=new Error(`NullInjectorError: No provider for ${hn(u)}!`);throw g.name="NullInjectorError",g}return f}}function p4(s){return{\u0275providers:s}}function pu(...s){return{\u0275providers:Tc(0,s),\u0275fromNgModule:!0}}function Tc(s,...u){const f=[],g=new Set;let S;const R=ne=>{f.push(ne)};return Cc(u,ne=>{const be=ne;v2(be,R,[],g)&&(S||=[],S.push(be))}),void 0!==S&&v1(S,R),f}function v1(s,u){for(let f=0;f<s.length;f++){const{ngModule:g,providers:S}=s[f];g4(S,R=>{u(R,g)})}}function v2(s,u,f,g){if(!(s=Wt(s)))return!1;let S=null,R=yn(s);const ne=!R&&Vi(s);if(R||ne){if(ne&&!ne.standalone)return!1;S=s}else{const Pe=s.ngModule;if(R=yn(Pe),!R)return!1;S=Pe}const be=g.has(S);if(ne){if(be)return!1;if(g.add(S),ne.dependencies){const Pe="function"==typeof ne.dependencies?ne.dependencies():ne.dependencies;for(const Ke of Pe)v2(Ke,u,f,g)}}else{if(!R)return!1;{if(null!=R.imports&&!be){let Ke;g.add(S);try{Cc(R.imports,ht=>{v2(ht,u,f,g)&&(Ke||=[],Ke.push(ht))})}finally{}void 0!==Ke&&v1(Ke,u)}if(!be){const Ke=Fa(S)||(()=>new S);u({provide:S,useFactory:Ke,deps:Ni},S),u({provide:f2,useValue:S,multi:!0},S),u({provide:bs,useValue:()=>Oi(S),multi:!0},S)}const Pe=R.providers;if(null!=Pe&&!be){const Ke=s;g4(Pe,ht=>{u(ht,Ke)})}}}return S!==s&&void 0!==s.providers}function g4(s,u){for(let f of s)Ln(f)&&(f=f.\u0275providers),Array.isArray(f)?g4(f,u):u(f)}const o0=Fn({provide:String,useValue:Fn});function d3(s){return null!==s&&"object"==typeof s&&o0 in s}function p2(s){return"function"==typeof s}const f3=new ni("Set Injector scope."),mu={},Jf={};let yl;function O1(){return void 0===yl&&(yl=new a0),yl}class eo{}class p1 extends eo{get destroyed(){return this._destroyed}constructor(u,f,g,S){super(),this.parent=f,this.source=g,this.scopes=S,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yu(u,ne=>this.processProvider(ne)),this.records.set(vu,ws(void 0,this)),S.has("environment")&&this.records.set(eo,ws(void 0,this));const R=this.records.get(f3);null!=R&&"string"==typeof R.value&&this.scopes.add(R.value),this.injectorDefTypes=new Set(this.get(f2,Ni,Qn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of u)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const f=gs(this),g=aa(void 0);try{return u()}finally{gs(f),aa(g)}}get(u,f=Za,g=Qn.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(Ct))return u[Ct](this);g=In(g);const R=gs(this),ne=aa(void 0);try{if(!(g&Qn.SkipSelf)){let Pe=this.records.get(u);if(void 0===Pe){const Ke=function q8(s){return"function"==typeof s||"object"==typeof s&&s instanceof ni}(u)&&st(u);Pe=Ke&&this.injectableDefInScope(Ke)?ws(Bi(u),mu):null,this.records.set(u,Pe)}if(null!=Pe)return this.hydrate(u,Pe)}return(g&Qn.Self?O1():this.parent).get(u,f=g&Qn.Optional&&f===Za?null:f)}catch(be){if("NullInjectorError"===be.name){if((be[po]=be[po]||[]).unshift(hn(u)),R)throw be;return function ms(s,u,f,g){const S=s[po];throw u[Os]&&S.unshift(u[Os]),s.message=function Ia(s,u,f,g=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let S=hn(u);if(Array.isArray(u))S=u.map(hn).join(" -> ");else if("object"==typeof u){let R=[];for(let ne in u)if(u.hasOwnProperty(ne)){let be=u[ne];R.push(ne+":"+("string"==typeof be?JSON.stringify(be):hn(be)))}S=`{${R.join(", ")}}`}return`${f}${g?"("+g+")":""}[${S}]: ${s.replace(ps,"\n  ")}`}("\n"+s.message,S,f,g),s.ngTokenPath=S,s[po]=null,s}(be,u,"R3InjectorError",this.source)}throw be}finally{aa(ne),gs(R)}}resolveInjectorInitializers(){const u=gs(this),f=aa(void 0);try{const S=this.get(bs,Ni,Qn.Self);for(const R of S)R()}finally{gs(u),aa(f)}}toString(){const u=[],f=this.records;for(const g of f.keys())u.push(hn(g));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(u){let f=p2(u=Wt(u))?u:Wt(u&&u.provide);const g=function Xi(s){return d3(s)?ws(void 0,s.useValue):ws(J8(s),mu)}(u);if(p2(u)||!0!==u.multi)this.records.get(f);else{let S=this.records.get(f);S||(S=ws(void 0,mu,!0),S.factory=()=>Cl(S.multi),this.records.set(f,S)),f=u,S.multi.push(u)}this.records.set(f,g)}hydrate(u,f){return f.value===mu&&(f.value=Jf,f.value=f.factory()),"object"==typeof f.value&&f.value&&function v3(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(u){if(!u.providedIn)return!1;const f=Wt(u.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(u){const f=this._onDestroyHooks.indexOf(u);-1!==f&&this._onDestroyHooks.splice(f,1)}}function Bi(s){const u=st(s),f=null!==u?u.factory:Fa(s);if(null!==f)return f;if(s instanceof ni)throw new ct(204,!1);if(s instanceof Function)return function pi(s){const u=s.length;if(u>0)throw o3(u,"?"),new ct(204,!1);const f=function Pn(s){return s&&(s[mr]||s[Bn])||null}(s);return null!==f?()=>f.factory(s):()=>new s}(s);throw new ct(204,!1)}function J8(s,u,f){let g;if(p2(s)){const S=Wt(s);return Fa(S)||Bi(S)}if(d3(s))g=()=>Wt(s.useValue);else if(function V6(s){return!(!s||!s.useFactory)}(s))g=()=>s.useFactory(...Cl(s.deps||[]));else if(function Q8(s){return!(!s||!s.useExisting)}(s))g=()=>Oi(Wt(s.useExisting));else{const S=Wt(s&&(s.useClass||s.provide));if(!function H6(s){return!!s.deps}(s))return Fa(S)||Bi(S);g=()=>new S(...Cl(s.deps))}return g}function ws(s,u,f=!1){return{factory:s,value:u,multi:f?[]:void 0}}function yu(s,u){for(const f of s)Array.isArray(f)?yu(f,u):f&&Ln(f)?yu(f.\u0275providers,u):u(f)}function qf(s,u){s instanceof p1&&s.assertNotDestroyed();const g=gs(s),S=aa(void 0);try{return u()}finally{gs(g),aa(S)}}function B6(s,u=null,f=null,g){const S=rh(s,u,f,g);return S.resolveInjectorInitializers(),S}function rh(s,u=null,f=null,g,S=new Set){const R=[f||Ni,pu(s)];return g=g||("object"==typeof s?void 0:hn(s)),new p1(R,u||O1(),g||null,S)}let m2,Il=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=Za;static#t=this.NULL=new a0;static create(f,g){if(Array.isArray(f))return B6({name:""},g,f,"");{const S=f.name??"";return B6({name:S},f.parent,f.providers,S)}}static#n=this.\u0275prov=Nr({token:s,providedIn:"any",factory:()=>Oi(vu)});static#r=this.__NG_ELEMENT_ID__=-1}return s})();function nc(s){return!!Xa(s)}function ih(s){m2=s}function Dc(){if(void 0!==m2)return m2;if(typeof document<"u")return document;throw new ct(210,!1)}const U6=new ni("AppId",{providedIn:"root",factory:()=>Y6}),Y6="ng",y2=new ni("Platform Initializer"),g3=new ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ah=new ni("AnimationModuleType"),G6=new ni("CSP nonce",{providedIn:"root",factory:()=>Dc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ua(s){return s instanceof Function?s():s}function m1(s){return 128==(128&s.flags)}var _4=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(_4||{});const ac=/^>|^->|<!--|-->|--!>|<!-$/g,_3=/(<|>)/g,bu="\u200b$1\u200b";const cs=new Map;let iv=0;const ea="__ngContext__";function ri(s,u){rt(u)?(s[ea]=u[_s],function Gl(s){cs.set(s[_s],s)}(u)):s[ea]=u}let x4;function Tu(s,u){return x4(s,u)}function jl(s){const u=s[Ii];return mt(u)?u[Ii]:u}function M2(s){return y1(s[Nl])}function Ec(s){return y1(s[ys])}function y1(s){for(;null!==s&&!mt(s);)s=s[ys];return s}function _1(s,u,f,g,S){if(null!=g){let R,ne=!1;mt(g)?R=g:rt(g)&&(ne=!0,g=g[za]);const be=ba(g);0===s&&null!==f?null==S?d0(u,f,be):Wl(u,f,be,S||null,!0):1===s&&null!==f?Wl(u,f,be,S||null,!0):2===s?function S2(s,u,f){const g=f0(s,u);g&&function gh(s,u,f,g){s.removeChild(u,f,g)}(s,g,u,f)}(u,be,ne):3===s&&u.destroyNode(be),null!=R&&function yh(s,u,f,g,S){const R=f[Ms];R!==ba(f)&&_1(u,s,g,R,S);for(let be=gt;be<f.length;be++){const Pe=f[be];D4(Pe[Or],Pe,s,u,g,R)}}(u,s,R,f,S)}}function il(s,u){return s.createComment(function ls(s){return s.replace(ac,u=>u.replace(_3,bu))}(u))}function w4(s,u,f){return s.createElement(u,f)}function b3(s,u){const f=s[dl],g=f.indexOf(u);f.splice(g,1)}function C4(s,u){if(s.length<=gt)return;const f=gt+u,g=s[f];if(g){const S=g[o1];null!==S&&S!==s&&b3(S,g),u>0&&(s[f-1][ys]=g[ys]);const R=hu(s,gt+u);!function S4(s,u){D4(s,u,u[bi],2,null,null),u[za]=null,u[wo]=null}(g[Or],g);const ne=R[mo];null!==ne&&ne.detachView(R[Or]),g[Ii]=null,g[ys]=null,g[_i]&=-129}return g}function fo(s,u){if(!(256&u[_i])){const f=u[bi];u[Qs]&&function K(s){if(ce(s),X(s))for(let u=0;u<s.producerNode.length;u++)$(s.producerNode[u],s.producerIndexOfThis[u]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}(u[Qs]),f.destroyNode&&D4(s,u,f,3,null,null),function x3(s){let u=s[Nl];if(!u)return Du(s[Or],s);for(;u;){let f=null;if(rt(u))f=u[Nl];else{const g=u[gt];g&&(f=g)}if(!f){for(;u&&!u[ys]&&u!==s;)rt(u)&&Du(u[Or],u),u=u[Ii];null===u&&(u=s),rt(u)&&Du(u[Or],u),f=u&&u[ys]}u=f}}(u)}}function Du(s,u){if(!(256&u[_i])){u[_i]&=-129,u[_i]|=256,function zu(s,u){let f;if(null!=s&&null!=(f=s.destroyHooks))for(let g=0;g<f.length;g+=2){const S=u[f[g]];if(!(S instanceof Q2)){const R=f[g+1];if(Array.isArray(R))for(let ne=0;ne<R.length;ne+=2){const be=S[R[ne]],Pe=R[ne+1];pl(4,be,Pe);try{Pe.call(be)}finally{pl(5,be,Pe)}}else{pl(4,S,R);try{R.call(S)}finally{pl(5,S,R)}}}}}(s,u),function Eu(s,u){const f=s.cleanup,g=u[Vs];if(null!==f)for(let R=0;R<f.length-1;R+=2)if("string"==typeof f[R]){const ne=f[R+3];ne>=0?g[ne]():g[-ne].unsubscribe(),R+=2}else f[R].call(g[f[R+1]]);null!==g&&(u[Vs]=null);const S=u[Hs];if(null!==S){u[Hs]=null;for(let R=0;R<S.length;R++)(0,S[R])()}}(s,u),1===u[Or].type&&u[bi].destroy();const f=u[o1];if(null!==f&&mt(u[Ii])){f!==u[Ii]&&b3(f,u);const g=u[mo];null!==g&&g.detachView(s)}!function dh(s){cs.delete(s[_s])}(u)}}function x2(s,u,f){return function Au(s,u,f){let g=u;for(;null!==g&&40&g.type;)g=(u=g).parent;if(null===g)return f[za];{const{componentOffset:S}=g;if(S>-1){const{encapsulation:R}=s.data[g.directiveStart+S];if(R===Ea.None||R===Ea.Emulated)return null}return Ua(g,f)}}(s,u.parent,f)}function Wl(s,u,f,g,S){s.insertBefore(u,f,g,S)}function d0(s,u,f){s.appendChild(u,f)}function T4(s,u,f,g,S){null!==g?Wl(s,u,f,g,S):d0(s,u,f)}function f0(s,u){return s.parentNode(u)}function w3(s,u,f){return q6(s,u,f)}let oc,A4,g0,q6=function b2(s,u,f){return 40&s.type?Ua(s,f):null};function w2(s,u,f,g){const S=x2(s,g,u),R=u[bi],be=w3(g.parent||u[wo],g,u);if(null!=S)if(Array.isArray(f))for(let Pe=0;Pe<f.length;Pe++)T4(R,S,f[Pe],be,!1);else T4(R,S,f,be,!1);void 0!==oc&&oc(R,g,u,f,S)}function v0(s,u){if(null!==u){const f=u.type;if(3&f)return Ua(u,s);if(4&f)return Ac(-1,s[u.index]);if(8&f){const g=u.child;if(null!==g)return v0(s,g);{const S=s[u.index];return mt(S)?Ac(-1,S):ba(S)}}if(32&f)return Tu(u,s)()||ba(s[u.index]);{const g=p0(s,u);return null!==g?Array.isArray(g)?g[0]:v0(jl(s[Ra]),g):v0(s,u.next)}}return null}function p0(s,u){return null!==u?s[Ra][wo].projection[u.projection]:null}function Ac(s,u){const f=gt+s+1;if(f<u.length){const g=u[f],S=g[Or].firstChild;if(null!==S)return v0(g,S)}return u[Ms]}function jo(s,u,f,g,S,R,ne){for(;null!=f;){const be=g[f.index],Pe=f.type;if(ne&&0===u&&(be&&ri(ba(be),g),f.flags|=2),32!=(32&f.flags))if(8&Pe)jo(s,u,f.child,g,S,R,!1),_1(u,s,S,be,R);else if(32&Pe){const Ke=Tu(f,g);let ht;for(;ht=Ke();)_1(u,s,S,ht,R);_1(u,s,S,be,R)}else 16&Pe?Lu(s,u,g,f,S,R):_1(u,s,S,be,R);f=ne?f.projectionNext:f.next}}function D4(s,u,f,g,S,R){jo(f,g,s.firstChild,u,S,R,!1)}function Lu(s,u,f,g,S,R){const ne=f[Ra],Pe=ne[wo].projection[g.projection];if(Array.isArray(Pe))for(let Ke=0;Ke<Pe.length;Ke++)_1(u,s,S,Pe[Ke],R);else{let Ke=Pe;const ht=ne[Ii];m1(g)&&(Ke.flags|=128),jo(s,u,Ke,ht,S,R,!0)}}function E4(s,u,f){""===f?s.removeAttribute(u,"class"):s.setAttribute(u,"class",f)}function z4(s,u,f){const{mergedAttrs:g,classes:S,styles:R}=f;null!==g&&co(s,u,g),null!==S&&E4(s,u,S),null!==R&&function S3(s,u,f){s.setAttribute(u,"style",f)}(s,u,R)}function k1(s){return function Ou(){if(void 0===A4&&(A4=null,ai.trustedTypes))try{A4=ai.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return A4}()?.createHTML(s)||s}function P4(){if(void 0===g0&&(g0=null,ai.trustedTypes))try{g0=ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return g0}function Na(s){return P4()?.createHTML(s)||s}function Pc(s){return P4()?.createScriptURL(s)||s}class Lc{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lr})`}}class xh extends Lc{getTypeName(){return"HTML"}}class nd extends Lc{getTypeName(){return"Style"}}class Ru extends Lc{getTypeName(){return"Script"}}class bh extends Lc{getTypeName(){return"URL"}}class av extends Lc{getTypeName(){return"ResourceURL"}}function Oc(s){return s instanceof Lc?s.changingThisBreaksApplicationSecurity:s}function m0(s,u){const f=function dp(s){return s instanceof Lc&&s.getTypeName()||null}(s);if(null!=f&&f!==u){if("ResourceURL"===f&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${f} (see ${lr})`)}return f===u}function fp(s){return new xh(s)}function vp(s){return new nd(s)}function ov(s){return new Ru(s)}function pp(s){return new bh(s)}function gp(s){return new av(s)}class mp{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const f=(new window.DOMParser).parseFromString(k1(u),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(u):(f.removeChild(f.firstChild),f)}catch{return null}}}class yp{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const f=this.inertDocument.createElement("template");return f.innerHTML=k1(u),f}}const _p=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wh(s){return(s=String(s)).match(_p)?s:"unsafe:"+s}function Ic(s){const u={};for(const f of s.split(","))u[f]=!0;return u}function Hu(...s){const u={};for(const f of s)for(const g in f)f.hasOwnProperty(g)&&(u[g]=!0);return u}const lv=Ic("area,br,col,hr,img,wbr"),cv=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rd=Ic("rp,rt"),id=Hu(lv,Hu(cv,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hu(rd,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hu(rd,cv)),ad=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uv=Hu(ad,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hv=Ic("script,style,template");class dv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let f=u.firstChild,g=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?g=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,g&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let S=this.checkClobberedElement(f,f.nextSibling);if(S){f=S;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(u){const f=u.nodeName.toLowerCase();if(!id.hasOwnProperty(f))return this.sanitizedSomething=!0,!hv.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const g=u.attributes;for(let S=0;S<g.length;S++){const R=g.item(S),ne=R.name,be=ne.toLowerCase();if(!uv.hasOwnProperty(be)){this.sanitizedSomething=!0;continue}let Pe=R.value;ad[be]&&(Pe=wh(Pe)),this.buf.push(" ",ne,'="',Sh(Pe),'"')}return this.buf.push(">"),!0}endElement(u){const f=u.nodeName.toLowerCase();id.hasOwnProperty(f)&&!lv.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(u){this.buf.push(Sh(u))}checkClobberedElement(u,f){if(f&&(u.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return f}}const fv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vv=/([^\#-~ |!])/g;function Sh(s){return s.replace(/&/g,"&amp;").replace(fv,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(vv,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let T3;function Ch(s,u){let f=null;try{T3=T3||function sv(s){const u=new yp(s);return function Vu(){try{return!!(new window.DOMParser).parseFromString(k1(""),"text/html")}catch{return!1}}()?new mp(u):u}(s);let g=u?String(u):"";f=T3.getInertBodyElement(g);let S=5,R=g;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,g=R,R=f.innerHTML,f=T3.getInertBodyElement(g)}while(g!==R);return k1((new dv).sanitizeChildren(D3(f)||f))}finally{if(f){const g=D3(f)||f;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function D3(s){return"content"in s&&function pv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var C2=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(C2||{});function sd(s){const u=z3();return u?Na(u.sanitize(C2.HTML,s)||""):m0(s,"HTML")?Na(Oc(s)):Ch(Dc(),Mt(s))}function ld(s){const u=z3();return u?u.sanitize(C2.URL,s)||"":m0(s,"URL")?Oc(s):wh(Mt(s))}function cd(s){const u=z3();if(u)return Pc(u.sanitize(C2.RESOURCE_URL,s)||"");if(m0(s,"ResourceURL"))return Pc(Oc(s));throw new ct(904,!1)}function E3(s,u,f){return function yv(s,u){return"src"===u&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===u&&("base"===s||"link"===s)?cd:ld}(u,f)(s)}function z3(){const s=rr();return s&&s[zl].sanitizer}let Ro=(s,u,f)=>null;function Hc(s,u,f=!1){return Ro(s,u,f)}class dd{}class fd{}class Tv{resolveComponentFactory(u){throw function Cv(s){const u=Error(`No component factory found for ${hn(s)}.`);return u.ngComponent=s,u}(u)}}let _0=(()=>{class s{static#e=this.NULL=new Tv}return s})();function vd(){return z2(Ca(),rr())}function z2(s,u){return new M0(Ua(s,u))}let M0=(()=>{class s{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=vd}return s})();function zh(s){return s instanceof M0?s.nativeElement:s}class Gu{}let Ah=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function pd(){const s=rr(),f=Jr(Ca().index,s);return(rt(f)?f:s)[bi]}()}return s})(),sa=(()=>{class s{static#e=this.\u0275prov=Nr({token:s,providedIn:"root",factory:()=>null})}return s})();class x1{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const ju=new x1("17.0.1"),Wu={};function sl(s){const u=me(null);try{return s()}finally{me(u)}}function Fs(s){return!!R4(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function R4(s){return null!==s&&("function"==typeof s||"object"==typeof s)}class Lh{constructor(){}supports(u){return Fs(u)}create(u){return new Ku(u)}}const Zu=(s,u)=>u;class Ku{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Zu}forEachItem(u){let f;for(f=this._itHead;null!==f;f=f._next)u(f)}forEachOperation(u){let f=this._itHead,g=this._removalsHead,S=0,R=null;for(;f||g;){const ne=!g||f&&f.currentIndex<A2(g,S,R)?f:g,be=A2(ne,S,R),Pe=ne.currentIndex;if(ne===g)S--,g=g._nextRemoved;else if(f=f._next,null==ne.previousIndex)S++;else{R||(R=[]);const Ke=be-S,ht=Pe-S;if(Ke!=ht){for(let cn=0;cn<Ke;cn++){const pn=cn<R.length?R[cn]:R[cn]=0,tr=pn+cn;ht<=tr&&tr<Ke&&(R[cn]=pn+1)}R[ne.previousIndex]=ht-Ke}}be!==Pe&&u(ne,be,Pe)}}forEachPreviousItem(u){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachMovedItem(u){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}forEachIdentityChange(u){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)u(f)}diff(u){if(null==u&&(u=[]),!Fs(u))throw new ct(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let S,R,ne,f=this._itHead,g=!1;if(Array.isArray(u)){this.length=u.length;for(let be=0;be<this.length;be++)R=u[be],ne=this._trackByFn(be,R),null!==f&&Object.is(f.trackById,ne)?(g&&(f=this._verifyReinsertion(f,R,ne,be)),Object.is(f.item,R)||this._addIdentityChange(f,R)):(f=this._mismatch(f,R,ne,be),g=!0),f=f._next}else S=0,function Qo(s,u){if(Array.isArray(s))for(let f=0;f<s.length;f++)u(s[f]);else{const f=s[Symbol.iterator]();let g;for(;!(g=f.next()).done;)u(g.value)}}(u,be=>{ne=this._trackByFn(S,be),null!==f&&Object.is(f.trackById,ne)?(g&&(f=this._verifyReinsertion(f,be,ne,S)),Object.is(f.item,be)||this._addIdentityChange(f,be)):(f=this._mismatch(f,be,ne,S),g=!0),f=f._next,S++}),this.length=S;return this._truncate(f),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,f,g,S){let R;return null===u?R=this._itTail:(R=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._reinsertAfter(u,R,S)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(g,S))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._moveAfter(u,R,S)):u=this._addAfter(new F1(f,g),R,S),u}_verifyReinsertion(u,f,g,S){let R=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==R?u=this._reinsertAfter(R,u._prev,S):u.currentIndex!=S&&(u.currentIndex=S,this._addToMoves(u,S)),u}_truncate(u){for(;null!==u;){const f=u._next;this._addToRemovals(this._unlink(u)),u=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,f,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const S=u._prevRemoved,R=u._nextRemoved;return null===S?this._removalsHead=R:S._nextRemoved=R,null===R?this._removalsTail=S:R._prevRemoved=S,this._insertAfter(u,f,g),this._addToMoves(u,g),u}_moveAfter(u,f,g){return this._unlink(u),this._insertAfter(u,f,g),this._addToMoves(u,g),u}_addAfter(u,f,g){return this._insertAfter(u,f,g),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,f,g){const S=null===f?this._itHead:f._next;return u._next=S,u._prev=f,null===S?this._itTail=u:S._prev=u,null===f?this._itHead=u:f._next=u,null===this._linkedRecords&&(this._linkedRecords=new L3),this._linkedRecords.put(u),u.currentIndex=g,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const f=u._prev,g=u._next;return null===f?this._itHead=g:f._next=g,null===g?this._itTail=f:g._prev=f,u}_addToMoves(u,f){return u.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new L3),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,f){return u.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class F1{constructor(u,f){this.item=u,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dp{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,f){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===f||f<=g.currentIndex)&&Object.is(g.trackById,u))return g;return null}remove(u){const f=u._prevDup,g=u._nextDup;return null===f?this._head=g:f._nextDup=g,null===g?this._tail=f:g._prevDup=f,null===this._head}}class L3{constructor(){this.map=new Map}put(u){const f=u.trackById;let g=this.map.get(f);g||(g=new Dp,this.map.set(f,g)),g.add(u)}get(u,f){const S=this.map.get(u);return S?S.get(u,f):null}remove(u){const f=u.trackById;return this.map.get(f).remove(u)&&this.map.delete(f),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function A2(s,u,f){const g=s.previousIndex;if(null===g)return g;let S=0;return f&&g<f.length&&(S=f[g]),g+u+S}class gd{constructor(){}supports(u){return u instanceof Map||R4(u)}create(){return new Dv}}class Dv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let f;for(f=this._mapHead;null!==f;f=f._next)u(f)}forEachPreviousItem(u){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)u(f)}forEachChangedItem(u){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}diff(u){if(u){if(!(u instanceof Map||R4(u)))throw new ct(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(u,(g,S)=>{if(f&&f.key===S)this._maybeAddToChanges(f,g),this._appendAfter=f,f=f._next;else{const R=this._getOrCreateRecordForKey(S,g);f=this._insertBeforeOrAppend(f,R)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let g=f;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,f){if(u){const g=u._prev;return f._next=u,f._prev=g,u._prev=f,g&&(g._next=f),u===this._mapHead&&(this._mapHead=f),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(u,f){if(this._records.has(u)){const S=this._records.get(u);this._maybeAddToChanges(S,f);const R=S._prev,ne=S._next;return R&&(R._next=ne),ne&&(ne._prev=R),S._next=null,S._prev=null,S}const g=new Ep(u);return this._records.set(u,g),g.currentValue=f,this._addToAdditions(g),g}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,f){Object.is(f,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=f,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,f){u instanceof Map?u.forEach(f):Object.keys(u).forEach(g=>f(u[g],g))}}class Ep{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function md(){return new Oh([new Lh])}let Oh=(()=>{class s{static#e=this.\u0275prov=Nr({token:s,providedIn:"root",factory:md});constructor(f){this.factories=f}static create(f,g){if(null!=g){const S=g.factories.slice();f=f.concat(S)}return new s(f)}static extend(f){return{provide:s,useFactory:g=>s.create(f,g||md()),deps:[[s,new as,new Io]]}}find(f){const g=this.factories.find(S=>S.supports(f));if(null!=g)return g;throw new ct(901,!1)}}return s})();function _d(){return new $u([new gd])}let $u=(()=>{class s{static#e=this.\u0275prov=Nr({token:s,providedIn:"root",factory:_d});constructor(f){this.factories=f}static create(f,g){if(g){const S=g.factories.slice();f=f.concat(S)}return new s(f)}static extend(f){return{provide:s,useFactory:g=>s.create(f,g||_d()),deps:[[s,new as,new Io]]}}find(f){const g=this.factories.find(S=>S.supports(f));if(g)return g;throw new ct(901,!1)}}return s})();function V4(s,u,f,g,S=!1){for(;null!==f;){const R=u[f.index];null!==R&&g.push(ba(R)),mt(R)&&Md(R,g);const ne=f.type;if(8&ne)V4(s,u,f.child,g);else if(32&ne){const be=Tu(f,u);let Pe;for(;Pe=be();)g.push(Pe)}else if(16&ne){const be=p0(u,f);if(Array.isArray(be))g.push(...be);else{const Pe=jl(u[Ra]);V4(Pe[Or],Pe,be,g,!0)}}f=S?f.projectionNext:f.next}return g}function Md(s,u){for(let f=gt;f<s.length;f++){const g=s[f],S=g[Or].firstChild;null!==S&&V4(g[Or],g,S,u)}s[Ms]!==s[za]&&u.push(s[Ms])}let Xu=[];const Ja={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{c1(s.lView)},consumerOnSignalRead(){this.lView[Qs]=this}};function O3(s){return s.ngOriginalError}class sc{constructor(){this._console=console}handleError(u){const f=this._findOriginalError(u);this._console.error("ERROR",u),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(u){let f=u&&O3(u);for(;f&&O3(f);)f=O3(f);return f||null}}const Cd=new ni("",{providedIn:"root",factory:()=>!1}),ki={};function R3(s){Dd(ya(),rr(),So()+s,!1)}function Dd(s,u,f,g){if(!g)if(3==(3&u[_i])){const R=s.preOrderCheckHooks;null!==R&&cu(u,R,f)}else{const R=s.preOrderHooks;null!==R&&q1(u,R,0,f)}Fl(f)}function w0(s,u=Qn.Default){const f=rr();return null===f?Oi(s,u):k8(Ca(),f,Wt(s),u)}function Ed(){throw new Error("invalid")}function P2(s,u,f,g,S,R,ne,be,Pe,Ke,ht){const zt=u.blueprint.slice();return zt[za]=S,zt[_i]=140|g,(null!==Ke||s&&2048&s[_i])&&(zt[_i]|=2048),Al(zt),zt[Ii]=zt[a1]=s,zt[Mi]=f,zt[zl]=ne||s&&s[zl],zt[bi]=be||s&&s[bi],zt[Oo]=Pe||s&&s[Oo]||null,zt[wo]=R,zt[_s]=function V1(){return iv++}(),zt[Rs]=ht,zt[mc]=Ke,zt[Ra]=2==u.type?s[Ra]:zt,zt}function S0(s,u,f,g,S){let R=s.data[u];if(null===R)R=function Do(s,u,f,g,S){const R=n4(),ne=Z0(),Pe=s.data[u]=function Lp(s,u,f,g,S,R){let ne=u?u.injectorIndex:-1,be=0;return e2()&&(be|=128),{type:f,index:g,insertBeforeIndex:null,injectorIndex:ne,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:be,providerIndexes:0,value:S,attrs:R,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ne?R:R&&R.parent,f,u,g,S);return null===s.firstChild&&(s.firstChild=Pe),null!==R&&(ne?null==R.child&&null!==Pe.parent&&(R.child=Pe):null===R.next&&(R.next=Pe,Pe.prev=R)),Pe}(s,u,f,g,S),function K2(){return zi.lFrame.inI18n}()&&(R.flags|=32);else if(64&R.type){R.type=f,R.value=g,R.attrs=S;const ne=function bc(){const s=zi.lFrame,u=s.currentTNode;return s.isParent?u:u.parent}();R.injectorIndex=null===ne?-1:ne.injectorIndex}return kl(R,!0),R}function C0(s,u,f,g){if(0===f)return-1;const S=u.length;for(let R=0;R<f;R++)u.push(g),s.blueprint.push(g),s.data.push(null);return S}function zd(s,u,f,g,S){const R=So(),ne=2&g;try{Fl(-1),ne&&u.length>Vr&&Dd(s,u,Vr,!1),pl(ne?2:0,S),f(g,S)}finally{Fl(R),pl(ne?3:1,S)}}function Vh(s,u,f){if(Dt(u)){const g=me(null);try{const R=u.directiveEnd;for(let ne=u.directiveStart;ne<R;ne++){const be=s.data[ne];be.contentQueries&&be.contentQueries(1,f[ne],ne)}}finally{me(g)}}}function H4(s,u,f){Z2()&&(function N3(s,u,f,g){const S=f.directiveStart,R=f.directiveEnd;Bt(f)&&function Yi(s,u,f){const g=Ua(u,s),S=V3(f);let ne=16;f.signals?ne=4096:f.onPush&&(ne=64);const be=w1(s,P2(s,S,null,ne,g,u,null,s[zl].rendererFactory.createRenderer(g,f),null,null,null));s[u.index]=be}(u,f,s.data[S+f.componentOffset]),s.firstCreatePass||s2(f,u),ri(g,u);const ne=f.initialInputs;for(let be=S;be<R;be++){const Pe=s.data[be],Ke=tc(u,s,be,f);ri(Ke,u),null!==ne&&ci(0,be-S,Ke,Pe,0,ne),Kn(Pe)&&(Jr(f.index,u)[Mi]=tc(u,s,be,f))}}(s,u,f,Ua(f,u)),64==(64&f.flags)&&_o(s,u,f))}function b1(s,u,f=Ua){const g=u.localNames;if(null!==g){let S=u.index+1;for(let R=0;R<g.length;R+=2){const ne=g[R+1],be=-1===ne?f(u,s):s[ne];s[S++]=be}}}function V3(s){const u=s.tView;return null===u||u.incompleteFirstPass?s.tView=U1(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):u}function U1(s,u,f,g,S,R,ne,be,Pe,Ke,ht){const zt=Vr+g,cn=zt+S,pn=function Ad(s,u){const f=[];for(let g=0;g<u;g++)f.push(g<s?null:ki);return f}(zt,cn),tr="function"==typeof Ke?Ke():Ke;return pn[Or]={type:s,blueprint:pn,template:f,queries:null,viewQuery:be,declTNode:u,data:pn.slice().fill(null,zt),bindingStartIndex:zt,expandoStartIndex:cn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof R?R():R,pipeRegistry:"function"==typeof ne?ne():ne,firstChild:null,schemas:Pe,consts:tr,incompleteFirstPass:!1,ssrId:ht}}let Hh=s=>null;function qu(s,u,f,g){for(let S in s)if(s.hasOwnProperty(S)){f=null===f?{}:f;const R=s[S];null===g?Av(f,u,S,R):g.hasOwnProperty(S)&&Av(f,u,g[S],R)}return f}function Av(s,u,f,g){s.hasOwnProperty(f)?s[f].push(u,g):s[f]=[u,g]}function Zl(s,u,f,g,S,R,ne,be){const Pe=Ua(u,f);let ht,Ke=u.inputs;!be&&null!=Ke&&(ht=Ke[g])?(F3(s,f,ht,g,S),Bt(u)&&function Op(s,u){const f=Jr(u,s);16&f[_i]||(f[_i]|=64)}(f,u.index)):3&u.type&&(g=function Pd(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(g),S=null!=ne?ne(S,u.value||"",g):S,R.setProperty(Pe,g,S))}function N4(s,u,f,g){if(Z2()){const S=null===g?null:{"":-1},R=function Od(s,u){const f=s.directiveRegistry;let g=null,S=null;if(f)for(let R=0;R<f.length;R++){const ne=f[R];if(hi(u,ne.selectors,!1))if(g||(g=[]),Kn(ne))if(null!==ne.findHostDirectiveDefs){const be=[];S=S||new Map,ne.findHostDirectiveDefs(ne,be,S),g.unshift(...be,ne),B3(s,u,be.length)}else g.unshift(ne),B3(s,u,0);else S=S||new Map,ne.findHostDirectiveDefs?.(ne,g,S),g.push(ne)}return null===g?null:[g,S]}(s,f);let ne,be;null===R?ne=be=null:[ne,be]=R,null!==ne&&kh(s,u,f,ne,S,be),S&&function k3(s,u,f){if(u){const g=s.localNames=[];for(let S=0;S<u.length;S+=2){const R=f[u[S+1]];if(null==R)throw new ct(-301,!1);g.push(u[S],R)}}}(f,g,S)}f.mergedAttrs=Tl(f.mergedAttrs,f.attrs)}function kh(s,u,f,g,S,R){for(let Ke=0;Ke<g.length;Ke++)B8(s2(f,u),s,g[Ke].type);!function e8(s,u,f){s.flags|=1,s.directiveStart=u,s.directiveEnd=u+f,s.providerIndexes=u}(f,s.data.length,g.length);for(let Ke=0;Ke<g.length;Ke++){const ht=g[Ke];ht.providersResolver&&ht.providersResolver(ht)}let ne=!1,be=!1,Pe=C0(s,u,g.length,null);for(let Ke=0;Ke<g.length;Ke++){const ht=g[Ke];f.mergedAttrs=Tl(f.mergedAttrs,ht.hostAttrs),sr(s,f,u,Pe,ht),Id(Pe,ht,S),null!==ht.contentQueries&&(f.flags|=4),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(f.flags|=64);const zt=ht.type.prototype;!ne&&(zt.ngOnChanges||zt.ngOnInit||zt.ngDoCheck)&&((s.preOrderHooks??=[]).push(f.index),ne=!0),!be&&(zt.ngOnChanges||zt.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(f.index),be=!0),Pe++}!function Pv(s,u,f){const S=u.directiveEnd,R=s.data,ne=u.attrs,be=[];let Pe=null,Ke=null;for(let ht=u.directiveStart;ht<S;ht++){const zt=R[ht],cn=f?f.get(zt):null,tr=cn?cn.outputs:null;Pe=qu(zt.inputs,ht,Pe,cn?cn.inputs:null),Ke=qu(zt.outputs,ht,Ke,tr);const Pr=null===Pe||null===ne||Ze(u)?null:Va(Pe,ht,ne);be.push(Pr)}null!==Pe&&(Pe.hasOwnProperty("class")&&(u.flags|=8),Pe.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=be,u.inputs=Pe,u.outputs=Ke}(s,f,R)}function _o(s,u,f){const g=f.directiveStart,S=f.directiveEnd,R=f.index,ne=function He(){return zi.lFrame.currentDirectiveIndex}();try{Fl(R);for(let be=g;be<S;be++){const Pe=s.data[be],Ke=u[be];Ee(be),(null!==Pe.hostBindings||0!==Pe.hostVars||null!==Pe.hostAttrs)&&lc(Pe,Ke)}}finally{Fl(-1),Ee(ne)}}function lc(s,u){null!==s.hostBindings&&s.hostBindings(1,u)}function B3(s,u,f){u.componentOffset=f,(s.components??=[]).push(u.index)}function Id(s,u,f){if(f){if(u.exportAs)for(let g=0;g<u.exportAs.length;g++)f[u.exportAs[g]]=s;Kn(u)&&(f[""]=s)}}function sr(s,u,f,g,S){s.data[g]=S;const R=S.factory||(S.factory=Fa(S.type)),ne=new Q2(R,Kn(S),w0);s.blueprint[g]=ne,f[g]=ne,function Fh(s,u,f,g,S){const R=S.hostBindings;if(R){let ne=s.hostBindingOpCodes;null===ne&&(ne=s.hostBindingOpCodes=[]);const be=~u.index;(function Lv(s){let u=s.length;for(;u>0;){const f=s[--u];if("number"==typeof f&&f<0)return f}return 0})(ne)!=be&&ne.push(be),ne.push(f,g,R)}}(s,u,g,C0(s,f,S.hostVars,ki),S)}function zn(s,u,f,g,S,R){const ne=Ua(s,u);!function vr(s,u,f,g,S,R,ne){if(null==R)s.removeAttribute(u,S,f);else{const be=null==ne?Mt(R):ne(R,g||"",S);s.setAttribute(u,S,be,f)}}(u[bi],ne,R,s.value,f,g,S)}function ci(s,u,f,g,S,R){const ne=R[u];if(null!==ne)for(let be=0;be<ne.length;)la(g,f,ne[be++],ne[be++],ne[be++])}function la(s,u,f,g,S){const R=me(null);try{const ne=s.inputTransforms;null!==ne&&ne.hasOwnProperty(g)&&(S=ne[g].call(u,S)),null!==s.setInput?s.setInput(u,S,f,g):u[g]=S}finally{me(R)}}function Va(s,u,f){let g=null,S=0;for(;S<f.length;){const R=f[S];if(0!==R)if(5!==R){if("number"==typeof R)break;if(s.hasOwnProperty(R)){null===g&&(g=[]);const ne=s[R];for(let be=0;be<ne.length;be+=2)if(ne[be]===u){g.push(R,ne[be+1],f[S+1]);break}}S+=2}else S+=2;else S+=4}return g}function Mo(s,u,f,g){return[s,!0,!1,u,null,g,!1,f,null,null,null]}function xo(s,u){const f=s.contentQueries;if(null!==f){const g=me(null);try{for(let S=0;S<f.length;S+=2){const ne=f[S+1];if(-1!==ne){const be=s.data[ne];bt(f[S]),be.contentQueries(2,u[ne],ne)}}}finally{me(g)}}}function w1(s,u){return s[Nl]?s[Qc][ys]=u:s[Nl]=u,s[Qc]=u,u}function Kl(s,u,f){bt(0);const g=me(null);try{u(s,f)}finally{me(g)}}function Uh(s){return s[Vs]||(s[Vs]=[])}function Y1(s){return s.cleanup||(s.cleanup=[])}function Ip(s,u,f){return(null===s||Kn(s))&&(f=function Q4(s){for(;Array.isArray(s);){if("object"==typeof s[s1])return s;s=s[za]}return null}(f[u.index])),f[bi]}function Rd(s,u){const f=s[Oo],g=f?f.get(sc,null):null;g&&g.handleError(u)}function F3(s,u,f,g,S){for(let R=0;R<f.length;){const ne=f[R++],be=f[R++];la(s.data[ne],u[ne],g,be,S)}}function Vp(s,u,f,g){const S=u[_i];if(256==(256&S))return;u[zl].inlineEffectRunner?.flush(),Vn(u);let ne=null,be=null;(function Tg(s){return 2!==s.type})(s)&&(be=function xd(s){return s[Qs]??function Kt(s){const u=Xu.pop()??Object.create(Ja);return u.lView=s,u}(s)}(u),ne=function M(s){return s&&(s.nextProducerIndex=0),me(s)}(be));try{Al(u),function R8(s){return zi.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==f&&zd(s,u,f,2,g);const Pe=3==(3&S);if(Pe){const zt=s.preOrderCheckHooks;null!==zt&&cu(u,zt,null)}else{const zt=s.preOrderHooks;null!==zt&&q1(u,zt,0,null),X2(u,0)}if(function Dg(s){for(let u=M2(s);null!==u;u=Ec(u)){if(!u[E1])continue;const f=u[dl];for(let g=0;g<f.length;g++){J4(f[g])}}}(u),Iv(u,0),null!==s.contentQueries&&xo(s,u),Pe){const zt=s.contentCheckHooks;null!==zt&&cu(u,zt)}else{const zt=s.contentHooks;null!==zt&&q1(u,zt,1),X2(u,1)}!function Rh(s,u){const f=s.hostBindingOpCodes;if(null!==f)try{for(let g=0;g<f.length;g++){const S=f[g];if(S<0)Fl(~S);else{const R=S,ne=f[++g],be=f[++g];Te(ne,R),be(2,u[R])}}}finally{Fl(-1)}}(s,u);const Ke=s.components;null!==Ke&&Vv(u,Ke,0);const ht=s.viewQuery;if(null!==ht&&Kl(2,ht,g),Pe){const zt=s.viewCheckHooks;null!==zt&&cu(u,zt)}else{const zt=s.viewHooks;null!==zt&&q1(u,zt,2),X2(u,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),u[Xs]){for(const zt of u[Xs])zt();u[Xs]=null}u[_i]&=-73}catch(Pe){throw c1(u),Pe}finally{null!==be&&(function se(s,u){if(me(u),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(X(s))for(let f=s.nextProducerIndex;f<s.producerNode.length;f++)$(s.producerNode[f],s.producerIndexOfThis[f]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}(be,ne),function bd(s){s.lView[Qs]!==s&&(s.lView=null,Xu.push(s))}(be)),wc()}}function Iv(s,u){for(let f=M2(s);null!==f;f=Ec(f)){f[yc]=!1;for(let g=gt;g<f.length;g++)Rv(f[g],u)}}function Eg(s,u,f){Rv(Jr(u,s),f)}function Rv(s,u){Js(s)&&Hp(s,u)}function Hp(s,u){const g=s[Or],S=s[_i],R=s[Qs];let ne=!!(0===u&&16&S);if(ne||=!!(64&S&&0===u),ne||=!!(1024&S),ne||=!(!R?.dirty||!ge(R)),R&&(R.dirty=!1),s[_i]&=-9217,ne)Vp(g,s,g.template,s[Mi]);else if(8192&S){Iv(s,1);const be=g.components;null!==be&&Vv(s,be,1)}}function Vv(s,u,f){for(let g=0;g<u.length;g++)Eg(s,u[g],f)}function Yh(s){for(;s;){s[_i]|=64;const u=jl(s);if(Yn(s)&&!u)return s;s=u}return null}class t8{get rootNodes(){const u=this._lView,f=u[Or];return V4(f,u,f.firstChild,[])}constructor(u,f,g=!0){this._lView=u,this._cdRefInjectingView=f,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mi]}set context(u){this._lView[Mi]=u}get destroyed(){return 256==(256&this._lView[_i])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[Ii];if(mt(u)){const f=u[8],g=f?f.indexOf(this):-1;g>-1&&(C4(u,g),hu(f,g))}this._attachedToViewContainer=!1}fo(this._lView[Or],this._lView)}onDestroy(u){qs(this._lView,u)}markForCheck(){Yh(this._cdRefInjectingView||this._lView)}detach(){this._lView[_i]&=-129}reattach(){Q1(this._lView),this._lView[_i]|=128}detectChanges(){!function Ov(s,u,f,g=!0){const S=u[zl],R=S.rendererFactory,ne=S.afterRenderEventManager;R.begin?.(),ne?.begin();try{Vp(s,u,s.template,f),function wg(s){let u=0;for(;9216&s[_i]||s[Qs]?.dirty;){if(100===u)throw new ct(103,!1);u++,Hp(s,1)}}(u)}catch(Pe){throw g&&Rd(u,Pe),Pe}finally{R.end?.(),S.inlineEffectRunner?.flush(),ne?.end()}}(this._lView[Or],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function us(s,u){D4(s,u,u[bi],2,null,null)}(this._lView[Or],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=u}}let Hv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Nv}return s})();function Nv(s){return function Np(s,u,f){if(Bt(s)&&!f){const g=Jr(s.index,u);return new t8(g,g)}return 47&s.type?new t8(u[Ra],u):null}(Ca(),rr(),16==(16&s))}let Vd=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Lg;static#t=this.__NG_ENV_ID__=f=>f}return s})();class Pg extends Vd{constructor(u){super(),this._lView=u}onDestroy(u){return qs(this._lView,u),()=>function u1(s,u){if(null===s[Hs])return;const f=s[Hs].indexOf(u);-1!==f&&s[Hs].splice(f,1)}(this._lView,u)}}function Lg(){return new Pg(rr())}function E0(s,u){return performance?.mark?.(s,u)}function kv(s){return u=>{setTimeout(s,void 0,u)}}const B4=class Ng extends nt.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,f,g){let S=u,R=f||(()=>null),ne=g;if(u&&"object"==typeof u){const Pe=u;S=Pe.next?.bind(Pe),R=Pe.error?.bind(Pe),ne=Pe.complete?.bind(Pe)}this.__isAsync&&(R=kv(R),S&&(S=kv(S)),ne&&(ne=kv(ne)));const be=super.subscribe({next:S,error:R,complete:ne});return u instanceof dt.w0&&u.add(be),be}};function k4(...s){}class ds{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new B4(!1),this.onMicrotaskEmpty=new B4(!1),this.onStable=new B4(!1),this.onError=new B4(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!g&&f,S.shouldCoalesceRunChangeDetection=g,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function Bg(){const s="function"==typeof ai.requestAnimationFrame;let u=ai[s?"requestAnimationFrame":"setTimeout"],f=ai[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&u&&f){const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g);const S=f[Zone.__symbol__("OriginalDelegate")];S&&(f=S)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function Yg(s){const u=()=>{!function Ug(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ai,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Uc(s),s.isCheckStableRunning=!0,Fc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Uc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,g,S,R,ne,be)=>{if(function n8(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(be))return f.invokeTask(S,R,ne,be);try{return Fv(s),f.invokeTask(S,R,ne,be)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===R.type||s.shouldCoalesceRunChangeDetection)&&u(),Uv(s)}},onInvoke:(f,g,S,R,ne,be,Pe)=>{try{return Fv(s),f.invoke(S,R,ne,be,Pe)}finally{s.shouldCoalesceRunChangeDetection&&u(),Uv(s)}},onHasTask:(f,g,S,R)=>{f.hasTask(S,R),g===S&&("microTask"==R.change?(s._hasPendingMicrotasks=R.microTask,Uc(s),Fc(s)):"macroTask"==R.change&&(s.hasPendingMacrotasks=R.macroTask))},onHandleError:(f,g,S,R)=>(f.handleError(S,R),s.runOutsideAngular(()=>s.onError.emit(R)),!1)})}(S)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ds.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(ds.isInAngularZone())throw new ct(909,!1)}run(u,f,g){return this._inner.run(u,f,g)}runTask(u,f,g,S){const R=this._inner,ne=R.scheduleEventTask("NgZoneEvent: "+S,u,Fg,k4,k4);try{return R.runTask(ne,f,g)}finally{R.cancelTask(ne)}}runGuarded(u,f,g){return this._inner.runGuarded(u,f,g)}runOutsideAngular(u){return this._outer.run(u)}}const Fg={};function Fc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Uc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Fv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Uv(s){s._nesting--,Fc(s)}class Gg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new B4,this.onMicrotaskEmpty=new B4,this.onStable=new B4,this.onError=new B4}run(u,f,g){return u.apply(f,g)}runGuarded(u,f,g){return u.apply(f,g)}runOutsideAngular(u){return u()}runTask(u,f,g,S){return u.apply(f,g)}}const Nd=new ni("",{providedIn:"root",factory:kp});function kp(){const s=gi(ds);let u=!0;const f=new It.y(S=>{u=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{S.next(u),S.complete()})}),g=new It.y(S=>{let R;s.runOutsideAngular(()=>{R=s.onStable.subscribe(()=>{ds.assertNotInAngularZone(),queueMicrotask(()=>{!u&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(u=!0,S.next(!0))})})});const ne=s.onUnstable.subscribe(()=>{ds.assertInAngularZone(),u&&(u=!1,s.runOutsideAngular(()=>{S.next(!1)}))});return()=>{R.unsubscribe(),ne.unsubscribe()}});return(0,an.T)(f,g.pipe((0,Cn.B)()))}var U3=function(s){return s[s.EarlyRead=0]="EarlyRead",s[s.Write=1]="Write",s[s.MixedReadWrite=2]="MixedReadWrite",s[s.Read=3]="Read",s}(U3||{});const Y3={destroy(){}};function Yv(s,u){!u&&function p3(s){if(!Di()&&!function Gs(){return Ka}())throw new ct(-203,!1)}();const f=u?.injector??gi(Il);if(!function I1(s){return"browser"===(s??gi(Il)).get(g3)}(f))return Y3;E0("mark_use_counter",{detail:{feature:"NgAfterNextRender"}});const g=f.get(r8),S=g.handler??=new Gh,R=u?.phase??U3.MixedReadWrite,ne=()=>{S.unregister(Pe),be()},be=f.get(Vd).onDestroy(ne),Pe=new Fp(f,R,()=>{ne(),s()});return S.register(Pe),{destroy:ne}}class Fp{constructor(u,f,g){this.phase=f,this.callbackFn=g,this.zone=u.get(ds),this.errorHandler=u.get(sc,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(u){this.errorHandler?.handleError(u)}}}class Gh{constructor(){this.executingCallbacks=!1,this.buckets={[U3.EarlyRead]:new Set,[U3.Write]:new Set,[U3.MixedReadWrite]:new Set,[U3.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new ct(102,!1)}register(u){(this.executingCallbacks?this.deferredCallbacks:this.buckets[u.phase]).add(u)}unregister(u){this.buckets[u.phase].delete(u),this.deferredCallbacks.delete(u)}execute(){this.executingCallbacks=!0;for(const u of Object.values(this.buckets))for(const f of u)f.invoke();this.executingCallbacks=!1;for(const u of this.deferredCallbacks)this.buckets[u.phase].add(u);this.deferredCallbacks.clear()}destroy(){for(const u of Object.values(this.buckets))u.clear();this.deferredCallbacks.clear()}}let r8=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const f of this.internalCallbacks)f();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Nr({token:s,providedIn:"root",factory:()=>new s})}return s})();function pa(s,u){const f=Jr(u,s),g=f[Or];!function Wg(s,u){for(let f=u.length;f<s.blueprint.length;f++)u.push(s.blueprint[f])}(g,f);const S=f[za];null!==S&&null===f[Rs]&&(f[Rs]=Hc(S,f[Oo])),i8(g,f,f[Mi])}function i8(s,u,f){Vn(u);try{const g=s.viewQuery;null!==g&&Kl(1,g,f);const S=s.template;null!==S&&zd(s,u,S,1,f),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xo(s,u),s.staticViewQueries&&Kl(2,s.viewQuery,f);const R=s.components;null!==R&&function Up(s,u){for(let f=0;f<u.length;f++)pa(s,u[f])}(u,R)}catch(g){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),g}finally{u[_i]&=-5,wc()}}function to(s,u,f){let g=f?s.styles:null,S=f?s.classes:null,R=0;if(null!==u)for(let ne=0;ne<u.length;ne++){const be=u[ne];"number"==typeof be?R=be:1==R?S=ot(S,be):2==R&&(g=ot(g,be+": "+u[++ne]+";"))}f?s.styles=g:s.stylesWithoutHost=g,f?s.classes=S:s.classesWithoutHost=S}class kd extends _0{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const f=Vi(u);return new jh(f,this.ngModule)}}function F4(s){const u=[];for(let f in s)s.hasOwnProperty(f)&&u.push({propName:s[f],templateName:f});return u}class Zg{constructor(u,f){this.injector=u,this.parentInjector=f}get(u,f,g){g=In(g);const S=this.injector.get(u,Wu,g);return S!==Wu||f===Wu?S:this.parentInjector.get(u,f,g)}}class jh extends fd{get inputs(){const u=this.componentDef,f=u.inputTransforms,g=F4(u.inputs);if(null!==f)for(const S of g)f.hasOwnProperty(S.propName)&&(S.transform=f[S.propName]);return g}get outputs(){return F4(this.componentDef.outputs)}constructor(u,f){super(),this.componentDef=u,this.ngModule=f,this.componentType=u.type,this.selector=function go(s){return s.map(hl).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!f}create(u,f,g,S){let R=(S=S||this.ngModule)instanceof eo?S:S?.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const ne=R?new Zg(u,R):u,be=ne.get(Gu,null);if(null===be)throw new ct(407,!1);const ht={rendererFactory:be,sanitizer:ne.get(sa,null),inlineEffectRunner:null,afterRenderEventManager:ne.get(r8,null)},zt=be.createRenderer(null,this.componentDef),cn=this.componentDef.selectors[0][0]||"div",pn=g?function H3(s,u,f,g){const R=g.get(Cd,!1)||f===Ea.ShadowDom,ne=s.selectRootElement(u,R);return function T0(s){Hh(s)}(ne),ne}(zt,g,this.componentDef.encapsulation,ne):w4(zt,cn,function Yp(s){const u=s.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(cn)),Xr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let fi=null;null!==pn&&(fi=Hc(pn,ne,!0));const Cr=U1(0,null,null,1,0,null,null,null,null,null,null),Ki=P2(null,Cr,null,Xr,null,null,ht,zt,ne,null,fi);let Wa,vo;Vn(Ki);try{const T1=this.componentDef;let sp,tb=null;T1.findHostDirectiveDefs?(sp=[],tb=new Map,T1.findHostDirectiveDefs(T1,sp,tb),sp.push(T1)):sp=[T1];const Hb=function jp(s,u){const f=s[Or],g=Vr;return s[g]=u,S0(f,g,2,"#host",null)}(Ki,pn),Nb=function Wp(s,u,f,g,S,R,ne){const be=S[Or];!function Gv(s,u,f,g){for(const S of s)u.mergedAttrs=Tl(u.mergedAttrs,S.hostAttrs);null!==u.mergedAttrs&&(to(u,u.mergedAttrs,!0),null!==f&&z4(g,f,u))}(g,s,u,ne);let Pe=null;null!==u&&(Pe=Hc(u,S[Oo]));const Ke=R.rendererFactory.createRenderer(u,f);let ht=16;f.signals?ht=4096:f.onPush&&(ht=64);const zt=P2(S,V3(f),null,ht,S[s.index],s,R,Ke,null,null,Pe);return be.firstCreatePass&&B3(be,s,g.length-1),w1(S,zt),S[s.index]=zt}(Hb,pn,T1,sp,Ki,ht,zt);vo=e4(Cr,Vr),pn&&function z0(s,u,f,g){if(g)co(s,f,["ng-version",ju.full]);else{const{attrs:S,classes:R}=function Ws(s){const u=[],f=[];let g=1,S=2;for(;g<s.length;){let R=s[g];if("string"==typeof R)2===S?""!==R&&u.push(R,s[++g]):8===S&&f.push(R);else{if(!En(S))break;S=R}g++}return{attrs:u,classes:f}}(u.selectors[0]);S&&co(s,f,S),R&&R.length>0&&E4(s,f,R.join(" "))}}(zt,T1,pn,g),void 0!==f&&function Zp(s,u,f){const g=s.projection=[];for(let S=0;S<u.length;S++){const R=f[S];g.push(null!=R?Array.from(R):null)}}(vo,this.ngContentSelectors,f),Wa=function jv(s,u,f,g,S,R){const ne=Ca(),be=S[Or],Pe=Ua(ne,S);kh(be,S,ne,f,null,g);for(let ht=0;ht<f.length;ht++)ri(tc(S,be,ne.directiveStart+ht,ne),S);_o(be,S,ne),Pe&&ri(Pe,S);const Ke=tc(S,be,ne.directiveStart+ne.componentOffset,ne);if(s[Mi]=S[Mi]=Ke,null!==R)for(const ht of R)ht(Ke,u);return Vh(be,ne,s),Ke}(Nb,T1,sp,tb,Ki,[Wv]),i8(Cr,Ki,null)}finally{wc()}return new Gp(this.componentType,Wa,z2(vo,Ki),Ki,vo)}}class Gp extends dd{constructor(u,f,g,S,R){super(),this.location=g,this._rootLView=S,this._tNode=R,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new t8(S,void 0,!1),this.componentType=u}setInput(u,f){const g=this._tNode.inputs;let S;if(null!==g&&(S=g[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),f))return;const R=this._rootLView;F3(R[Or],R,S,u,f),this.previousInputValues.set(u,f),Yh(Jr(this._tNode.index,R))}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function Wv(){const s=Ca();X0(rr()[Or],s)}function Zv(s){let u=function Kp(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),f=!0;const g=[s];for(;u;){let S;if(Kn(s))S=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new ct(903,!1);S=u.\u0275dir}if(S){if(f){g.push(S);const ne=s;ne.inputs=Fd(s.inputs),ne.inputTransforms=Fd(s.inputTransforms),ne.declaredInputs=Fd(s.declaredInputs),ne.outputs=Fd(s.outputs);const be=S.hostBindings;be&&a8(s,be);const Pe=S.viewQuery,Ke=S.contentQueries;if(Pe&&$g(s,Pe),Ke&&Xg(s,Ke),Rr(s.inputs,S.inputs),Rr(s.declaredInputs,S.declaredInputs),Rr(s.outputs,S.outputs),null!==S.inputTransforms&&(null===ne.inputTransforms&&(ne.inputTransforms={}),Rr(ne.inputTransforms,S.inputTransforms)),Kn(S)&&S.data.animation){const ht=s.data;ht.animation=(ht.animation||[]).concat(S.data.animation)}}const R=S.features;if(R)for(let ne=0;ne<R.length;ne++){const be=R[ne];be&&be.ngInherit&&be(s),be===Zv&&(f=!1)}}u=Object.getPrototypeOf(u)}!function Kg(s){let u=0,f=null;for(let g=s.length-1;g>=0;g--){const S=s[g];S.hostVars=u+=S.hostVars,S.hostAttrs=Tl(S.hostAttrs,f=Tl(f,S.hostAttrs))}}(g)}function Fd(s){return s===ga?{}:s===Ni?[]:s}function $g(s,u){const f=s.viewQuery;s.viewQuery=f?(g,S)=>{u(g,S),f(g,S)}:u}function Xg(s,u){const f=s.contentQueries;s.contentQueries=f?(g,S,R)=>{u(g,S,R),f(g,S,R)}:u}function a8(s,u){const f=s.hostBindings;s.hostBindings=f?(g,S)=>{u(g,S),f(g,S)}:u}function Xp(s){const u=s.inputConfig,f={};for(const g in u)if(u.hasOwnProperty(g)){const S=u[g];Array.isArray(S)&&S[2]&&(f[g]=S[2])}s.inputTransforms=f}function U4(s,u,f){return s[u]=f}function Jo(s,u,f){return!Object.is(s[u],f)&&(s[u]=f,!0)}function $v(s,u,f,g){const S=rr();return Jo(S,Ll(),u)&&(ya(),zn(Aa(),S,s,u,f,g)),$v}function Z3(s,u){return s<<17|u<<2}function Y4(s){return s>>17&32767}function Xd(s){return 2|s}function L0(s){return(131068&s)>>2}function qv(s,u){return-131069&s|u<<2}function Jd(s){return 1|s}function e5(s,u,f,g,S){const R=s[f+1],ne=null===u;let be=g?Y4(R):L0(R),Pe=!1;for(;0!==be&&(!1===Pe||ne);){const ht=s[be+1];O0(s[be],u)&&(Pe=!0,s[be+1]=g?Jd(ht):Xd(ht)),be=g?Y4(ht):L0(ht)}Pe&&(s[f+1]=g?Xd(R):Jd(R))}function O0(s,u){return null===s||null==u||(Array.isArray(s)?s[1]:s)===u||!(!Array.isArray(s)||"string"!=typeof u)&&d4(s,u)>=0}function nm(s,u,f){const g=rr();return Jo(g,Ll(),u)&&Zl(ya(),Aa(),g,s,u,g[bi],f,!1),nm}function ef(s,u,f,g,S){const ne=S?"class":"style";F3(s,f,u.inputs[ne],ne,g)}function Kh(s,u,f){return Wc(s,u,f,!1),Kh}function $h(s,u){return Wc(s,u,null,!0),$h}function Wc(s,u,f,g){const S=rr(),R=ya(),ne=function tl(s){const u=zi.lFrame,f=u.bindingIndex;return u.bindingIndex=u.bindingIndex+s,f}(2);R.firstUpdatePass&&function tf(s,u,f,g){const S=s.data;if(null===S[f+1]){const R=S[So()],ne=function j4(s,u){return u>=s.expandoStartIndex}(s,f);(function t7(s,u){return 0!=(s.flags&(u?8:16))})(R,g)&&null===u&&!ne&&(u=!1),u=function Xh(s,u,f,g){const S=Be(s);let R=g?u.residualClasses:u.residualStyles;if(null===S)0===(g?u.classBindings:u.styleBindings)&&(f=hc(f=Qh(null,s,u,f,g),u.attrs,g),R=null);else{const ne=u.directiveStylingLast;if(-1===ne||s[ne]!==S)if(f=Qh(S,s,u,f,g),null===R){let Pe=function W4(s,u,f){const g=f?u.classBindings:u.styleBindings;if(0!==L0(g))return s[Y4(g)]}(s,u,g);void 0!==Pe&&Array.isArray(Pe)&&(Pe=Qh(null,s,u,Pe[1],g),Pe=hc(Pe,u.attrs,g),function C1(s,u,f,g){s[Y4(f?u.classBindings:u.styleBindings)]=g}(s,u,g,Pe))}else R=function r5(s,u,f){let g;const S=u.directiveEnd;for(let R=1+u.directiveStylingLast;R<S;R++)g=hc(g,s[R].hostAttrs,f);return hc(g,u.attrs,f)}(s,u,g)}return void 0!==R&&(g?u.residualClasses=R:u.residualStyles=R),f}(S,R,u,g),function Ts(s,u,f,g,S,R){let ne=R?u.classBindings:u.styleBindings,be=Y4(ne),Pe=L0(ne);s[g]=f;let ht,Ke=!1;if(Array.isArray(f)?(ht=f[1],(null===ht||d4(f,ht)>0)&&(Ke=!0)):ht=f,S)if(0!==Pe){const cn=Y4(s[be+1]);s[g+1]=Z3(cn,be),0!==cn&&(s[cn+1]=qv(s[cn+1],g)),s[be+1]=function d8(s,u){return 131071&s|u<<17}(s[be+1],g)}else s[g+1]=Z3(be,0),0!==be&&(s[be+1]=qv(s[be+1],g)),be=g;else s[g+1]=Z3(Pe,0),0===be?be=g:s[Pe+1]=qv(s[Pe+1],g),Pe=g;Ke&&(s[g+1]=Xd(s[g+1])),e5(s,ht,g,!0),e5(s,ht,g,!1),function em(s,u,f,g,S){const R=S?s.residualClasses:s.residualStyles;null!=R&&"string"==typeof u&&d4(R,u)>=0&&(f[g+1]=Jd(f[g+1]))}(u,ht,s,g,R),ne=Z3(be,Pe),R?u.classBindings=ne:u.styleBindings=ne}(S,R,u,f,ne,g)}}(R,s,ne,g),u!==ki&&Jo(S,ne,u)&&function j1(s,u,f,g,S,R,ne,be){if(!(3&u.type))return;const Pe=s.data,Ke=Pe[be+1],ht=function Qd(s){return 1==(1&s)}(Ke)?e7(Pe,u,f,S,L0(Ke),ne):void 0;f8(ht)||(f8(R)||function $d(s){return 2==(2&s)}(Ke)&&(R=e7(Pe,null,f,S,be,ne)),function _h(s,u,f,g,S){if(u)S?s.addClass(f,g):s.removeClass(f,g);else{let R=-1===g.indexOf("-")?void 0:_4.DashCase;null==S?s.removeStyle(f,g,R):("string"==typeof S&&S.endsWith("!important")&&(S=S.slice(0,-10),R|=_4.Important),s.setStyle(f,g,S,R))}}(g,ne,gl(So(),f),S,R))}(R,R.data[So()],S,S[bi],s,S[ne+1]=function a5(s,u){return null==s||""===s||("string"==typeof u?s+=u:"object"==typeof s&&(s=hn(Oc(s)))),s}(u,f),g,ne)}function Qh(s,u,f,g,S){let R=null;const ne=f.directiveEnd;let be=f.directiveStylingLast;for(-1===be?be=f.directiveStart:be++;be<ne&&(R=u[be],g=hc(g,R.hostAttrs,S),R!==s);)be++;return null!==s&&(f.directiveStylingLast=be),g}function hc(s,u,f){const g=f?1:2;let S=-1;if(null!==u)for(let R=0;R<u.length;R++){const ne=u[R];"number"==typeof ne?S=ne:S===g&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ks(s,ne,!!f||u[++R]))}return void 0===s?null:s}function e7(s,u,f,g,S,R){const ne=null===u;let be;for(;S>0;){const Pe=s[S],Ke=Array.isArray(Pe),ht=Ke?Pe[1]:Pe,zt=null===ht;let cn=f[S+1];cn===ki&&(cn=zt?Ni:void 0);let pn=zt?L1(cn,g):ht===g?cn:void 0;if(Ke&&!f8(pn)&&(pn=L1(Pe,g)),f8(pn)&&(be=pn,ne))return be;const tr=s[S+1];S=ne?Y4(tr):L0(tr)}if(null!==u){let Pe=R?u.residualClasses:u.residualStyles;null!=Pe&&(be=L1(Pe,g))}return be}function f8(s){return void 0!==s}function N2(s,u){return!u||m1(s)}function Zc(s,u,f,g=!0){const S=u[Or];if(function Q6(s,u,f,g){const S=gt+g,R=f.length;g>0&&(f[S-1][ys]=u),g<R-gt?(u[ys]=f[S],L6(f,gt+g,u)):(f.push(u),u[ys]=null),u[Ii]=f;const ne=u[o1];null!==ne&&f!==ne&&function N1(s,u){const f=s[dl];u[Ra]!==u[Ii][Ii][Ra]&&(s[E1]=!0),null===f?s[dl]=[u]:f.push(u)}(ne,u);const be=u[mo];null!==be&&be.insertView(s),Q1(u),u[_i]|=128}(S,u,s,f),g){const R=Ac(f,s),ne=u[bi],be=f0(ne,s[Ms]);null!==be&&function zc(s,u,f,g,S,R){g[za]=S,g[wo]=u,D4(s,g,f,1,S,R)}(S,s[wo],ne,u,be,R)}}let B2=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=uf}return s})();function uf(){return hf(Ca(),rr())}const m7=B2,y7=class extends m7{constructor(u,f,g){super(),this._lContainer=u,this._hostTNode=f,this._hostLView=g}get element(){return z2(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const u=J2(this._hostTNode,this._hostLView);if(H8(u)){const f=o4(u,this._hostLView),g=o2(u);return new $o(f[Or].data[g+8],f)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const f=Eo(this._lContainer);return null!==f&&f[u]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(u,f,g){let S,R;"number"==typeof g?S=g:null!=g&&(S=g.index,R=g.injector);const be=u.createEmbeddedViewImpl(f||{},R,null);return this.insertImpl(be,S,N2(this._hostTNode,null)),be}createComponent(u,f,g,S,R){const ne=u&&!function P1(s){return"function"==typeof s}(u);let be;if(ne)be=f;else{const tr=f||{};be=tr.index,g=tr.injector,S=tr.projectableNodes,R=tr.environmentInjector||tr.ngModuleRef}const Pe=ne?u:new jh(Vi(u)),Ke=g||this.parentInjector;if(!R&&null==Pe.ngModule){const Pr=(ne?Ke:this.parentInjector).get(eo,null);Pr&&(R=Pr)}Vi(Pe.componentType??{});const pn=Pe.create(Ke,S,null,R);return this.insertImpl(pn.hostView,be,N2(this._hostTNode,null)),pn}insert(u,f){return this.insertImpl(u,f,!0)}insertImpl(u,f,g){const S=u._lView;if(function t4(s){return mt(s[Ii])}(S)){const be=this.indexOf(u);if(-1!==be)this.detach(be);else{const Pe=S[Ii],Ke=new y7(Pe,Pe[wo],Pe[Ii]);Ke.detach(Ke.indexOf(u))}}const R=this._adjustIndex(f),ne=this._lContainer;return Zc(ne,S,R,g),u.attachToViewContainerRef(),L6(y5(ne),R,u),u}move(u,f){return this.insert(u,f)}indexOf(u){const f=Eo(this._lContainer);return null!==f?f.indexOf(u):-1}remove(u){const f=this._adjustIndex(u,-1),g=C4(this._lContainer,f);g&&(hu(y5(this._lContainer),f),fo(g[Or],g))}detach(u){const f=this._adjustIndex(u,-1),g=C4(this._lContainer,f);return g&&null!=hu(y5(this._lContainer),f)?new t8(g):null}_adjustIndex(u,f=0){return u??this.length+f}};function Eo(s){return s[8]}function y5(s){return s[8]||(s[8]=[])}function hf(s,u){let f;const g=u[s.index];return mt(g)?f=g:(f=Mo(g,u,null,s),u[s.index]=f,w1(u,f)),_5(f,u,s,g),new y7(f,s,u)}let _5=function _7(s,u,f,g){if(s[Ms])return;let S;S=8&f.type?ba(g):function fm(s,u){const f=s[bi],g=f.createComment(""),S=Ua(u,s);return Wl(f,f0(f,S),g,function J6(s,u){return s.nextSibling(u)}(f,S),!1),g}(u,f),s[Ms]=S},y8=(s,u,f)=>!1;function M8(s,u,f,g,S,R,ne,be){const Pe=rr(),Ke=ya(),ht=s+Vr,zt=Ke.firstCreatePass?function mm(s,u,f,g,S,R,ne,be,Pe){const Ke=u.consts,ht=S0(u,s,4,ne||null,ml(Ke,be));N4(u,f,ht,ml(Ke,Pe)),X0(u,ht);const zt=ht.tView=U1(2,ht,g,S,R,u.directiveRegistry,u.pipeRegistry,null,u.schemas,Ke,null);return null!==u.queries&&(u.queries.template(u,ht),zt.queries=u.queries.embeddedTView(ht)),ht}(ht,Ke,Pe,u,f,g,S,R,ne):Ke.data[ht];kl(zt,!1);const cn=M7(Ke,Pe,zt,s);$0()&&w2(Ke,Pe,cn,zt),ri(cn,Pe);const pn=Mo(cn,Pe,cn,zt);return Pe[ht]=pn,w1(Pe,pn),function _8(s,u,f){return y8(s,u,f)}(pn,zt,Pe),ln(zt)&&H4(Ke,Pe,zt),null!=ne&&b1(Pe,zt,be),M8}let M7=function x8(s,u,f,g){return r4(!0),u[bi].createComment("")};function $c(s,u,f,g){const S=rr(),R=ya(),ne=Vr+s,be=S[bi],Pe=R.firstCreatePass?function Om(s,u,f,g,S,R){const ne=u.consts,Pe=S0(u,s,2,g,ml(ne,S));return N4(u,f,Pe,ml(ne,R)),null!==Pe.attrs&&to(Pe,Pe.attrs,!1),null!==Pe.mergedAttrs&&to(Pe,Pe.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,Pe),Pe}(ne,R,S,u,f,g):R.data[ne],Ke=k7(R,S,Pe,be,u,s);S[ne]=Ke;const ht=ln(Pe);return kl(Pe,!0),z4(be,Ke,Pe),32!=(32&Pe.flags)&&$0()&&w2(R,S,Ke,Pe),0===function el(){return zi.lFrame.elementDepthCount}()&&ri(Ke,S),function q4(){zi.lFrame.elementDepthCount++}(),ht&&(H4(R,S,Pe),Vh(R,Pe,S)),null!==g&&b1(S,Pe),$c}function I5(){let s=Ca();Z0()?n2():(s=s.parent,kl(s,!1));const u=s;(function Vf(s){return zi.skipHydrationRootTNode===s})(u)&&function t2(){zi.skipHydrationRootTNode=null}(),function W2(){zi.lFrame.elementDepthCount--}();const f=ya();return f.firstCreatePass&&(X0(f,s),Dt(s)&&f.queries.elementEnd(s)),null!=u.classesWithoutHost&&function V8(s){return 0!=(8&s.flags)}(u)&&ef(f,u,rr(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Nf(s){return 0!=(16&s.flags)}(u)&&ef(f,u,rr(),u.stylesWithoutHost,!1),I5}function B7(s,u,f,g){return $c(s,u,f,g),I5(),B7}let k7=(s,u,f,g,S,R)=>(r4(!0),w4(g,S,function x6(){return zi.lFrame.currentNamespace}()));function c6(s,u,f){const g=rr(),S=ya(),R=s+Vr,ne=S.firstCreatePass?function Im(s,u,f,g,S){const R=u.consts,ne=ml(R,g),be=S0(u,s,8,"ng-container",ne);return null!==ne&&to(be,ne,!0),N4(u,f,be,ml(R,S)),null!==u.queries&&u.queries.elementStart(u,be),be}(R,S,g,u,f):S.data[R];kl(ne,!0);const be=F7(S,g,ne,s);return g[R]=be,$0()&&w2(S,g,be,ne),ri(be,g),ln(ne)&&(H4(S,g,ne),Vh(S,ne,g)),null!=f&&b1(g,ne),c6}function U2(){let s=Ca();const u=ya();return Z0()?n2():(s=s.parent,kl(s,!1)),u.firstCreatePass&&(X0(u,s),Dt(s)&&u.queries.elementEnd(s)),U2}let F7=(s,u,f,g)=>(r4(!0),il(u[bi],""));function Vm(){return rr()}function Y7(s,u,f){const g=rr();if(Jo(g,Ll(),u)){const R=ya(),ne=Aa();Zl(R,ne,g,s,u,Ip(Be(R.data),ne,g),f,!0)}return Y7}const e=void 0;var i=["en",[["a","p"],["AM","PM"],e],[["AM","PM"],e,e],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],e,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],e,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",e,"{1} 'at' {0}",e],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n(s){const f=Math.floor(Math.abs(s)),g=s.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===g?1:5}];let c={};function v(s,u,f){"string"!=typeof u&&(f=u,u=s[le.LocaleId]),u=u.toLowerCase().replace(/_/g,"-"),c[u]=s,f&&(c[u][le.ExtraData]=f)}function m(s){const u=function _e(s){return s.toLowerCase().replace(/_/g,"-")}(s);let f=P(u);if(f)return f;const g=u.split("-")[0];if(f=P(g),f)return f;if("en"===g)return i;throw new ct(701,!1)}function D(s){return m(s)[le.PluralCase]}function P(s){return s in c||(c[s]=ai.ng&&ai.ng.common&&ai.ng.common.locales&&ai.ng.common.locales[s]),c[s]}var le=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(le||{});const Ue="en-US";let Rt=Ue;function Z7(s){return!!s&&"function"==typeof s.then}function jm(s){return!!s&&"function"==typeof s.subscribe}function Wm(s,u,f,g){const S=rr(),R=ya(),ne=Ca();return function fy(s,u,f,g,S,R,ne){const be=ln(g),Ke=s.firstCreatePass&&Y1(s),ht=u[Mi],zt=Uh(u);let cn=!0;if(3&g.type||ne){const Pr=Ua(g,u),Xr=ne?ne(Pr):Pr,fi=zt.length,Cr=ne?Wa=>ne(ba(Wa[g.index])):g.index;let Ki=null;if(!ne&&be&&(Ki=function K7(s,u,f,g){const S=s.cleanup;if(null!=S)for(let R=0;R<S.length-1;R+=2){const ne=S[R];if(ne===f&&S[R+1]===g){const be=u[Vs],Pe=S[R+2];return be.length>Pe?be[Pe]:null}"string"==typeof ne&&(R+=2)}return null}(s,u,S,g.index)),null!==Ki)(Ki.__ngLastListenerFn__||Ki).__ngNextListenerFn__=R,Ki.__ngLastListenerFn__=R,cn=!1;else{R=Cf(g,u,ht,R,!1);const Wa=f.listen(Xr,S,R);zt.push(R,Wa),Ke&&Ke.push(S,Cr,fi,fi+1)}}else R=Cf(g,u,ht,R,!1);const pn=g.outputs;let tr;if(cn&&null!==pn&&(tr=pn[S])){const Pr=tr.length;if(Pr)for(let Xr=0;Xr<Pr;Xr+=2){const vo=u[tr[Xr]][tr[Xr+1]].subscribe(R),T1=zt.length;zt.push(R,vo),Ke&&Ke.push(S,g.index,T1,-(T1+1))}}}(R,S,S[bi],ne,s,u,g),Wm}function vy(s,u,f,g){try{return pl(6,u,f),!1!==f(g)}catch(S){return Rd(s,S),!1}finally{pl(7,u,f)}}function Cf(s,u,f,g,S){return function R(ne){if(ne===Function)return g;Yh(s.componentOffset>-1?Jr(s.index,u):u);let Pe=vy(u,f,g,ne),Ke=R.__ngNextListenerFn__;for(;Ke;)Pe=vy(u,f,Ke,ne)&&Pe,Ke=Ke.__ngNextListenerFn__;return S&&!1===Pe&&ne.preventDefault(),Pe}}function Zm(s=1){return function r2(s){return(zi.lFrame.contextLView=function j2(s,u){for(;s>0;)u=u[a1],s--;return u}(s,zi.lFrame.contextLView))[Mi]}(s)}function mM(s,u){let f=null;const g=function Sa(s){const u=s.attrs;if(null!=u){const f=u.indexOf(5);if(!(1&f))return u[f+1]}return null}(s);for(let S=0;S<u.length;S++){const R=u[S];if("*"!==R){if(null===g?hi(s,R,!0):Lo(g,R))return S}else f=S}return f}function py(s){const u=rr()[Ra][wo];if(!u.projection){const g=u.projection=o3(s?s.length:1,null),S=g.slice();let R=u.child;for(;null!==R;){const ne=s?mM(R,s):0;null!==ne&&(S[ne]?S[ne].projectionNext=R:g[ne]=R,S[ne]=R),R=R.next}}}function gy(s,u=0,f){const g=rr(),S=ya(),R=S0(S,Vr+s,16,null,f||null);null===R.projection&&(R.projection=u),n2(),(!g[Rs]||e2())&&32!=(32&R.flags)&&function B1(s,u,f){Lu(u[bi],0,u,f,x2(s,f,u),w3(f.parent||u[wo],f,u))}(S,g,R)}function qm(s){return Ji(function h1(){return zi.lFrame.contextLView}(),Vr+s)}function n9(s,u=""){const f=rr(),g=ya(),S=s+Vr,R=g.firstCreatePass?S0(g,S,1,u,null):g.data[S],ne=Ay(g,f,R,u,s);f[S]=ne,$0()&&w2(g,f,ne,R),kl(R,!1)}let Ay=(s,u,f,g,S)=>(r4(!0),function ha(s,u){return s.createText(u)}(u[bi],g));function r9(s){return F5("",s,""),r9}function F5(s,u,f){const g=rr(),S=function P0(s,u,f,g){return Jo(s,Ll(),f)?u+Mt(f)+g:ki}(g,s,u,f);return S!==ki&&function L2(s,u,f){const g=gl(u,s);!function X6(s,u,f){s.setValue(u,f)}(s[bi],g,f)}(g,So(),S),F5}function Q7(s,u,f,g,S){if(s=Wt(s),Array.isArray(s))for(let R=0;R<s.length;R++)Q7(s[R],u,f,g,S);else{const R=ya(),ne=rr(),be=Ca();let Pe=p2(s)?s:Wt(s.provide);const Ke=J8(s),ht=1048575&be.providerIndexes,zt=be.directiveStart,cn=be.providerIndexes>>20;if(p2(s)||!s.multi){const pn=new Q2(Ke,S,w0),tr=i9(Pe,u,S?ht:ht+cn,zt);-1===tr?(B8(s2(be,ne),R,Pe),J7(R,s,u.length),u.push(Pe),be.directiveStart++,be.directiveEnd++,S&&(be.providerIndexes+=1048576),f.push(pn),ne.push(pn)):(f[tr]=pn,ne[tr]=pn)}else{const pn=i9(Pe,u,ht+cn,zt),tr=i9(Pe,u,ht,ht+cn),Xr=tr>=0&&f[tr];if(S&&!Xr||!S&&!(pn>=0&&f[pn])){B8(s2(be,ne),R,Pe);const fi=function TM(s,u,f,g,S){const R=new Q2(s,f,w0);return R.multi=[],R.index=u,R.componentProviders=0,By(R,S,g&&!f),R}(S?CM:SM,f.length,S,g,Ke);!S&&Xr&&(f[tr].providerFactory=fi),J7(R,s,u.length,0),u.push(Pe),be.directiveStart++,be.directiveEnd++,S&&(be.providerIndexes+=1048576),f.push(fi),ne.push(fi)}else J7(R,s,pn>-1?pn:tr,By(f[S?tr:pn],Ke,!S&&g));!S&&g&&Xr&&f[tr].componentProviders++}}}function J7(s,u,f,g){const S=p2(u),R=function gu(s){return!!s.useClass}(u);if(S||R){const Pe=(R?Wt(u.useClass):u).prototype.ngOnDestroy;if(Pe){const Ke=s.destroyHooks||(s.destroyHooks=[]);if(!S&&u.multi){const ht=Ke.indexOf(f);-1===ht?Ke.push(f,[g,Pe]):Ke[ht+1].push(g,Pe)}else Ke.push(f,Pe)}}}function By(s,u,f){return f&&s.componentProviders++,s.multi.push(u)-1}function i9(s,u,f,g){for(let S=f;S<g;S++)if(u[S]===s)return S;return-1}function SM(s,u,f,g){return a9(this.multi,[])}function CM(s,u,f,g){const S=this.multi;let R;if(this.providerFactory){const ne=this.providerFactory.componentProviders,be=tc(f,f[Or],this.providerFactory.index,g);R=be.slice(0,ne),a9(S,R);for(let Pe=ne;Pe<be.length;Pe++)R.push(be[Pe])}else R=[],a9(S,R);return R}function a9(s,u){for(let f=0;f<s.length;f++)u.push((0,s[f])());return u}function ky(s,u=[]){return f=>{f.providersResolver=(g,S)=>function wM(s,u,f){const g=ya();if(g.firstCreatePass){const S=Kn(s);Q7(f,g.data,g.blueprint,S,!0),Q7(u,g.data,g.blueprint,S,!1)}}(g,S?S(s):s,u)}}class au{}class o9{}function DM(s,u){return new s9(s,u??null,[])}class s9 extends au{constructor(u,f,g){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kd(this);const S=Xa(u);this._bootstrapComponents=ua(S.bootstrap),this._r3Injector=rh(u,f,[{provide:au,useValue:this},{provide:_0,useValue:this.componentFactoryResolver},...g],hn(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class l9 extends o9{constructor(u){super(),this.moduleType=u}create(u){return new s9(this.moduleType,u,[])}}class c9 extends au{constructor(u){super(),this.componentFactoryResolver=new kd(this),this.instance=null;const f=new p1([...u.providers,{provide:au,useValue:this},{provide:_0,useValue:this.componentFactoryResolver}],u.parent||O1(),u.debugName,new Set(["environment"]));this.injector=f,u.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function Uy(s,u,f=null){return new c9({providers:s,parent:u,debugName:f,runEnvironmentInitializers:!0}).injector}let EM=(()=>{class s{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const g=Tc(0,f.type),S=g.length>0?Uy([g],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,S)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Nr({token:s,providedIn:"environment",factory:()=>new s(Oi(eo))})}return s})();const zM={detail:{feature:"NgStandalone"}};function Yy(s){E0("mark_use_counter",zM),s.getStandaloneInjector=u=>u.get(EM).getOrCreateStandaloneInjector(s)}function ng(s,u,f){const g=Bs()+s,S=rr();return S[g]===ki?U4(S,g,f?u.call(f):u()):function s8(s,u){return s[u]}(S,g)}function A8(s,u){const f=s[u];return f===ki?void 0:f}function Qy(s,u,f,g,S,R,ne){const be=u+f;return function A0(s,u,f,g){const S=Jo(s,u,f);return Jo(s,u+1,g)||S}(s,be,S,R)?U4(s,be+2,ne?g.call(ne,S,R):g(S,R)):A8(s,be+2)}function e_(s,u){const f=ya();let g;const S=s+Vr;f.firstCreatePass?(g=function UM(s,u){if(u)for(let f=u.length-1;f>=0;f--){const g=u[f];if(s===g.name)return g}}(u,f.pipeRegistry),f.data[S]=g,g.onDestroy&&(f.destroyHooks??=[]).push(S,g.onDestroy)):g=f.data[S];const R=g.factory||(g.factory=Fa(g.type)),be=aa(w0);try{const Pe=e3(!1),Ke=R();return e3(Pe),function Jm(s,u,f,g){f>=s.data.length&&(s.data[f]=null,s.blueprint[f]=null),u[f]=g}(f,rr(),S,Ke),Ke}finally{aa(be)}}function j5(s,u,f){const g=s+Vr,S=rr(),R=Ji(S,g);return Ef(S,g)?function d9(s,u,f,g,S,R){const ne=u+f;return Jo(s,ne,S)?U4(s,ne+1,R?g.call(R,S):g(S)):A8(s,ne+1)}(S,Bs(),u,R.transform,f,R):R.transform(f)}function t_(s,u,f,g){const S=s+Vr,R=rr(),ne=Ji(R,S);return Ef(R,S)?Qy(R,Bs(),u,ne.transform,f,g,ne):ne.transform(f,g)}function Ef(s,u){return s[Or].data[u].pure}function r_(){return this._results[Symbol.iterator]()}class og{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new B4)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=og.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=r_)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,f){return this._results.reduce(u,f)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,f){this.dirty=!1;const g=function is(s){return s.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function h2(s,u,f){if(s.length!==u.length)return!1;for(let g=0;g<s.length;g++){let S=s[g],R=u[g];if(f&&(S=f(S),R=f(R)),R!==S)return!1}return!0}(this._results,g,f))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let W5=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=WM}return s})();const GM=W5,jM=class extends GM{constructor(u,f,g){super(),this._declarationLView=u,this._declarationTContainer=f,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,f){return this.createEmbeddedViewImpl(u,f)}createEmbeddedViewImpl(u,f,g){const S=function q3(s,u,f,g){const S=u.tView,be=P2(s,S,f,4096&s[_i]?4096:16,null,u,null,null,null,g?.injector??null,g?.dehydratedView??null);be[o1]=s[u.index];const Ke=s[mo];return null!==Ke&&(be[mo]=Ke.createEmbeddedView(S)),i8(S,be,f),be}(this._declarationLView,this._declarationTContainer,u,{injector:f,dehydratedView:g});return new t8(S)}};function WM(){return sg(Ca(),rr())}function sg(s,u){return 4&s.type?new jM(u,s,z2(s,u)):null}class Z5{constructor(u){this.queryList=u,this.matches=null}clone(){return new Z5(this.queryList)}setDirty(){this.queryList.setDirty()}}class P8{constructor(u=[]){this.queries=u}createEmbeddedView(u){const f=u.queries;if(null!==f){const g=null!==u.contentQueries?u.contentQueries[0]:f.length,S=[];for(let R=0;R<g;R++){const ne=f.getByIndex(R);S.push(this.queries[ne.indexInDeclarationView].clone())}return new P8(S)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let f=0;f<this.queries.length;f++)null!==g9(u,f).matches&&this.queries[f].setDirty()}}class lg{constructor(u,f,g=null){this.predicate=u,this.flags=f,this.read=g}}class zf{constructor(u=[]){this.queries=u}elementStart(u,f){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(u,f)}elementEnd(u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(u)}embeddedTView(u){let f=null;for(let g=0;g<this.length;g++){const S=null!==f?f.length:0,R=this.getByIndex(g).embeddedTView(u,S);R&&(R.indexInDeclarationView=g,null!==f?f.push(R):f=[R])}return null!==f?new zf(f):null}template(u,f){for(let g=0;g<this.queries.length;g++)this.queries[g].template(u,f)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class f9{constructor(u,f=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(u,f){this.isApplyingToNode(f)&&this.matchTNode(u,f)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,f){this.elementStart(u,f)}embeddedTView(u,f){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,f),new f9(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let g=u.parent;for(;null!==g&&8&g.type&&g.index!==f;)g=g.parent;return f===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(u,f){const g=this.metadata.predicate;if(Array.isArray(g))for(let S=0;S<g.length;S++){const R=g[S];this.matchTNodeWithReadOption(u,f,ZM(f,R)),this.matchTNodeWithReadOption(u,f,ec(f,u,R,!1,!1))}else g===W5?4&f.type&&this.matchTNodeWithReadOption(u,f,-1):this.matchTNodeWithReadOption(u,f,ec(f,u,g,!1,!1))}matchTNodeWithReadOption(u,f,g){if(null!==g){const S=this.metadata.read;if(null!==S)if(S===M0||S===B2||S===W5&&4&f.type)this.addMatch(f.index,-2);else{const R=ec(f,u,S,!1,!1);null!==R&&this.addMatch(f.index,R)}else this.addMatch(f.index,g)}}addMatch(u,f){null===this.matches?this.matches=[u,f]:this.matches.push(u,f)}}function ZM(s,u){const f=s.localNames;if(null!==f)for(let g=0;g<f.length;g+=2)if(f[g]===u)return f[g+1];return null}function i_(s,u,f,g){return-1===f?function KM(s,u){return 11&s.type?z2(s,u):4&s.type?sg(s,u):null}(u,s):-2===f?function a_(s,u,f){return f===M0?z2(u,s):f===W5?sg(u,s):f===B2?hf(u,s):void 0}(s,u,g):tc(s,s[Or],f,u)}function cg(s,u,f,g){const S=u[mo].queries[g];if(null===S.matches){const R=s.data,ne=f.matches,be=[];for(let Pe=0;Pe<ne.length;Pe+=2){const Ke=ne[Pe];be.push(Ke<0?null:i_(u,R[Ke],ne[Pe+1],f.metadata.read))}S.matches=be}return S.matches}function K5(s,u,f,g){const S=s.queries.getByIndex(f),R=S.matches;if(null!==R){const ne=cg(s,u,S,f);for(let be=0;be<R.length;be+=2){const Pe=R[be];if(Pe>0)g.push(ne[be/2]);else{const Ke=R[be+1],ht=u[-Pe];for(let zt=gt;zt<ht.length;zt++){const cn=ht[zt];cn[o1]===cn[Ii]&&K5(cn[Or],cn,Ke,g)}if(null!==ht[dl]){const zt=ht[dl];for(let cn=0;cn<zt.length;cn++){const pn=zt[cn];K5(pn[Or],pn,Ke,g)}}}}}return g}function v9(s){const u=rr(),f=ya(),g=tt();bt(g+1);const S=g9(f,g);if(s.dirty&&function l1(s){return 4==(4&s[_i])}(u)===(2==(2&S.metadata.flags))){if(null===S.matches)s.reset([]);else{const R=S.crossesNgTemplate?K5(f,u,g,[]):cg(f,u,S,g);s.reset(R,zh),s.notifyOnChanges()}return!0}return!1}function o_(s,u,f){const g=ya();g.firstCreatePass&&(p9(g,new lg(s,u,f),-1),2==(2&u)&&(g.staticViewQueries=!0)),c_(g,rr(),u)}function Af(s,u,f,g){const S=ya();if(S.firstCreatePass){const R=Ca();p9(S,new lg(u,f,g),R.index),function $M(s,u){const f=s.contentQueries||(s.contentQueries=[]);u!==(f.length?f[f.length-1]:-1)&&f.push(s.queries.length-1,u)}(S,s),2==(2&f)&&(S.staticContentQueries=!0)}c_(S,rr(),f)}function s_(){return function l_(s,u){return s[mo].queries[u].queryList}(rr(),tt())}function c_(s,u,f){const g=new og(4==(4&f));(function zv(s,u,f,g){const S=Uh(u);S.push(f),s.firstCreatePass&&Y1(s).push(g,S.length-1)})(s,u,g,g.destroy),null===u[mo]&&(u[mo]=new P8),u[mo].queries.push(new Z5(g))}function p9(s,u,f){null===s.queries&&(s.queries=new zf),s.queries.track(new f9(u,f))}function g9(s,u){return s.queries.getByIndex(u)}function ug(s,u){return sg(s,u)}const T9=new ni("Application Initializer");let Lf=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g}),this.appInits=gi(T9,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const S of this.appInits){const R=S();if(Z7(R))f.push(R);else if(jm(R)){const ne=new Promise((be,Pe)=>{R.subscribe({complete:be,error:Pe})});f.push(ne)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{g()}).catch(S=>{this.reject(S)}),0===f.length&&g(),this.initialized=!0}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),G2=(()=>{class s{log(f){console.log(f)}warn(f){console.warn(f)}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const q5=new ni("LocaleId",{providedIn:"root",factory:()=>gi(q5,Qn.Optional|Qn.SkipSelf)||function fx(){return typeof $localize<"u"&&$localize.locale||Ue}()}),D9=new ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let z_=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yt.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class mx{constructor(u,f){this.ngModuleFactory=u,this.componentFactories=f}}let yx=(()=>{class s{compileModuleSync(f){return new l9(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const g=this.compileModuleSync(f),R=ua(Xa(f).declarations).reduce((ne,be)=>{const Pe=Vi(be);return Pe&&ne.push(new jh(Pe)),ne},[]);return new mx(g,R)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const F_=new ni(""),U_=new ni("");let A9,_b=(()=>{class s{constructor(f,g,S){this._ngZone=f,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A9||(function Nx(s){A9=s}(S),S.addToWindow(g)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ds.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(f)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,g,S){let R=-1;g&&g>0&&(R=setTimeout(()=>{this._callbacks=this._callbacks.filter(ne=>ne.timeoutId!==R),f(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:f,timeoutId:R,updateCb:S})}whenStable(f,g,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,g,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,g,S){return[]}static#e=this.\u0275fac=function(g){return new(g||s)(Oi(ds),Oi(Y_),Oi(U_))};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac})}return s})(),Y_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(f,g){this._applications.set(f,g)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,g=!0){return A9?.findTestabilityInTree(this,f,g)??null}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Ql=null;const f6=new ni("AllowMultipleToken"),tp=new ni("PlatformDestroyListeners"),np=new ni("appBootstrapListener");function L9(s,u,f=[]){const g=`Platform: ${u}`,S=new ni(g);return(R=[])=>{let ne=O9();if(!ne||ne.injector.get(f6,!1)){const be=[...f,...R,{provide:S,useValue:!0}];s?s(be):function Yx(s){if(Ql&&!Ql.get(f6,!1))throw new ct(400,!1);(function P9(){!function ee(s){I=s}(()=>{throw new ct(600,!1)})})(),Ql=s;const u=s.get(j_);(function v6(s){s.get(y2,null)?.forEach(f=>f())})(s)}(function G_(s=[],u){return Il.create({name:u,providers:[{provide:f3,useValue:"platform"},{provide:tp,useValue:new Set([()=>Ql=null])},...s]})}(be,g))}return function hg(s){const u=O9();if(!u)throw new ct(401,!1);return u}()}}function O9(){return Ql?.get(j_)??null}let j_=(()=>{class s{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,g){const S=function Z_(s="zone.js",u){return"noop"===s?new Gg:"zone.js"===s?new ds(u):s}(g?.ngZone,function W_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:g?.ngZoneEventCoalescing,runCoalescing:g?.ngZoneRunCoalescing}));return S.run(()=>{const R=function Fy(s,u,f){return new s9(s,u,f)}(f.moduleType,this.injector,function If(s){return[{provide:ds,useFactory:s},{provide:bs,multi:!0,useFactory:()=>{const u=gi(X_,{optional:!0});return()=>u.initialize()}},{provide:rp,useFactory:bb},{provide:Nd,useFactory:kp}]}(()=>S)),ne=R.injector.get(sc,null);return S.runOutsideAngular(()=>{const be=S.onError.subscribe({next:Pe=>{ne.handleError(Pe)}});R.onDestroy(()=>{dg(this._modules,R),be.unsubscribe()})}),function K_(s,u,f){try{const g=f();return Z7(g)?g.catch(S=>{throw u.runOutsideAngular(()=>s.handleError(S)),S}):g}catch(g){throw u.runOutsideAngular(()=>s.handleError(g)),g}}(ne,S,()=>{const be=R.injector.get(Lf);return be.runInitializers(),be.donePromise.then(()=>(function At(s){pt(s,"Expected localeId to be defined"),"string"==typeof s&&(Rt=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(q5,Ue)||Ue),this._moduleDoBootstrap(R),R))})})}bootstrapModule(f,g=[]){const S=I9({},g);return function Bx(s,u,f){const g=new l9(f);return Promise.resolve(g)}(0,0,f).then(R=>this.bootstrapModuleFactory(R,S))}_moduleDoBootstrap(f){const g=f.injector.get(Of);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(S=>g.bootstrap(S));else{if(!f.instance.ngDoBootstrap)throw new ct(-403,!1);f.instance.ngDoBootstrap(g)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const f=this._injector.get(tp,null);f&&(f.forEach(g=>g()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(g){return new(g||s)(Oi(Il))};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function I9(s,u){return Array.isArray(u)?u.reduce(I9,s):{...s,...u}}let Of=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gi(rp),this.zoneIsStable=gi(Nd),this.componentTypes=[],this.components=[],this.isStable=gi(z_).hasPendingTasks.pipe((0,Gn.w)(f=>f?(0,mn.of)(!1):this.zoneIsStable),(0,Wn.x)(),(0,Cn.B)()),this._injector=gi(eo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,g){const S=f instanceof fd;if(!this._injector.get(Lf).done)throw!S&&Zs(f),new ct(405,!1);let ne;ne=S?f:this._injector.get(_0).resolveComponentFactory(f),this.componentTypes.push(ne.componentType);const be=function Fx(s){return s.isBoundToModule}(ne)?void 0:this._injector.get(au),Ke=ne.create(Il.NULL,[],g||ne.selector,be),ht=Ke.location.nativeElement,zt=Ke.injector.get(F_,null);return zt?.registerApplication(ht),Ke.onDestroy(()=>{this.detachView(Ke.hostView),dg(this.components,Ke),zt?.unregisterApplication(ht)}),this._loadComponent(Ke),Ke}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const g=f;this._views.push(g),g.attachToAppRef(this)}detachView(f){const g=f;dg(this._views,g),g.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const g=this._injector.get(np,[]);[...this._bootstrapListeners,...g].forEach(S=>S(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>dg(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new ct(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function dg(s,u){const f=s.indexOf(u);f>-1&&s.splice(f,1)}const rp=new ni("",{providedIn:"root",factory:()=>gi(sc).handleError.bind(void 0)});function bb(){const s=gi(ds),u=gi(sc);return f=>s.runOutsideAngular(()=>u.handleError(f))}let X_=(()=>{class s{constructor(){this.zone=gi(ds),this.applicationRef=gi(Of)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275prov=Nr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function jx(){return!1}function fg(){}const qx=L9(null,"core",[]);let eb=(()=>{class s{constructor(f){}static#e=this.\u0275fac=function(g){return new(g||s)(Oi(Of))};static#t=this.\u0275mod=Dl({type:s});static#n=this.\u0275inj=rn({})}return s})();function Ib(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Vb(s){const u=Vi(s);if(!u)return null;const f=new jh(u);return{get selector(){return f.selector},get type(){return f.componentType},get inputs(){return f.inputs},get outputs(){return f.outputs},get ngContentSelectors(){return f.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},6593:($t,We,C)=>{"use strict";C.d(We,{Dx:()=>Wn,H7:()=>_t,b2:()=>an,q6:()=>at,se:()=>L});var _=C(9212),T=C(6814);class Y extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends Y{static makeCurrent(){(0,T.HT)(new ie)}onAndCancel(on,Ht,tn){return on.addEventListener(Ht,tn),()=>{on.removeEventListener(Ht,tn)}}dispatchEvent(on,Ht){on.dispatchEvent(Ht)}remove(on){on.parentNode&&on.parentNode.removeChild(on)}createElement(on,Ht){return(Ht=Ht||this.getDefaultDocument()).createElement(on)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(on){return on.nodeType===Node.ELEMENT_NODE}isShadowRoot(on){return on instanceof DocumentFragment}getGlobalEventTarget(on,Ht){return"window"===Ht?window:"document"===Ht?on:"body"===Ht?on.body:null}getBaseHref(on){const Ht=function me(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==Ht?null:function de(Mn){Me=Me||document.createElement("a"),Me.setAttribute("href",Mn);const on=Me.pathname;return"/"===on.charAt(0)?on:`/${on}`}(Ht)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(on){return(0,T.Mx)(document.cookie,on)}}let Me,pe=null,Z=(()=>{class Mn{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(tn){return new(tn||Mn)};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:Mn.\u0275fac})}return Mn})();const Q=new _.OlP("EventManagerPlugins");let W=(()=>{class Mn{constructor(Ht,tn){this._zone=tn,this._eventNameToPlugin=new Map,Ht.forEach(Xn=>{Xn.manager=this}),this._plugins=Ht.slice().reverse()}addEventListener(Ht,tn,Xn){return this._findPluginFor(tn).addEventListener(Ht,tn,Xn)}getZone(){return this._zone}_findPluginFor(Ht){let tn=this._eventNameToPlugin.get(Ht);if(tn)return tn;if(tn=this._plugins.find(Lr=>Lr.supports(Ht)),!tn)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(Ht,tn),tn}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(Q),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:Mn.\u0275fac})}return Mn})();class re{constructor(on){this._doc=on}}const te="ng-app-id";let q=(()=>{class Mn{constructor(Ht,tn,Xn,Lr={}){this.doc=Ht,this.appId=tn,this.nonce=Xn,this.platformId=Lr,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,T.PM)(Lr),this.resetHostNodes()}addStyles(Ht){for(const tn of Ht)1===this.changeUsageCount(tn,1)&&this.onStyleAdded(tn)}removeStyles(Ht){for(const tn of Ht)this.changeUsageCount(tn,-1)<=0&&this.onStyleRemoved(tn)}ngOnDestroy(){const Ht=this.styleNodesInDOM;Ht&&(Ht.forEach(tn=>tn.remove()),Ht.clear());for(const tn of this.getAllStyles())this.onStyleRemoved(tn);this.resetHostNodes()}addHost(Ht){this.hostNodes.add(Ht);for(const tn of this.getAllStyles())this.addStyleToHost(Ht,tn)}removeHost(Ht){this.hostNodes.delete(Ht)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ht){for(const tn of this.hostNodes)this.addStyleToHost(tn,Ht)}onStyleRemoved(Ht){const tn=this.styleRef;tn.get(Ht)?.elements?.forEach(Xn=>Xn.remove()),tn.delete(Ht)}collectServerRenderedStyles(){const Ht=this.doc.head?.querySelectorAll(`style[${te}="${this.appId}"]`);if(Ht?.length){const tn=new Map;return Ht.forEach(Xn=>{null!=Xn.textContent&&tn.set(Xn.textContent,Xn)}),tn}return null}changeUsageCount(Ht,tn){const Xn=this.styleRef;if(Xn.has(Ht)){const Lr=Xn.get(Ht);return Lr.usage+=tn,Lr.usage}return Xn.set(Ht,{usage:tn,elements:[]}),tn}getStyleElement(Ht,tn){const Xn=this.styleNodesInDOM,Lr=Xn?.get(tn);if(Lr?.parentNode===Ht)return Xn.delete(tn),Lr.removeAttribute(te),Lr;{const Br=this.doc.createElement("style");return this.nonce&&Br.setAttribute("nonce",this.nonce),Br.textContent=tn,this.platformIsServer&&Br.setAttribute(te,this.appId),Ht.appendChild(Br),Br}}addStyleToHost(Ht,tn){const Xn=this.getStyleElement(Ht,tn),Lr=this.styleRef,Br=Lr.get(tn)?.elements;Br?Br.push(Xn):Lr.set(tn,{elements:[Xn],usage:1})}resetHostNodes(){const Ht=this.hostNodes;Ht.clear(),Ht.add(this.doc.head)}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(T.K0),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:Mn.\u0275fac})}return Mn})();const oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M=/%COMP%/g,$=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function U(Mn,on){return on.map(Ht=>Ht.replace(M,Mn))}let L=(()=>{class Mn{constructor(Ht,tn,Xn,Lr,Br,vi,Hi,$i=null){this.eventManager=Ht,this.sharedStylesHost=tn,this.appId=Xn,this.removeStylesOnCompDestroy=Lr,this.doc=Br,this.platformId=vi,this.ngZone=Hi,this.nonce=$i,this.rendererByCompId=new Map,this.platformIsServer=(0,T.PM)(vi),this.defaultRenderer=new E(Ht,Br,Hi,this.platformIsServer)}createRenderer(Ht,tn){if(!Ht||!tn)return this.defaultRenderer;this.platformIsServer&&tn.encapsulation===_.ifc.ShadowDom&&(tn={...tn,encapsulation:_.ifc.Emulated});const Xn=this.getOrCreateRenderer(Ht,tn);return Xn instanceof N?Xn.applyToHost(Ht):Xn instanceof I&&Xn.applyStyles(),Xn}getOrCreateRenderer(Ht,tn){const Xn=this.rendererByCompId;let Lr=Xn.get(tn.id);if(!Lr){const Br=this.doc,vi=this.ngZone,Hi=this.eventManager,$i=this.sharedStylesHost,Pa=this.removeStylesOnCompDestroy,On=this.platformIsServer;switch(tn.encapsulation){case _.ifc.Emulated:Lr=new N(Hi,$i,tn,this.appId,Pa,Br,vi,On);break;case _.ifc.ShadowDom:return new O(Hi,$i,Ht,tn,Br,vi,this.nonce,On);default:Lr=new I(Hi,$i,tn,Pa,Br,vi,On)}Xn.set(tn.id,Lr)}return Lr}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(W),_.LFG(q),_.LFG(_.AFp),_.LFG($),_.LFG(T.K0),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:Mn.\u0275fac})}return Mn})();class E{constructor(on,Ht,tn,Xn){this.eventManager=on,this.doc=Ht,this.ngZone=tn,this.platformIsServer=Xn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(on,Ht){return Ht?this.doc.createElementNS(oe[Ht]||Ht,on):this.doc.createElement(on)}createComment(on){return this.doc.createComment(on)}createText(on){return this.doc.createTextNode(on)}appendChild(on,Ht){(A(on)?on.content:on).appendChild(Ht)}insertBefore(on,Ht,tn){on&&(A(on)?on.content:on).insertBefore(Ht,tn)}removeChild(on,Ht){on&&on.removeChild(Ht)}selectRootElement(on,Ht){let tn="string"==typeof on?this.doc.querySelector(on):on;if(!tn)throw new _.vHH(-5104,!1);return Ht||(tn.textContent=""),tn}parentNode(on){return on.parentNode}nextSibling(on){return on.nextSibling}setAttribute(on,Ht,tn,Xn){if(Xn){Ht=Xn+":"+Ht;const Lr=oe[Xn];Lr?on.setAttributeNS(Lr,Ht,tn):on.setAttribute(Ht,tn)}else on.setAttribute(Ht,tn)}removeAttribute(on,Ht,tn){if(tn){const Xn=oe[tn];Xn?on.removeAttributeNS(Xn,Ht):on.removeAttribute(`${tn}:${Ht}`)}else on.removeAttribute(Ht)}addClass(on,Ht){on.classList.add(Ht)}removeClass(on,Ht){on.classList.remove(Ht)}setStyle(on,Ht,tn,Xn){Xn&(_.JOm.DashCase|_.JOm.Important)?on.style.setProperty(Ht,tn,Xn&_.JOm.Important?"important":""):on.style[Ht]=tn}removeStyle(on,Ht,tn){tn&_.JOm.DashCase?on.style.removeProperty(Ht):on.style[Ht]=""}setProperty(on,Ht,tn){on[Ht]=tn}setValue(on,Ht){on.nodeValue=Ht}listen(on,Ht,tn){if("string"==typeof on&&!(on=(0,T.q)().getGlobalEventTarget(this.doc,on)))throw new Error(`Unsupported event target ${on} for event ${Ht}`);return this.eventManager.addEventListener(on,Ht,this.decoratePreventDefault(tn))}decoratePreventDefault(on){return Ht=>{if("__ngUnwrap__"===Ht)return on;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>on(Ht)):on(Ht))&&Ht.preventDefault()}}}function A(Mn){return"TEMPLATE"===Mn.tagName&&void 0!==Mn.content}class O extends E{constructor(on,Ht,tn,Xn,Lr,Br,vi,Hi){super(on,Lr,Br,Hi),this.sharedStylesHost=Ht,this.hostEl=tn,this.shadowRoot=tn.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $i=U(Xn.id,Xn.styles);for(const Pa of $i){const On=document.createElement("style");vi&&On.setAttribute("nonce",vi),On.textContent=Pa,this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(on){return on===this.hostEl?this.shadowRoot:on}appendChild(on,Ht){return super.appendChild(this.nodeOrShadowRoot(on),Ht)}insertBefore(on,Ht,tn){return super.insertBefore(this.nodeOrShadowRoot(on),Ht,tn)}removeChild(on,Ht){return super.removeChild(this.nodeOrShadowRoot(on),Ht)}parentNode(on){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(on)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I extends E{constructor(on,Ht,tn,Xn,Lr,Br,vi,Hi){super(on,Lr,Br,vi),this.sharedStylesHost=Ht,this.removeStylesOnCompDestroy=Xn,this.styles=Hi?U(Hi,tn.styles):tn.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class N extends I{constructor(on,Ht,tn,Xn,Lr,Br,vi,Hi){const $i=Xn+"-"+tn.id;super(on,Ht,tn,Lr,Br,vi,Hi,$i),this.contentAttr=function X(Mn){return"_ngcontent-%COMP%".replace(M,Mn)}($i),this.hostAttr=function ce(Mn){return"_nghost-%COMP%".replace(M,Mn)}($i)}applyToHost(on){this.applyStyles(),this.setAttribute(on,this.hostAttr,"")}createElement(on,Ht){const tn=super.createElement(on,Ht);return super.setAttribute(tn,this.contentAttr,""),tn}}let ee=(()=>{class Mn extends re{constructor(Ht){super(Ht)}supports(Ht){return!0}addEventListener(Ht,tn,Xn){return Ht.addEventListener(tn,Xn,!1),()=>this.removeEventListener(Ht,tn,Xn)}removeEventListener(Ht,tn,Xn){return Ht.removeEventListener(tn,Xn)}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(T.K0))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:Mn.\u0275fac})}return Mn})();const j=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:Mn=>Mn.altKey,control:Mn=>Mn.ctrlKey,meta:Mn=>Mn.metaKey,shift:Mn=>Mn.shiftKey};let he=(()=>{class Mn extends re{constructor(Ht){super(Ht)}supports(Ht){return null!=Mn.parseEventName(Ht)}addEventListener(Ht,tn,Xn){const Lr=Mn.parseEventName(tn),Br=Mn.eventCallback(Lr.fullKey,Xn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(Ht,Lr.domEventName,Br))}static parseEventName(Ht){const tn=Ht.toLowerCase().split("."),Xn=tn.shift();if(0===tn.length||"keydown"!==Xn&&"keyup"!==Xn)return null;const Lr=Mn._normalizeKey(tn.pop());let Br="",vi=tn.indexOf("code");if(vi>-1&&(tn.splice(vi,1),Br="code."),j.forEach($i=>{const Pa=tn.indexOf($i);Pa>-1&&(tn.splice(Pa,1),Br+=$i+".")}),Br+=Lr,0!=tn.length||0===Lr.length)return null;const Hi={};return Hi.domEventName=Xn,Hi.fullKey=Br,Hi}static matchEventFullKeyCode(Ht,tn){let Xn=ae[Ht.key]||Ht.key,Lr="";return tn.indexOf("code.")>-1&&(Xn=Ht.code,Lr="code."),!(null==Xn||!Xn)&&(Xn=Xn.toLowerCase()," "===Xn?Xn="space":"."===Xn&&(Xn="dot"),j.forEach(Br=>{Br!==Xn&&(0,fe[Br])(Ht)&&(Lr+=Br+".")}),Lr+=Xn,Lr===tn)}static eventCallback(Ht,tn,Xn){return Lr=>{Mn.matchEventFullKeyCode(Lr,Ht)&&Xn.runGuarded(()=>tn(Lr))}}static _normalizeKey(Ht){return"esc"===Ht?"escape":Ht}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(T.K0))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:Mn.\u0275fac})}return Mn})();const at=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:T.bD},{provide:_.g9A,useValue:function Ae(){ie.makeCurrent()},multi:!0},{provide:T.K0,useFactory:function Le(){return(0,_.RDi)(document),document},deps:[]}]),nt=new _.OlP(""),dt=[{provide:_.rWj,useClass:class G{addToWindow(on){_.dqk.getAngularTestability=(tn,Xn=!0)=>{const Lr=on.findTestabilityInTree(tn,Xn);if(null==Lr)throw new _.vHH(5103,!1);return Lr},_.dqk.getAllAngularTestabilities=()=>on.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>on.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(tn=>{const Xn=_.dqk.getAllAngularTestabilities();let Lr=Xn.length,Br=!1;const vi=function(Hi){Br=Br||Hi,Lr--,0==Lr&&tn(Br)};Xn.forEach(Hi=>{Hi.whenStable(vi)})})}findTestabilityInTree(on,Ht,tn){return null==Ht?null:on.getTestability(Ht)??(tn?(0,T.q)().isShadowRoot(Ht)?this.findTestabilityInTree(on,Ht.host,!0):this.findTestabilityInTree(on,Ht.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],It=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Ne(){return new _.qLn},deps:[]},{provide:Q,useClass:ee,multi:!0,deps:[T.K0,_.R0b,_.Lbi]},{provide:Q,useClass:he,multi:!0,deps:[T.K0]},L,q,W,{provide:_.FYo,useExisting:L},{provide:T.JF,useClass:Z,deps:[]},[]];let an=(()=>{class Mn{constructor(Ht){}static withServerTransition(Ht){return{ngModule:Mn,providers:[{provide:_.AFp,useValue:Ht.appId}]}}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(nt,12))};static#t=this.\u0275mod=_.oAB({type:Mn});static#n=this.\u0275inj=_.cJS({providers:[...It,...dt],imports:[T.ez,_.hGG]})}return Mn})(),Wn=(()=>{class Mn{constructor(Ht){this._doc=Ht}getTitle(){return this._doc.title}setTitle(Ht){this._doc.title=Ht||""}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(T.K0))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:function(tn){let Xn=null;return Xn=tn?new tn:function Gn(){return new Wn((0,_.LFG)(T.K0))}(),Xn},providedIn:"root"})}return Mn})();typeof window<"u"&&window;let _t=(()=>{class Mn{static#e=this.\u0275fac=function(tn){return new(tn||Mn)};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:function(tn){let Xn=null;return Xn=tn?new(tn||Mn):_.LFG(Ye),Xn},providedIn:"root"})}return Mn})(),Ye=(()=>{class Mn extends _t{constructor(Ht){super(),this._doc=Ht}sanitize(Ht,tn){if(null==tn)return null;switch(Ht){case _.q3G.NONE:return tn;case _.q3G.HTML:return(0,_.qzn)(tn,"HTML")?(0,_.z3N)(tn):(0,_.EiD)(this._doc,String(tn)).toString();case _.q3G.STYLE:return(0,_.qzn)(tn,"Style")?(0,_.z3N)(tn):tn;case _.q3G.SCRIPT:if((0,_.qzn)(tn,"Script"))return(0,_.z3N)(tn);throw new _.vHH(5200,!1);case _.q3G.URL:return(0,_.qzn)(tn,"URL")?(0,_.z3N)(tn):(0,_.mCW)(String(tn));case _.q3G.RESOURCE_URL:if((0,_.qzn)(tn,"ResourceURL"))return(0,_.z3N)(tn);throw new _.vHH(5201,!1);default:throw new _.vHH(5202,!1)}}bypassSecurityTrustHtml(Ht){return(0,_.JVY)(Ht)}bypassSecurityTrustStyle(Ht){return(0,_.L6k)(Ht)}bypassSecurityTrustScript(Ht){return(0,_.eBb)(Ht)}bypassSecurityTrustUrl(Ht){return(0,_.LAX)(Ht)}bypassSecurityTrustResourceUrl(Ht){return(0,_.pB0)(Ht)}static#e=this.\u0275fac=function(tn){return new(tn||Mn)(_.LFG(T.K0))};static#t=this.\u0275prov=_.Yz7({token:Mn,factory:function(tn){let Xn=null;return Xn=tn?new tn:function Xe(Mn){return new Ye(Mn.get(T.K0))}(_.LFG(_.zs3)),Xn},providedIn:"root"})}return Mn})()},3742:($t,We,C)=>{"use strict";C.d(We,{gz:()=>Ei,m2:()=>Ui,eC:()=>Le,F0:()=>Ua,rH:()=>Ji,Od:()=>Jr,Bz:()=>bc,lC:()=>Ko});var _=C(9212),T=C(2664),Y=C(7715),ie=C(2096),pe=C(5619),me=C(2572),Me=C(6973),de=C(5211),G=C(5592),Z=C(4829);function Q(Te){return new G.y(He=>{(0,Z.Xf)(Te()).subscribe(He)})}var W=C(8407),re=C(4674);function te(Te,He){const Ee=(0,re.m)(Te)?Te:()=>Te,Be=tt=>tt.error(Ee());return new G.y(He?tt=>He.schedule(Be,0,tt):Be)}var q=C(6232),oe=C(7394),M=C(9360),se=C(8251);function ge(){return(0,M.e)((Te,He)=>{let Ee=null;Te._refCount++;const Be=(0,se.x)(He,void 0,void 0,void 0,()=>{if(!Te||Te._refCount<=0||0<--Te._refCount)return void(Ee=null);const tt=Te._connection,bt=Ee;Ee=null,tt&&(!bt||tt===bt)&&tt.unsubscribe(),He.unsubscribe()});Te.subscribe(Be),Be.closed||(Ee=Te.connect())})}class K extends G.y{constructor(He,Ee){super(),this.source=He,this.subjectFactory=Ee,this._subject=null,this._refCount=0,this._connection=null,(0,M.A)(He)&&(this.lift=He.lift)}_subscribe(He){return this.getSubject().subscribe(He)}getSubject(){const He=this._subject;return(!He||He.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:He}=this;this._subject=this._connection=null,He?.unsubscribe()}connect(){let He=this._connection;if(!He){He=this._connection=new oe.w0;const Ee=this.getSubject();He.add(this.source.subscribe((0,se.x)(Ee,void 0,()=>{this._teardown(),Ee.complete()},Be=>{this._teardown(),Ee.error(Be)},()=>this._teardown()))),He.closed&&(this._connection=null,He=oe.w0.EMPTY)}return He}refCount(){return ge()(this)}}var ve=C(8645),$=C(6814),X=C(7398),ce=C(4664),U=C(8180),L=C(7921),E=C(2181),B=C(1631),H=C(1374),A=C(6328),O=C(9397),I=C(6306);var j=C(3572);function ae(Te){return Te<=0?()=>q.E:(0,M.e)((He,Ee)=>{let Be=[];He.subscribe((0,se.x)(Ee,tt=>{Be.push(tt),Te<Be.length&&Be.shift()},()=>{for(const tt of Be)Ee.next(tt);Ee.complete()},void 0,()=>{Be=null}))})}var fe=C(3026),he=C(2737),Se=C(975),ye=C(4716),we=C(9773),Ae=C(7537),Ne=C(6593);const Le="primary",Je=Symbol("RouteTitle");class at{constructor(He){this.params=He||{}}has(He){return Object.prototype.hasOwnProperty.call(this.params,He)}get(He){if(this.has(He)){const Ee=this.params[He];return Array.isArray(Ee)?Ee[0]:Ee}return null}getAll(He){if(this.has(He)){const Ee=this.params[He];return Array.isArray(Ee)?Ee:[Ee]}return[]}get keys(){return Object.keys(this.params)}}function nt(Te){return new at(Te)}function dt(Te,He,Ee){const Be=Ee.path.split("/");if(Be.length>Te.length||"full"===Ee.pathMatch&&(He.hasChildren()||Be.length<Te.length))return null;const tt={};for(let bt=0;bt<Be.length;bt++){const Zt=Be[bt],kn=Te[bt];if(Zt.startsWith(":"))tt[Zt.substring(1)]=kn;else if(Zt!==kn.path)return null}return{consumed:Te.slice(0,Be.length),posParams:tt}}function an(Te,He){const Ee=Te?Yt(Te):void 0,Be=He?Yt(He):void 0;if(!Ee||!Be||Ee.length!=Be.length)return!1;let tt;for(let bt=0;bt<Ee.length;bt++)if(tt=Ee[bt],!mn(Te[tt],He[tt]))return!1;return!0}function Yt(Te){return[...Object.keys(Te),...Object.getOwnPropertySymbols(Te)]}function mn(Te,He){if(Array.isArray(Te)&&Array.isArray(He)){if(Te.length!==He.length)return!1;const Ee=[...Te].sort(),Be=[...He].sort();return Ee.every((tt,bt)=>Be[bt]===tt)}return Te===He}function Cn(Te){return Te.length>0?Te[Te.length-1]:null}function Gn(Te){return(0,T.b)(Te)?Te:(0,_.QGY)(Te)?(0,Y.D)(Promise.resolve(Te)):(0,ie.of)(Te)}const Wn={exact:function ot(Te,He,Ee){if(!ct(Te.segments,He.segments)||!Wt(Te.segments,He.segments,Ee)||Te.numberOfChildren!==He.numberOfChildren)return!1;for(const Be in He.children)if(!Te.children[Be]||!ot(Te.children[Be],He.children[Be],Ee))return!1;return!0},subset:Tt},Fn={exact:function hn(Te,He){return an(Te,He)},subset:function Et(Te,He){return Object.keys(He).length<=Object.keys(Te).length&&Object.keys(He).every(Ee=>mn(Te[Ee],He[Ee]))},ignored:()=>!0};function Rr(Te,He,Ee){return Wn[Ee.paths](Te.root,He.root,Ee.matrixParams)&&Fn[Ee.queryParams](Te.queryParams,He.queryParams)&&!("exact"===Ee.fragment&&Te.fragment!==He.fragment)}function Tt(Te,He,Ee){return Xt(Te,He,He.segments,Ee)}function Xt(Te,He,Ee,Be){if(Te.segments.length>Ee.length){const tt=Te.segments.slice(0,Ee.length);return!(!ct(tt,Ee)||He.hasChildren()||!Wt(tt,Ee,Be))}if(Te.segments.length===Ee.length){if(!ct(Te.segments,Ee)||!Wt(Te.segments,Ee,Be))return!1;for(const tt in He.children)if(!Te.children[tt]||!Tt(Te.children[tt],He.children[tt],Be))return!1;return!0}{const tt=Ee.slice(0,Te.segments.length),bt=Ee.slice(Te.segments.length);return!!(ct(Te.segments,tt)&&Wt(Te.segments,tt,Be)&&Te.children[Le])&&Xt(Te.children[Le],He,bt,Be)}}function Wt(Te,He,Ee){return He.every((Be,tt)=>Fn[Ee](Te[tt].parameters,Be.parameters))}class Dn{constructor(He=new Ln([],{}),Ee={},Be=null){this.root=He,this.queryParams=Ee,this.fragment=Be}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nt(this.queryParams)),this._queryParamMap}toString(){return _t.serialize(this)}}class Ln{constructor(He,Ee){this.segments=He,this.children=Ee,this.parent=null,Object.values(Ee).forEach(Be=>Be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xe(this)}}class xr{constructor(He,Ee){this.path=He,this.parameters=Ee}get parameterMap(){return this._parameterMap||(this._parameterMap=nt(this.parameters)),this._parameterMap}toString(){return Ar(this)}}function ct(Te,He){return Te.length===He.length&&Te.every((Ee,Be)=>Ee.path===He[Be].path)}let Un=(()=>{class Te{static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:()=>new Gt,providedIn:"root"})}return Te})();class Gt{parse(He){const Ee=new $i(He);return new Dn(Ee.parseRootSegment(),Ee.parseQueryParams(),Ee.parseFragment())}serialize(He){const Ee=`/${Ye(He.root,!0)}`,Be=function Mn(Te){const He=Object.keys(Te).map(Ee=>{const Be=Te[Ee];return Array.isArray(Be)?Be.map(tt=>`${Ct(Ee)}=${Ct(tt)}`).join("&"):`${Ct(Ee)}=${Ct(Be)}`}).filter(Ee=>!!Ee);return He.length?`?${He.join("&")}`:""}(He.queryParams);return`${Ee}${Be}${"string"==typeof He.fragment?`#${function Mt(Te){return encodeURI(Te)}(He.fragment)}`:""}`}}const _t=new Gt;function Xe(Te){return Te.segments.map(He=>Ar(He)).join("/")}function Ye(Te,He){if(!Te.hasChildren())return Xe(Te);if(He){const Ee=Te.children[Le]?Ye(Te.children[Le],!1):"",Be=[];return Object.entries(Te.children).forEach(([tt,bt])=>{tt!==Le&&Be.push(`${tt}:${Ye(bt,!1)}`)}),Be.length>0?`${Ee}(${Be.join("//")})`:Ee}{const Ee=function Ft(Te,He){let Ee=[];return Object.entries(Te.children).forEach(([Be,tt])=>{Be===Le&&(Ee=Ee.concat(He(tt,Be)))}),Object.entries(Te.children).forEach(([Be,tt])=>{Be!==Le&&(Ee=Ee.concat(He(tt,Be)))}),Ee}(Te,(Be,tt)=>tt===Le?[Ye(Te.children[Le],!1)]:[`${tt}:${Ye(Be,!1)}`]);return 1===Object.keys(Te.children).length&&null!=Te.children[Le]?`${Xe(Te)}/${Ee[0]}`:`${Xe(Te)}/(${Ee.join("//")})`}}function ke(Te){return encodeURIComponent(Te).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ct(Te){return ke(Te).replace(/%3B/gi,";")}function Jt(Te){return ke(Te).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn(Te){return decodeURIComponent(Te)}function ar(Te){return bn(Te.replace(/\+/g,"%20"))}function Ar(Te){return`${Jt(Te.path)}${function Gr(Te){return Object.keys(Te).map(He=>`;${Jt(He)}=${Jt(Te[He])}`).join("")}(Te.parameters)}`}const on=/^[^\/()?;#]+/;function Ht(Te){const He=Te.match(on);return He?He[0]:""}const tn=/^[^\/()?;=#]+/,Lr=/^[^=?&#]+/,vi=/^[^&#]+/;class $i{constructor(He){this.url=He,this.remaining=He}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}parseQueryParams(){const He={};if(this.consumeOptional("?"))do{this.parseQueryParam(He)}while(this.consumeOptional("&"));return He}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const He=[];for(this.peekStartsWith("(")||He.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),He.push(this.parseSegment());let Ee={};this.peekStartsWith("/(")&&(this.capture("/"),Ee=this.parseParens(!0));let Be={};return this.peekStartsWith("(")&&(Be=this.parseParens(!1)),(He.length>0||Object.keys(Ee).length>0)&&(Be[Le]=new Ln(He,Ee)),Be}parseSegment(){const He=Ht(this.remaining);if(""===He&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(He),new xr(bn(He),this.parseMatrixParams())}parseMatrixParams(){const He={};for(;this.consumeOptional(";");)this.parseParam(He);return He}parseParam(He){const Ee=function Xn(Te){const He=Te.match(tn);return He?He[0]:""}(this.remaining);if(!Ee)return;this.capture(Ee);let Be="";if(this.consumeOptional("=")){const tt=Ht(this.remaining);tt&&(Be=tt,this.capture(Be))}He[bn(Ee)]=bn(Be)}parseQueryParam(He){const Ee=function Br(Te){const He=Te.match(Lr);return He?He[0]:""}(this.remaining);if(!Ee)return;this.capture(Ee);let Be="";if(this.consumeOptional("=")){const Zt=function Hi(Te){const He=Te.match(vi);return He?He[0]:""}(this.remaining);Zt&&(Be=Zt,this.capture(Be))}const tt=ar(Ee),bt=ar(Be);if(He.hasOwnProperty(tt)){let Zt=He[tt];Array.isArray(Zt)||(Zt=[Zt],He[tt]=Zt),Zt.push(bt)}else He[tt]=bt}parseParens(He){const Ee={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Be=Ht(this.remaining),tt=this.remaining[Be.length];if("/"!==tt&&")"!==tt&&";"!==tt)throw new _.vHH(4010,!1);let bt;Be.indexOf(":")>-1?(bt=Be.slice(0,Be.indexOf(":")),this.capture(bt),this.capture(":")):He&&(bt=Le);const Zt=this.parseChildren();Ee[bt]=1===Object.keys(Zt).length?Zt[Le]:new Ln([],Zt),this.consumeOptional("//")}return Ee}peekStartsWith(He){return this.remaining.startsWith(He)}consumeOptional(He){return!!this.peekStartsWith(He)&&(this.remaining=this.remaining.substring(He.length),!0)}capture(He){if(!this.consumeOptional(He))throw new _.vHH(4011,!1)}}function Pa(Te){return Te.segments.length>0?new Ln([],{[Le]:Te}):Te}function On(Te){const He={};for(const Be of Object.keys(Te.children)){const bt=On(Te.children[Be]);if(Be===Le&&0===bt.segments.length&&bt.hasChildren())for(const[Zt,kn]of Object.entries(bt.children))He[Zt]=kn;else(bt.segments.length>0||bt.hasChildren())&&(He[Be]=bt)}return function xt(Te){if(1===Te.numberOfChildren&&Te.children[Le]){const He=Te.children[Le];return new Ln(Te.segments.concat(He.segments),He.children)}return Te}(new Ln(Te.segments,He))}function qe(Te){return Te instanceof Dn}function pt(Te){let He;const tt=Pa(function Ee(bt){const Zt={};for(const Vn of bt.children){const Ur=Ee(Vn);Zt[Vn.outlet]=Ur}const kn=new Ln(bt.url,Zt);return bt===Te&&(He=kn),kn}(Te.root));return He??tt}function jt(Te,He,Ee,Be){let tt=Te;for(;tt.parent;)tt=tt.parent;if(0===He.length)return br(tt,tt,tt,Ee,Be);const bt=function ei(Te){if("string"==typeof Te[0]&&1===Te.length&&"/"===Te[0])return new Nr(!0,0,Te);let He=0,Ee=!1;const Be=Te.reduce((tt,bt,Zt)=>{if("object"==typeof bt&&null!=bt){if(bt.outlets){const kn={};return Object.entries(bt.outlets).forEach(([Vn,Ur])=>{kn[Vn]="string"==typeof Ur?Ur.split("/"):Ur}),[...tt,{outlets:kn}]}if(bt.segmentPath)return[...tt,bt.segmentPath]}return"string"!=typeof bt?[...tt,bt]:0===Zt?(bt.split("/").forEach((kn,Vn)=>{0==Vn&&"."===kn||(0==Vn&&""===kn?Ee=!0:".."===kn?He++:""!=kn&&tt.push(kn))}),tt):[...tt,bt]},[]);return new Nr(Ee,He,Be)}(He);if(bt.toRoot())return br(tt,tt,new Ln([],{}),Ee,Be);const Zt=function st(Te,He,Ee){if(Te.isAbsolute)return new rn(He,!0,0);if(!Ee)return new rn(He,!1,NaN);if(null===Ee.parent)return new rn(Ee,!0,0);const Be=Nn(Te.commands[0])?0:1;return function Qt(Te,He,Ee){let Be=Te,tt=He,bt=Ee;for(;bt>tt;){if(bt-=tt,Be=Be.parent,!Be)throw new _.vHH(4005,!1);tt=Be.segments.length}return new rn(Be,!1,tt-bt)}(Ee,Ee.segments.length-1+Be,Te.numberOfDoubleDots)}(bt,tt,Te),kn=Zt.processChildren?yn(Zt.segmentGroup,Zt.index,bt.commands):Pn(Zt.segmentGroup,Zt.index,bt.commands);return br(tt,Zt.segmentGroup,kn,Ee,Be)}function Nn(Te){return"object"==typeof Te&&null!=Te&&!Te.outlets&&!Te.segmentPath}function jn(Te){return"object"==typeof Te&&null!=Te&&Te.outlets}function br(Te,He,Ee,Be,tt){let Zt,bt={};Be&&Object.entries(Be).forEach(([Vn,Ur])=>{bt[Vn]=Array.isArray(Ur)?Ur.map(Pi=>`${Pi}`):`${Ur}`}),Zt=Te===He?Ee:Qr(Te,He,Ee);const kn=Pa(On(Zt));return new Dn(kn,bt,tt)}function Qr(Te,He,Ee){const Be={};return Object.entries(Te.children).forEach(([tt,bt])=>{Be[tt]=bt===He?Ee:Qr(bt,He,Ee)}),new Ln(Te.segments,Be)}class Nr{constructor(He,Ee,Be){if(this.isAbsolute=He,this.numberOfDoubleDots=Ee,this.commands=Be,He&&Be.length>0&&Nn(Be[0]))throw new _.vHH(4003,!1);const tt=Be.find(jn);if(tt&&tt!==Cn(Be))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rn{constructor(He,Ee,Be){this.segmentGroup=He,this.processChildren=Ee,this.index=Be}}function Pn(Te,He,Ee){if(Te||(Te=new Ln([],{})),0===Te.segments.length&&Te.hasChildren())return yn(Te,He,Ee);const Be=function mr(Te,He,Ee){let Be=0,tt=He;const bt={match:!1,pathIndex:0,commandIndex:0};for(;tt<Te.segments.length;){if(Be>=Ee.length)return bt;const Zt=Te.segments[tt],kn=Ee[Be];if(jn(kn))break;const Vn=`${kn}`,Ur=Be<Ee.length-1?Ee[Be+1]:null;if(tt>0&&void 0===Vn)break;if(Vn&&Ur&&"object"==typeof Ur&&void 0===Ur.outlets){if(!Qn(Vn,Ur,Zt))return bt;Be+=2}else{if(!Qn(Vn,{},Zt))return bt;Be++}tt++}return{match:!0,pathIndex:tt,commandIndex:Be}}(Te,He,Ee),tt=Ee.slice(Be.commandIndex);if(Be.match&&Be.pathIndex<Te.segments.length){const bt=new Ln(Te.segments.slice(0,Be.pathIndex),{});return bt.children[Le]=new Ln(Te.segments.slice(Be.pathIndex),Te.children),yn(bt,0,tt)}return Be.match&&0===tt.length?new Ln(Te.segments,{}):Be.match&&!Te.hasChildren()?li(Te,He,Ee):Be.match?yn(Te,0,tt):li(Te,He,Ee)}function yn(Te,He,Ee){if(0===Ee.length)return new Ln(Te.segments,{});{const Be=function xn(Te){return jn(Te[0])?Te[0].outlets:{[Le]:Te}}(Ee),tt={};if(Object.keys(Be).some(bt=>bt!==Le)&&Te.children[Le]&&1===Te.numberOfChildren&&0===Te.children[Le].segments.length){const bt=yn(Te.children[Le],He,Ee);return new Ln(Te.segments,bt.children)}return Object.entries(Be).forEach(([bt,Zt])=>{"string"==typeof Zt&&(Zt=[Zt]),null!==Zt&&(tt[bt]=Pn(Te.children[bt],He,Zt))}),Object.entries(Te.children).forEach(([bt,Zt])=>{void 0===Be[bt]&&(tt[bt]=Zt)}),new Ln(Te.segments,tt)}}function li(Te,He,Ee){const Be=Te.segments.slice(0,He);let tt=0;for(;tt<Ee.length;){const bt=Ee[tt];if(jn(bt)){const Vn=Bn(bt.outlets);return new Ln(Be,Vn)}if(0===tt&&Nn(Ee[0])){Be.push(new xr(Te.segments[He].path,dr(Ee[0]))),tt++;continue}const Zt=jn(bt)?bt.outlets[Le]:`${bt}`,kn=tt<Ee.length-1?Ee[tt+1]:null;Zt&&kn&&Nn(kn)?(Be.push(new xr(Zt,dr(kn))),tt+=2):(Be.push(new xr(Zt,{})),tt++)}return new Ln(Be,{})}function Bn(Te){const He={};return Object.entries(Te).forEach(([Ee,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(He[Ee]=li(new Ln([],{}),0,Be))}),He}function dr(Te){const He={};return Object.entries(Te).forEach(([Ee,Be])=>He[Ee]=`${Be}`),He}function Qn(Te,He,Ee){return Te==Ee.path&&an(He,Ee.parameters)}const er="imperative";class Di{constructor(He,Ee){this.id=He,this.url=Ee}}class aa extends Di{constructor(He,Ee,Be="imperative",tt=null){super(He,Ee),this.type=0,this.navigationTrigger=Be,this.restoredState=tt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ui extends Di{constructor(He,Ee,Be){super(He,Ee),this.urlAfterRedirects=Be,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hr extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.reason=Be,this.code=tt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ai extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.reason=Be,this.code=tt,this.type=16}}class Ba extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.error=Be,this.target=tt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bo extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.urlAfterRedirects=Be,this.state=tt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.urlAfterRedirects=Be,this.state=tt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends Di{constructor(He,Ee,Be,tt,bt){super(He,Ee),this.urlAfterRedirects=Be,this.state=tt,this.shouldActivate=bt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $r extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.urlAfterRedirects=Be,this.state=tt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends Di{constructor(He,Ee,Be,tt){super(He,Ee),this.urlAfterRedirects=Be,this.state=tt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi{constructor(He){this.route=He,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oa{constructor(He){this.route=He,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vs{constructor(He){this.snapshot=He,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ql{constructor(He){this.snapshot=He,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(He){this.snapshot=He,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(He){this.snapshot=He,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xc{constructor(He,Ee,Be){this.routerEvent=He,this.position=Ee,this.anchor=Be,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vc{}class Za{constructor(He){this.url=He}}class po{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new No,this.attachRef=null}}let No=(()=>{class Te{constructor(){this.contexts=new Map}onChildOutletCreated(Ee,Be){const tt=this.getOrCreateContext(Ee);tt.outlet=Be,this.contexts.set(Ee,tt)}onChildOutletDestroyed(Ee){const Be=this.getContext(Ee);Be&&(Be.outlet=null,Be.attachRef=null)}onOutletDeactivated(){const Ee=this.contexts;return this.contexts=new Map,Ee}onOutletReAttached(Ee){this.contexts=Ee}getOrCreateContext(Ee){let Be=this.getContext(Ee);return Be||(Be=new po,this.contexts.set(Ee,Be)),Be}getContext(Ee){return this.contexts.get(Ee)||null}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();class ps{constructor(He){this._root=He}get root(){return this._root.value}parent(He){const Ee=this.pathFromRoot(He);return Ee.length>1?Ee[Ee.length-2]:null}children(He){const Ee=Ls(He,this._root);return Ee?Ee.children.map(Be=>Be.value):[]}firstChild(He){const Ee=Ls(He,this._root);return Ee&&Ee.children.length>0?Ee.children[0].value:null}siblings(He){const Ee=Os(He,this._root);return Ee.length<2?[]:Ee[Ee.length-2].children.map(tt=>tt.value).filter(tt=>tt!==He)}pathFromRoot(He){return Os(He,this._root).map(Ee=>Ee.value)}}function Ls(Te,He){if(Te===He.value)return He;for(const Ee of He.children){const Be=Ls(Te,Ee);if(Be)return Be}return null}function Os(Te,He){if(Te===He.value)return[He];for(const Ee of He.children){const Be=Os(Te,Ee);if(Be.length)return Be.unshift(He),Be}return[]}class Ka{constructor(He,Ee){this.value=He,this.children=Ee}toString(){return`TreeNode(${this.value})`}}function Gs(Te){const He={};return Te&&Te.children.forEach(Ee=>He[Ee.value.outlet]=Ee),He}class gs extends ps{constructor(He,Ee){super(He),this.snapshot=Ee,Bo(this,He)}toString(){return this.snapshot.toString()}}function e1(Te,He){const Ee=function Oi(Te,He){const Zt=new In([],{},{},"",{},Le,He,null,{});return new Cl("",new Ka(Zt,[]))}(0,He),Be=new pe.X([new xr("",{})]),tt=new pe.X({}),bt=new pe.X({}),Zt=new pe.X({}),kn=new pe.X(""),Vn=new Ei(Be,tt,Zt,kn,bt,Le,He,Ee.root);return Vn.snapshot=Ee.root,new gs(new Ka(Vn,[]),Ee)}class Ei{constructor(He,Ee,Be,tt,bt,Zt,kn,Vn){this.urlSubject=He,this.paramsSubject=Ee,this.queryParamsSubject=Be,this.fragmentSubject=tt,this.dataSubject=bt,this.outlet=Zt,this.component=kn,this._futureSnapshot=Vn,this.title=this.dataSubject?.pipe((0,X.U)(Ur=>Ur[Je]))??(0,ie.of)(void 0),this.url=He,this.params=Ee,this.queryParams=Be,this.fragment=tt,this.data=bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,X.U)(He=>nt(He)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,X.U)(He=>nt(He)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gi(Te,He,Ee="emptyOnly"){let Be;const{routeConfig:tt}=Te;return Be=null===He||"always"!==Ee&&""!==tt?.path&&(He.component||He.routeConfig?.loadComponent)?{params:Te.params,data:Te.data,resolve:{...Te.data,...Te._resolvedData??{}}}:{params:{...He.params,...Te.params},data:{...He.data,...Te.data},resolve:{...Te.data,...He.data,...tt?.data,...Te._resolvedData}},tt&&na(tt)&&(Be.resolve[Je]=tt.title),Be}class In{get title(){return this.data?.[Je]}constructor(He,Ee,Be,tt,bt,Zt,kn,Vn,Ur){this.url=He,this.params=Ee,this.queryParams=Be,this.fragment=tt,this.data=bt,this.outlet=Zt,this.component=kn,this.routeConfig=Vn,this._resolve=Ur}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Be=>Be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cl extends ps{constructor(He,Ee){super(Ee),this.url=He,Bo(this,Ee)}toString(){return js(this._root)}}function Bo(Te,He){He.value._routerState=Te,He.children.forEach(Ee=>Bo(Te,Ee))}function js(Te){const He=Te.children.length>0?` { ${Te.children.map(js).join(", ")} } `:"";return`${Te.value}${He}`}function ms(Te){if(Te.snapshot){const He=Te.snapshot,Ee=Te._futureSnapshot;Te.snapshot=Ee,an(He.queryParams,Ee.queryParams)||Te.queryParamsSubject.next(Ee.queryParams),He.fragment!==Ee.fragment&&Te.fragmentSubject.next(Ee.fragment),an(He.params,Ee.params)||Te.paramsSubject.next(Ee.params),function It(Te,He){if(Te.length!==He.length)return!1;for(let Ee=0;Ee<Te.length;++Ee)if(!an(Te[Ee],He[Ee]))return!1;return!0}(He.url,Ee.url)||Te.urlSubject.next(Ee.url),an(He.data,Ee.data)||Te.dataSubject.next(Ee.data)}else Te.snapshot=Te._futureSnapshot,Te.dataSubject.next(Te._futureSnapshot.data)}function Ia(Te,He){const Ee=an(Te.params,He.params)&&function lr(Te,He){return ct(Te,He)&&Te.every((Ee,Be)=>an(Ee.parameters,He[Be].parameters))}(Te.url,He.url);return Ee&&!(!Te.parent!=!He.parent)&&(!Te.parent||Ia(Te.parent,He.parent))}function na(Te){return"string"==typeof Te.title||null===Te.title}let Ko=(()=>{class Te{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(No),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(ga,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Ee){if(Ee.name){const{firstChange:Be,previousValue:tt}=Ee.name;if(Be)return;this.isTrackedInParentContexts(tt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(tt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Ee){return this.parentContexts.getContext(Ee)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Ee=this.parentContexts.getContext(this.name);Ee?.route&&(Ee.attachRef?this.attach(Ee.attachRef,Ee.route):this.activateWith(Ee.route,Ee.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const Ee=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Ee.instance),Ee}attach(Ee,Be){this.activated=Ee,this._activatedRoute=Be,this.location.insert(Ee.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Ee.instance)}deactivate(){if(this.activated){const Ee=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ee)}}activateWith(Ee,Be){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=Ee;const tt=this.location,Zt=Ee.snapshot.component,kn=this.parentContexts.getOrCreateContext(this.name).children,Vn=new Ea(Ee,kn,tt.injector);this.activated=tt.createComponent(Zt,{index:tt.length,injector:Vn,environmentInjector:Be??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275dir=_.lG2({type:Te,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]})}return Te})();class Ea{constructor(He,Ee,Be){this.route=He,this.childContexts=Ee,this.parent=Be}get(He,Ee){return He===Ei?this.route:He===No?this.childContexts:this.parent.get(He,Ee)}}const ga=new _.OlP("");let Ni=(()=>{class Te{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Ee){this.unsubscribeFromRouteData(Ee),this.subscribeToRouteData(Ee)}unsubscribeFromRouteData(Ee){this.outletDataSubscriptions.get(Ee)?.unsubscribe(),this.outletDataSubscriptions.delete(Ee)}subscribeToRouteData(Ee){const{activatedRoute:Be}=Ee,tt=(0,me.a)([Be.queryParams,Be.params,Be.data]).pipe((0,ce.w)(([bt,Zt,kn],Vn)=>(kn={...bt,...Zt,...kn},0===Vn?(0,ie.of)(kn):Promise.resolve(kn)))).subscribe(bt=>{if(!Ee.isActivated||!Ee.activatedComponentRef||Ee.activatedRoute!==Be||null===Be.component)return void this.unsubscribeFromRouteData(Ee);const Zt=(0,_.qFp)(Be.component);if(Zt)for(const{templateName:kn}of Zt.inputs)Ee.activatedComponentRef.setInput(kn,bt[kn]);else this.unsubscribeFromRouteData(Ee)});this.outletDataSubscriptions.set(Ee,tt)}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac})}return Te})();function co(Te,He,Ee){if(Ee&&Te.shouldReuseRoute(He.value,Ee.value.snapshot)){const Be=Ee.value;Be._futureSnapshot=He.value;const tt=function D1(Te,He,Ee){return He.children.map(Be=>{for(const tt of Ee.children)if(Te.shouldReuseRoute(Be.value,tt.value.snapshot))return co(Te,Be,tt);return co(Te,Be)})}(Te,He,Ee);return new Ka(Be,tt)}{if(Te.shouldAttach(He.value)){const bt=Te.retrieve(He.value);if(null!==bt){const Zt=bt.route;return Zt.value._futureSnapshot=He.value,Zt.children=He.children.map(kn=>co(Te,kn)),Zt}}const Be=function n1(Te){return new Ei(new pe.X(Te.url),new pe.X(Te.params),new pe.X(Te.queryParams),new pe.X(Te.fragment),new pe.X(Te.data),Te.outlet,Te.component,Te)}(He.value),tt=He.children.map(bt=>co(Te,bt));return new Ka(Be,tt)}}const Tl="ngNavigationCancelingError";function ul(Te,He){const{redirectTo:Ee,navigationBehaviorOptions:Be}=qe(He)?{redirectTo:He,navigationBehaviorOptions:void 0}:He,tt=Ut(!1,0,He);return tt.url=Ee,tt.navigationBehaviorOptions=Be,tt}function Ut(Te,He,Ee){const Be=new Error("NavigationCancelingError: "+(Te||""));return Be[Tl]=!0,Be.cancellationCode=He,Ee&&(Be.url=Ee),Be}function Ze(Te){return Te&&Te[Tl]}let yt=(()=>{class Te{static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275cmp=_.Xpm({type:Te,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(Be,tt){1&Be&&_._UZ(0,"router-outlet")},dependencies:[Ko],encapsulation:2})}return Te})();function hl(Te){const He=Te.children&&Te.children.map(hl),Ee=He?{...Te,children:He}:{...Te};return!Ee.component&&!Ee.loadComponent&&(He||Ee.loadChildren)&&Ee.outlet&&Ee.outlet!==Le&&(Ee.component=yt),Ee}function go(Te){return Te.outlet||Le}function Is(Te){if(!Te)return null;if(Te.routeConfig?._injector)return Te.routeConfig._injector;for(let He=Te.parent;He;He=He.parent){const Ee=He.routeConfig;if(Ee?._loadedInjector)return Ee._loadedInjector;if(Ee?._injector)return Ee._injector}return null}class Dl{constructor(He,Ee,Be,tt,bt){this.routeReuseStrategy=He,this.futureState=Ee,this.currState=Be,this.forwardEvent=tt,this.inputBindingEnabled=bt}activate(He){const Ee=this.futureState._root,Be=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ee,Be,He),ms(this.futureState.root),this.activateChildRoutes(Ee,Be,He)}deactivateChildRoutes(He,Ee,Be){const tt=Gs(Ee);He.children.forEach(bt=>{const Zt=bt.value.outlet;this.deactivateRoutes(bt,tt[Zt],Be),delete tt[Zt]}),Object.values(tt).forEach(bt=>{this.deactivateRouteAndItsChildren(bt,Be)})}deactivateRoutes(He,Ee,Be){const tt=He.value,bt=Ee?Ee.value:null;if(tt===bt)if(tt.component){const Zt=Be.getContext(tt.outlet);Zt&&this.deactivateChildRoutes(He,Ee,Zt.children)}else this.deactivateChildRoutes(He,Ee,Be);else bt&&this.deactivateRouteAndItsChildren(Ee,Be)}deactivateRouteAndItsChildren(He,Ee){He.value.component&&this.routeReuseStrategy.shouldDetach(He.value.snapshot)?this.detachAndStoreRouteSubtree(He,Ee):this.deactivateRouteAndOutlet(He,Ee)}detachAndStoreRouteSubtree(He,Ee){const Be=Ee.getContext(He.value.outlet),tt=Be&&He.value.component?Be.children:Ee,bt=Gs(He);for(const Zt of Object.keys(bt))this.deactivateRouteAndItsChildren(bt[Zt],tt);if(Be&&Be.outlet){const Zt=Be.outlet.detach(),kn=Be.children.onOutletDeactivated();this.routeReuseStrategy.store(He.value.snapshot,{componentRef:Zt,route:He,contexts:kn})}}deactivateRouteAndOutlet(He,Ee){const Be=Ee.getContext(He.value.outlet),tt=Be&&He.value.component?Be.children:Ee,bt=Gs(He);for(const Zt of Object.keys(bt))this.deactivateRouteAndItsChildren(bt[Zt],tt);Be&&(Be.outlet&&(Be.outlet.deactivate(),Be.children.onOutletDeactivated()),Be.attachRef=null,Be.route=null)}activateChildRoutes(He,Ee,Be){const tt=Gs(Ee);He.children.forEach(bt=>{this.activateRoutes(bt,tt[bt.value.outlet],Be),this.forwardEvent(new Sl(bt.value.snapshot))}),He.children.length&&this.forwardEvent(new ql(He.value.snapshot))}activateRoutes(He,Ee,Be){const tt=He.value,bt=Ee?Ee.value:null;if(ms(tt),tt===bt)if(tt.component){const Zt=Be.getOrCreateContext(tt.outlet);this.activateChildRoutes(He,Ee,Zt.children)}else this.activateChildRoutes(He,Ee,Be);else if(tt.component){const Zt=Be.getOrCreateContext(tt.outlet);if(this.routeReuseStrategy.shouldAttach(tt.snapshot)){const kn=this.routeReuseStrategy.retrieve(tt.snapshot);this.routeReuseStrategy.store(tt.snapshot,null),Zt.children.onOutletReAttached(kn.contexts),Zt.attachRef=kn.componentRef,Zt.route=kn.route.value,Zt.outlet&&Zt.outlet.attach(kn.componentRef,kn.route.value),ms(kn.route.value),this.activateChildRoutes(He,null,Zt.children)}else{const kn=Is(tt.snapshot);Zt.attachRef=null,Zt.route=tt,Zt.injector=kn,Zt.outlet&&Zt.outlet.activateWith(tt,Zt.injector),this.activateChildRoutes(He,null,Zt.children)}}else this.activateChildRoutes(He,null,Be)}}class ns{constructor(He){this.path=He,this.route=this.path[this.path.length-1]}}class ho{constructor(He,Ee){this.component=He,this.route=Ee}}function r1(Te,He,Ee){const Be=Te._root;return ro(Be,He?He._root:null,Ee,[Be.value])}function La(Te,He){const Ee=Symbol(),Be=He.get(Te,Ee);return Be===Ee?"function"!=typeof Te||(0,_.Z0I)(Te)?He.get(Te):Te:Be}function ro(Te,He,Ee,Be,tt={canDeactivateChecks:[],canActivateChecks:[]}){const bt=Gs(He);return Te.children.forEach(Zt=>{(function Zs(Te,He,Ee,Be,tt={canDeactivateChecks:[],canActivateChecks:[]}){const bt=Te.value,Zt=He?He.value:null,kn=Ee?Ee.getContext(Te.value.outlet):null;if(Zt&&bt.routeConfig===Zt.routeConfig){const Vn=function Xa(Te,He,Ee){if("function"==typeof Ee)return Ee(Te,He);switch(Ee){case"pathParamsChange":return!ct(Te.url,He.url);case"pathParamsOrQueryParamsChange":return!ct(Te.url,He.url)||!an(Te.queryParams,He.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ia(Te,He)||!an(Te.queryParams,He.queryParams);default:return!Ia(Te,He)}}(Zt,bt,bt.routeConfig.runGuardsAndResolvers);Vn?tt.canActivateChecks.push(new ns(Be)):(bt.data=Zt.data,bt._resolvedData=Zt._resolvedData),ro(Te,He,bt.component?kn?kn.children:null:Ee,Be,tt),Vn&&kn&&kn.outlet&&kn.outlet.isActivated&&tt.canDeactivateChecks.push(new ho(kn.outlet.component,Zt))}else Zt&&Ks(He,kn,tt),tt.canActivateChecks.push(new ns(Be)),ro(Te,null,bt.component?kn?kn.children:null:Ee,Be,tt)})(Zt,bt[Zt.value.outlet],Ee,Be.concat([Zt.value]),tt),delete bt[Zt.value.outlet]}),Object.entries(bt).forEach(([Zt,kn])=>Ks(kn,Ee.getContext(Zt),tt)),tt}function Ks(Te,He,Ee){const Be=Gs(Te),tt=Te.value;Object.entries(Be).forEach(([bt,Zt])=>{Ks(Zt,tt.component?He?He.children.getContext(bt):null:He,Ee)}),Ee.canDeactivateChecks.push(new ho(tt.component&&He&&He.outlet&&He.outlet.isActivated?He.outlet.component:null,tt))}function rs(Te){return"function"==typeof Te}function wo(Te){return Te instanceof Me.K||"EmptyError"===Te?.name}const Rs=Symbol("INITIAL_VALUE");function Vs(){return(0,ce.w)(Te=>(0,me.a)(Te.map(He=>He.pipe((0,U.q)(1),(0,L.O)(Rs)))).pipe((0,X.U)(He=>{for(const Ee of He)if(!0!==Ee){if(Ee===Rs)return Rs;if(!1===Ee||Ee instanceof Dn)return Ee}return!0}),(0,E.h)(He=>He!==Rs),(0,U.q)(1)))}function $s(Te){return(0,W.z)((0,O.b)(He=>{if(qe(He))throw ul(0,He)}),(0,X.U)(He=>!0===He))}class _s{constructor(He){this.segmentGroup=He||null}}class mc extends Error{constructor(He){super(),this.urlTree=He}}function Hs(Te){return te(new _s(Te))}class s1{constructor(He,Ee){this.urlSerializer=He,this.urlTree=Ee}noMatchError(He){return new _.vHH(4002,!1)}lineralizeSegments(He,Ee){let Be=[],tt=Ee.root;for(;;){if(Be=Be.concat(tt.segments),0===tt.numberOfChildren)return(0,ie.of)(Be);if(tt.numberOfChildren>1||!tt.children[Le])return te(new _.vHH(4e3,!1));tt=tt.children[Le]}}applyRedirectCommands(He,Ee,Be){const tt=this.applyRedirectCreateUrlTree(Ee,this.urlSerializer.parse(Ee),He,Be);if(Ee.startsWith("/"))throw new mc(tt);return tt}applyRedirectCreateUrlTree(He,Ee,Be,tt){const bt=this.createSegmentGroup(He,Ee.root,Be,tt);return new Dn(bt,this.createQueryParams(Ee.queryParams,this.urlTree.queryParams),Ee.fragment)}createQueryParams(He,Ee){const Be={};return Object.entries(He).forEach(([tt,bt])=>{if("string"==typeof bt&&bt.startsWith(":")){const kn=bt.substring(1);Be[tt]=Ee[kn]}else Be[tt]=bt}),Be}createSegmentGroup(He,Ee,Be,tt){const bt=this.createSegments(He,Ee.segments,Be,tt);let Zt={};return Object.entries(Ee.children).forEach(([kn,Vn])=>{Zt[kn]=this.createSegmentGroup(He,Vn,Be,tt)}),new Ln(bt,Zt)}createSegments(He,Ee,Be,tt){return Ee.map(bt=>bt.path.startsWith(":")?this.findPosParam(He,bt,tt):this.findOrReturn(bt,Be))}findPosParam(He,Ee,Be){const tt=Be[Ee.path.substring(1)];if(!tt)throw new _.vHH(4001,!1);return tt}findOrReturn(He,Ee){let Be=0;for(const tt of Ee){if(tt.path===He.path)return Ee.splice(Be),tt;Be++}return He}}const E1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yc(Te,He,Ee,Be,tt){const bt=Ms(Te,He,Ee);return bt.matched?(Be=function Lt(Te,He){return Te.providers&&!Te._injector&&(Te._injector=(0,_.MMx)(Te.providers,He,`Route: ${Te.path}`)),Te._injector??He}(He,Be),function mo(Te,He,Ee,Be){const tt=He.canMatch;if(!tt||0===tt.length)return(0,ie.of)(!0);const bt=tt.map(Zt=>{const kn=La(Zt,Te);return Gn(function _i(Te){return Te&&rs(Te.canMatch)}(kn)?kn.canMatch(He,Ee):Te.runInContext(()=>kn(He,Ee)))});return(0,ie.of)(bt).pipe(Vs(),$s())}(Be,He,Ee).pipe((0,X.U)(Zt=>!0===Zt?bt:{...E1}))):(0,ie.of)(bt)}function Ms(Te,He,Ee){if(""===He.path)return"full"===He.pathMatch&&(Te.hasChildren()||Ee.length>0)?{...E1}:{matched:!0,consumedSegments:[],remainingSegments:Ee,parameters:{},positionalParamSegments:{}};const tt=(He.matcher||dt)(Ee,Te,He);if(!tt)return{...E1};const bt={};Object.entries(tt.posParams??{}).forEach(([kn,Vn])=>{bt[kn]=Vn.path});const Zt=tt.consumed.length>0?{...bt,...tt.consumed[tt.consumed.length-1].parameters}:bt;return{matched:!0,consumedSegments:tt.consumed,remainingSegments:Ee.slice(tt.consumed.length),parameters:Zt,positionalParamSegments:tt.posParams??{}}}function z1(Te,He,Ee,Be){return Ee.length>0&&function gt(Te,He,Ee){return Ee.some(Be=>mt(Te,He,Be)&&go(Be)!==Le)}(Te,Ee,Be)?{segmentGroup:new Ln(He,ft(Be,new Ln(Ee,Te.children))),slicedSegments:[]}:0===Ee.length&&function rt(Te,He,Ee){return Ee.some(Be=>mt(Te,He,Be))}(Te,Ee,Be)?{segmentGroup:new Ln(Te.segments,dl(Te,0,Ee,Be,Te.children)),slicedSegments:Ee}:{segmentGroup:new Ln(Te.segments,Te.children),slicedSegments:Ee}}function dl(Te,He,Ee,Be,tt){const bt={};for(const Zt of Be)if(mt(Te,Ee,Zt)&&!tt[go(Zt)]){const kn=new Ln([],{});bt[go(Zt)]=kn}return{...tt,...bt}}function ft(Te,He){const Ee={};Ee[Le]=He;for(const Be of Te)if(""===Be.path&&go(Be)!==Le){const tt=new Ln([],{});Ee[go(Be)]=tt}return Ee}function mt(Te,He,Ee){return(!(Te.hasChildren()||He.length>0)||"full"!==Ee.pathMatch)&&""===Ee.path}class ln{}class Sr{constructor(He,Ee,Be,tt,bt,Zt,kn){this.injector=He,this.configLoader=Ee,this.rootComponentType=Be,this.config=tt,this.urlTree=bt,this.paramsInheritanceStrategy=Zt,this.urlSerializer=kn,this.applyRedirects=new s1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(He){return new _.vHH(4002,!1)}recognize(){const He=z1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(He).pipe((0,X.U)(Ee=>{const Be=new In([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,{}),tt=new Ka(Be,Ee),bt=new Cl("",tt),Zt=function it(Te,He,Ee=null,Be=null){return jt(pt(Te),He,Ee,Be)}(Be,[],this.urlTree.queryParams,this.urlTree.fragment);return Zt.queryParams=this.urlTree.queryParams,bt.url=this.urlSerializer.serialize(Zt),this.inheritParamsAndData(bt._root,null),{state:bt,tree:Zt}}))}match(He){return this.processSegmentGroup(this.injector,this.config,He,Le).pipe((0,I.K)(Be=>{if(Be instanceof mc)return this.urlTree=Be.urlTree,this.match(Be.urlTree.root);throw Be instanceof _s?this.noMatchError(Be):Be}))}inheritParamsAndData(He,Ee){const Be=He.value,tt=gi(Be,Ee,this.paramsInheritanceStrategy);Be.params=Object.freeze(tt.params),Be.data=Object.freeze(tt.data),He.children.forEach(bt=>this.inheritParamsAndData(bt,Be))}processSegmentGroup(He,Ee,Be,tt){return 0===Be.segments.length&&Be.hasChildren()?this.processChildren(He,Ee,Be):this.processSegment(He,Ee,Be,Be.segments,tt,!0).pipe((0,X.U)(bt=>bt instanceof Ka?[bt]:[]))}processChildren(He,Ee,Be){const tt=[];for(const bt of Object.keys(Be.children))"primary"===bt?tt.unshift(bt):tt.push(bt);return(0,Y.D)(tt).pipe((0,A.b)(bt=>{const Zt=Be.children[bt],kn=function Ws(Te,He){const Ee=Te.filter(Be=>go(Be)===He);return Ee.push(...Te.filter(Be=>go(Be)!==He)),Ee}(Ee,bt);return this.processSegmentGroup(He,kn,Zt,bt)}),function ee(Te,He){return(0,M.e)(function N(Te,He,Ee,Be,tt){return(bt,Zt)=>{let kn=Ee,Vn=He,Ur=0;bt.subscribe((0,se.x)(Zt,Pi=>{const qi=Ur++;Vn=kn?Te(Vn,Pi,qi):(kn=!0,Pi),Be&&Zt.next(Vn)},tt&&(()=>{kn&&Zt.next(Vn),Zt.complete()})))}}(Te,He,arguments.length>=2,!0))}((bt,Zt)=>(bt.push(...Zt),bt)),(0,j.d)(null),function Ce(Te,He){const Ee=arguments.length>=2;return Be=>Be.pipe(Te?(0,E.h)((tt,bt)=>Te(tt,bt,Be)):he.y,ae(1),Ee?(0,j.d)(He):(0,fe.T)(()=>new Me.K))}(),(0,B.z)(bt=>{if(null===bt)return Hs(Be);const Zt=Sn(bt);return function Yr(Te){Te.sort((He,Ee)=>He.value.outlet===Le?-1:Ee.value.outlet===Le?1:He.value.outlet.localeCompare(Ee.value.outlet))}(Zt),(0,ie.of)(Zt)}))}processSegment(He,Ee,Be,tt,bt,Zt){return(0,Y.D)(Ee).pipe((0,A.b)(kn=>this.processSegmentAgainstRoute(kn._injector??He,Ee,kn,Be,tt,bt,Zt).pipe((0,I.K)(Vn=>{if(Vn instanceof _s)return(0,ie.of)(null);throw Vn}))),(0,H.P)(kn=>!!kn),(0,I.K)(kn=>{if(wo(kn))return function Bt(Te,He,Ee){return 0===He.length&&!Te.children[Ee]}(Be,tt,bt)?(0,ie.of)(new ln):Hs(Be);throw kn}))}processSegmentAgainstRoute(He,Ee,Be,tt,bt,Zt,kn){return function Dt(Te,He,Ee,Be){return!!(go(Te)===Be||Be!==Le&&mt(He,Ee,Te))&&("**"===Te.path||Ms(He,Te,Ee).matched)}(Be,tt,bt,Zt)?void 0===Be.redirectTo?this.matchSegmentAgainstRoute(He,tt,Be,bt,Zt):this.allowRedirects&&kn?this.expandSegmentAgainstRouteUsingRedirect(He,tt,Ee,Be,bt,Zt):Hs(tt):Hs(tt)}expandSegmentAgainstRouteUsingRedirect(He,Ee,Be,tt,bt,Zt){const{matched:kn,consumedSegments:Vn,positionalParamSegments:Ur,remainingSegments:Pi}="**"===tt.path?pr(bt):Ms(Ee,tt,bt);if(!kn)return Hs(Ee);tt.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const qi=this.applyRedirects.applyRedirectCommands(Vn,tt.redirectTo,Ur);return this.applyRedirects.lineralizeSegments(tt,qi).pipe((0,B.z)(ao=>this.processSegment(He,Be,Ee,ao.concat(Pi),Zt,!1)))}matchSegmentAgainstRoute(He,Ee,Be,tt,bt){let Zt;return"**"===Be.path?(Zt=(0,ie.of)(pr(tt)),Ee.children={}):Zt=yc(Ee,Be,tt,He),Zt.pipe((0,ce.w)(kn=>kn.matched?this.getChildConfig(He=Be._injector??He,Be,tt).pipe((0,ce.w)(({routes:Vn})=>{const Ur=Be._loadedInjector??He,{consumedSegments:Pi,remainingSegments:qi,parameters:ao}=kn,wc=new In(Pi,ao,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Hn(Te){return Te.data||{}}(Be),go(Be),Be.component??Be._loadedComponent??null,Be,function nr(Te){return Te.resolve||{}}(Be)),{segmentGroup:r2,slicedSegments:So}=z1(Ee,Pi,qi,Vn);if(0===So.length&&r2.hasChildren())return this.processChildren(Ur,Vn,r2).pipe((0,X.U)(Aa=>null===Aa?null:new Ka(wc,Aa)));if(0===Vn.length&&0===So.length)return(0,ie.of)(new Ka(wc,[]));const Fl=go(Be)===bt;return this.processSegment(Ur,Vn,r2,So,Fl?Le:bt,!0).pipe((0,X.U)(Aa=>new Ka(wc,Aa instanceof Ka?[Aa]:[])))})):Hs(Ee)))}getChildConfig(He,Ee,Be){return Ee.children?(0,ie.of)({routes:Ee.children,injector:He}):Ee.loadChildren?void 0!==Ee._loadedRoutes?(0,ie.of)({routes:Ee._loadedRoutes,injector:Ee._loadedInjector}):function o1(Te,He,Ee,Be){const tt=He.canLoad;if(void 0===tt||0===tt.length)return(0,ie.of)(!0);const bt=tt.map(Zt=>{const kn=La(Zt,Te);return Gn(function pc(Te){return Te&&rs(Te.canLoad)}(kn)?kn.canLoad(He,Ee):Te.runInContext(()=>kn(He,Ee)))});return(0,ie.of)(bt).pipe(Vs(),$s())}(He,Ee,Be).pipe((0,B.z)(tt=>tt?this.configLoader.loadChildren(He,Ee).pipe((0,O.b)(bt=>{Ee._loadedRoutes=bt.routes,Ee._loadedInjector=bt.injector})):function Vr(Te){return te(Ut(!1,3))}())):(0,ie.of)({routes:[],injector:He})}}function qt(Te){const He=Te.value.routeConfig;return He&&""===He.path}function Sn(Te){const He=[],Ee=new Set;for(const Be of Te){if(!qt(Be)){He.push(Be);continue}const tt=He.find(bt=>Be.value.routeConfig===bt.value.routeConfig);void 0!==tt?(tt.children.push(...Be.children),Ee.add(tt)):He.push(Be)}for(const Be of Ee){const tt=Sn(Be.children);He.push(new Ka(Be.value,tt))}return He.filter(Be=>!Ee.has(Be))}function pr(Te){return{matched:!0,parameters:Te.length>0?Cn(Te).parameters:{},consumedSegments:Te,remainingSegments:[],positionalParamSegments:{}}}function jr(Te,He){return(0,B.z)(Ee=>{const{targetSnapshot:Be,guards:{canActivateChecks:tt}}=Ee;if(!tt.length)return(0,ie.of)(Ee);const bt=tt.map(Ur=>Ur.route),Zt=new Set(bt),kn=De(bt[0].parent).slice(1);let Vn=0;return(0,Y.D)(kn).pipe((0,A.b)(Ur=>Zt.has(Ur)?function lt(Te,He,Ee,Be){const tt=Te.routeConfig,bt=Te._resolve;return void 0!==tt?.title&&!na(tt)&&(bt[Je]=tt.title),function Fe(Te,He,Ee,Be){const tt=Yt(Te);if(0===tt.length)return(0,ie.of)({});const bt={};return(0,Y.D)(tt).pipe((0,B.z)(Zt=>function et(Te,He,Ee,Be){const tt=Is(He)??Be,bt=La(Te,tt);return Gn(bt.resolve?bt.resolve(He,Ee):tt.runInContext(()=>bt(He,Ee)))}(Te[Zt],He,Ee,Be).pipe((0,H.P)(),(0,O.b)(kn=>{bt[Zt]=kn}))),ae(1),(0,Se.h)(bt),(0,I.K)(Zt=>wo(Zt)?q.E:te(Zt)))}(bt,Te,He,Be).pipe((0,X.U)(Zt=>(Te._resolvedData=Zt,Te.data=gi(Te,Te.parent,Ee).resolve,null)))}(Ur,Be,Te,He):(Ur.data=gi(Ur,Ur.parent,Te).resolve,(0,ie.of)(void 0))),(0,O.b)(()=>Vn++),ae(1),(0,B.z)(Ur=>Vn===kn.length?(0,ie.of)(Ee):q.E))})}function De(Te){const He=Te.children.map(Ee=>De(Ee)).flat();return[Te,...He]}function Nt(Te){return(0,ce.w)(He=>{const Ee=Te(He);return Ee?(0,Y.D)(Ee).pipe((0,X.U)(()=>He)):(0,ie.of)(He)})}let Rn=(()=>{class Te{buildTitle(Ee){let Be,tt=Ee.root;for(;void 0!==tt;)Be=this.getResolvedTitleForRoute(tt)??Be,tt=tt.children.find(bt=>bt.outlet===Le);return Be}getResolvedTitleForRoute(Ee){return Ee.data[Je]}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:()=>(0,_.f3M)($n),providedIn:"root"})}return Te})(),$n=(()=>{class Te extends Rn{constructor(Ee){super(),this.title=Ee}updateTitle(Ee){const Be=this.buildTitle(Ee);void 0!==Be&&this.title.setTitle(Be)}static#e=this.\u0275fac=function(Be){return new(Be||Te)(_.LFG(Ne.Dx))};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const _r=new _.OlP("",{providedIn:"root",factory:()=>({})}),Ri=new _.OlP("ROUTES");let da=(()=>{class Te{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(Ee){if(this.componentLoaders.get(Ee))return this.componentLoaders.get(Ee);if(Ee._loadedComponent)return(0,ie.of)(Ee._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Ee);const Be=Gn(Ee.loadComponent()).pipe((0,X.U)(ka),(0,O.b)(bt=>{this.onLoadEndListener&&this.onLoadEndListener(Ee),Ee._loadedComponent=bt}),(0,ye.x)(()=>{this.componentLoaders.delete(Ee)})),tt=new K(Be,()=>new ve.x).pipe(ge());return this.componentLoaders.set(Ee,tt),tt}loadChildren(Ee,Be){if(this.childrenLoaders.get(Be))return this.childrenLoaders.get(Be);if(Be._loadedRoutes)return(0,ie.of)({routes:Be._loadedRoutes,injector:Be._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Be);const bt=function fa(Te,He,Ee,Be){return Gn(Te.loadChildren()).pipe((0,X.U)(ka),(0,B.z)(tt=>tt instanceof _.YKP||Array.isArray(tt)?(0,ie.of)(tt):(0,Y.D)(He.compileModuleAsync(tt))),(0,X.U)(tt=>{Be&&Be(Te);let bt,Zt,kn=!1;return Array.isArray(tt)?(Zt=tt,!0):(bt=tt.create(Ee).injector,Zt=bt.get(Ri,[],{optional:!0,self:!0}).flat()),{routes:Zt.map(hl),injector:bt}}))}(Be,this.compiler,Ee,this.onLoadEndListener).pipe((0,ye.x)(()=>{this.childrenLoaders.delete(Be)})),Zt=new K(bt,()=>new ve.x).pipe(ge());return this.childrenLoaders.set(Be,Zt),Zt}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function ka(Te){return function mi(Te){return Te&&"object"==typeof Te&&"default"in Te}(Te)?Te.default:Te}let Da=(()=>{class Te{static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:()=>(0,_.f3M)(Fa),providedIn:"root"})}return Te})(),Fa=(()=>{class Te{shouldProcessUrl(Ee){return!0}extract(Ee){return Ee}merge(Ee,Be){return Ee}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const xa=new _.OlP(""),va=new _.OlP("");function Bl(Te,He,Ee){const Be=Te.get(va),tt=Te.get($.K0);return Te.get(_.R0b).runOutsideAngular(()=>{if(!tt.startViewTransition||Be.skipNextTransition)return Be.skipNextTransition=!1,Promise.resolve();let bt;const Zt=new Promise(Ur=>{bt=Ur}),kn=tt.startViewTransition(()=>(bt(),function fl(Te){return new Promise(He=>{(0,_.T8G)(He,{injector:Te})})}(Te))),{onViewTransitionCreated:Vn}=Be;return Vn&&(0,_.r_H)(Te,()=>Vn({transition:kn,from:He,to:Ee})),Zt})}let xs=(()=>{class Te{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve.x,this.transitionAbortSubject=new ve.x,this.configLoader=(0,_.f3M)(da),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Un),this.rootContexts=(0,_.f3M)(No),this.location=(0,_.f3M)($.Ye),this.inputBindingEnabled=null!==(0,_.f3M)(ga,{optional:!0}),this.titleStrategy=(0,_.f3M)(Rn),this.options=(0,_.f3M)(_r,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,_.f3M)(Da),this.createViewTransition=(0,_.f3M)(xa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=tt=>this.events.next(new Oa(tt)),this.configLoader.onLoadStartListener=tt=>this.events.next(new yi(tt))}complete(){this.transitions?.complete()}handleNavigationRequest(Ee){const Be=++this.navigationId;this.transitions?.next({...this.transitions.value,...Ee,id:Be})}setupNavigations(Ee,Be,tt){return this.transitions=new pe.X({id:0,currentUrlTree:Be,currentRawUrl:Be,extractedUrl:this.urlHandlingStrategy.extract(Be),urlAfterRedirects:this.urlHandlingStrategy.extract(Be),rawUrl:Be,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:er,restoredState:null,currentSnapshot:tt.snapshot,targetSnapshot:null,currentRouterState:tt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,E.h)(bt=>0!==bt.id),(0,X.U)(bt=>({...bt,extractedUrl:this.urlHandlingStrategy.extract(bt.rawUrl)})),(0,ce.w)(bt=>{this.currentTransition=bt;let Zt=!1,kn=!1;return(0,ie.of)(bt).pipe((0,O.b)(Vn=>{this.currentNavigation={id:Vn.id,initialUrl:Vn.rawUrl,extractedUrl:Vn.extractedUrl,trigger:Vn.source,extras:Vn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ce.w)(Vn=>{const Ur=!Ee.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ur&&"reload"!==(Vn.extras.onSameUrlNavigation??Ee.onSameUrlNavigation)){const qi="";return this.events.next(new ai(Vn.id,this.urlSerializer.serialize(Vn.rawUrl),qi,0)),Vn.resolve(null),q.E}if(this.urlHandlingStrategy.shouldProcessUrl(Vn.rawUrl))return(0,ie.of)(Vn).pipe((0,ce.w)(qi=>{const ao=this.transitions?.getValue();return this.events.next(new aa(qi.id,this.urlSerializer.serialize(qi.extractedUrl),qi.source,qi.restoredState)),ao!==this.transitions?.getValue()?q.E:Promise.resolve(qi)}),function Dr(Te,He,Ee,Be,tt,bt){return(0,B.z)(Zt=>function Kn(Te,He,Ee,Be,tt,bt,Zt="emptyOnly"){return new Sr(Te,He,Ee,Be,tt,Zt,bt).recognize()}(Te,He,Ee,Be,Zt.extractedUrl,tt,bt).pipe((0,X.U)(({state:kn,tree:Vn})=>({...Zt,targetSnapshot:kn,urlAfterRedirects:Vn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Ee.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,O.b)(qi=>{bt.targetSnapshot=qi.targetSnapshot,bt.urlAfterRedirects=qi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qi.urlAfterRedirects};const ao=new bo(qi.id,this.urlSerializer.serialize(qi.extractedUrl),this.urlSerializer.serialize(qi.urlAfterRedirects),qi.targetSnapshot);this.events.next(ao)}));if(Ur&&this.urlHandlingStrategy.shouldProcessUrl(Vn.currentRawUrl)){const{id:qi,extractedUrl:ao,source:wc,restoredState:r2,extras:So}=Vn,Fl=new aa(qi,this.urlSerializer.serialize(ao),wc,r2);this.events.next(Fl);const Aa=e1(0,this.rootComponentType).snapshot;return this.currentTransition=bt={...Vn,targetSnapshot:Aa,urlAfterRedirects:ao,extras:{...So,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ao,(0,ie.of)(bt)}{const qi="";return this.events.next(new ai(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),qi,1)),Vn.resolve(null),q.E}}),(0,O.b)(Vn=>{const Ur=new ni(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(Ur)}),(0,X.U)(Vn=>(this.currentTransition=bt={...Vn,guards:r1(Vn.targetSnapshot,Vn.currentSnapshot,this.rootContexts)},bt)),function Mi(Te,He){return(0,B.z)(Ee=>{const{targetSnapshot:Be,currentSnapshot:tt,guards:{canActivateChecks:bt,canDeactivateChecks:Zt}}=Ee;return 0===Zt.length&&0===bt.length?(0,ie.of)({...Ee,guardsResult:!0}):function Oo(Te,He,Ee,Be){return(0,Y.D)(Te).pipe((0,B.z)(tt=>function Ra(Te,He,Ee,Be,tt){const bt=He&&He.routeConfig?He.routeConfig.canDeactivate:null;if(!bt||0===bt.length)return(0,ie.of)(!0);const Zt=bt.map(kn=>{const Vn=Is(He)??tt,Ur=La(kn,Vn);return Gn(function Or(Te){return Te&&rs(Te.canDeactivate)}(Ur)?Ur.canDeactivate(Te,He,Ee,Be):Vn.runInContext(()=>Ur(Te,He,Ee,Be))).pipe((0,H.P)())});return(0,ie.of)(Zt).pipe(Vs())}(tt.component,tt.route,Ee,He,Be)),(0,H.P)(tt=>!0!==tt,!0))}(Zt,Be,tt,Te).pipe((0,B.z)(kn=>kn&&function El(Te){return"boolean"==typeof Te}(kn)?function zl(Te,He,Ee,Be){return(0,Y.D)(He).pipe((0,A.b)(tt=>(0,de.z)(function Nl(Te,He){return null!==Te&&He&&He(new vs(Te)),(0,ie.of)(!0)}(tt.route.parent,Be),function bi(Te,He){return null!==Te&&He&&He(new Po(Te)),(0,ie.of)(!0)}(tt.route,Be),function a1(Te,He,Ee){const Be=He[He.length-1],bt=He.slice(0,He.length-1).reverse().map(Zt=>function Vi(Te){const He=Te.routeConfig?Te.routeConfig.canActivateChild:null;return He&&0!==He.length?{node:Te,guards:He}:null}(Zt)).filter(Zt=>null!==Zt).map(Zt=>Q(()=>{const kn=Zt.guards.map(Vn=>{const Ur=Is(Zt.node)??Ee,Pi=La(Vn,Ur);return Gn(function za(Te){return Te&&rs(Te.canActivateChild)}(Pi)?Pi.canActivateChild(Be,Te):Ur.runInContext(()=>Pi(Be,Te))).pipe((0,H.P)())});return(0,ie.of)(kn).pipe(Vs())}));return(0,ie.of)(bt).pipe(Vs())}(Te,tt.path,Ee),function Qc(Te,He,Ee){const Be=He.routeConfig?He.routeConfig.canActivate:null;if(!Be||0===Be.length)return(0,ie.of)(!0);const tt=Be.map(bt=>Q(()=>{const Zt=Is(He)??Ee,kn=La(bt,Zt);return Gn(function gc(Te){return Te&&rs(Te.canActivate)}(kn)?kn.canActivate(He,Te):Zt.runInContext(()=>kn(He,Te))).pipe((0,H.P)())}));return(0,ie.of)(tt).pipe(Vs())}(Te,tt.route,Ee))),(0,H.P)(tt=>!0!==tt,!0))}(Be,bt,Te,He):(0,ie.of)(kn)),(0,X.U)(kn=>({...Ee,guardsResult:kn})))})}(this.environmentInjector,Vn=>this.events.next(Vn)),(0,O.b)(Vn=>{if(bt.guardsResult=Vn.guardsResult,qe(Vn.guardsResult))throw ul(0,Vn.guardsResult);const Ur=new wr(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot,!!Vn.guardsResult);this.events.next(Ur)}),(0,E.h)(Vn=>!!Vn.guardsResult||(this.cancelNavigationTransition(Vn,"",3),!1)),Nt(Vn=>{if(Vn.guards.canActivateChecks.length)return(0,ie.of)(Vn).pipe((0,O.b)(Ur=>{const Pi=new $r(Ur.id,this.urlSerializer.serialize(Ur.extractedUrl),this.urlSerializer.serialize(Ur.urlAfterRedirects),Ur.targetSnapshot);this.events.next(Pi)}),(0,ce.w)(Ur=>{let Pi=!1;return(0,ie.of)(Ur).pipe(jr(this.paramsInheritanceStrategy,this.environmentInjector),(0,O.b)({next:()=>Pi=!0,complete:()=>{Pi||this.cancelNavigationTransition(Ur,"",2)}}))}),(0,O.b)(Ur=>{const Pi=new Tr(Ur.id,this.urlSerializer.serialize(Ur.extractedUrl),this.urlSerializer.serialize(Ur.urlAfterRedirects),Ur.targetSnapshot);this.events.next(Pi)}))}),Nt(Vn=>{const Ur=Pi=>{const qi=[];Pi.routeConfig?.loadComponent&&!Pi.routeConfig._loadedComponent&&qi.push(this.configLoader.loadComponent(Pi.routeConfig).pipe((0,O.b)(ao=>{Pi.component=ao}),(0,X.U)(()=>{})));for(const ao of Pi.children)qi.push(...Ur(ao));return qi};return(0,me.a)(Ur(Vn.targetSnapshot.root)).pipe((0,j.d)(),(0,U.q)(1))}),Nt(()=>this.afterPreactivation()),(0,ce.w)(()=>{const{currentSnapshot:Vn,targetSnapshot:Ur}=bt,Pi=this.createViewTransition?.(this.environmentInjector,Vn.root,Ur.root);return Pi?(0,Y.D)(Pi).pipe((0,X.U)(()=>bt)):(0,ie.of)(bt)}),(0,X.U)(Vn=>{const Ur=function t1(Te,He,Ee){const Be=co(Te,He._root,Ee?Ee._root:void 0);return new gs(Be,He)}(Ee.routeReuseStrategy,Vn.targetSnapshot,Vn.currentRouterState);return this.currentTransition=bt={...Vn,targetRouterState:Ur},this.currentNavigation.targetRouterState=Ur,bt}),(0,O.b)(()=>{this.events.next(new vc)}),((Te,He,Ee,Be)=>(0,X.U)(tt=>(new Dl(He,tt.targetRouterState,tt.currentRouterState,Ee,Be).activate(Te),tt)))(this.rootContexts,Ee.routeReuseStrategy,Vn=>this.events.next(Vn),this.inputBindingEnabled),(0,U.q)(1),(0,O.b)({next:Vn=>{Zt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ui(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Vn.targetRouterState.snapshot),Vn.resolve(!0)},complete:()=>{Zt=!0}}),(0,we.R)(this.transitionAbortSubject.pipe((0,O.b)(Vn=>{throw Vn}))),(0,ye.x)(()=>{Zt||kn||this.cancelNavigationTransition(bt,"",1),this.currentNavigation?.id===bt.id&&(this.currentNavigation=null)}),(0,I.K)(Vn=>{if(kn=!0,Ze(Vn))this.events.next(new hr(bt.id,this.urlSerializer.serialize(bt.extractedUrl),Vn.message,Vn.cancellationCode)),function dn(Te){return Ze(Te)&&qe(Te.url)}(Vn)?this.events.next(new Za(Vn.url)):bt.resolve(!1);else{this.events.next(new Ba(bt.id,this.urlSerializer.serialize(bt.extractedUrl),Vn,bt.targetSnapshot??void 0));try{bt.resolve(Ee.errorHandler(Vn))}catch(Ur){bt.reject(Ur)}}return q.E}))}))}cancelNavigationTransition(Ee,Be,tt){const bt=new hr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Be,tt);this.events.next(bt),Ee.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function vl(Te){return Te!==er}let X1=(()=>{class Te{static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:()=>(0,_.f3M)(Jc),providedIn:"root"})}return Te})();class X4{shouldDetach(He){return!1}store(He,Ee){}shouldAttach(He){return!1}retrieve(He){return null}shouldReuseRoute(He,Ee){return He.routeConfig===Ee.routeConfig}}let Jc=(()=>{class Te extends X4{static#e=this.\u0275fac=(()=>{let Ee;return function(tt){return(Ee||(Ee=_.n5z(Te)))(tt||Te)}})();static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),_c=(()=>{class Te{static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:()=>(0,_.f3M)(pl),providedIn:"root"})}return Te})(),pl=(()=>{class Te extends _c{constructor(){super(...arguments),this.location=(0,_.f3M)($.Ye),this.urlSerializer=(0,_.f3M)(Un),this.options=(0,_.f3M)(_r,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,_.f3M)(Da),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=e1(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Ee){return this.location.subscribe(Be=>{"popstate"===Be.type&&Ee(Be.url,Be.state)})}handleRouterEvent(Ee,Be){if(Ee instanceof aa)this.stateMemento=this.createStateMemento();else if(Ee instanceof ai)this.rawUrlTree=Be.initialUrl;else if(Ee instanceof bo){if("eager"===this.urlUpdateStrategy&&!Be.extras.skipLocationChange){const tt=this.urlHandlingStrategy.merge(Be.finalUrl,Be.initialUrl);this.setBrowserUrl(tt,Be)}}else Ee instanceof vc?(this.currentUrlTree=Be.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Be.finalUrl,Be.initialUrl),this.routerState=Be.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Be.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Be))):Ee instanceof hr&&(3===Ee.code||2===Ee.code)?this.restoreHistory(Be):Ee instanceof Ba?this.restoreHistory(Be,!0):Ee instanceof Ui&&(this.lastSuccessfulId=Ee.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Ee,Be){const tt=this.urlSerializer.serialize(Ee);if(this.location.isCurrentPathEqualTo(tt)||Be.extras.replaceUrl){const Zt={...Be.extras.state,...this.generateNgRouterState(Be.id,this.browserPageId)};this.location.replaceState(tt,"",Zt)}else{const bt={...Be.extras.state,...this.generateNgRouterState(Be.id,this.browserPageId+1)};this.location.go(tt,"",bt)}}restoreHistory(Ee,Be=!1){if("computed"===this.canceledNavigationResolution){const bt=this.currentPageId-this.browserPageId;0!==bt?this.location.historyGo(bt):this.currentUrlTree===Ee.finalUrl&&0===bt&&(this.resetState(Ee),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Be&&this.resetState(Ee),this.resetUrlToCurrentUrlTree())}resetState(Ee){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ee.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Ee,Be){return"computed"===this.canceledNavigationResolution?{navigationId:Ee,\u0275routerPageId:Be}:{navigationId:Ee}}static#e=this.\u0275fac=(()=>{let Ee;return function(tt){return(Ee||(Ee=_.n5z(Te)))(tt||Te)}})();static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();var Mc=function(Te){return Te[Te.COMPLETE=0]="COMPLETE",Te[Te.FAILED=1]="FAILED",Te[Te.REDIRECTING=2]="REDIRECTING",Te}(Mc||{});function qc(Te,He){Te.events.pipe((0,E.h)(Ee=>Ee instanceof Ui||Ee instanceof hr||Ee instanceof Ba||Ee instanceof ai),(0,X.U)(Ee=>Ee instanceof Ui||Ee instanceof ai?Mc.COMPLETE:Ee instanceof hr&&(0===Ee.code||1===Ee.code)?Mc.REDIRECTING:Mc.FAILED),(0,E.h)(Ee=>Ee!==Mc.REDIRECTING),(0,U.q)(1)).subscribe(()=>{He()})}function ba(Te){throw Te}const Q4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ua=(()=>{class Te{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,_.f3M)(_.c2e),this.stateManager=(0,_.f3M)(_c),this.options=(0,_.f3M)(_r,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,_.f3M)(xs),this.urlSerializer=(0,_.f3M)(Un),this.location=(0,_.f3M)($.Ye),this.urlHandlingStrategy=(0,_.f3M)(Da),this._events=new ve.x,this.errorHandler=this.options.errorHandler||ba,this.navigated=!1,this.routeReuseStrategy=(0,_.f3M)(X1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,_.f3M)(Ri,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,_.f3M)(ga,{optional:!0}),this.eventsSubscription=new oe.w0,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ee=>{this.console.warn(Ee)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Ee=this.navigationTransitions.events.subscribe(Be=>{try{const tt=this.navigationTransitions.currentTransition,bt=this.navigationTransitions.currentNavigation;if(null!==tt&&null!==bt)if(this.stateManager.handleRouterEvent(Be,bt),Be instanceof hr&&0!==Be.code&&1!==Be.code)this.navigated=!0;else if(Be instanceof Ui)this.navigated=!0;else if(Be instanceof Za){const Zt=this.urlHandlingStrategy.merge(Be.url,tt.currentRawUrl),kn={skipLocationChange:tt.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vl(tt.source)};this.scheduleNavigation(Zt,er,null,kn,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}(function e4(Te){return!(Te instanceof vc||Te instanceof Za)})(Be)&&this._events.next(Be)}catch(tt){this.navigationTransitions.transitionAbortSubject.next(tt)}});this.eventsSubscription.add(Ee)}resetRootComponentType(Ee){this.routerState.root.component=Ee,this.navigationTransitions.rootComponentType=Ee}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),er,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ee,Be)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ee,"popstate",Be)},0)}))}navigateToSyncWithBrowser(Ee,Be,tt){const bt={replaceUrl:!0},Zt=tt?.navigationId?tt:null;if(tt){const Vn={...tt};delete Vn.navigationId,delete Vn.\u0275routerPageId,0!==Object.keys(Vn).length&&(bt.state=Vn)}const kn=this.parseUrl(Ee);this.scheduleNavigation(kn,Be,Zt,bt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Ee){this.config=Ee.map(hl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Ee,Be={}){const{relativeTo:tt,queryParams:bt,fragment:Zt,queryParamsHandling:kn,preserveFragment:Vn}=Be,Ur=Vn?this.currentUrlTree.fragment:Zt;let qi,Pi=null;switch(kn){case"merge":Pi={...this.currentUrlTree.queryParams,...bt};break;case"preserve":Pi=this.currentUrlTree.queryParams;break;default:Pi=bt||null}null!==Pi&&(Pi=this.removeEmptyProps(Pi));try{qi=pt(tt?tt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Ee[0]||!Ee[0].startsWith("/"))&&(Ee=[]),qi=this.currentUrlTree.root}return jt(qi,Ee,Pi,Ur??null)}navigateByUrl(Ee,Be={skipLocationChange:!1}){const tt=qe(Ee)?Ee:this.parseUrl(Ee),bt=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(bt,er,null,Be)}navigate(Ee,Be={skipLocationChange:!1}){return function io(Te){for(let He=0;He<Te.length;He++)if(null==Te[He])throw new _.vHH(4008,!1)}(Ee),this.navigateByUrl(this.createUrlTree(Ee,Be),Be)}serializeUrl(Ee){return this.urlSerializer.serialize(Ee)}parseUrl(Ee){try{return this.urlSerializer.parse(Ee)}catch{return this.urlSerializer.parse("/")}}isActive(Ee,Be){let tt;if(tt=!0===Be?{...Q4}:!1===Be?{...gl}:Be,qe(Ee))return Rr(this.currentUrlTree,Ee,tt);const bt=this.parseUrl(Ee);return Rr(this.currentUrlTree,bt,tt)}removeEmptyProps(Ee){return Object.keys(Ee).reduce((Be,tt)=>{const bt=Ee[tt];return null!=bt&&(Be[tt]=bt),Be},{})}scheduleNavigation(Ee,Be,tt,bt,Zt){if(this.disposed)return Promise.resolve(!1);let kn,Vn,Ur;Zt?(kn=Zt.resolve,Vn=Zt.reject,Ur=Zt.promise):Ur=new Promise((qi,ao)=>{kn=qi,Vn=ao});const Pi=this.pendingTasks.add();return qc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pi))}),this.navigationTransitions.handleNavigationRequest({source:Be,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Ee,extras:bt,resolve:kn,reject:Vn,promise:Ur,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ur.catch(qi=>Promise.reject(qi))}static#e=this.\u0275fac=function(Be){return new(Be||Te)};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),Ji=(()=>{class Te{constructor(Ee,Be,tt,bt,Zt,kn){this.router=Ee,this.route=Be,this.tabIndexAttribute=tt,this.renderer=bt,this.el=Zt,this.locationStrategy=kn,this.href=null,this.commands=null,this.onChanges=new ve.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Vn=Zt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Vn||"area"===Vn,this.isAnchorElement?this.subscription=Ee.events.subscribe(Ur=>{Ur instanceof Ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Ee){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ee)}ngOnChanges(Ee){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Ee){null!=Ee?(this.commands=Array.isArray(Ee)?Ee:[Ee],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Ee,Be,tt,bt,Zt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==Ee||Be||tt||bt||Zt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Ee=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ee)}applyAttributeValue(Ee,Be){const tt=this.renderer,bt=this.el.nativeElement;null!==Be?tt.setAttribute(bt,Ee,Be):tt.removeAttribute(bt,Ee)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Be){return new(Be||Te)(_.Y36(Ua),_.Y36(Ei),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36($.S$))};static#t=this.\u0275dir=_.lG2({type:Te,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Be,tt){1&Be&&_.NdJ("click",function(Zt){return tt.onClick(Zt.button,Zt.ctrlKey,Zt.shiftKey,Zt.altKey,Zt.metaKey)}),2&Be&&_.uIk("target",tt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",_.VuI],replaceUrl:["replaceUrl","replaceUrl",_.VuI],routerLink:"routerLink"},standalone:!0,features:[_.Xq5,_.TTD]})}return Te})(),Jr=(()=>{class Te{get isActive(){return this._isActive}constructor(Ee,Be,tt,bt,Zt){this.router=Ee,this.element=Be,this.renderer=tt,this.cdr=bt,this.link=Zt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.vpe,this.routerEventsSubscription=Ee.events.subscribe(kn=>{kn instanceof Ui&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,(0,ie.of)(null)).pipe((0,Ae.J)()).subscribe(Ee=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Ee=[...this.links.toArray(),this.link].filter(Be=>!!Be).map(Be=>Be.onChanges);this.linkInputChangesSubscription=(0,Y.D)(Ee).pipe((0,Ae.J)()).subscribe(Be=>{this._isActive!==this.isLinkActive(this.router)(Be)&&this.update()})}set routerLinkActive(Ee){const Be=Array.isArray(Ee)?Ee:Ee.split(" ");this.classes=Be.filter(tt=>!!tt)}ngOnChanges(Ee){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Ee=this.hasActiveLinks();this._isActive!==Ee&&(this._isActive=Ee,this.cdr.markForCheck(),this.classes.forEach(Be=>{Ee?this.renderer.addClass(this.element.nativeElement,Be):this.renderer.removeClass(this.element.nativeElement,Be)}),Ee&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(Ee))})}isLinkActive(Ee){const Be=function l1(Te){return!!Te.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return tt=>!!tt.urlTree&&Ee.isActive(tt.urlTree,Be)}hasActiveLinks(){const Ee=this.isLinkActive(this.router);return this.link&&Ee(this.link)||this.links.some(Ee)}static#e=this.\u0275fac=function(Be){return new(Be||Te)(_.Y36(Ua),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(Ji,8))};static#t=this.\u0275dir=_.lG2({type:Te,selectors:[["","routerLinkActive",""]],contentQueries:function(Be,tt,bt){if(1&Be&&_.Suo(bt,Ji,5),2&Be){let Zt;_.iGM(Zt=_.CRH())&&(tt.links=Zt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_.TTD]})}return Te})();class Js{}let Al=(()=>{class Te{constructor(Ee,Be,tt,bt,Zt){this.router=Ee,this.injector=tt,this.preloadingStrategy=bt,this.loader=Zt}setUpPreloading(){this.subscription=this.router.events.pipe((0,E.h)(Ee=>Ee instanceof Ui),(0,A.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ee,Be){const tt=[];for(const bt of Be){bt.providers&&!bt._injector&&(bt._injector=(0,_.MMx)(bt.providers,Ee,`Route: ${bt.path}`));const Zt=bt._injector??Ee,kn=bt._loadedInjector??Zt;(bt.loadChildren&&!bt._loadedRoutes&&void 0===bt.canLoad||bt.loadComponent&&!bt._loadedComponent)&&tt.push(this.preloadConfig(Zt,bt)),(bt.children||bt._loadedRoutes)&&tt.push(this.processRoutes(kn,bt.children??bt._loadedRoutes))}return(0,Y.D)(tt).pipe((0,Ae.J)())}preloadConfig(Ee,Be){return this.preloadingStrategy.preload(Be,()=>{let tt;tt=Be.loadChildren&&void 0===Be.canLoad?this.loader.loadChildren(Ee,Be):(0,ie.of)(null);const bt=tt.pipe((0,B.z)(Zt=>null===Zt?(0,ie.of)(void 0):(Be._loadedRoutes=Zt.routes,Be._loadedInjector=Zt.injector,this.processRoutes(Zt.injector??Ee,Zt.routes))));if(Be.loadComponent&&!Be._loadedComponent){const Zt=this.loader.loadComponent(Be);return(0,Y.D)([bt,Zt]).pipe((0,Ae.J)())}return bt})}static#e=this.\u0275fac=function(Be){return new(Be||Te)(_.LFG(Ua),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Js),_.LFG(da))};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const J4=new _.OlP("");let j2=(()=>{class Te{constructor(Ee,Be,tt,bt,Zt={}){this.urlSerializer=Ee,this.transitions=Be,this.viewportScroller=tt,this.zone=bt,this.options=Zt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Zt.scrollPositionRestoration=Zt.scrollPositionRestoration||"disabled",Zt.anchorScrolling=Zt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ee=>{Ee instanceof aa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ee.navigationTrigger,this.restoredId=Ee.restoredState?Ee.restoredState.navigationId:0):Ee instanceof Ui?(this.lastId=Ee.id,this.scheduleScrollEvent(Ee,this.urlSerializer.parse(Ee.urlAfterRedirects).fragment)):Ee instanceof ai&&0===Ee.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ee,this.urlSerializer.parse(Ee.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ee=>{Ee instanceof Xc&&(Ee.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ee.position):Ee.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ee.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ee,Be){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xc(Ee,"popstate"===this.lastSource?this.store[this.restoredId]:null,Be))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Be){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:Te,factory:Te.\u0275fac})}return Te})();function qs(Te,He){return{\u0275kind:Te,\u0275providers:He}}function el(){const Te=(0,_.f3M)(_.zs3);return He=>{const Ee=Te.get(_.z2F);if(He!==Ee.components[0])return;const Be=Te.get(Ua),tt=Te.get(q4);1===Te.get(W2)&&Be.initialNavigation(),Te.get(Ns,null,_.XFs.Optional)?.setUpPreloading(),Te.get(J4,null,_.XFs.Optional)?.init(),Be.resetRootComponentType(Ee.componentTypes[0]),tt.closed||(tt.next(),tt.complete(),tt.unsubscribe())}}const q4=new _.OlP("",{factory:()=>new ve.x}),W2=new _.OlP("",{providedIn:"root",factory:()=>1}),Ns=new _.OlP("");function Fo(Te){return qs(0,[{provide:Ns,useExisting:Al},{provide:Js,useExisting:Te}])}function W0(Te){return qs(9,[{provide:xa,useValue:Bl},{provide:va,useValue:{skipNextTransition:!!Te?.skipInitialTransition,...Te}}])}const Ca=new _.OlP("ROUTER_FORROOT_GUARD"),n4=[$.Ye,{provide:Un,useClass:Gt},Ua,No,{provide:Ei,useFactory:function c1(Te){return Te.routerState.root},deps:[Ua]},da,[]];let bc=(()=>{class Te{constructor(Ee){}static forRoot(Ee,Be){return{ngModule:Te,providers:[n4,[],{provide:Ri,multi:!0,useValue:Ee},{provide:Ca,useFactory:h1,deps:[[Ua,new _.FiY,new _.tp0]]},{provide:_r,useValue:Be||{}},Be?.useHash?{provide:$.S$,useClass:$.Do}:{provide:$.S$,useClass:$.b0},{provide:J4,useFactory:()=>{const Te=(0,_.f3M)($.EM),He=(0,_.f3M)(_.R0b),Ee=(0,_.f3M)(_r),Be=(0,_.f3M)(xs),tt=(0,_.f3M)(Un);return Ee.scrollOffset&&Te.setOffset(Ee.scrollOffset),new j2(tt,Be,Te,He,Ee)}},Be?.preloadingStrategy?Fo(Be.preloadingStrategy).\u0275providers:[],Be?.initialNavigation?m6(Be):[],Be?.bindToComponentInputs?qs(8,[Ni,{provide:ga,useExisting:Ni}]).\u0275providers:[],Be?.enableViewTransitions?W0().\u0275providers:[],[{provide:K0,useFactory:el},{provide:_.tb,multi:!0,useExisting:K0}]]}}static forChild(Ee){return{ngModule:Te,providers:[{provide:Ri,multi:!0,useValue:Ee}]}}static#e=this.\u0275fac=function(Be){return new(Be||Te)(_.LFG(Ca,8))};static#t=this.\u0275mod=_.oAB({type:Te});static#n=this.\u0275inj=_.cJS({})}return Te})();function h1(Te){return"guarded"}function m6(Te){return["disabled"===Te.initialNavigation?qs(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const He=(0,_.f3M)(Ua);return()=>{He.setUpLocationChangeListener()}}},{provide:W2,useValue:2}]).\u0275providers:[],"enabledBlocking"===Te.initialNavigation?qs(2,[{provide:W2,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:He=>{const Ee=He.get($.V_,Promise.resolve());return()=>Ee.then(()=>new Promise(Be=>{const tt=He.get(Ua),bt=He.get(q4);qc(tt,()=>{Be(!0)}),He.get(xs).afterPreactivation=()=>(Be(!0),bt.closed?(0,ie.of)(void 0):bt),tt.initialNavigation()}))}}]).\u0275providers:[]]}const K0=new _.OlP("")},3626:($t,We,C)=>{"use strict";C.d(We,{Dg:()=>B,MO:()=>E,lt:()=>H});var _=C(9212),T=C(6814),Y=C(8324),ie=C(2787),pe=C(1474),me=C(8108),Me=C(3742),de=C(8645),G=C(9773),Z=C(2181),Q=C(7921),W=C(1608),re=C(7754),te=C(9388),q=C(3651),oe=C(5448);const M=["*"];function se(A,O){}function ge(A,O){if(1&A&&(_.ynx(0),_.TgZ(1,"span",3),_.YNc(2,se,0,0,"ng-template",4),_._UZ(3,"span",5),_.qZA(),_.BQk()),2&A){const I=_.oxw(),N=_.MAs(2);_.xp6(1),_.Q6J("nzDropdownMenu",I.nzOverlay),_.xp6(1),_.Q6J("ngTemplateOutlet",N)}}function K(A,O){1&A&&(_.TgZ(0,"span",6),_.Hsn(1),_.qZA())}function ve(A,O){if(1&A&&(_.ynx(0),_._uU(1),_.BQk()),2&A){const I=_.oxw(2);_.xp6(1),_.hij(" ",I.nzBreadCrumbComponent.nzSeparator," ")}}function $(A,O){if(1&A&&(_.TgZ(0,"nz-breadcrumb-separator"),_.YNc(1,ve,2,1,"ng-container",7),_.qZA()),2&A){const I=_.oxw();_.xp6(1),_.Q6J("nzStringTemplateOutlet",I.nzBreadCrumbComponent.nzSeparator)}}function X(A,O){if(1&A){const I=_.EpF();_.TgZ(0,"nz-breadcrumb-item")(1,"a",2),_.NdJ("click",function(ee){const ae=_.CHM(I).$implicit,fe=_.oxw(2);return _.KtG(fe.navigate(ae.url,ee))}),_._uU(2),_.qZA()()}if(2&A){const I=O.$implicit;_.xp6(1),_.uIk("href",I.url,_.LSH),_.xp6(1),_.Oqu(I.label)}}function ce(A,O){if(1&A&&(_.ynx(0),_.YNc(1,X,3,2,"nz-breadcrumb-item",1),_.BQk()),2&A){const I=_.oxw();_.xp6(1),_.Q6J("ngForOf",I.breadcrumbs)}}class U{}let L=(()=>{class A{static#e=this.\u0275fac=function(N){return new(N||A)};static#t=this.\u0275cmp=_.Xpm({type:A,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],ngContentSelectors:M,decls:1,vars:0,template:function(N,ee){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2})}return A})(),E=(()=>{class A{constructor(I){this.nzBreadCrumbComponent=I}static#e=this.\u0275fac=function(N){return new(N||A)(_.Y36(U))};static#t=this.\u0275cmp=_.Xpm({type:A,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:M,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["noMenuTpl",""],[4,"ngIf"],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down"],[1,"ant-breadcrumb-link"],[4,"nzStringTemplateOutlet"]],template:function(N,ee){if(1&N&&(_.F$t(),_.YNc(0,ge,4,2,"ng-container",0)(1,K,2,0,"ng-template",null,1,_.W1O)(3,$,2,1,"nz-breadcrumb-separator",2)),2&N){const j=_.MAs(2);_.Q6J("ngIf",!!ee.nzOverlay)("ngIfElse",j),_.xp6(3),_.Q6J("ngIf",ee.nzBreadCrumbComponent.nzSeparator)}},dependencies:[T.O5,T.tP,Y.f,ie.cm,pe.Ls,L],encapsulation:2,changeDetection:0})}return A})(),B=(()=>{class A{constructor(I,N,ee,j,ae){this.injector=I,this.cdr=N,this.elementRef=ee,this.renderer=j,this.directionality=ae,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=fe=>fe,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new de.x}ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe((0,G.R)(this.destroy$)).subscribe(I=>{this.dir=I,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(I,N){N.preventDefault(),this.injector.get(Me.F0).navigateByUrl(I)}registerRouterChange(){try{const I=this.injector.get(Me.F0),N=this.injector.get(Me.gz);I.events.pipe((0,Z.h)(ee=>ee instanceof Me.m2),(0,G.R)(this.destroy$),(0,Q.O)(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(N.root),this.cdr.markForCheck()})}catch{throw new Error(`${W.Bq} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(I,N="",ee=[]){const j=I.children;if(0===j.length)return ee;for(const ae of j)if(ae.outlet===Me.eC){const fe=ae.snapshot.url.map(Se=>Se.path).filter(Se=>Se).join("/"),he=fe?`${N}/${fe}`:N,Ce=this.nzRouteLabelFn(ae.snapshot.data[this.nzRouteLabel]);return fe&&Ce&&ee.push({label:Ce,params:ae.snapshot.params,url:he}),this.getBreadcrumbs(ae,he,ee)}return ee}prepareComponentForRtl(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}static#e=this.\u0275fac=function(N){return new(N||A)(_.Y36(_.zs3),_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(te.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:A,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],features:[_._Bn([{provide:U,useExisting:A}])],ngContentSelectors:M,decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(N,ee){1&N&&(_.F$t(),_.Hsn(0),_.YNc(1,ce,2,1,"ng-container",0)),2&N&&(_.xp6(1),_.Q6J("ngIf",ee.nzAutoGenerate&&ee.breadcrumbs.length))},dependencies:[T.sg,T.O5,E],encapsulation:2,changeDetection:0})}return(0,me.gn)([(0,re.yF)()],A.prototype,"nzAutoGenerate",void 0),A})(),H=(()=>{class A{static#e=this.\u0275fac=function(N){return new(N||A)};static#t=this.\u0275mod=_.oAB({type:A});static#n=this.\u0275inj=_.cJS({imports:[T.ez,Y.T,q.U8,oe.e4,ie.b1,pe.PV,te.vT]})}return A})()},2840:($t,We,C)=>{"use strict";C.d(We,{ix:()=>ge,sL:()=>ve});var _=C(8108),T=C(9212),Y=C(8645),ie=C(2438),pe=C(9773),me=C(7921),Me=C(2181),de=C(7074),G=C(7754),Z=C(1474),Q=C(9388),W=C(6814),re=C(855),te=C(1958);const q=["nz-button",""];function oe($,X){1&$&&T._UZ(0,"span",1)}const M=["*"];let ge=(()=>{class ${insertSpan(ce,U){ce.forEach(L=>{if("#text"===L.nodeName){const E=U.createElement("span"),B=U.parentNode(L);U.insertBefore(B,E,L),U.appendChild(E,L)}})}get iconOnly(){const ce=Array.from(this.elementRef?.nativeElement?.childNodes||[]),U=ce.every(B=>"#text"!==B.nodeName),L=0==ce.filter(B=>!("#comment"===B.nodeName||B?.attributes?.getNamedItem("nz-icon"))).length;return!!this.nzIconDirectiveElement&&L&&U}constructor(ce,U,L,E,B,H){this.ngZone=ce,this.elementRef=U,this.cdr=L,this.renderer=E,this.nzConfigService=B,this.directionality=H,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Y.x,this.loading$=new Y.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,pe.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,pe.R)(this.destroy$)).subscribe(ce=>{this.dir=ce,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,ie.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,pe.R)(this.destroy$)).subscribe(ce=>{(this.disabled&&"A"===ce.target?.tagName||this.nzLoading)&&(ce.preventDefault(),ce.stopImmediatePropagation())})})}ngOnChanges(ce){const{nzLoading:U}=ce;U&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,me.O)(this.nzLoading),(0,Me.h)(()=>!!this.nzIconDirectiveElement),(0,pe.R)(this.destroy$)).subscribe(ce=>{const U=this.nzIconDirectiveElement.nativeElement;ce?this.renderer.setStyle(U,"display","none"):this.renderer.removeStyle(U,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(U){return new(U||$)(T.Y36(T.R0b),T.Y36(T.SBq),T.Y36(T.sBO),T.Y36(T.Qsj),T.Y36(de.jY),T.Y36(Q.Is,8))};static#t=this.\u0275cmp=T.Xpm({type:$,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(U,L,E){if(1&U&&T.Suo(E,Z.Ls,5,T.SBq),2&U){let B;T.iGM(B=T.CRH())&&(L.nzIconDirectiveElement=B.first)}},hostAttrs:[1,"ant-btn"],hostVars:32,hostBindings:function(U,L){2&U&&(T.uIk("tabindex",L.disabled?-1:null===L.tabIndex?null:L.tabIndex)("disabled",L.disabled||null),T.ekj("ant-btn-primary","primary"===L.nzType)("ant-btn-dashed","dashed"===L.nzType)("ant-btn-link","link"===L.nzType)("ant-btn-text","text"===L.nzType)("ant-btn-circle","circle"===L.nzShape)("ant-btn-round","round"===L.nzShape)("ant-btn-lg","large"===L.nzSize)("ant-btn-sm","small"===L.nzSize)("ant-btn-dangerous",L.nzDanger)("ant-btn-loading",L.nzLoading)("ant-btn-background-ghost",L.nzGhost)("ant-btn-block",L.nzBlock)("ant-input-search-button",L.nzSearch)("ant-btn-rtl","rtl"===L.dir)("ant-btn-icon-only",L.iconOnly))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[T.TTD],attrs:q,ngContentSelectors:M,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(U,L){1&U&&(T.F$t(),T.YNc(0,oe,1,0,"span",0),T.Hsn(1)),2&U&&T.Q6J("ngIf",L.nzLoading)},dependencies:[W.O5,Z.Ls,re.w],encapsulation:2,changeDetection:0})}return(0,_.gn)([(0,G.yF)()],$.prototype,"nzBlock",void 0),(0,_.gn)([(0,G.yF)()],$.prototype,"nzGhost",void 0),(0,_.gn)([(0,G.yF)()],$.prototype,"nzSearch",void 0),(0,_.gn)([(0,G.yF)()],$.prototype,"nzLoading",void 0),(0,_.gn)([(0,G.yF)()],$.prototype,"nzDanger",void 0),(0,_.gn)([(0,G.yF)()],$.prototype,"disabled",void 0),(0,_.gn)([(0,de.oS)()],$.prototype,"nzSize",void 0),$})(),ve=(()=>{class ${static#e=this.\u0275fac=function(U){return new(U||$)};static#t=this.\u0275mod=T.oAB({type:$});static#n=this.\u0275inj=T.cJS({imports:[Q.vT,W.ez,te.vG,Z.PV,re.a,re.a,te.vG]})}return $})()},8802:($t,We,C)=>{"use strict";C.d(We,{D3:()=>me});var _=C(9212),T=C(2495),Y=C(5592),ie=C(8645);let pe=(()=>{class G{create(Q){return typeof ResizeObserver>"u"?null:new ResizeObserver(Q)}static#e=this.\u0275fac=function(W){return new(W||G)};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),me=(()=>{class G{constructor(Q){this.nzResizeObserverFactory=Q,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((Q,W)=>this.cleanupObserver(W))}observe(Q){const W=(0,T.fI)(Q);return new Y.y(re=>{const q=this.observeElement(W).subscribe(re);return()=>{q.unsubscribe(),this.unobserveElement(W)}})}observeElement(Q){if(this.observedElements.has(Q))this.observedElements.get(Q).count++;else{const W=new ie.x,re=this.nzResizeObserverFactory.create(te=>W.next(te));re&&re.observe(Q),this.observedElements.set(Q,{observer:re,stream:W,count:1})}return this.observedElements.get(Q).stream}unobserveElement(Q){this.observedElements.has(Q)&&(this.observedElements.get(Q).count--,this.observedElements.get(Q).count||this.cleanupObserver(Q))}cleanupObserver(Q){if(this.observedElements.has(Q)){const{observer:W,stream:re}=this.observedElements.get(Q);W&&W.disconnect(),re.complete(),this.observedElements.delete(Q)}}static#e=this.\u0275fac=function(W){return new(W||G)(_.LFG(pe))};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},4194:($t,We,C)=>{"use strict";C.d(We,{$C:()=>te,J_:()=>ie,YK:()=>de,mF:()=>W});var _=C(6825);let T=(()=>{class M{static#e=this.SLOW="0.3s";static#t=this.BASE="0.2s";static#n=this.FAST="0.1s"}return M})(),Y=(()=>{class M{static#e=this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static#t=this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static#n=this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static#r=this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static#i=this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static#a=this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static#o=this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static#s=this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static#l=this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static#c=this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static#u=this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static#h=this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static#d=this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static#f=this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return M})();const ie=(0,_.X$)("collapseMotion",[(0,_.SB)("expanded",(0,_.oB)({height:"*"})),(0,_.SB)("collapsed",(0,_.oB)({height:0,overflow:"hidden"})),(0,_.SB)("hidden",(0,_.oB)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,_.eR)("expanded => collapsed",(0,_.jt)(`150ms ${Y.EASE_IN_OUT}`)),(0,_.eR)("expanded => hidden",(0,_.jt)(`150ms ${Y.EASE_IN_OUT}`)),(0,_.eR)("collapsed => expanded",(0,_.jt)(`150ms ${Y.EASE_IN_OUT}`)),(0,_.eR)("hidden => expanded",(0,_.jt)(`150ms ${Y.EASE_IN_OUT}`))]),de=((0,_.X$)("treeCollapseMotion",[(0,_.eR)("* => *",[(0,_.IO)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,_.oB)({overflow:"hidden"}),(0,_.EY)(0,[(0,_.jt)(`150ms ${Y.EASE_IN_OUT}`,(0,_.oB)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,_.IO)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,_.oB)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,_.EY)(0,[(0,_.jt)(`150ms ${Y.EASE_IN_OUT}`,(0,_.oB)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),(0,_.X$)("fadeMotion",[(0,_.eR)(":enter",[(0,_.oB)({opacity:0}),(0,_.jt)(`${T.BASE}`,(0,_.oB)({opacity:1}))]),(0,_.eR)(":leave",[(0,_.oB)({opacity:1}),(0,_.jt)(`${T.BASE}`,(0,_.oB)({opacity:0}))])]),(0,_.X$)("helpMotion",[(0,_.eR)(":enter",[(0,_.oB)({opacity:0,transform:"translateY(-5px)"}),(0,_.jt)(`${T.SLOW} ${Y.EASE_IN_OUT}`,(0,_.oB)({opacity:1,transform:"translateY(0)"}))]),(0,_.eR)(":leave",[(0,_.oB)({opacity:1,transform:"translateY(0)"}),(0,_.jt)(`${T.SLOW} ${Y.EASE_IN_OUT}`,(0,_.oB)({opacity:0,transform:"translateY(-5px)"}))])]),(0,_.X$)("moveUpMotion",[(0,_.eR)("* => enter",[(0,_.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,_.jt)(`${T.BASE}`,(0,_.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,_.eR)("* => leave",[(0,_.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,_.jt)(`${T.BASE}`,(0,_.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])])),Z=((0,_.X$)("notificationMotion",[(0,_.SB)("enterRight",(0,_.oB)({opacity:1,transform:"translateX(0)"})),(0,_.eR)("* => enterRight",[(0,_.oB)({opacity:0,transform:"translateX(5%)"}),(0,_.jt)("100ms linear")]),(0,_.SB)("enterLeft",(0,_.oB)({opacity:1,transform:"translateX(0)"})),(0,_.eR)("* => enterLeft",[(0,_.oB)({opacity:0,transform:"translateX(-5%)"}),(0,_.jt)("100ms linear")]),(0,_.SB)("enterTop",(0,_.oB)({opacity:1,transform:"translateY(0)"})),(0,_.eR)("* => enterTop",[(0,_.oB)({opacity:0,transform:"translateY(-5%)"}),(0,_.jt)("100ms linear")]),(0,_.SB)("enterBottom",(0,_.oB)({opacity:1,transform:"translateY(0)"})),(0,_.eR)("* => enterBottom",[(0,_.oB)({opacity:0,transform:"translateY(5%)"}),(0,_.jt)("100ms linear")]),(0,_.SB)("leave",(0,_.oB)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,_.eR)("* => leave",[(0,_.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,_.jt)("100ms linear")])]),`${T.BASE} ${Y.EASE_OUT_QUINT}`),Q=`${T.BASE} ${Y.EASE_IN_QUINT}`,W=(0,_.X$)("slideMotion",[(0,_.SB)("void",(0,_.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,_.SB)("enter",(0,_.oB)({opacity:1,transform:"scaleY(1)"})),(0,_.eR)("void => *",[(0,_.jt)(Z)]),(0,_.eR)("* => void",[(0,_.jt)(Q)])]),te=((0,_.X$)("slideAlertMotion",[(0,_.eR)(":leave",[(0,_.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,_.jt)(`${T.SLOW} ${Y.EASE_IN_OUT_CIRC}`,(0,_.oB)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,_.X$)("zoomBigMotion",[(0,_.eR)("void => active",[(0,_.oB)({opacity:0,transform:"scale(0.8)"}),(0,_.jt)(`${T.BASE} ${Y.EASE_OUT_CIRC}`,(0,_.oB)({opacity:1,transform:"scale(1)"}))]),(0,_.eR)("active => void",[(0,_.oB)({opacity:1,transform:"scale(1)"}),(0,_.jt)(`${T.BASE} ${Y.EASE_IN_OUT_CIRC}`,(0,_.oB)({opacity:0,transform:"scale(0.8)"}))])]));(0,_.X$)("zoomBadgeMotion",[(0,_.eR)(":enter",[(0,_.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,_.jt)(`${T.SLOW} ${Y.EASE_OUT_BACK}`,(0,_.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,_.eR)(":leave",[(0,_.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,_.jt)(`${T.SLOW} ${Y.EASE_IN_BACK}`,(0,_.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),(0,_.X$)("thumbMotion",[(0,_.SB)("from",(0,_.oB)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),(0,_.SB)("to",(0,_.oB)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),(0,_.eR)("from => to",(0,_.jt)(`300ms ${Y.EASE_IN_OUT}`))])},7074:($t,We,C)=>{"use strict";C.d(We,{jY:()=>Ce,oS:()=>Se});var _=C(9212),T=C(8645),Y=C(2181),ie=C(975),pe=C(9167),me=C(7187),Me=C(7240),de=C(7498),G=function(){function ye(we,Ae){var Ne;if(void 0===we&&(we=""),void 0===Ae&&(Ae={}),we instanceof ye)return we;"number"==typeof we&&(we=(0,pe.Yt)(we)),this.originalInput=we;var Le=(0,Me.uA)(we);this.originalInput=we,this.r=Le.r,this.g=Le.g,this.b=Le.b,this.a=Le.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(Ne=Ae.format)&&void 0!==Ne?Ne:Le.format,this.gradientType=Ae.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=Le.ok}return ye.prototype.isDark=function(){return this.getBrightness()<128},ye.prototype.isLight=function(){return!this.isDark()},ye.prototype.getBrightness=function(){var we=this.toRgb();return(299*we.r+587*we.g+114*we.b)/1e3},ye.prototype.getLuminance=function(){var we=this.toRgb(),Je=we.r/255,at=we.g/255,nt=we.b/255;return.2126*(Je<=.03928?Je/12.92:Math.pow((Je+.055)/1.055,2.4))+.7152*(at<=.03928?at/12.92:Math.pow((at+.055)/1.055,2.4))+.0722*(nt<=.03928?nt/12.92:Math.pow((nt+.055)/1.055,2.4))},ye.prototype.getAlpha=function(){return this.a},ye.prototype.setAlpha=function(we){return this.a=(0,de.Yq)(we),this.roundA=Math.round(100*this.a)/100,this},ye.prototype.isMonochrome=function(){return 0===this.toHsl().s},ye.prototype.toHsv=function(){var we=(0,pe.py)(this.r,this.g,this.b);return{h:360*we.h,s:we.s,v:we.v,a:this.a}},ye.prototype.toHsvString=function(){var we=(0,pe.py)(this.r,this.g,this.b),Ae=Math.round(360*we.h),Ne=Math.round(100*we.s),Le=Math.round(100*we.v);return 1===this.a?"hsv(".concat(Ae,", ").concat(Ne,"%, ").concat(Le,"%)"):"hsva(".concat(Ae,", ").concat(Ne,"%, ").concat(Le,"%, ").concat(this.roundA,")")},ye.prototype.toHsl=function(){var we=(0,pe.lC)(this.r,this.g,this.b);return{h:360*we.h,s:we.s,l:we.l,a:this.a}},ye.prototype.toHslString=function(){var we=(0,pe.lC)(this.r,this.g,this.b),Ae=Math.round(360*we.h),Ne=Math.round(100*we.s),Le=Math.round(100*we.l);return 1===this.a?"hsl(".concat(Ae,", ").concat(Ne,"%, ").concat(Le,"%)"):"hsla(".concat(Ae,", ").concat(Ne,"%, ").concat(Le,"%, ").concat(this.roundA,")")},ye.prototype.toHex=function(we){return void 0===we&&(we=!1),(0,pe.vq)(this.r,this.g,this.b,we)},ye.prototype.toHexString=function(we){return void 0===we&&(we=!1),"#"+this.toHex(we)},ye.prototype.toHex8=function(we){return void 0===we&&(we=!1),(0,pe.s)(this.r,this.g,this.b,this.a,we)},ye.prototype.toHex8String=function(we){return void 0===we&&(we=!1),"#"+this.toHex8(we)},ye.prototype.toHexShortString=function(we){return void 0===we&&(we=!1),1===this.a?this.toHexString(we):this.toHex8String(we)},ye.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},ye.prototype.toRgbString=function(){var we=Math.round(this.r),Ae=Math.round(this.g),Ne=Math.round(this.b);return 1===this.a?"rgb(".concat(we,", ").concat(Ae,", ").concat(Ne,")"):"rgba(".concat(we,", ").concat(Ae,", ").concat(Ne,", ").concat(this.roundA,")")},ye.prototype.toPercentageRgb=function(){var we=function(Ae){return"".concat(Math.round(100*(0,de.sh)(Ae,255)),"%")};return{r:we(this.r),g:we(this.g),b:we(this.b),a:this.a}},ye.prototype.toPercentageRgbString=function(){var we=function(Ae){return Math.round(100*(0,de.sh)(Ae,255))};return 1===this.a?"rgb(".concat(we(this.r),"%, ").concat(we(this.g),"%, ").concat(we(this.b),"%)"):"rgba(".concat(we(this.r),"%, ").concat(we(this.g),"%, ").concat(we(this.b),"%, ").concat(this.roundA,")")},ye.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var we="#"+(0,pe.vq)(this.r,this.g,this.b,!1),Ae=0,Ne=Object.entries(me.R);Ae<Ne.length;Ae++){var Le=Ne[Ae];if(we===Le[1])return Le[0]}return!1},ye.prototype.toString=function(we){var Ae=!!we;we=we??this.format;var Ne=!1;return!Ae&&this.a<1&&this.a>=0&&(we.startsWith("hex")||"name"===we)?"name"===we&&0===this.a?this.toName():this.toRgbString():("rgb"===we&&(Ne=this.toRgbString()),"prgb"===we&&(Ne=this.toPercentageRgbString()),("hex"===we||"hex6"===we)&&(Ne=this.toHexString()),"hex3"===we&&(Ne=this.toHexString(!0)),"hex4"===we&&(Ne=this.toHex8String(!0)),"hex8"===we&&(Ne=this.toHex8String()),"name"===we&&(Ne=this.toName()),"hsl"===we&&(Ne=this.toHslString()),"hsv"===we&&(Ne=this.toHsvString()),Ne||this.toHexString())},ye.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},ye.prototype.clone=function(){return new ye(this.toString())},ye.prototype.lighten=function(we){void 0===we&&(we=10);var Ae=this.toHsl();return Ae.l+=we/100,Ae.l=(0,de.V2)(Ae.l),new ye(Ae)},ye.prototype.brighten=function(we){void 0===we&&(we=10);var Ae=this.toRgb();return Ae.r=Math.max(0,Math.min(255,Ae.r-Math.round(-we/100*255))),Ae.g=Math.max(0,Math.min(255,Ae.g-Math.round(-we/100*255))),Ae.b=Math.max(0,Math.min(255,Ae.b-Math.round(-we/100*255))),new ye(Ae)},ye.prototype.darken=function(we){void 0===we&&(we=10);var Ae=this.toHsl();return Ae.l-=we/100,Ae.l=(0,de.V2)(Ae.l),new ye(Ae)},ye.prototype.tint=function(we){return void 0===we&&(we=10),this.mix("white",we)},ye.prototype.shade=function(we){return void 0===we&&(we=10),this.mix("black",we)},ye.prototype.desaturate=function(we){void 0===we&&(we=10);var Ae=this.toHsl();return Ae.s-=we/100,Ae.s=(0,de.V2)(Ae.s),new ye(Ae)},ye.prototype.saturate=function(we){void 0===we&&(we=10);var Ae=this.toHsl();return Ae.s+=we/100,Ae.s=(0,de.V2)(Ae.s),new ye(Ae)},ye.prototype.greyscale=function(){return this.desaturate(100)},ye.prototype.spin=function(we){var Ae=this.toHsl(),Ne=(Ae.h+we)%360;return Ae.h=Ne<0?360+Ne:Ne,new ye(Ae)},ye.prototype.mix=function(we,Ae){void 0===Ae&&(Ae=50);var Ne=this.toRgb(),Le=new ye(we).toRgb(),Je=Ae/100;return new ye({r:(Le.r-Ne.r)*Je+Ne.r,g:(Le.g-Ne.g)*Je+Ne.g,b:(Le.b-Ne.b)*Je+Ne.b,a:(Le.a-Ne.a)*Je+Ne.a})},ye.prototype.analogous=function(we,Ae){void 0===we&&(we=6),void 0===Ae&&(Ae=30);var Ne=this.toHsl(),Le=360/Ae,Je=[this];for(Ne.h=(Ne.h-(Le*we>>1)+720)%360;--we;)Ne.h=(Ne.h+Le)%360,Je.push(new ye(Ne));return Je},ye.prototype.complement=function(){var we=this.toHsl();return we.h=(we.h+180)%360,new ye(we)},ye.prototype.monochromatic=function(we){void 0===we&&(we=6);for(var Ae=this.toHsv(),Ne=Ae.h,Le=Ae.s,Je=Ae.v,at=[],nt=1/we;we--;)at.push(new ye({h:Ne,s:Le,v:Je})),Je=(Je+nt)%1;return at},ye.prototype.splitcomplement=function(){var we=this.toHsl(),Ae=we.h;return[this,new ye({h:(Ae+72)%360,s:we.s,l:we.l}),new ye({h:(Ae+216)%360,s:we.s,l:we.l})]},ye.prototype.onBackground=function(we){var Ae=this.toRgb(),Ne=new ye(we).toRgb(),Le=Ae.a+Ne.a*(1-Ae.a);return new ye({r:(Ae.r*Ae.a+Ne.r*Ne.a*(1-Ae.a))/Le,g:(Ae.g*Ae.a+Ne.g*Ne.a*(1-Ae.a))/Le,b:(Ae.b*Ae.a+Ne.b*Ne.a*(1-Ae.a))/Le,a:Le})},ye.prototype.triad=function(){return this.polyad(3)},ye.prototype.tetrad=function(){return this.polyad(4)},ye.prototype.polyad=function(we){for(var Ae=this.toHsl(),Ne=Ae.h,Le=[this],Je=360/we,at=1;at<we;at++)Le.push(new ye({h:(Ne+at*Je)%360,s:Ae.s,l:Ae.l}));return Le},ye.prototype.equals=function(we){return this.toRgbString()===new ye(we).toRgbString()},ye}();const q=2,oe=.16,M=.05,se=.05,ge=.15,K=5,ve=4,$=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function X({r:ye,g:we,b:Ae}){const Ne=(0,pe.py)(ye,we,Ae);return{h:360*Ne.h,s:Ne.s,v:Ne.v}}function ce({r:ye,g:we,b:Ae}){return`#${(0,pe.vq)(ye,we,Ae,!1)}`}function L(ye,we,Ae){let Ne;return Ne=Math.round(ye.h)>=60&&Math.round(ye.h)<=240?Ae?Math.round(ye.h)-q*we:Math.round(ye.h)+q*we:Ae?Math.round(ye.h)+q*we:Math.round(ye.h)-q*we,Ne<0?Ne+=360:Ne>=360&&(Ne-=360),Ne}function E(ye,we,Ae){if(0===ye.h&&0===ye.s)return ye.s;let Ne;return Ne=Ae?ye.s-oe*we:we===ve?ye.s+oe:ye.s+M*we,Ne>1&&(Ne=1),Ae&&we===K&&Ne>.1&&(Ne=.1),Ne<.06&&(Ne=.06),Number(Ne.toFixed(2))}function B(ye,we,Ae){let Ne;return Ne=Ae?ye.v+se*we:ye.v-ge*we,Ne>1&&(Ne=1),Number(Ne.toFixed(2))}function H(ye,we={}){const Ae=[],Ne=(0,Me.uA)(ye);for(let Le=K;Le>0;Le-=1){const Je=X(Ne),at=ce((0,Me.uA)({h:L(Je,Le,!0),s:E(Je,Le,!0),v:B(Je,Le,!0)}));Ae.push(at)}Ae.push(ce(Ne));for(let Le=1;Le<=ve;Le+=1){const Je=X(Ne),at=ce((0,Me.uA)({h:L(Je,Le),s:E(Je,Le),v:B(Je,Le)}));Ae.push(at)}return"dark"===we.theme?$.map(({index:Le,opacity:Je})=>ce(function U(ye,we,Ae){const Ne=Ae/100;return{r:(we.r-ye.r)*Ne+ye.r,g:(we.g-ye.g)*Ne+ye.g,b:(we.b-ye.b)*Ne+ye.b}}((0,Me.uA)(we.backgroundColor||"#141414"),(0,Me.uA)(Ae[Le]),100*Je))):Ae}var A=C(1608),O=C(7754);const I=new _.OlP("nz-config"),ee=`-ant-${Date.now()}-${Math.random()}`;function ae(ye,we,Ae){const Ne=function j(ye,we){const Ae={},Ne=(at,nt)=>{let dt=at.clone();return dt=nt?.(dt)||dt,dt.toRgbString()},Le=(at,nt)=>{const dt=new G(at),It=H(dt.toRgbString());Ae[`${nt}-color`]=Ne(dt),Ae[`${nt}-color-disabled`]=It[1],Ae[`${nt}-color-hover`]=It[4],Ae[`${nt}-color-active`]=It[7],Ae[`${nt}-color-outline`]=dt.clone().setAlpha(.2).toRgbString(),Ae[`${nt}-color-deprecated-bg`]=It[1],Ae[`${nt}-color-deprecated-border`]=It[3]};if(we.primaryColor){Le(we.primaryColor,"primary");const at=new G(we.primaryColor),nt=H(at.toRgbString());nt.forEach((It,an)=>{Ae[`primary-${an+1}`]=It}),Ae["primary-color-deprecated-l-35"]=Ne(at,It=>It.lighten(35)),Ae["primary-color-deprecated-l-20"]=Ne(at,It=>It.lighten(20)),Ae["primary-color-deprecated-t-20"]=Ne(at,It=>It.tint(20)),Ae["primary-color-deprecated-t-50"]=Ne(at,It=>It.tint(50)),Ae["primary-color-deprecated-f-12"]=Ne(at,It=>It.setAlpha(.12*It.getAlpha()));const dt=new G(nt[0]);Ae["primary-color-active-deprecated-f-30"]=Ne(dt,It=>It.setAlpha(.3*It.getAlpha())),Ae["primary-color-active-deprecated-d-02"]=Ne(dt,It=>It.darken(2))}return we.successColor&&Le(we.successColor,"success"),we.warningColor&&Le(we.warningColor,"warning"),we.errorColor&&Le(we.errorColor,"error"),we.infoColor&&Le(we.infoColor,"info"),`\n  :root {\n    ${Object.keys(Ae).map(at=>`--${ye}-${at}: ${Ae[at]};`).join("\n")}\n  }\n  `.trim()}(ye,we);(0,O.J8)()?(0,O.hq)(Ne,`${ee}-dynamic-theme`,{cspNonce:Ae}):(0,A.ZK)("NzConfigService: SSR do not support dynamic theme with css variables.")}const fe=function(ye){return void 0!==ye};let Ce=(()=>{class ye{constructor(Ae,Ne){this.configUpdated$=new T.x,this.config=Ae||{},this.cspNonce=Ne,this.config.theme&&ae(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,Ne)}getConfig(){return this.config}getConfigForComponent(Ae){return this.config[Ae]}getConfigChangeEventForComponent(Ae){return this.configUpdated$.pipe((0,Y.h)(Ne=>Ne===Ae),(0,ie.h)(void 0))}set(Ae,Ne){this.config[Ae]={...this.config[Ae],...Ne},"theme"===Ae&&this.config.theme&&ae(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,this.cspNonce),this.configUpdated$.next(Ae)}static#e=this.\u0275fac=function(Ne){return new(Ne||ye)(_.LFG(I,8),_.LFG(_.Ojb,8))};static#t=this.\u0275prov=_.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();function Se(){return function(we,Ae,Ne){const Le=`$$__zorroConfigDecorator__${Ae}`;return Object.defineProperty(we,Le,{configurable:!0,writable:!0,enumerable:!1}),{get(){const Je=Ne?.get?Ne.get.bind(this)():this[Le],at=(this.propertyAssignCounter?.[Ae]||0)>1,nt=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[Ae];return at&&fe(Je)?Je:fe(nt)?nt:Je},set(Je){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[Ae]=(this.propertyAssignCounter[Ae]||0)+1,Ne?.set?Ne.set.bind(this)(Je):this[Le]=Je},configurable:!0,enumerable:!0}}}},1740:($t,We,C)=>{"use strict";C.d(We,{N:()=>_});const _={isTestMode:!1}},1608:($t,We,C)=>{"use strict";C.d(We,{Bq:()=>ie,ZK:()=>Me});var _=C(9212),T=C(1740);const Y={},ie="[NG-ZORRO]:";const Me=(...Z)=>function me(Z,...Q){(T.N.isTestMode||(0,_.X6Q)()&&function pe(...Z){const Q=Z.reduce((W,re)=>W+re.toString(),"");return!Y[Q]&&(Y[Q]=!0,!0)}(...Q))&&Z(...Q)}((...Q)=>console.warn(ie,...Q),...Z)},331:($t,We,C)=>{"use strict";C.d(We,{P:()=>Me,g:()=>de});var _=C(6814),T=C(9212),Y=C(8108),ie=C(2495),pe=C(7754);const me="nz-animate-disabled";let Me=(()=>{class G{constructor(Q,W,re){this.element=Q,this.renderer=W,this.animationType=re,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const Q=(0,ie.fI)(this.element);Q&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(Q,me):this.renderer.removeClass(Q,me))}static#e=this.\u0275fac=function(W){return new(W||G)(T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(T.QbO,8))};static#t=this.\u0275dir=T.lG2({type:G,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[T.TTD]})}return(0,Y.gn)([(0,pe.yF)()],G.prototype,"nzNoAnimation",void 0),G})(),de=(()=>{class G{static#e=this.\u0275fac=function(W){return new(W||G)};static#t=this.\u0275mod=T.oAB({type:G});static#n=this.\u0275inj=T.cJS({imports:[_.ez]})}return G})()},8324:($t,We,C)=>{"use strict";C.d(We,{T:()=>pe,f:()=>Y});var _=C(6814),T=C(9212);let Y=(()=>{class me{static ngTemplateContextGuard(de,G){return!0}recreateView(){this.viewContainer.clear();const de=this.nzStringTemplateOutlet instanceof T.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(de?this.nzStringTemplateOutlet:this.templateRef,de?this.nzStringTemplateOutletContext:this.context)}updateContext(){const G=this.nzStringTemplateOutlet instanceof T.Rgc?this.nzStringTemplateOutletContext:this.context,Z=this.embeddedViewRef.context;if(G)for(const Q of Object.keys(G))Z[Q]=G[Q]}constructor(de,G){this.viewContainer=de,this.templateRef=G,this.embeddedViewRef=null,this.context=new ie,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(de){const{nzStringTemplateOutletContext:G,nzStringTemplateOutlet:Z}=de;Z&&(this.context.$implicit=Z.currentValue),(()=>{let re=!1;return Z&&(re=!!Z.firstChange||(Z.previousValue instanceof T.Rgc||Z.currentValue instanceof T.Rgc)),G&&(oe=>{const M=Object.keys(oe.previousValue||{}),se=Object.keys(oe.currentValue||{});if(M.length===se.length){for(const ge of se)if(-1===M.indexOf(ge))return!0;return!1}return!0})(G)||re})()?this.recreateView():this.updateContext()}static#e=this.\u0275fac=function(G){return new(G||me)(T.Y36(T.s_b),T.Y36(T.Rgc))};static#t=this.\u0275dir=T.lG2({type:me,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[T.TTD]})}return me})();class ie{}let pe=(()=>{class me{static#e=this.\u0275fac=function(G){return new(G||me)};static#t=this.\u0275mod=T.oAB({type:me});static#n=this.\u0275inj=T.cJS({imports:[_.ez]})}return me})()},5448:($t,We,C)=>{"use strict";C.d(We,{d_:()=>de,e4:()=>W,yW:()=>Y});var _=C(3651),T=C(9212);const Y={top:new _.tR({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new _.tR({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new _.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new _.tR({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new _.tR({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new _.tR({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new _.tR({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new _.tR({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new _.tR({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new _.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new _.tR({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new _.tR({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new _.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new _.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})};function de(re){for(const te in Y)if(re.connectionPair.originX===Y[te].originX&&re.connectionPair.originY===Y[te].originY&&re.connectionPair.overlayX===Y[te].overlayX&&re.connectionPair.overlayY===Y[te].overlayY)return te}new _.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new _.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new _.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new _.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new _.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new _.tR({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new _.tR({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let W=(()=>{class re{static#e=this.\u0275fac=function(oe){return new(oe||re)};static#t=this.\u0275mod=T.oAB({type:re});static#n=this.\u0275inj=T.cJS({})}return re})()},9087:($t,We,C)=>{"use strict";C.d(We,{KV:()=>te,WV:()=>K,ow:()=>ve,r3:()=>$});var _=C(9212),T=C(8645),Y=C(9028),ie=C(4716),pe=C(9773),me=C(7398),Me=C(7921),de=C(3997),G=C(1740),Z=C(1088);const Q=()=>{};let W=(()=>{class U{constructor(E,B){this.ngZone=E,this.rendererFactory2=B,this.resizeSource$=new T.x,this.listeners=0,this.disposeHandle=Q,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Q}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,Y.e)(16),(0,ie.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=Q)}static#e=this.\u0275fac=function(B){return new(B||U)(_.LFG(_.R0b),_.LFG(_.FYo))};static#t=this.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const re=new Map;let te=(()=>{class U{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return G.N.isTestMode?re:this._singletonRegistry}registerSingletonWithKey(E,B){const H=this.singletonRegistry.has(E),A=H?this.singletonRegistry.get(E):this.withNewTarget(B);H||this.singletonRegistry.set(E,A)}unregisterSingletonWithKey(E){this.singletonRegistry.has(E)&&this.singletonRegistry.delete(E)}getSingletonWithKey(E){return this.singletonRegistry.has(E)?this.singletonRegistry.get(E).target:null}withNewTarget(E){return{target:E}}static#e=this.\u0275fac=function(B){return new(B||U)};static#t=this.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var ge=function(U){return U.xxl="xxl",U.xl="xl",U.lg="lg",U.md="md",U.sm="sm",U.xs="xs",U}(ge||{});const K={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},ve={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let $=(()=>{class U{constructor(E,B){this.resizeService=E,this.mediaMatcher=B,this.destroy$=new T.x,this.resizeService.subscribe().pipe((0,pe.R)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(E,B){if(B){const H=()=>this.matchMedia(E,!0);return this.resizeService.subscribe().pipe((0,me.U)(H),(0,Me.O)(H()),(0,de.x)((A,O)=>A[0]===O[0]),(0,me.U)(A=>A[1]))}{const H=()=>this.matchMedia(E);return this.resizeService.subscribe().pipe((0,me.U)(H),(0,Me.O)(H()),(0,de.x)())}}matchMedia(E,B){let H=ge.md;const A={};return Object.keys(E).map(O=>{const I=O,N=this.mediaMatcher.matchMedia(K[I]).matches;A[O]=N,N&&(H=I)}),B?[H,A]:H}static#e=this.\u0275fac=function(B){return new(B||U)(_.LFG(W),_.LFG(Z.vx))};static#t=this.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},855:($t,We,C)=>{"use strict";C.d(We,{a:()=>ie,w:()=>Y});var _=C(2831),T=C(9212);let Y=(()=>{class pe{setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(Me,de){this.elementRef=Me,this.renderer=de,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}static#e=this.\u0275fac=function(de){return new(de||pe)(T.Y36(T.SBq),T.Y36(T.Qsj))};static#t=this.\u0275dir=T.lG2({type:pe,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[T.TTD]})}return pe})(),ie=(()=>{class pe{static#e=this.\u0275fac=function(de){return new(de||pe)};static#t=this.\u0275mod=T.oAB({type:pe});static#n=this.\u0275inj=T.cJS({imports:[_.ud]})}return pe})()},7754:($t,We,C)=>{"use strict";C.d(We,{DX:()=>Q,J8:()=>Dn,WX:()=>se,hq:()=>_t,lN:()=>Wt,ov:()=>Xt,yF:()=>ve});var _=C(2495),T=C(1608),Y=C(8645),ie=C(2664),pe=C(7715),me=C(2096),Me=C(8180);function Q(Ye){return typeof Ye<"u"&&null!==Ye}function oe(Ye){return(0,_.Ig)(Ye)}function se(Ye){return(0,_.HM)(Ye)}function ve(){return function K(Ye,ke){return function Ct(Mt,Jt,bn){const ar=`$$__zorroPropDecorator__${Jt}`;return Object.prototype.hasOwnProperty.call(Mt,ar)&&(0,T.ZK)(`The prop "${ar}" is already exist, it will be overrided by ${Ye} decorator.`),Object.defineProperty(Mt,ar,{configurable:!0,writable:!0}),{get(){return bn&&bn.get?bn.get.bind(this)():this[ar]},set(Ar){bn&&bn.set&&bn.set.bind(this)(ke(Ar)),this[ar]=ke(Ar)}}}}("InputBoolean",oe)}function Xt(){const Ye=new Y.x;return Promise.resolve().then(()=>Ye.next()),Ye.pipe((0,Me.q)(1))}function Wt(Ye){return(0,ie.b)(Ye)?Ye:function N(Ye){return!!Ye&&"function"==typeof Ye.then&&"function"==typeof Ye.catch}(Ye)?(0,pe.D)(Promise.resolve(Ye)):(0,me.of)(Ye)}function Dn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const Ln="rc-util-key";function xr({mark:Ye}={}){return Ye?Ye.startsWith("data-")?Ye:`data-${Ye}`:Ln}function lr(Ye){return Ye.attachTo?Ye.attachTo:document.querySelector("head")||document.body}function ct(Ye,ke={}){if(!Dn())return null;const Ct=document.createElement("style");ke.cspNonce&&(Ct.nonce=ke.cspNonce),Ct.innerHTML=Ye;const Mt=lr(ke),{firstChild:Jt}=Mt;return ke.prepend&&Mt.prepend?Mt.prepend(Ct):ke.prepend&&Jt?Mt.insertBefore(Ct,Jt):Mt.appendChild(Ct),Ct}const Ft=new Map;function _t(Ye,ke,Ct={}){const Mt=lr(Ct);if(!Ft.has(Mt)){const ar=ct("",Ct),{parentNode:Ar}=ar;Ft.set(Mt,Ar),Ar.removeChild(ar)}const Jt=function Un(Ye,ke={}){const Ct=lr(ke);return Array.from(Ft.get(Ct)?.children||[]).find(Mt=>"STYLE"===Mt.tagName&&Mt.getAttribute(xr(ke))===Ye)}(ke,Ct);if(Jt)return Ct.cspNonce&&Jt.nonce!==Ct.cspNonce&&(Jt.nonce=Ct.cspNonce),Jt.innerHTML!==Ye&&(Jt.innerHTML=Ye),Jt;const bn=ct(Ye,Ct);return bn?.setAttribute(xr(Ct),ke),bn}},1958:($t,We,C)=>{"use strict";C.d(We,{dQ:()=>Me,vG:()=>de});var _=C(2831),T=C(9212);class Y{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(Z,Q,W,re,te){this.triggerElement=Z,this.ngZone=Q,this.insertExtraNode=W,this.platformId=re,this.cspNonce=te,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=q=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===q.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new _.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const Z=this.triggerElement,Q=this.getWaveColor(Z);Z.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(Q)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${Q};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",Z.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{Z.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(Z){return!!Z&&"#ffffff"!==Z&&"rgb(255, 255, 255)"!==Z&&this.isNotGrey(Z)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(Z)&&"transparent"!==Z}isNotGrey(Z){const Q=Z.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(Q&&Q[1]&&Q[2]&&Q[3]&&Q[1]===Q[2]&&Q[2]===Q[3])}getWaveColor(Z){const Q=getComputedStyle(Z);return Q.getPropertyValue("border-top-color")||Q.getPropertyValue("border-color")||Q.getPropertyValue("background-color")}runTimeoutOutsideZone(Z,Q){this.ngZone.runOutsideAngular(()=>setTimeout(Z,Q))}}const ie={disabled:!1},pe=new T.OlP("nz-wave-global-options");function me(G){return(0,T.MR2)([{provide:pe,useValue:G}])}let Me=(()=>{class G{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(Q,W,re,te,q,oe){this.ngZone=Q,this.elementRef=W,this.config=re,this.animationType=te,this.platformId=q,this.cspNonce=oe,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let Q=!1;return this.config&&"boolean"==typeof this.config.disabled&&(Q=this.config.disabled),"NoopAnimations"===this.animationType&&(Q=!0),Q}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new Y(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}static#e=this.\u0275fac=function(W){return new(W||G)(T.Y36(T.R0b),T.Y36(T.SBq),T.Y36(pe,8),T.Y36(T.QbO,8),T.Y36(T.Lbi),T.Y36(T.Ojb,8))};static#t=this.\u0275dir=T.lG2({type:G,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]})}return G})(),de=(()=>{class G{static#e=this.\u0275fac=function(W){return new(W||G)};static#t=this.\u0275mod=T.oAB({type:G});static#n=this.\u0275inj=T.cJS({providers:[me(ie)],imports:[_.ud]})}return G})()},6987:($t,We,C)=>{"use strict";C.d(We,{S:()=>Z,g:()=>G});var _=C(8108),T=C(9212),Y=C(7754),ie=C(6814),pe=C(8324),me=C(9388);function Me(Q,W){if(1&Q&&(T.ynx(0),T._uU(1),T.BQk()),2&Q){const re=T.oxw(2);T.xp6(1),T.Oqu(re.nzText)}}function de(Q,W){if(1&Q&&(T.TgZ(0,"span",1),T.YNc(1,Me,2,1,"ng-container",2),T.qZA()),2&Q){const re=T.oxw();T.xp6(1),T.Q6J("nzStringTemplateOutlet",re.nzText)}}let G=(()=>{class Q{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#e=this.\u0275fac=function(te){return new(te||Q)};static#t=this.\u0275cmp=T.Xpm({type:Q,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(te,q){2&te&&T.ekj("ant-divider-horizontal","horizontal"===q.nzType)("ant-divider-vertical","vertical"===q.nzType)("ant-divider-with-text",q.nzText)("ant-divider-plain",q.nzPlain)("ant-divider-with-text-left",q.nzText&&"left"===q.nzOrientation)("ant-divider-with-text-right",q.nzText&&"right"===q.nzOrientation)("ant-divider-with-text-center",q.nzText&&"center"===q.nzOrientation)("ant-divider-dashed",q.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(te,q){1&te&&T.YNc(0,de,2,1,"span",0),2&te&&T.Q6J("ngIf",q.nzText)},dependencies:[ie.O5,pe.f],encapsulation:2,changeDetection:0})}return(0,_.gn)([(0,Y.yF)()],Q.prototype,"nzDashed",void 0),(0,_.gn)([(0,Y.yF)()],Q.prototype,"nzPlain",void 0),Q})(),Z=(()=>{class Q{static#e=this.\u0275fac=function(te){return new(te||Q)};static#t=this.\u0275mod=T.oAB({type:Q});static#n=this.\u0275inj=T.cJS({imports:[me.vT,ie.ez,pe.T]})}return Q})()},2787:($t,We,C)=>{"use strict";C.d(We,{RR:()=>Ce,b1:()=>Se,cm:()=>j});var _=C(8108),T=C(6028),Y=C(8484),ie=C(9212),pe=C(8645),me=C(5619),Me=C(3019),de=C(2438),G=C(6232),Z=C(2572),Q=C(975),W=C(7398),re=C(4664),te=C(2181),q=C(9028),oe=C(3997),M=C(9773),se=C(7074),ge=C(5448),K=C(7754),ve=C(3651),$=C(2831),X=C(9388),ce=C(6814),U=C(2840),L=C(331),E=C(8324),B=C(1474),H=C(3460),A=C(4194);function O(Ae,Ne){if(1&Ae){const Le=ie.EpF();ie.TgZ(0,"div",0),ie.NdJ("@slideMotion.done",function(at){ie.CHM(Le);const nt=ie.oxw();return ie.KtG(nt.onAnimationEvent(at))})("mouseenter",function(){ie.CHM(Le);const at=ie.oxw();return ie.KtG(at.setMouseState(!0))})("mouseleave",function(){ie.CHM(Le);const at=ie.oxw();return ie.KtG(at.setMouseState(!1))}),ie.Hsn(1),ie.qZA()}if(2&Ae){const Le=ie.oxw();ie.ekj("ant-dropdown-rtl","rtl"===Le.dir),ie.Q6J("ngClass",Le.nzOverlayClassName)("ngStyle",Le.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!(null==Le.noAnimation||!Le.noAnimation.nzNoAnimation))("nzNoAnimation",null==Le.noAnimation?null:Le.noAnimation.nzNoAnimation)}}const I=["*"],ee=[ge.yW.bottomLeft,ge.yW.bottomRight,ge.yW.topRight,ge.yW.topLeft];let j=(()=>{class Ae{setDropdownMenuValue(Le,Je){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(Le,Je)}constructor(Le,Je,at,nt,dt,It){this.nzConfigService=Le,this.elementRef=Je,this.overlay=at,this.renderer=nt,this.viewContainerRef=dt,this.platform=It,this._nzModuleName="dropDown",this.overlayRef=null,this.destroy$=new pe.x,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new me.X(!1),this.nzTrigger$=new me.X("hover"),this.overlayClose$=new pe.x,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new ie.vpe}ngAfterViewInit(){if(this.nzDropdownMenu){const Le=this.elementRef.nativeElement,Je=(0,Me.T)((0,de.R)(Le,"mouseenter").pipe((0,Q.h)(!0)),(0,de.R)(Le,"mouseleave").pipe((0,Q.h)(!1))),nt=(0,Me.T)(this.nzDropdownMenu.mouseState$,Je),dt=(0,de.R)(Le,"click").pipe((0,W.U)(()=>!this.nzVisible)),It=this.nzTrigger$.pipe((0,re.w)(Cn=>"hover"===Cn?nt:"click"===Cn?dt:G.E)),an=this.nzDropdownMenu.descendantMenuItemClick$.pipe((0,te.h)(()=>this.nzClickHide),(0,Q.h)(!1)),Yt=(0,Me.T)(It,an,this.overlayClose$).pipe((0,te.h)(()=>!this.nzDisabled)),mn=(0,Me.T)(this.inputVisible$,Yt);(0,Z.a)([mn,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe((0,W.U)(([Cn,Gn])=>Cn||Gn),(0,q.e)(150),(0,oe.x)(),(0,te.h)(()=>this.platform.isBrowser),(0,M.R)(this.destroy$)).subscribe(Cn=>{const Wn=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:Le).getBoundingClientRect().width;this.nzVisible!==Cn&&this.nzVisibleChange.emit(Cn),this.nzVisible=Cn,Cn?(this.overlayRef?this.overlayRef.getConfig().minWidth=Wn:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:Wn,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),(0,Me.T)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe((0,te.h)(Fn=>!this.elementRef.nativeElement.contains(Fn.target))),this.overlayRef.keydownEvents().pipe((0,te.h)(Fn=>Fn.keyCode===T.hY&&!(0,T.Vb)(Fn)))).pipe((0,M.R)(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([ge.yW[this.nzPlacement],...ee]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new Y.UE(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe((0,M.R)(this.destroy$)).subscribe(Cn=>{"void"===Cn.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(Le){const{nzVisible:Je,nzDisabled:at,nzOverlayClassName:nt,nzOverlayStyle:dt,nzTrigger:It}=Le;if(It&&this.nzTrigger$.next(this.nzTrigger),Je&&this.inputVisible$.next(this.nzVisible),at){const an=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(an,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(an,"disabled")}nt&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),dt&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}static#e=this.\u0275fac=function(Je){return new(Je||Ae)(ie.Y36(se.jY),ie.Y36(ie.SBq),ie.Y36(ve.aV),ie.Y36(ie.Qsj),ie.Y36(ie.s_b),ie.Y36($.t4))};static#t=this.\u0275dir=ie.lG2({type:Ae,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[ie.TTD]})}return(0,_.gn)([(0,se.oS)(),(0,K.yF)()],Ae.prototype,"nzBackdrop",void 0),(0,_.gn)([(0,K.yF)()],Ae.prototype,"nzClickHide",void 0),(0,_.gn)([(0,K.yF)()],Ae.prototype,"nzDisabled",void 0),(0,_.gn)([(0,K.yF)()],Ae.prototype,"nzVisible",void 0),Ae})(),ae=(()=>{class Ae{static#e=this.\u0275fac=function(Je){return new(Je||Ae)};static#t=this.\u0275mod=ie.oAB({type:Ae});static#n=this.\u0275inj=ie.cJS({})}return Ae})(),Ce=(()=>{class Ae{onAnimationEvent(Le){this.animationStateChange$.emit(Le)}setMouseState(Le){this.mouseState$.next(Le)}setValue(Le,Je){this[Le]=Je,this.cdr.markForCheck()}constructor(Le,Je,at,nt,dt,It,an){this.cdr=Le,this.elementRef=Je,this.renderer=at,this.viewContainerRef=nt,this.nzMenuService=dt,this.directionality=It,this.noAnimation=an,this.mouseState$=new me.X(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new ie.vpe,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new pe.x}ngOnInit(){this.directionality.change?.pipe((0,M.R)(this.destroy$)).subscribe(Le=>{this.dir=Le,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Je){return new(Je||Ae)(ie.Y36(ie.sBO),ie.Y36(ie.SBq),ie.Y36(ie.Qsj),ie.Y36(ie.s_b),ie.Y36(H.hl),ie.Y36(X.Is,8),ie.Y36(L.P,9))};static#t=this.\u0275cmp=ie.Xpm({type:Ae,selectors:[["nz-dropdown-menu"]],viewQuery:function(Je,at){if(1&Je&&ie.Gf(ie.Rgc,7),2&Je){let nt;ie.iGM(nt=ie.CRH())&&(at.templateRef=nt.first)}},exportAs:["nzDropdownMenu"],features:[ie._Bn([H.hl,{provide:H.Cc,useValue:!0}])],ngContentSelectors:I,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(Je,at){1&Je&&(ie.F$t(),ie.YNc(0,O,2,7,"ng-template"))},dependencies:[ce.mk,ce.PC,L.P],encapsulation:2,data:{animation:[A.mF]},changeDetection:0})}return Ae})(),Se=(()=>{class Ae{static#e=this.\u0275fac=function(Je){return new(Je||Ae)};static#t=this.\u0275mod=ie.oAB({type:Ae});static#n=this.\u0275inj=ie.cJS({imports:[X.vT,ce.ez,ve.U8,U.sL,H.ip,B.PV,L.g,$.ud,ge.e4,ae,E.T,H.ip]})}return Ae})();new ve.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new ve.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new ve.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new ve.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})},95:($t,We,C)=>{"use strict";C.d(We,{Jb:()=>re,SK:()=>Q,t3:()=>W});var _=C(9212),T=C(7328),Y=C(8645),ie=C(9773),pe=C(9087),me=C(1088),Me=C(2831),de=C(9388),G=C(7754),Z=C(6814);let Q=(()=>{class te{getGutter(){const oe=[null,null],M=this.nzGutter||0;return(Array.isArray(M)?M:[M,null]).forEach((ge,K)=>{"object"==typeof ge&&null!==ge?(oe[K]=null,Object.keys(pe.WV).map(ve=>{const $=ve;this.mediaMatcher.matchMedia(pe.WV[$]).matches&&ge[$]&&(oe[K]=ge[$])})):oe[K]=Number(ge)||null}),oe}setGutterStyle(){const[oe,M]=this.getGutter();this.actualGutter$.next([oe,M]);const se=(ge,K)=>{null!==K&&this.renderer.setStyle(this.elementRef.nativeElement,ge,`-${K/2}px`)};se("margin-left",oe),se("margin-right",oe),se("margin-top",M),se("margin-bottom",M)}constructor(oe,M,se,ge,K,ve,$){this.elementRef=oe,this.renderer=M,this.mediaMatcher=se,this.ngZone=ge,this.platform=K,this.breakpointService=ve,this.directionality=$,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new T.t(1),this.dir="ltr",this.destroy$=new Y.x}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,ie.R)(this.destroy$)).subscribe(oe=>{this.dir=oe}),this.setGutterStyle()}ngOnChanges(oe){oe.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(pe.WV).pipe((0,ie.R)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(M){return new(M||te)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(me.vx),_.Y36(_.R0b),_.Y36(Me.t4),_.Y36(pe.r3),_.Y36(de.Is,8))};static#t=this.\u0275dir=_.lG2({type:te,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(M,se){2&M&&_.ekj("ant-row-top","top"===se.nzAlign)("ant-row-middle","middle"===se.nzAlign)("ant-row-bottom","bottom"===se.nzAlign)("ant-row-start","start"===se.nzJustify)("ant-row-end","end"===se.nzJustify)("ant-row-center","center"===se.nzJustify)("ant-row-space-around","space-around"===se.nzJustify)("ant-row-space-between","space-between"===se.nzJustify)("ant-row-space-evenly","space-evenly"===se.nzJustify)("ant-row-rtl","rtl"===se.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[_.TTD]})}return te})(),W=(()=>{class te{setHostClassMap(){const oe={"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,G.DX)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,G.DX)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,G.DX)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,G.DX)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,G.DX)(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const M in this.classMap)this.classMap.hasOwnProperty(M)&&this.renderer.removeClass(this.elementRef.nativeElement,M);this.classMap={...oe};for(const M in this.classMap)this.classMap.hasOwnProperty(M)&&this.classMap[M]&&this.renderer.addClass(this.elementRef.nativeElement,M)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(oe){return"number"==typeof oe?`${oe} ${oe} auto`:"string"==typeof oe&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(oe)?`0 0 ${oe}`:oe}generateClass(){const M={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(se=>{const ge=se.replace("nz","").toLowerCase();if((0,G.DX)(this[se]))if("number"==typeof this[se]||"string"==typeof this[se])M[`ant-col-${ge}-${this[se]}`]=!0;else{const K=this[se];["span","pull","push","offset","order"].forEach($=>{M[`ant-col-${ge}${"span"===$?"-":`-${$}-`}${K[$]}`]=K&&(0,G.DX)(K[$])})}}),M}constructor(oe,M,se,ge){this.elementRef=oe,this.nzRowDirective=M,this.renderer=se,this.directionality=ge,this.classMap={},this.destroy$=new Y.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,ie.R)(this.destroy$)).subscribe(oe=>{this.dir=oe,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(oe){this.setHostClassMap();const{nzFlex:M}=oe;M&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,ie.R)(this.destroy$)).subscribe(([oe,M])=>{const se=(ge,K)=>{null!==K&&this.renderer.setStyle(this.elementRef.nativeElement,ge,K/2+"px")};se("padding-left",oe),se("padding-right",oe),se("padding-top",M),se("padding-bottom",M)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(M){return new(M||te)(_.Y36(_.SBq),_.Y36(Q,9),_.Y36(_.Qsj),_.Y36(de.Is,8))};static#t=this.\u0275dir=_.lG2({type:te,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(M,se){2&M&&_.Udp("flex",se.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[_.TTD]})}return te})(),re=(()=>{class te{static#e=this.\u0275fac=function(M){return new(M||te)};static#t=this.\u0275mod=_.oAB({type:te});static#n=this.\u0275inj=_.cJS({imports:[de.vT,Z.ez,me.xu,Me.ud]})}return te})()},1474:($t,We,C)=>{"use strict";C.d(We,{Ls:()=>Id,PV:()=>e8});var _=C(2831),T=C(9212),Y=C(8108),ie=C(8645),pe=C(7715),me=C(9773),Me=C(9167),de=C(7240),G=2,Z=.16,Q=.05,W=.05,re=.15,te=5,q=4,oe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function M(sr){var ci=(0,Me.py)(sr.r,sr.g,sr.b);return{h:360*ci.h,s:ci.s,v:ci.v}}function se(sr){return"#".concat((0,Me.vq)(sr.r,sr.g,sr.b,!1))}function K(sr,Yi,zn){var vr;return(vr=Math.round(sr.h)>=60&&Math.round(sr.h)<=240?zn?Math.round(sr.h)-G*Yi:Math.round(sr.h)+G*Yi:zn?Math.round(sr.h)+G*Yi:Math.round(sr.h)-G*Yi)<0?vr+=360:vr>=360&&(vr-=360),vr}function ve(sr,Yi,zn){return 0===sr.h&&0===sr.s?sr.s:((vr=zn?sr.s-Z*Yi:Yi===q?sr.s+Z:sr.s+Q*Yi)>1&&(vr=1),zn&&Yi===te&&vr>.1&&(vr=.1),vr<.06&&(vr=.06),Number(vr.toFixed(2)));var vr}function $(sr,Yi,zn){var vr;return(vr=zn?sr.v+W*Yi:sr.v-re*Yi)>1&&(vr=1),Number(vr.toFixed(2))}function X(sr){for(var Yi=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},zn=[],vr=(0,de.uA)(sr),ci=te;ci>0;ci-=1){var la=M(vr),Va=se((0,de.uA)({h:K(la,ci,!0),s:ve(la,ci,!0),v:$(la,ci,!0)}));zn.push(Va)}zn.push(se(vr));for(var Mo=1;Mo<=q;Mo+=1){var xo=M(vr),w1=se((0,de.uA)({h:K(xo,Mo),s:ve(xo,Mo),v:$(xo,Mo)}));zn.push(w1)}return"dark"===Yi.theme?oe.map(function(Kl){var D0=Kl.index,Uh=Kl.opacity,Y1=se(function ge(sr,Yi,zn){var vr=zn/100;return{r:(Yi.r-sr.r)*vr+sr.r,g:(Yi.g-sr.g)*vr+sr.g,b:(Yi.b-sr.b)*vr+sr.b}}((0,de.uA)(Yi.backgroundColor||"#141414"),(0,de.uA)(zn[D0]),100*Uh));return Y1}):zn}var ce={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},U={},L={};Object.keys(ce).forEach(function(sr){U[sr]=X(ce[sr]),U[sr].primary=U[sr][5],L[sr]=X(ce[sr],{theme:"dark",backgroundColor:"#141414"}),L[sr].primary=L[sr][5]});var ye=C(6814),we=C(9862),Ae=C(2096),Ne=C(5592),Le=C(7398),Je=C(9397),at=C(4716),nt=C(6306),dt=C(3020),It=C(2181),an=C(8180),Yt=C(6593);const mn="[@ant-design/icons-angular]:";function Gn(sr){(0,T.X6Q)()&&console.warn(`${mn} ${sr}.`)}function Wn(sr){return X(sr)[0]}function Fn(sr,Yi){switch(Yi){case"fill":return`${sr}-fill`;case"outline":return`${sr}-o`;case"twotone":return`${sr}-twotone`;case void 0:return sr;default:throw new Error(`${mn}Theme "${Yi}" is not a recognized theme!`)}}function Et(sr){return"object"==typeof sr&&"string"==typeof sr.name&&("string"==typeof sr.theme||void 0===sr.theme)&&"string"==typeof sr.icon}function Dn(sr){const Yi=sr.split(":");switch(Yi.length){case 1:return[sr,""];case 2:return[Yi[1],Yi[0]];default:throw new Error(`${mn}The icon type ${sr} is not valid!`)}}function lr(sr){return new Error(`${mn}the icon ${sr} does not exist or is not registered.`)}function Un(){return new Error(`${mn}<svg> tag not found.`)}const Xe=new T.OlP("ant_icons");let Ye=(()=>{class sr{set twoToneColor({primaryColor:zn,secondaryColor:vr}){this._twoToneColorPalette.primaryColor=zn,this._twoToneColorPalette.secondaryColor=vr||Wn(zn)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}constructor(zn,vr,ci,la,Va){this._rendererFactory=zn,this._handler=vr,this._document=ci,this.sanitizer=la,this._antIcons=Va,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new ie.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new we.eN(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?Gn("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=zn=>{this._jsonpIconLoad$.next(zn)})}changeAssetsSource(zn){this._assetsUrlRoot=zn.endsWith("/")?zn:zn+"/"}addIcon(...zn){zn.forEach(vr=>{this._svgDefinitions.set(Fn(vr.name,vr.theme),vr)})}addIconLiteral(zn,vr){const[ci,la]=Dn(zn);if(!la)throw function xr(){return new Error(`${mn}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:zn,icon:vr})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(zn,vr){const ci=Et(zn)?zn:this._svgDefinitions.get(zn)||null;if(!ci&&this._disableDynamicLoading)throw lr(zn);return(ci?(0,Ae.of)(ci):this._loadIconDynamically(zn)).pipe((0,Le.U)(Va=>{if(!Va)throw lr(zn);return this._loadSVGFromCacheOrCreateNew(Va,vr)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(zn){if(!this._http&&!this._enableJsonpLoading)return(0,Ae.of)(function ct(){return function Cn(sr){console.error(`${mn} ${sr}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let vr=this._inProgressFetches.get(zn);if(!vr){const[ci,la]=Dn(zn),Va=la?{name:zn,icon:""}:function Tt(sr){const Yi=sr.split("-"),zn=function hn(sr){return"o"===sr?"outline":sr}(Yi.splice(Yi.length-1,1)[0]);return{name:Yi.join("-"),theme:zn,icon:""}}(ci),xo=(la?`${this._assetsUrlRoot}assets/${la}/${ci}`:`${this._assetsUrlRoot}assets/${Va.theme}/${Va.name}`)+(this._enableJsonpLoading?".js":".svg"),w1=this.sanitizer.sanitize(T.q3G.URL,xo);if(!w1)throw function Ft(sr){return new Error(`${mn}The url "${sr}" is unsafe.`)}(xo);vr=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(Va,w1):this._http.get(w1,{responseType:"text"}).pipe((0,Le.U)(D0=>({...Va,icon:D0})))).pipe((0,Je.b)(D0=>this.addIcon(D0)),(0,at.x)(()=>this._inProgressFetches.delete(zn)),(0,nt.K)(()=>(0,Ae.of)(null)),(0,dt.B)()),this._inProgressFetches.set(zn,vr)}return vr}_loadIconDynamicallyWithJsonp(zn,vr){return new Ne.y(ci=>{const la=this._document.createElement("script"),Va=setTimeout(()=>{Mo(),ci.error(function Gt(){return new Error(`${mn}Importing timeout error.`)}())},6e3);function Mo(){la.parentNode.removeChild(la),clearTimeout(Va)}la.src=vr,this._document.body.appendChild(la),this._jsonpIconLoad$.pipe((0,It.h)(xo=>xo.name===zn.name&&xo.theme===zn.theme),(0,an.q)(1)).subscribe(xo=>{ci.next(xo),Mo()})})}_loadSVGFromCacheOrCreateNew(zn,vr){let ci;const la=vr||this._twoToneColorPalette.primaryColor,Va=Wn(la)||this._twoToneColorPalette.secondaryColor,Mo="twotone"===zn.theme?function Rr(sr,Yi,zn,vr){return`${Fn(sr,Yi)}-${zn}-${vr}`}(zn.name,zn.theme,la,Va):void 0===zn.theme?zn.name:Fn(zn.name,zn.theme),xo=this._svgRenderedDefinitions.get(Mo);return xo?ci=xo.icon:(ci=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function Ln(sr){return""!==Dn(sr)[1]}(zn.name)?zn.icon:function Wt(sr){return sr.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(zn.icon)),"twotone"===zn.theme,la,Va)),this._svgRenderedDefinitions.set(Mo,{...zn,icon:ci})),function Xt(sr){return sr.cloneNode(!0)}(ci)}_createSVGElementFromString(zn){const vr=this._document.createElement("div");vr.innerHTML=zn;const ci=vr.querySelector("svg");if(!ci)throw Un;return ci}_setSVGAttribute(zn){return this._renderer.setAttribute(zn,"width","1em"),this._renderer.setAttribute(zn,"height","1em"),zn}_colorizeSVGIcon(zn,vr,ci,la){if(vr){const Va=zn.childNodes,Mo=Va.length;for(let xo=0;xo<Mo;xo++){const w1=Va[xo];"secondaryColor"===w1.getAttribute("fill")?this._renderer.setAttribute(w1,"fill",la):this._renderer.setAttribute(w1,"fill",ci)}}return this._renderer.setAttribute(zn,"fill","currentColor"),zn}static#e=this.\u0275fac=function(vr){return new(vr||sr)(T.LFG(T.FYo),T.LFG(we.jN,8),T.LFG(ye.K0,8),T.LFG(Yt.H7),T.LFG(Xe,8))};static#t=this.\u0275prov=T.Yz7({token:sr,factory:sr.\u0275fac})}return sr})(),Ct=(()=>{class sr{constructor(zn,vr,ci){this._iconService=zn,this._elementRef=vr,this._renderer=ci}ngOnChanges(zn){(zn.type||zn.theme||zn.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(zn=>{if(!this.type)return this._clearSVGElement(),void zn(null);const vr=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(ci=>{const la=this._getSelfRenderMeta();!function ke(sr,Yi){return sr.type===Yi.type&&sr.theme===Yi.theme&&sr.twoToneColor===Yi.twoToneColor}(vr,la)?zn(null):(this._setSVGElement(ci),zn(ci))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(zn,vr){if(Et(zn))return zn;{const[ci,la]=Dn(zn);return la?zn:function ot(sr){return sr.endsWith("-fill")||sr.endsWith("-o")||sr.endsWith("-twotone")}(ci)?(vr&&Gn(`'type' ${ci} already gets a theme inside so 'theme' ${vr} would be ignored`),ci):Fn(ci,vr||this._iconService.defaultTheme)}}_setSVGElement(zn){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,zn)}_clearSVGElement(){const zn=this._elementRef.nativeElement,vr=zn.childNodes;for(let la=vr.length-1;la>=0;la--){const Va=vr[la];"svg"===Va.tagName?.toLowerCase()&&this._renderer.removeChild(zn,Va)}}static#e=this.\u0275fac=function(vr){return new(vr||sr)(T.Y36(Ye),T.Y36(T.SBq),T.Y36(T.Qsj))};static#t=this.\u0275dir=T.lG2({type:sr,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[T.TTD]})}return sr})();var bn=C(1608),ar=C(7754);const y0={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var Fh=C(7074);const Lv=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},y0,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},y0,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],N3=new T.OlP("nz_icons"),lc=(new T.OlP("nz_icon_default_twotone_color"),"#1890ff");let Od=(()=>{class sr extends Ye{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(zn){zn.getAttribute("viewBox")||this._renderer.setAttribute(zn,"viewBox","0 0 1024 1024"),(!zn.getAttribute("width")||!zn.getAttribute("height"))&&(this._renderer.setAttribute(zn,"width","1em"),this._renderer.setAttribute(zn,"height","1em")),zn.getAttribute("fill")||this._renderer.setAttribute(zn,"fill","currentColor")}fetchFromIconfont(zn){const{scriptUrl:vr}=zn;if(this._document&&!this.iconfontCache.has(vr)){const ci=this._renderer.createElement("script");this._renderer.setAttribute(ci,"src",vr),this._renderer.setAttribute(ci,"data-namespace",vr.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,ci),this.iconfontCache.add(vr)}}createIconfontIcon(zn){return this._createSVGElementFromString(`<svg><use xlink:href="${zn}"></svg>`)}constructor(zn,vr,ci,la,Va,Mo,xo){super(zn,Va,Mo,vr,[...Lv,...xo||[]]),this.nzConfigService=ci,this.platform=la,this.configUpdated$=new ie.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const zn=this.getConfig();this.defaultTheme=zn.nzTheme||"outline"}configDefaultTwotoneColor(){const vr=this.getConfig().nzTwotoneColor||lc;let ci=lc;vr&&(vr.startsWith("#")?ci=vr:(0,bn.ZK)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:ci}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static#e=this.\u0275fac=function(vr){return new(vr||sr)(T.LFG(T.FYo),T.LFG(Yt.H7),T.LFG(Fh.jY),T.LFG(_.t4),T.LFG(we.jN,8),T.LFG(ye.K0,8),T.LFG(N3,8))};static#t=this.\u0275prov=T.Yz7({token:sr,factory:sr.\u0275fac,providedIn:"root"})}return sr})();const B3=new T.OlP("nz_icons_patch");let k3=(()=>{class sr{constructor(zn,vr){this.extraIcons=zn,this.rootIconService=vr,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(zn=>this.rootIconService.addIcon(zn)),this.patched=!0)}static#e=this.\u0275fac=function(vr){return new(vr||sr)(T.LFG(B3,2),T.LFG(Od))};static#t=this.\u0275prov=T.Yz7({token:sr,factory:sr.\u0275fac})}return sr})(),Id=(()=>{class sr extends Ct{set nzSpin(zn){this.spin=zn}set nzType(zn){this.type=zn}set nzTheme(zn){this.theme=zn}set nzTwotoneColor(zn){this.twoToneColor=zn}set nzIconfont(zn){this.iconfont=zn}constructor(zn,vr,ci,la,Va,Mo){super(la,ci,Va),this.ngZone=zn,this.changeDetectorRef=vr,this.iconService=la,this.renderer=Va,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new ie.x,Mo&&Mo.doPatch(),this.el=ci.nativeElement}ngOnChanges(zn){const{nzType:vr,nzTwotoneColor:ci,nzSpin:la,nzTheme:Va,nzRotate:Mo}=zn;vr||ci||la||Va?this.changeIcon2():Mo?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const zn=this.el.children;let vr=zn.length;if(!this.type&&zn.length)for(;vr--;){const ci=zn[vr];"svg"===ci.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(ci)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,pe.D)(this._changeIcon()).pipe((0,me.R)(this.destroy$)).subscribe({next:zn=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),zn&&(this.setSVGData(zn),this.handleSpin(zn),this.handleRotate(zn))})},error:bn.ZK})})}handleSpin(zn){this.spin||"loading"===this.type?this.renderer.addClass(zn,"anticon-spin"):this.renderer.removeClass(zn,"anticon-spin")}handleRotate(zn){this.nzRotate?this.renderer.setAttribute(zn,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(zn,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(zn){this.renderer.setAttribute(zn,"data-icon",this.type),this.renderer.setAttribute(zn,"aria-hidden","true")}static#e=this.\u0275fac=function(vr){return new(vr||sr)(T.Y36(T.R0b),T.Y36(T.sBO),T.Y36(T.SBq),T.Y36(Od),T.Y36(T.Qsj),T.Y36(k3,8))};static#t=this.\u0275dir=T.lG2({type:sr,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(vr,ci){2&vr&&T.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[T.qOj,T.TTD]})}return(0,Y.gn)([(0,ar.yF)()],sr.prototype,"nzSpin",null),sr})(),e8=(()=>{class sr{static forRoot(zn){return{ngModule:sr,providers:[{provide:N3,useValue:zn}]}}static forChild(zn){return{ngModule:sr,providers:[k3,{provide:B3,useValue:zn}]}}static#e=this.\u0275fac=function(vr){return new(vr||sr)};static#t=this.\u0275mod=T.oAB({type:sr});static#n=this.\u0275inj=T.cJS({imports:[_.ud]})}return sr})()},3410:($t,We,C)=>{"use strict";C.d(We,{E8:()=>L,OK:()=>ce,hw:()=>H,t7:()=>B,wm:()=>A});var _=C(9212),T=C(8645),Y=C(9773),ie=C(8108),pe=C(9087),me=C(7754),Me=C(3460),de=C(2831),G=C(6814),Z=C(1474),Q=C(9388),W=C(1088);const re=["*"],te=["nz-sider-trigger",""];function q(O,I){}function oe(O,I){if(1&O&&(_.ynx(0),_.YNc(1,q,0,0,"ng-template",3),_.BQk()),2&O){const N=_.oxw(),ee=_.MAs(5);_.xp6(1),_.Q6J("ngTemplateOutlet",N.nzZeroTrigger||ee)}}function M(O,I){}function se(O,I){if(1&O&&(_.ynx(0),_.YNc(1,M,0,0,"ng-template",3),_.BQk()),2&O){const N=_.oxw(),ee=_.MAs(3);_.xp6(1),_.Q6J("ngTemplateOutlet",N.nzTrigger||ee)}}function ge(O,I){if(1&O&&_._UZ(0,"span",5),2&O){const N=_.oxw(2);_.Q6J("nzType",N.nzCollapsed?"right":"left")}}function K(O,I){if(1&O&&_._UZ(0,"span",5),2&O){const N=_.oxw(2);_.Q6J("nzType",N.nzCollapsed?"left":"right")}}function ve(O,I){if(1&O&&_.YNc(0,ge,1,1,"span",4)(1,K,1,1,"span",4),2&O){const N=_.oxw();_.Q6J("ngIf",!N.nzReverseArrow),_.xp6(1),_.Q6J("ngIf",N.nzReverseArrow)}}function $(O,I){1&O&&_._UZ(0,"span",6)}function X(O,I){if(1&O){const N=_.EpF();_.TgZ(0,"div",2),_.NdJ("click",function(){_.CHM(N);const j=_.oxw();return _.KtG(j.setCollapsed(!j.nzCollapsed))}),_.qZA()}if(2&O){const N=_.oxw();_.Q6J("matchBreakPoint",N.matchBreakPoint)("nzCollapsedWidth",N.nzCollapsedWidth)("nzCollapsed",N.nzCollapsed)("nzBreakpoint",N.nzBreakpoint)("nzReverseArrow",N.nzReverseArrow)("nzTrigger",N.nzTrigger)("nzZeroTrigger",N.nzZeroTrigger)("siderWidth",N.widthSetting)}}let ce=(()=>{class O{constructor(N,ee){this.elementRef=N,this.renderer=ee,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}static#e=this.\u0275fac=function(ee){return new(ee||O)(_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275cmp=_.Xpm({type:O,selectors:[["nz-content"]],exportAs:["nzContent"],ngContentSelectors:re,decls:1,vars:0,template:function(ee,j){1&ee&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0})}return O})(),L=(()=>{class O{constructor(N,ee){this.elementRef=N,this.renderer=ee,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}static#e=this.\u0275fac=function(ee){return new(ee||O)(_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275cmp=_.Xpm({type:O,selectors:[["nz-header"]],exportAs:["nzHeader"],ngContentSelectors:re,decls:1,vars:0,template:function(ee,j){1&ee&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0})}return O})(),E=(()=>{class O{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=0===this.nzCollapsedWidth&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=0!==this.nzCollapsedWidth}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static#e=this.\u0275fac=function(ee){return new(ee||O)};static#t=this.\u0275cmp=_.Xpm({type:O,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(ee,j){2&ee&&(_.Udp("width",j.isNormalTrigger?j.siderWidth:null),_.ekj("ant-layout-sider-trigger",j.isNormalTrigger)("ant-layout-sider-zero-width-trigger",j.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",j.isZeroTrigger&&j.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",j.isZeroTrigger&&!j.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[_.TTD],attrs:te,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(ee,j){1&ee&&_.YNc(0,oe,2,1,"ng-container",0)(1,se,2,1,"ng-container",0)(2,ve,2,2,"ng-template",null,1,_.W1O)(4,$,1,0,"ng-template",null,2,_.W1O),2&ee&&(_.Q6J("ngIf",j.isZeroTrigger),_.xp6(1),_.Q6J("ngIf",j.isNormalTrigger))},dependencies:[G.O5,G.tP,Z.Ls],encapsulation:2,changeDetection:0})}return O})(),B=(()=>{class O{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:(0,me.WX)(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&"inline"===this.nzMenuDirective.nzMode&&0!==this.nzCollapsedWidth&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(N){N!==this.nzCollapsed&&(this.nzCollapsed=N,this.nzCollapsedChange.emit(N),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(N,ee,j){this.platform=N,this.cdr=ee,this.breakpointService=j,this.destroy$=new T.x,this.nzMenuDirective=null,this.nzCollapsedChange=new _.vpe,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(pe.ow,!0).pipe((0,Y.R)(this.destroy$)).subscribe(N=>{const ee=this.nzBreakpoint;ee&&(0,me.ov)().subscribe(()=>{this.matchBreakPoint=!N[ee],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(N){const{nzCollapsed:ee,nzCollapsedWidth:j,nzWidth:ae}=N;(ee||j||ae)&&this.updateStyleMap(),ee&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(ee){return new(ee||O)(_.Y36(de.t4),_.Y36(_.sBO),_.Y36(pe.r3))};static#t=this.\u0275cmp=_.Xpm({type:O,selectors:[["nz-sider"]],contentQueries:function(ee,j,ae){if(1&ee&&_.Suo(ae,Me.wO,5),2&ee){let fe;_.iGM(fe=_.CRH())&&(j.nzMenuDirective=fe.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(ee,j){2&ee&&(_.Udp("flex",j.flexSetting)("max-width",j.widthSetting)("min-width",j.widthSetting)("width",j.widthSetting),_.ekj("ant-layout-sider-zero-width",j.nzCollapsed&&0===j.nzCollapsedWidth)("ant-layout-sider-light","light"===j.nzTheme)("ant-layout-sider-dark","dark"===j.nzTheme)("ant-layout-sider-collapsed",j.nzCollapsed)("ant-layout-sider-has-trigger",j.nzCollapsible&&null!==j.nzTrigger))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[_.TTD],ngContentSelectors:re,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(ee,j){1&ee&&(_.F$t(),_.TgZ(0,"div",0),_.Hsn(1),_.qZA(),_.YNc(2,X,1,8,"div",1)),2&ee&&(_.xp6(2),_.Q6J("ngIf",j.nzCollapsible&&null!==j.nzTrigger))},dependencies:[G.O5,E],encapsulation:2,changeDetection:0})}return(0,ie.gn)([(0,me.yF)()],O.prototype,"nzReverseArrow",void 0),(0,ie.gn)([(0,me.yF)()],O.prototype,"nzCollapsible",void 0),(0,ie.gn)([(0,me.yF)()],O.prototype,"nzCollapsed",void 0),O})(),H=(()=>{class O{constructor(N){this.directionality=N,this.dir="ltr",this.destroy$=new T.x}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,Y.R)(this.destroy$)).subscribe(N=>{this.dir=N})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(ee){return new(ee||O)(_.Y36(Q.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:O,selectors:[["nz-layout"]],contentQueries:function(ee,j,ae){if(1&ee&&_.Suo(ae,B,4),2&ee){let fe;_.iGM(fe=_.CRH())&&(j.listOfNzSiderComponent=fe)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(ee,j){2&ee&&_.ekj("ant-layout-rtl","rtl"===j.dir)("ant-layout-has-sider",j.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],ngContentSelectors:re,decls:1,vars:0,template:function(ee,j){1&ee&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0})}return O})(),A=(()=>{class O{static#e=this.\u0275fac=function(ee){return new(ee||O)};static#t=this.\u0275mod=_.oAB({type:O});static#n=this.\u0275inj=_.cJS({imports:[Q.vT,G.ez,Z.PV,W.xu,de.ud]})}return O})()},3460:($t,We,C)=>{"use strict";C.d(We,{Cc:()=>Cn,hl:()=>Wn,ip:()=>Un,rY:()=>Wt,u9:()=>Rr,wO:()=>xr});var _=C(8108),T=C(9212),Y=C(8645),ie=C(5619),pe=C(3019),me=C(2572),Me=C(7398),de=C(1631),G=C(2181),Z=C(975),Q=C(9028),W=C(3997),re=C(9773),te=C(7921),q=C(4664),oe=C(7754),M=C(3742),se=C(9388),ge=C(3651),K=C(5448),ve=C(2831),$=C(331),X=C(6814),ce=C(1474),U=C(8324),L=C(4194);const E=["nz-menu-item",""],B=["*"],H=["nz-submenu-title",""];function A(Gt,_t){if(1&Gt&&T._UZ(0,"span",4),2&Gt){const Xe=T.oxw();T.Q6J("nzType",Xe.nzIcon)}}function O(Gt,_t){if(1&Gt&&(T.ynx(0),T.TgZ(1,"span",5),T._uU(2),T.qZA(),T.BQk()),2&Gt){const Xe=T.oxw();T.xp6(2),T.Oqu(Xe.nzTitle)}}function I(Gt,_t){1&Gt&&T._UZ(0,"span",9)}function N(Gt,_t){1&Gt&&T._UZ(0,"span",10)}function ee(Gt,_t){if(1&Gt&&(T.TgZ(0,"span",6),T.YNc(1,I,1,0,"span",7)(2,N,1,0,"span",8),T.qZA()),2&Gt){const Xe=T.oxw();T.Q6J("ngSwitch",Xe.dir),T.xp6(1),T.Q6J("ngSwitchCase","rtl")}}function j(Gt,_t){1&Gt&&T._UZ(0,"span",11)}const ae=["nz-submenu-inline-child",""];function fe(Gt,_t){}const he=["nz-submenu-none-inline-child",""];function Ce(Gt,_t){}const Se=["nz-submenu",""];function ye(Gt,_t){1&Gt&&T.Hsn(0,0,["*ngIf","!nzTitle"])}function we(Gt,_t){if(1&Gt&&T._UZ(0,"div",6),2&Gt){const Xe=T.oxw(),Ye=T.MAs(7);T.Q6J("mode",Xe.mode)("nzOpen",Xe.nzOpen)("@.disabled",!(null==Xe.noAnimation||!Xe.noAnimation.nzNoAnimation))("nzNoAnimation",null==Xe.noAnimation?null:Xe.noAnimation.nzNoAnimation)("menuClass",Xe.nzMenuClassName)("templateOutlet",Ye)}}function Ae(Gt,_t){if(1&Gt){const Xe=T.EpF();T.TgZ(0,"div",8),T.NdJ("subMenuMouseState",function(ke){T.CHM(Xe);const Ct=T.oxw(2);return T.KtG(Ct.setMouseEnterState(ke))}),T.qZA()}if(2&Gt){const Xe=T.oxw(2),Ye=T.MAs(7);T.Q6J("theme",Xe.theme)("mode",Xe.mode)("nzOpen",Xe.nzOpen)("position",Xe.position)("nzDisabled",Xe.nzDisabled)("isMenuInsideDropDown",Xe.isMenuInsideDropDown)("templateOutlet",Ye)("menuClass",Xe.nzMenuClassName)("@.disabled",!(null==Xe.noAnimation||!Xe.noAnimation.nzNoAnimation))("nzNoAnimation",null==Xe.noAnimation?null:Xe.noAnimation.nzNoAnimation)}}function Ne(Gt,_t){if(1&Gt){const Xe=T.EpF();T.YNc(0,Ae,1,10,"ng-template",7),T.NdJ("positionChange",function(ke){T.CHM(Xe);const Ct=T.oxw();return T.KtG(Ct.onPositionChange(ke))})}if(2&Gt){const Xe=T.oxw(),Ye=T.MAs(1);T.Q6J("cdkConnectedOverlayPositions",Xe.overlayPositions)("cdkConnectedOverlayOrigin",Ye)("cdkConnectedOverlayWidth",Xe.triggerWidth)("cdkConnectedOverlayOpen",Xe.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function Le(Gt,_t){1&Gt&&T.Hsn(0,1)}const Je=[[["","title",""]],"*"],at=["[title]","*"],Cn=new T.OlP("NzIsInDropDownMenuToken"),Gn=new T.OlP("NzMenuServiceLocalToken");let Wn=(()=>{class Gt{constructor(){this.descendantMenuItemClick$=new Y.x,this.childMenuItemClick$=new Y.x,this.theme$=new ie.X("light"),this.mode$=new ie.X("vertical"),this.inlineIndent$=new ie.X(24),this.isChildSubMenuOpen$=new ie.X(!1)}onDescendantMenuItemClick(Xe){this.descendantMenuItemClick$.next(Xe)}onChildMenuItemClick(Xe){this.childMenuItemClick$.next(Xe)}setMode(Xe){this.mode$.next(Xe)}setTheme(Xe){this.theme$.next(Xe)}setInlineIndent(Xe){this.inlineIndent$.next(Xe)}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)};static#t=this.\u0275prov=T.Yz7({token:Gt,factory:Gt.\u0275fac})}return Gt})(),Fn=(()=>{class Gt{onChildMenuItemClick(Xe){this.childMenuItemClick$.next(Xe)}setOpenStateWithoutDebounce(Xe){this.isCurrentSubMenuOpen$.next(Xe)}setMouseEnterTitleOrOverlayState(Xe){this.isMouseEnterTitleOrOverlay$.next(Xe)}constructor(Xe,Ye,ke){this.nzHostSubmenuService=Xe,this.nzMenuService=Ye,this.isMenuInsideDropDown=ke,this.mode$=this.nzMenuService.mode$.pipe((0,Me.U)(bn=>"inline"===bn?"inline":"vertical"===bn||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new ie.X(!1),this.isChildSubMenuOpen$=new ie.X(!1),this.isMouseEnterTitleOrOverlay$=new Y.x,this.childMenuItemClick$=new Y.x,this.destroy$=new Y.x,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const Ct=this.childMenuItemClick$.pipe((0,de.z)(()=>this.mode$),(0,G.h)(bn=>"inline"!==bn||this.isMenuInsideDropDown),(0,Z.h)(!1)),Mt=(0,pe.T)(this.isMouseEnterTitleOrOverlay$,Ct);(0,me.a)([this.isChildSubMenuOpen$,Mt]).pipe((0,Me.U)(([bn,ar])=>bn||ar),(0,Q.e)(150),(0,W.x)(),(0,re.R)(this.destroy$)).pipe((0,W.x)()).subscribe(bn=>{this.setOpenStateWithoutDebounce(bn),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(bn):this.nzMenuService.isChildSubMenuOpen$.next(bn)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.LFG(Gt,12),T.LFG(Wn),T.LFG(Cn))};static#t=this.\u0275prov=T.Yz7({token:Gt,factory:Gt.\u0275fac})}return Gt})(),Rr=(()=>{class Gt{clickMenuItem(Xe){this.nzDisabled?(Xe.preventDefault(),Xe.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(Xe){this.nzSelected=Xe,this.selected$.next(Xe)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const Xe=this.hasActiveLinks();this.nzSelected!==Xe&&(this.nzSelected=Xe,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const Xe=this.isLinkActive(this.router);return this.routerLink&&Xe(this.routerLink)||this.listOfRouterLink.some(Xe)}isLinkActive(Xe){return Ye=>Xe.isActive(Ye.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(Xe,Ye,ke,Ct,Mt,Jt,bn){this.nzMenuService=Xe,this.cdr=Ye,this.nzSubmenuService=ke,this.isMenuInsideDropDown=Ct,this.directionality=Mt,this.routerLink=Jt,this.router=bn,this.destroy$=new Y.x,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new Y.x,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,bn&&this.router.events.pipe((0,re.R)(this.destroy$),(0,G.h)(ar=>ar instanceof M.m2)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){(0,me.a)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,re.R)(this.destroy$)).subscribe(([Xe,Ye])=>{this.inlinePaddingLeft="inline"===Xe?this.level*Ye:null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.dir=Xe})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe((0,re.R)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(Xe){Xe.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.Y36(Wn),T.Y36(T.sBO),T.Y36(Fn,8),T.Y36(Cn),T.Y36(se.Is,8),T.Y36(M.rH,8),T.Y36(M.F0,8))};static#t=this.\u0275cmp=T.Xpm({type:Gt,selectors:[["","nz-menu-item",""]],contentQueries:function(Ye,ke,Ct){if(1&Ye&&T.Suo(Ct,M.rH,5),2&Ye){let Mt;T.iGM(Mt=T.CRH())&&(ke.listOfRouterLink=Mt)}},hostVars:20,hostBindings:function(Ye,ke){1&Ye&&T.NdJ("click",function(Mt){return ke.clickMenuItem(Mt)}),2&Ye&&(T.Udp("padding-left","rtl"===ke.dir?null:ke.nzPaddingLeft||ke.inlinePaddingLeft,"px")("padding-right","rtl"===ke.dir?ke.nzPaddingLeft||ke.inlinePaddingLeft:null,"px"),T.ekj("ant-dropdown-menu-item",ke.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",ke.isMenuInsideDropDown&&ke.nzSelected)("ant-dropdown-menu-item-danger",ke.isMenuInsideDropDown&&ke.nzDanger)("ant-dropdown-menu-item-disabled",ke.isMenuInsideDropDown&&ke.nzDisabled)("ant-menu-item",!ke.isMenuInsideDropDown)("ant-menu-item-selected",!ke.isMenuInsideDropDown&&ke.nzSelected)("ant-menu-item-danger",!ke.isMenuInsideDropDown&&ke.nzDanger)("ant-menu-item-disabled",!ke.isMenuInsideDropDown&&ke.nzDisabled))},inputs:{nzPaddingLeft:"nzPaddingLeft",nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter"},exportAs:["nzMenuItem"],features:[T.TTD],attrs:E,ngContentSelectors:B,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(Ye,ke){1&Ye&&(T.F$t(),T.TgZ(0,"span",0),T.Hsn(1),T.qZA())},encapsulation:2,changeDetection:0})}return(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzDisabled",void 0),(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzSelected",void 0),(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzDanger",void 0),(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzMatchRouterExact",void 0),(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzMatchRouter",void 0),Gt})(),hn=(()=>{class Gt{constructor(Xe,Ye){this.cdr=Xe,this.directionality=Ye,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new T.vpe,this.subMenuMouseState=new T.vpe,this.dir="ltr",this.destroy$=new Y.x}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.dir=Xe,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(Xe){this.nzDisabled||this.subMenuMouseState.next(Xe)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.Y36(T.sBO),T.Y36(se.Is,8))};static#t=this.\u0275cmp=T.Xpm({type:Gt,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(Ye,ke){1&Ye&&T.NdJ("click",function(){return ke.clickTitle()})("mouseenter",function(){return ke.setMouseState(!0)})("mouseleave",function(){return ke.setMouseState(!1)}),2&Ye&&(T.Udp("padding-left","rtl"===ke.dir?null:ke.paddingLeft,"px")("padding-right","rtl"===ke.dir?ke.paddingLeft:null,"px"),T.ekj("ant-dropdown-menu-submenu-title",ke.isMenuInsideDropDown)("ant-menu-submenu-title",!ke.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:H,ngContentSelectors:B,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-menu-title-content"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(Ye,ke){if(1&Ye&&(T.F$t(),T.YNc(0,A,1,1,"span",0)(1,O,3,1,"ng-container",1),T.Hsn(2),T.YNc(3,ee,3,2,"span",2)(4,j,1,0,"ng-template",null,3,T.W1O)),2&Ye){const Ct=T.MAs(5);T.Q6J("ngIf",ke.nzIcon),T.xp6(1),T.Q6J("nzStringTemplateOutlet",ke.nzTitle),T.xp6(2),T.Q6J("ngIf",ke.isMenuInsideDropDown)("ngIfElse",Ct)}},dependencies:[X.O5,X.RF,X.n9,X.ED,ce.Ls,U.f],encapsulation:2,changeDetection:0})}return Gt})(),ot=(()=>{class Gt{constructor(Xe,Ye,ke){this.elementRef=Xe,this.renderer=Ye,this.directionality=ke,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new Y.x}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.dir=Xe})}ngOnChanges(Xe){const{mode:Ye,nzOpen:ke,menuClass:Ct}=Xe;(Ye||ke)&&this.calcMotionState(),Ct&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(Mt=>!!Mt).forEach(Mt=>{this.renderer.removeClass(this.elementRef.nativeElement,Mt)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(Mt=>!!Mt).forEach(Mt=>{this.renderer.addClass(this.elementRef.nativeElement,Mt)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(se.Is,8))};static#t=this.\u0275cmp=T.Xpm({type:Gt,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(Ye,ke){2&Ye&&(T.d8E("@collapseMotion",ke.expandState),T.ekj("ant-menu-rtl","rtl"===ke.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[T.TTD],attrs:ae,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(Ye,ke){1&Ye&&T.YNc(0,fe,0,0,"ng-template",0),2&Ye&&T.Q6J("ngTemplateOutlet",ke.templateOutlet)},dependencies:[X.tP],encapsulation:2,data:{animation:[L.J_]},changeDetection:0})}return Gt})(),Et=(()=>{class Gt{constructor(Xe){this.directionality=Xe,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new T.vpe,this.expandState="collapsed",this.dir="ltr",this.destroy$=new Y.x}setMouseState(Xe){this.nzDisabled||this.subMenuMouseState.next(Xe)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.dir=Xe})}ngOnChanges(Xe){const{mode:Ye,nzOpen:ke}=Xe;(Ye||ke)&&this.calcMotionState()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.Y36(se.Is,8))};static#t=this.\u0275cmp=T.Xpm({type:Gt,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(Ye,ke){1&Ye&&T.NdJ("mouseenter",function(){return ke.setMouseState(!0)})("mouseleave",function(){return ke.setMouseState(!1)}),2&Ye&&(T.d8E("@slideMotion",ke.expandState)("@zoomBigMotion",ke.expandState),T.ekj("ant-menu-light","light"===ke.theme)("ant-menu-dark","dark"===ke.theme)("ant-menu-submenu-placement-bottom","horizontal"===ke.mode)("ant-menu-submenu-placement-right","vertical"===ke.mode&&"right"===ke.position)("ant-menu-submenu-placement-left","vertical"===ke.mode&&"left"===ke.position)("ant-menu-submenu-rtl","rtl"===ke.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[T.TTD],attrs:he,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(Ye,ke){1&Ye&&(T.TgZ(0,"div",0),T.YNc(1,Ce,0,0,"ng-template",1),T.qZA()),2&Ye&&(T.ekj("ant-dropdown-menu",ke.isMenuInsideDropDown)("ant-menu",!ke.isMenuInsideDropDown)("ant-dropdown-menu-vertical",ke.isMenuInsideDropDown)("ant-menu-vertical",!ke.isMenuInsideDropDown)("ant-dropdown-menu-sub",ke.isMenuInsideDropDown)("ant-menu-sub",!ke.isMenuInsideDropDown)("ant-menu-rtl","rtl"===ke.dir),T.Q6J("ngClass",ke.menuClass),T.xp6(1),T.Q6J("ngTemplateOutlet",ke.templateOutlet))},dependencies:[X.mk,X.tP],encapsulation:2,data:{animation:[L.$C,L.mF]},changeDetection:0})}return Gt})();const Tt=[K.yW.rightTop,K.yW.right,K.yW.rightBottom,K.yW.leftTop,K.yW.left,K.yW.leftBottom],Xt=[K.yW.bottomLeft,K.yW.bottomRight,K.yW.topRight,K.yW.topLeft];let Wt=(()=>{class Gt{setOpenStateWithoutDebounce(Xe){this.nzSubmenuService.setOpenStateWithoutDebounce(Xe)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(Xe){this.isActive=Xe,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(Xe)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&"bottomLeft"===this.nzPlacement&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(Xe){const Ye=(0,K.d_)(Xe);"rightTop"===Ye||"rightBottom"===Ye||"right"===Ye?this.position="right":("leftTop"===Ye||"leftBottom"===Ye||"left"===Ye)&&(this.position="left")}constructor(Xe,Ye,ke,Ct,Mt,Jt,bn){this.nzMenuService=Xe,this.cdr=Ye,this.nzSubmenuService=ke,this.platform=Ct,this.isMenuInsideDropDown=Mt,this.directionality=Jt,this.noAnimation=bn,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new T.vpe,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new Y.x,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=Tt,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}ngOnInit(){this.nzMenuService.theme$.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.theme=Xe,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.mode=Xe,"horizontal"===Xe?this.overlayPositions=[K.yW[this.nzPlacement],...Xt]:"vertical"===Xe&&(this.overlayPositions=Tt),this.cdr.markForCheck()}),(0,me.a)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,re.R)(this.destroy$)).subscribe(([Xe,Ye])=>{this.inlinePaddingLeft="inline"===Xe?this.level*Ye:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.isActive=Xe,Xe!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=Xe,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.dir=Xe,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const Xe=this.listOfNzMenuItemDirective,Ye=Xe.changes,ke=(0,pe.T)(Ye,...Xe.map(Ct=>Ct.selected$));Ye.pipe((0,te.O)(Xe),(0,q.w)(()=>ke),(0,te.O)(!0),(0,Me.U)(()=>Xe.some(Ct=>Ct.nzSelected)),(0,re.R)(this.destroy$)).subscribe(Ct=>{this.isSelected=Ct,this.cdr.markForCheck()})}ngOnChanges(Xe){const{nzOpen:Ye}=Xe;Ye&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.Y36(Wn),T.Y36(T.sBO),T.Y36(Fn),T.Y36(ve.t4),T.Y36(Cn),T.Y36(se.Is,8),T.Y36($.P,9))};static#t=this.\u0275cmp=T.Xpm({type:Gt,selectors:[["","nz-submenu",""]],contentQueries:function(Ye,ke,Ct){if(1&Ye&&(T.Suo(Ct,Gt,5),T.Suo(Ct,Rr,5)),2&Ye){let Mt;T.iGM(Mt=T.CRH())&&(ke.listOfNzSubMenuComponent=Mt),T.iGM(Mt=T.CRH())&&(ke.listOfNzMenuItemDirective=Mt)}},viewQuery:function(Ye,ke){if(1&Ye&&T.Gf(ge.xu,7,T.SBq),2&Ye){let Ct;T.iGM(Ct=T.CRH())&&(ke.cdkOverlayOrigin=Ct.first)}},hostVars:34,hostBindings:function(Ye,ke){2&Ye&&T.ekj("ant-dropdown-menu-submenu",ke.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",ke.isMenuInsideDropDown&&ke.nzDisabled)("ant-dropdown-menu-submenu-open",ke.isMenuInsideDropDown&&ke.nzOpen)("ant-dropdown-menu-submenu-selected",ke.isMenuInsideDropDown&&ke.isSelected)("ant-dropdown-menu-submenu-vertical",ke.isMenuInsideDropDown&&"vertical"===ke.mode)("ant-dropdown-menu-submenu-horizontal",ke.isMenuInsideDropDown&&"horizontal"===ke.mode)("ant-dropdown-menu-submenu-inline",ke.isMenuInsideDropDown&&"inline"===ke.mode)("ant-dropdown-menu-submenu-active",ke.isMenuInsideDropDown&&ke.isActive)("ant-menu-submenu",!ke.isMenuInsideDropDown)("ant-menu-submenu-disabled",!ke.isMenuInsideDropDown&&ke.nzDisabled)("ant-menu-submenu-open",!ke.isMenuInsideDropDown&&ke.nzOpen)("ant-menu-submenu-selected",!ke.isMenuInsideDropDown&&ke.isSelected)("ant-menu-submenu-vertical",!ke.isMenuInsideDropDown&&"vertical"===ke.mode)("ant-menu-submenu-horizontal",!ke.isMenuInsideDropDown&&"horizontal"===ke.mode)("ant-menu-submenu-inline",!ke.isMenuInsideDropDown&&"inline"===ke.mode)("ant-menu-submenu-active",!ke.isMenuInsideDropDown&&ke.isActive)("ant-menu-submenu-rtl","rtl"===ke.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled",nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[T._Bn([Fn]),T.TTD],attrs:Se,ngContentSelectors:at,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(Ye,ke){if(1&Ye&&(T.F$t(Je),T.TgZ(0,"div",0,1),T.NdJ("subMenuMouseState",function(Mt){return ke.setMouseEnterState(Mt)})("toggleSubMenu",function(){return ke.toggleSubMenu()}),T.YNc(2,ye,1,0,"ng-content",2),T.qZA(),T.YNc(3,we,1,6,"div",3)(4,Ne,1,5,"ng-template",null,4,T.W1O)(6,Le,1,0,"ng-template",null,5,T.W1O)),2&Ye){const Ct=T.MAs(5);T.Q6J("nzIcon",ke.nzIcon)("nzTitle",ke.nzTitle)("mode",ke.mode)("nzDisabled",ke.nzDisabled)("isMenuInsideDropDown",ke.isMenuInsideDropDown)("paddingLeft",ke.nzPaddingLeft||ke.inlinePaddingLeft),T.xp6(2),T.Q6J("ngIf",!ke.nzTitle),T.xp6(1),T.Q6J("ngIf","inline"===ke.mode)("ngIfElse",Ct)}},dependencies:[X.O5,ge.pI,ge.xu,$.P,hn,ot,Et],encapsulation:2,changeDetection:0})}return(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzOpen",void 0),(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzDisabled",void 0),Gt})();function Dn(Gt,_t){return Gt||_t}function Ln(Gt){return Gt||!1}let xr=(()=>{class Gt{setInlineCollapsed(Xe){this.nzInlineCollapsed=Xe,this.inlineCollapsed$.next(Xe)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(Xe=>Xe.nzOpen),this.listOfNzSubMenuComponent.forEach(Xe=>Xe.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(Xe=>Xe.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(Xe,Ye,ke,Ct){this.nzMenuService=Xe,this.isMenuInsideDropDown=Ye,this.cdr=ke,this.directionality=Ct,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new T.vpe,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new ie.X(this.nzInlineCollapsed),this.mode$=new ie.X(this.nzMode),this.destroy$=new Y.x,this.listOfOpenedNzSubMenuComponent=[]}ngOnInit(){(0,me.a)([this.inlineCollapsed$,this.mode$]).pipe((0,re.R)(this.destroy$)).subscribe(([Xe,Ye])=>{this.actualMode=Xe?"vertical":Ye,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.nzClick.emit(Xe),this.nzSelectable&&!Xe.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(Ye=>Ye.setSelectedState(Ye===Xe))}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.R)(this.destroy$)).subscribe(Xe=>{this.dir=Xe,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe((0,re.R)(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(Xe){const{nzInlineCollapsed:Ye,nzInlineIndent:ke,nzTheme:Ct,nzMode:Mt}=Xe;Ye&&this.inlineCollapsed$.next(this.nzInlineCollapsed),ke&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),Ct&&this.nzMenuService.setTheme(this.nzTheme),Mt&&(this.mode$.next(this.nzMode),!Xe.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(Jt=>Jt.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)(T.Y36(Wn),T.Y36(Cn),T.Y36(T.sBO),T.Y36(se.Is,8))};static#t=this.\u0275dir=T.lG2({type:Gt,selectors:[["","nz-menu",""]],contentQueries:function(Ye,ke,Ct){if(1&Ye&&(T.Suo(Ct,Rr,5),T.Suo(Ct,Wt,5)),2&Ye){let Mt;T.iGM(Mt=T.CRH())&&(ke.listOfNzMenuItemDirective=Mt),T.iGM(Mt=T.CRH())&&(ke.listOfNzSubMenuComponent=Mt)}},hostVars:34,hostBindings:function(Ye,ke){2&Ye&&T.ekj("ant-dropdown-menu",ke.isMenuInsideDropDown)("ant-dropdown-menu-root",ke.isMenuInsideDropDown)("ant-dropdown-menu-light",ke.isMenuInsideDropDown&&"light"===ke.nzTheme)("ant-dropdown-menu-dark",ke.isMenuInsideDropDown&&"dark"===ke.nzTheme)("ant-dropdown-menu-vertical",ke.isMenuInsideDropDown&&"vertical"===ke.actualMode)("ant-dropdown-menu-horizontal",ke.isMenuInsideDropDown&&"horizontal"===ke.actualMode)("ant-dropdown-menu-inline",ke.isMenuInsideDropDown&&"inline"===ke.actualMode)("ant-dropdown-menu-inline-collapsed",ke.isMenuInsideDropDown&&ke.nzInlineCollapsed)("ant-menu",!ke.isMenuInsideDropDown)("ant-menu-root",!ke.isMenuInsideDropDown)("ant-menu-light",!ke.isMenuInsideDropDown&&"light"===ke.nzTheme)("ant-menu-dark",!ke.isMenuInsideDropDown&&"dark"===ke.nzTheme)("ant-menu-vertical",!ke.isMenuInsideDropDown&&"vertical"===ke.actualMode)("ant-menu-horizontal",!ke.isMenuInsideDropDown&&"horizontal"===ke.actualMode)("ant-menu-inline",!ke.isMenuInsideDropDown&&"inline"===ke.actualMode)("ant-menu-inline-collapsed",!ke.isMenuInsideDropDown&&ke.nzInlineCollapsed)("ant-menu-rtl","rtl"===ke.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[T._Bn([{provide:Gn,useClass:Wn},{provide:Wn,useFactory:Dn,deps:[[new T.tp0,new T.FiY,Wn],Gn]},{provide:Cn,useFactory:Ln,deps:[[new T.tp0,new T.FiY,Cn]]}]),T.TTD]})}return(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzInlineCollapsed",void 0),(0,_.gn)([(0,oe.yF)()],Gt.prototype,"nzSelectable",void 0),Gt})(),Un=(()=>{class Gt{static#e=this.\u0275fac=function(Ye){return new(Ye||Gt)};static#t=this.\u0275mod=T.oAB({type:Gt});static#n=this.\u0275inj=T.cJS({imports:[se.vT,X.ez,ve.ud,ge.U8,ce.PV,$.g,U.T]})}return Gt})()},6691:($t,We,C)=>{"use strict";C.d(We,{dD:()=>I,gR:()=>O});var _=C(8484),T=C(9212),Y=C(8645),ie=C(2181),pe=C(8180),me=C(9773),Me=C(7074),de=C(7754),G=C(6814),Z=C(4194),Q=C(1474),W=C(8324),re=C(9388),te=C(3651),q=C(9087);function oe(N,ee){1&N&&T._UZ(0,"span",10)}function M(N,ee){1&N&&T._UZ(0,"span",11)}function se(N,ee){1&N&&T._UZ(0,"span",12)}function ge(N,ee){1&N&&T._UZ(0,"span",13)}function K(N,ee){1&N&&T._UZ(0,"span",14)}function ve(N,ee){if(1&N&&(T.ynx(0),T._UZ(1,"span",15),T.BQk()),2&N){const j=T.oxw();T.xp6(1),T.Q6J("innerHTML",j.instance.content,T.oJD)}}function $(N,ee){if(1&N){const j=T.EpF();T.TgZ(0,"nz-message",2),T.NdJ("destroyed",function(fe){T.CHM(j);const he=T.oxw();return T.KtG(he.remove(fe.id,fe.userAction))}),T.qZA()}2&N&&T.Q6J("instance",ee.$implicit)}let X=0;class ce{constructor(ee,j,ae){this.nzSingletonService=ee,this.overlay=j,this.injector=ae}remove(ee){this.container&&(ee?this.container.remove(ee):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${X++}`}withContainer(ee){let j=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(j)return j;const ae=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),fe=new _.C5(ee,null,this.injector),he=ae.attach(fe);return ae.hostElement.style.zIndex="1010",j||(this.container=j=he.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,j),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),ae.dispose()})),j}}let U=(()=>{class N{constructor(j,ae){this.cdr=j,this.nzConfigService=ae,this.instances=[],this._afterAllInstancesRemoved=new Y.x,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new Y.x,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(j){const ae=this.onCreate(j);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,ae],this.readyInstances(),ae}remove(j,ae=!1){this.instances.map((fe,he)=>({index:he,instance:fe})).filter(({instance:fe})=>fe.messageId===j).forEach(({index:fe,instance:he})=>{this.instances.splice(fe,1),this.instances=[...this.instances],this.onRemove(he,ae),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(j=>this.onRemove(j,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(j){return j.options=this.mergeOptions(j.options),j.onClose=new Y.x,j}onRemove(j,ae){j.onClose.next(ae),j.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(j){const{nzDuration:ae,nzAnimate:fe,nzPauseOnHover:he}=this.config;return{nzDuration:ae,nzAnimate:fe,nzPauseOnHover:he,...j}}static#e=this.\u0275fac=function(ae){return new(ae||N)(T.Y36(T.sBO),T.Y36(Me.jY))};static#t=this.\u0275dir=T.lG2({type:N})}return N})(),L=(()=>{class N{constructor(j){this.cdr=j,this.destroyed=new T.vpe,this.animationStateChanged=new Y.x,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,ie.h)(j=>"done"===j.phaseName&&"leave"===j.toState),(0,pe.q)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(j=!1){this.userAction=j,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:j})},200)):this.destroyed.next({id:this.instance.messageId,userAction:j})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}static#e=this.\u0275fac=function(ae){return new(ae||N)(T.Y36(T.sBO))};static#t=this.\u0275dir=T.lG2({type:N})}return N})(),E=(()=>{class N extends L{constructor(j){super(j),this.destroyed=new T.vpe}static#e=this.\u0275fac=function(ae){return new(ae||N)(T.Y36(T.sBO))};static#t=this.\u0275cmp=T.Xpm({type:N,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[T.qOj],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(ae,fe){1&ae&&(T.TgZ(0,"div",0),T.NdJ("@moveUpMotion.done",function(Ce){return fe.animationStateChanged.next(Ce)})("mouseenter",function(){return fe.onEnter()})("mouseleave",function(){return fe.onLeave()}),T.TgZ(1,"div",1)(2,"div",2),T.ynx(3,3),T.YNc(4,oe,1,0,"span",4)(5,M,1,0,"span",5)(6,se,1,0,"span",6)(7,ge,1,0,"span",7)(8,K,1,0,"span",8),T.BQk(),T.YNc(9,ve,2,1,"ng-container",9),T.qZA()()()),2&ae&&(T.Q6J("@moveUpMotion",fe.instance.state),T.xp6(2),T.Q6J("ngClass","ant-message-"+fe.instance.type),T.xp6(1),T.Q6J("ngSwitch",fe.instance.type),T.xp6(1),T.Q6J("ngSwitchCase","success"),T.xp6(1),T.Q6J("ngSwitchCase","info"),T.xp6(1),T.Q6J("ngSwitchCase","warning"),T.xp6(1),T.Q6J("ngSwitchCase","error"),T.xp6(1),T.Q6J("ngSwitchCase","loading"),T.xp6(1),T.Q6J("nzStringTemplateOutlet",fe.instance.content))},dependencies:[G.mk,G.RF,G.n9,Q.Ls,W.f],encapsulation:2,data:{animation:[Z.YK]},changeDetection:0})}return N})();const B="message",H={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let A=(()=>{class N extends U{constructor(j,ae){super(j,ae),this.dir="ltr";const fe=this.nzConfigService.getConfigForComponent(B);this.dir=fe?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(B).pipe((0,me.R)(this.destroy$)).subscribe(()=>{this.updateConfig();const j=this.nzConfigService.getConfigForComponent(B);if(j){const{nzDirection:ae}=j;this.dir=ae||this.dir}})}updateConfig(){this.config={...H,...this.config,...this.nzConfigService.getConfigForComponent(B)},this.top=(0,de.WX)(this.config.nzTop),this.cdr.markForCheck()}static#e=this.\u0275fac=function(ae){return new(ae||N)(T.Y36(T.sBO),T.Y36(Me.jY))};static#t=this.\u0275cmp=T.Xpm({type:N,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[T.qOj],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(ae,fe){1&ae&&(T.TgZ(0,"div",0),T.YNc(1,$,1,1,"nz-message",1),T.qZA()),2&ae&&(T.Udp("top",fe.top),T.ekj("ant-message-rtl","rtl"===fe.dir),T.xp6(1),T.Q6J("ngForOf",fe.instances))},dependencies:[G.sg,E],encapsulation:2,changeDetection:0})}return N})(),O=(()=>{class N{static#e=this.\u0275fac=function(ae){return new(ae||N)};static#t=this.\u0275mod=T.oAB({type:N});static#n=this.\u0275inj=T.cJS({imports:[re.vT,G.ez,te.U8,Q.PV,W.T]})}return N})(),I=(()=>{class N extends ce{constructor(j,ae,fe){super(j,ae,fe),this.componentPrefix="message-"}success(j,ae){return this.createInstance({type:"success",content:j},ae)}error(j,ae){return this.createInstance({type:"error",content:j},ae)}info(j,ae){return this.createInstance({type:"info",content:j},ae)}warning(j,ae){return this.createInstance({type:"warning",content:j},ae)}loading(j,ae){return this.createInstance({type:"loading",content:j},ae)}create(j,ae,fe){return this.createInstance({type:j,content:ae},fe)}createInstance(j,ae){return this.container=this.withContainer(A),this.container.create({...j,createdAt:new Date,messageId:this.getInstanceId(),options:ae})}static#e=this.\u0275fac=function(ae){return new(ae||N)(T.LFG(q.KV),T.LFG(te.aV),T.LFG(T.zs3))};static#t=this.\u0275prov=T.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},6254:($t,We,C)=>{"use strict";C.d(We,{$O:()=>I,A2:()=>H,KJ:()=>ee});var _=C(9388),T=C(6814),Y=C(9212),ie=C(8324),pe=C(1474),me=C(8108),Me=C(8645),de=C(9773),G=C(7398),Z=C(7074),Q=C(1608),W=C(8802);function re(j,ae){if(1&j&&(Y.ynx(0),Y._UZ(1,"span",9),Y.BQk()),2&j){const fe=ae.$implicit,he=Y.oxw(2);Y.xp6(1),Y.Q6J("nzType",fe||he.getBackIcon())}}function te(j,ae){if(1&j){const fe=Y.EpF();Y.TgZ(0,"div",6),Y.NdJ("click",function(){Y.CHM(fe);const Ce=Y.oxw();return Y.KtG(Ce.onBack())}),Y.TgZ(1,"div",7),Y.YNc(2,re,2,1,"ng-container",8),Y.qZA()()}if(2&j){const fe=Y.oxw();Y.xp6(2),Y.Q6J("nzStringTemplateOutlet",fe.nzBackIcon)}}function q(j,ae){if(1&j&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&j){const fe=Y.oxw(2);Y.xp6(1),Y.Oqu(fe.nzTitle)}}function oe(j,ae){if(1&j&&(Y.TgZ(0,"span",10),Y.YNc(1,q,2,1,"ng-container",8),Y.qZA()),2&j){const fe=Y.oxw();Y.xp6(1),Y.Q6J("nzStringTemplateOutlet",fe.nzTitle)}}function M(j,ae){1&j&&Y.Hsn(0,6,["*ngIf","!nzTitle"])}function se(j,ae){if(1&j&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&j){const fe=Y.oxw(2);Y.xp6(1),Y.Oqu(fe.nzSubtitle)}}function ge(j,ae){if(1&j&&(Y.TgZ(0,"span",11),Y.YNc(1,se,2,1,"ng-container",8),Y.qZA()),2&j){const fe=Y.oxw();Y.xp6(1),Y.Q6J("nzStringTemplateOutlet",fe.nzSubtitle)}}function K(j,ae){1&j&&Y.Hsn(0,7,["*ngIf","!nzSubtitle"])}const ve=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],$=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];let B=(()=>{class j{static#e=this.\u0275fac=function(he){return new(he||j)};static#t=this.\u0275dir=Y.lG2({type:j,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"]})}return j})(),H=(()=>{class j{static#e=this.\u0275fac=function(he){return new(he||j)};static#t=this.\u0275dir=Y.lG2({type:j,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"]})}return j})(),I=(()=>{class j{constructor(fe,he,Ce,Se,ye,we){this.location=fe,this.nzConfigService=he,this.elementRef=Ce,this.nzResizeObserver=Se,this.cdr=ye,this.directionality=we,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new Y.vpe,this.compact=!1,this.destroy$=new Me.x,this.dir="ltr"}ngOnInit(){this.directionality.change?.pipe((0,de.R)(this.destroy$)).subscribe(fe=>{this.dir=fe,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,G.U)(([fe])=>fe.contentRect.width),(0,de.R)(this.destroy$)).subscribe(fe=>{this.compact=fe<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${Q.Bq} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}static#e=this.\u0275fac=function(he){return new(he||j)(Y.Y36(T.Ye,8),Y.Y36(Z.jY),Y.Y36(Y.SBq),Y.Y36(W.D3),Y.Y36(Y.sBO),Y.Y36(_.Is,8))};static#t=this.\u0275cmp=Y.Xpm({type:j,selectors:[["nz-page-header"]],contentQueries:function(he,Ce,Se){if(1&he&&(Y.Suo(Se,B,5),Y.Suo(Se,H,5)),2&he){let ye;Y.iGM(ye=Y.CRH())&&(Ce.nzPageHeaderFooter=ye.first),Y.iGM(ye=Y.CRH())&&(Ce.nzPageHeaderBreadcrumb=ye.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(he,Ce){2&he&&Y.ekj("has-footer",Ce.nzPageHeaderFooter)("ant-page-header-ghost",Ce.nzGhost)("has-breadcrumb",Ce.nzPageHeaderBreadcrumb)("ant-page-header-compact",Ce.compact)("ant-page-header-rtl","rtl"===Ce.dir)},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],ngContentSelectors:$,decls:13,vars:5,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],["class","ant-page-header-back",3,"click",4,"ngIf"],["class","ant-page-header-heading-title",4,"ngIf"],[4,"ngIf"],["class","ant-page-header-heading-sub-title",4,"ngIf"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"]],template:function(he,Ce){1&he&&(Y.F$t(ve),Y.Hsn(0),Y.TgZ(1,"div",0)(2,"div",1),Y.YNc(3,te,3,1,"div",2),Y.Hsn(4,1),Y.YNc(5,oe,2,1,"span",3)(6,M,1,0,"ng-content",4)(7,ge,2,1,"span",5)(8,K,1,0,"ng-content",4),Y.Hsn(9,2),Y.qZA(),Y.Hsn(10,3),Y.qZA(),Y.Hsn(11,4),Y.Hsn(12,5)),2&he&&(Y.xp6(3),Y.Q6J("ngIf",null!==Ce.nzBackIcon),Y.xp6(2),Y.Q6J("ngIf",Ce.nzTitle),Y.xp6(1),Y.Q6J("ngIf",!Ce.nzTitle),Y.xp6(1),Y.Q6J("ngIf",Ce.nzSubtitle),Y.xp6(1),Y.Q6J("ngIf",!Ce.nzSubtitle))},dependencies:[T.O5,ie.f,pe.Ls],encapsulation:2,changeDetection:0})}return(0,me.gn)([(0,Z.oS)()],j.prototype,"nzGhost",void 0),j})(),ee=(()=>{class j{static#e=this.\u0275fac=function(he){return new(he||j)};static#t=this.\u0275mod=Y.oAB({type:j});static#n=this.\u0275inj=Y.cJS({imports:[_.vT,T.ez,ie.T,pe.PV]})}return j})()},6616:($t,We,C)=>{"use strict";C.d(We,{xw:()=>Ni,cj:()=>Ea,xH:()=>n1,we:()=>ul});var _=C(9212),T=C(1474),Y=C(8324);const ie=["moz","ms","webkit"],de=function me(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const Ut=ie.filter(dn=>`${dn}RequestAnimationFrame`in window)[0];return Ut?window[`${Ut}RequestAnimationFrame`]:function pe(){let Ut=0;return function(dn){const Ze=(new Date).getTime(),yt=Math.max(0,16-(Ze-Ut)),Lt=setTimeout(()=>{dn(Ze+yt)},yt);return Ut=Ze+yt,Lt}}()}();var G=C(6814),Z=C(2831),Q=C(8645),W=C(7394),re=C(5619),te=C(2096),q=C(6028),oe=C(9397),M=C(3620),se=C(2181),ge=C(7398),K=C(836),ve=C(3997),$=C(9773),X=C(2495);let ce=(()=>{class Ut{create(Ze){return typeof MutationObserver>"u"?null:new MutationObserver(Ze)}static#e=this.\u0275fac=function(yt){return new(yt||Ut)};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),E=(()=>{class Ut{static#e=this.\u0275fac=function(yt){return new(yt||Ut)};static#t=this.\u0275mod=_.oAB({type:Ut});static#n=this.\u0275inj=_.cJS({providers:[ce]})}return Ut})();var B=C(1088);class Se{constructor(dn){this._items=dn,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Q.x,this._typeaheadSubscription=W.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ze=>Ze.disabled,this._pressedLetters=[],this.tabOut=new Q.x,this.change=new Q.x,dn instanceof _.n_E&&(this._itemChangesSubscription=dn.changes.subscribe(Ze=>{if(this._activeItem){const Lt=Ze.toArray().indexOf(this._activeItem);Lt>-1&&Lt!==this._activeItemIndex&&(this._activeItemIndex=Lt)}}))}skipPredicate(dn){return this._skipPredicateFn=dn,this}withWrap(dn=!0){return this._wrap=dn,this}withVerticalOrientation(dn=!0){return this._vertical=dn,this}withHorizontalOrientation(dn){return this._horizontal=dn,this}withAllowedModifierKeys(dn){return this._allowedModifierKeys=dn,this}withTypeAhead(dn=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,oe.b)(Ze=>this._pressedLetters.push(Ze)),(0,M.b)(dn),(0,se.h)(()=>this._pressedLetters.length>0),(0,ge.U)(()=>this._pressedLetters.join(""))).subscribe(Ze=>{const yt=this._getItemsArray();for(let Lt=1;Lt<yt.length+1;Lt++){const En=(this._activeItemIndex+Lt)%yt.length,Ir=yt[En];if(!this._skipPredicateFn(Ir)&&0===Ir.getLabel().toUpperCase().trim().indexOf(Ze)){this.setActiveItem(En);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(dn=!0){return this._homeAndEnd=dn,this}withPageUpDown(dn=!0,Ze=10){return this._pageUpAndDown={enabled:dn,delta:Ze},this}setActiveItem(dn){const Ze=this._activeItem;this.updateActiveItem(dn),this._activeItem!==Ze&&this.change.next(this._activeItemIndex)}onKeydown(dn){const Ze=dn.keyCode,Lt=["altKey","ctrlKey","metaKey","shiftKey"].every(En=>!dn[En]||this._allowedModifierKeys.indexOf(En)>-1);switch(Ze){case q.Mf:return void this.tabOut.next();case q.JH:if(this._vertical&&Lt){this.setNextItemActive();break}return;case q.LH:if(this._vertical&&Lt){this.setPreviousItemActive();break}return;case q.SV:if(this._horizontal&&Lt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case q.oh:if(this._horizontal&&Lt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case q.Sd:if(this._homeAndEnd&&Lt){this.setFirstItemActive();break}return;case q.uR:if(this._homeAndEnd&&Lt){this.setLastItemActive();break}return;case q.Ku:if(this._pageUpAndDown.enabled&&Lt){const En=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(En>0?En:0,1);break}return;case q.VM:if(this._pageUpAndDown.enabled&&Lt){const En=this._activeItemIndex+this._pageUpAndDown.delta,Ir=this._getItemsArray().length;this._setActiveItemByIndex(En<Ir?En:Ir-1,-1);break}return;default:return void((Lt||(0,q.Vb)(dn,"shiftKey"))&&(dn.key&&1===dn.key.length?this._letterKeyStream.next(dn.key.toLocaleUpperCase()):(Ze>=q.A&&Ze<=q.Z||Ze>=q.xE&&Ze<=q.aO)&&this._letterKeyStream.next(String.fromCharCode(Ze))))}this._pressedLetters=[],dn.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(dn){const Ze=this._getItemsArray(),yt="number"==typeof dn?dn:Ze.indexOf(dn);this._activeItem=Ze[yt]??null,this._activeItemIndex=yt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(dn){this._wrap?this._setActiveInWrapMode(dn):this._setActiveInDefaultMode(dn)}_setActiveInWrapMode(dn){const Ze=this._getItemsArray();for(let yt=1;yt<=Ze.length;yt++){const Lt=(this._activeItemIndex+dn*yt+Ze.length)%Ze.length;if(!this._skipPredicateFn(Ze[Lt]))return void this.setActiveItem(Lt)}}_setActiveInDefaultMode(dn){this._setActiveItemByIndex(this._activeItemIndex+dn,dn)}_setActiveItemByIndex(dn,Ze){const yt=this._getItemsArray();if(yt[dn]){for(;this._skipPredicateFn(yt[dn]);)if(!yt[dn+=Ze])return;this.setActiveItem(dn)}}_getItemsArray(){return this._items instanceof _.n_E?this._items.toArray():this._items}}class we extends Se{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(dn){return this._origin=dn,this}setActiveItem(dn){super.setActiveItem(dn),this.activeItem&&this.activeItem.focus(this._origin)}}const xr=new _.OlP("cdk-input-modality-detector-options"),lr={ignoreKeys:[q.zL,q.jx,q.b2,q.MW,q.JU]},Ft=(0,Z.i$)({passive:!0,capture:!0});let Un=(()=>{class Ut{get mostRecentModality(){return this._modality.value}constructor(Ze,yt,Lt,En){this._platform=Ze,this._mostRecentTarget=null,this._modality=new re.X(null),this._lastTouchMs=0,this._onKeydown=Ir=>{this._options?.ignoreKeys?.some(hi=>hi===Ir.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Z.sA)(Ir))},this._onMousedown=Ir=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Dn(Ut){return 0===Ut.buttons||0===Ut.detail}(Ir)?"keyboard":"mouse"),this._mostRecentTarget=(0,Z.sA)(Ir))},this._onTouchstart=Ir=>{!function Ln(Ut){const dn=Ut.touches&&Ut.touches[0]||Ut.changedTouches&&Ut.changedTouches[0];return!(!dn||-1!==dn.identifier||null!=dn.radiusX&&1!==dn.radiusX||null!=dn.radiusY&&1!==dn.radiusY)}(Ir)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Z.sA)(Ir)):this._modality.next("keyboard")},this._options={...lr,...En},this.modalityDetected=this._modality.pipe((0,K.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ve.x)()),Ze.isBrowser&&yt.runOutsideAngular(()=>{Lt.addEventListener("keydown",this._onKeydown,Ft),Lt.addEventListener("mousedown",this._onMousedown,Ft),Lt.addEventListener("touchstart",this._onTouchstart,Ft)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ft),document.removeEventListener("mousedown",this._onMousedown,Ft),document.removeEventListener("touchstart",this._onTouchstart,Ft))}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.LFG(Z.t4),_.LFG(_.R0b),_.LFG(G.K0),_.LFG(xr,8))};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();const Mt=new _.OlP("cdk-focus-monitor-default-options"),Jt=(0,Z.i$)({passive:!0,capture:!0});let bn=(()=>{class Ut{constructor(Ze,yt,Lt,En,Ir){this._ngZone=Ze,this._platform=yt,this._inputModalityDetector=Lt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Q.x,this._rootNodeFocusAndBlurListener=hi=>{for(let ma=(0,Z.sA)(hi);ma;ma=ma.parentElement)"focus"===hi.type?this._onFocus(hi,ma):this._onBlur(hi,ma)},this._document=En,this._detectionMode=Ir?.detectionMode||0}monitor(Ze,yt=!1){const Lt=(0,X.fI)(Ze);if(!this._platform.isBrowser||1!==Lt.nodeType)return(0,te.of)();const En=(0,Z.kV)(Lt)||this._getDocument(),Ir=this._elementInfo.get(Lt);if(Ir)return yt&&(Ir.checkChildren=!0),Ir.subject;const hi={checkChildren:yt,subject:new Q.x,rootNode:En};return this._elementInfo.set(Lt,hi),this._registerGlobalListeners(hi),hi.subject}stopMonitoring(Ze){const yt=(0,X.fI)(Ze),Lt=this._elementInfo.get(yt);Lt&&(Lt.subject.complete(),this._setClasses(yt),this._elementInfo.delete(yt),this._removeGlobalListeners(Lt))}focusVia(Ze,yt,Lt){const En=(0,X.fI)(Ze);En===this._getDocument().activeElement?this._getClosestElementsInfo(En).forEach(([hi,Sa])=>this._originChanged(hi,yt,Sa)):(this._setOrigin(yt),"function"==typeof En.focus&&En.focus(Lt))}ngOnDestroy(){this._elementInfo.forEach((Ze,yt)=>this.stopMonitoring(yt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ze){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ze)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ze&&this._isLastInteractionFromInputLabel(Ze)?"mouse":"program"}_shouldBeAttributedToTouch(Ze){return 1===this._detectionMode||!!Ze?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ze,yt){Ze.classList.toggle("cdk-focused",!!yt),Ze.classList.toggle("cdk-touch-focused","touch"===yt),Ze.classList.toggle("cdk-keyboard-focused","keyboard"===yt),Ze.classList.toggle("cdk-mouse-focused","mouse"===yt),Ze.classList.toggle("cdk-program-focused","program"===yt)}_setOrigin(Ze,yt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ze,this._originFromTouchInteraction="touch"===Ze&&yt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ze,yt){const Lt=this._elementInfo.get(yt),En=(0,Z.sA)(Ze);!Lt||!Lt.checkChildren&&yt!==En||this._originChanged(yt,this._getFocusOrigin(En),Lt)}_onBlur(Ze,yt){const Lt=this._elementInfo.get(yt);!Lt||Lt.checkChildren&&Ze.relatedTarget instanceof Node&&yt.contains(Ze.relatedTarget)||(this._setClasses(yt),this._emitOrigin(Lt,null))}_emitOrigin(Ze,yt){Ze.subject.observers.length&&this._ngZone.run(()=>Ze.subject.next(yt))}_registerGlobalListeners(Ze){if(!this._platform.isBrowser)return;const yt=Ze.rootNode,Lt=this._rootNodeFocusListenerCount.get(yt)||0;Lt||this._ngZone.runOutsideAngular(()=>{yt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jt),yt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jt)}),this._rootNodeFocusListenerCount.set(yt,Lt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,$.R)(this._stopInputModalityDetector)).subscribe(En=>{this._setOrigin(En,!0)}))}_removeGlobalListeners(Ze){const yt=Ze.rootNode;if(this._rootNodeFocusListenerCount.has(yt)){const Lt=this._rootNodeFocusListenerCount.get(yt);Lt>1?this._rootNodeFocusListenerCount.set(yt,Lt-1):(yt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jt),yt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jt),this._rootNodeFocusListenerCount.delete(yt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ze,yt,Lt){this._setClasses(Ze,yt),this._emitOrigin(Lt,yt),this._lastFocusOrigin=yt}_getClosestElementsInfo(Ze){const yt=[];return this._elementInfo.forEach((Lt,En)=>{(En===Ze||Lt.checkChildren&&En.contains(Ze))&&yt.push([En,Lt])}),yt}_isLastInteractionFromInputLabel(Ze){const{_mostRecentTarget:yt,mostRecentModality:Lt}=this._inputModalityDetector;if("mouse"!==Lt||!yt||yt===Ze||"INPUT"!==Ze.nodeName&&"TEXTAREA"!==Ze.nodeName||Ze.disabled)return!1;const En=Ze.labels;if(En)for(let Ir=0;Ir<En.length;Ir++)if(En[Ir].contains(yt))return!0;return!1}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.LFG(_.R0b),_.LFG(Z.t4),_.LFG(Un),_.LFG(G.K0,8),_.LFG(Mt,8))};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),ar=(()=>{class Ut{constructor(Ze,yt){this._elementRef=Ze,this._focusMonitor=yt,this._focusOrigin=null,this.cdkFocusChange=new _.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Ze=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Ze,1===Ze.nodeType&&Ze.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(yt=>{this._focusOrigin=yt,this.cdkFocusChange.emit(yt)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.SBq),_.Y36(bn))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return Ut})();const Ar="cdk-high-contrast-black-on-white",Gr="cdk-high-contrast-white-on-black",Mn="cdk-high-contrast-active";let on=(()=>{class Ut{constructor(Ze,yt){this._platform=Ze,this._document=yt,this._breakpointSubscription=(0,_.f3M)(B.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ze=this._document.createElement("div");Ze.style.backgroundColor="rgb(1,2,3)",Ze.style.position="absolute",this._document.body.appendChild(Ze);const yt=this._document.defaultView||window,Lt=yt&&yt.getComputedStyle?yt.getComputedStyle(Ze):null,En=(Lt&&Lt.backgroundColor||"").replace(/ /g,"");switch(Ze.remove(),En){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ze=this._document.body.classList;Ze.remove(Mn,Ar,Gr),this._hasCheckedHighContrastMode=!0;const yt=this.getHighContrastMode();1===yt?Ze.add(Mn,Ar):2===yt&&Ze.add(Mn,Gr)}}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.LFG(Z.t4),_.LFG(G.K0))};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),Ht=(()=>{class Ut{constructor(Ze){Ze._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.LFG(on))};static#t=this.\u0275mod=_.oAB({type:Ut});static#n=this.\u0275inj=_.cJS({imports:[E]})}return Ut})();var tn=C(2438),Xn=C(927),Lr=C(6410),Br=C(3019),vi=C(9028),Hi=C(7921),$i=C(1374),Pa=C(6321),On=C(5211),xt=C(8180),qe=C(9360),it=C(8251),pt=C(2420),Nn=C(975),jn=C(1631);function br(Ut,dn){return dn?Ze=>(0,On.z)(dn.pipe((0,xt.q)(1),function jt(){return(0,qe.e)((Ut,dn)=>{Ut.subscribe((0,it.x)(dn,pt.Z))})}()),Ze.pipe(br(Ut))):(0,jn.z)((Ze,yt)=>Ut(Ze,yt).pipe((0,xt.q)(1),(0,Nn.h)(Ze)))}var Qr=C(4825),ei=C(3460),rn=C(2787),st=C(6672),Qt=C(8802),xn=C(9388),Pn=C(8108),yn=C(7754),mr=C(3742),li=C(7074),Bn=C(1608);function dr(Ut,dn){if(1&Ut&&(_.ynx(0),_._UZ(1,"span",1),_.BQk()),2&Ut){const Ze=dn.$implicit;_.xp6(1),_.Q6J("nzType",Ze)}}function Qn(Ut,dn){if(1&Ut&&(_.ynx(0),_._uU(1),_.BQk()),2&Ut){const Ze=_.oxw().$implicit;_.xp6(1),_.hij(" ",Ze.tab.label," ")}}const er=()=>({visible:!1});function Di(Ut,dn){if(1&Ut){const Ze=_.EpF();_.TgZ(0,"li",8),_.NdJ("click",function(){const En=_.CHM(Ze).$implicit,Ir=_.oxw(2);return _.KtG(Ir.onSelect(En))})("contextmenu",function(Lt){const Ir=_.CHM(Ze).$implicit,hi=_.oxw(2);return _.KtG(hi.onContextmenu(Ir,Lt))}),_.YNc(1,Qn,2,1,"ng-container",9),_.qZA()}if(2&Ut){const Ze=dn.$implicit;_.ekj("ant-tabs-dropdown-menu-item-disabled",Ze.disabled),_.Q6J("nzSelected",Ze.active)("nzDisabled",Ze.disabled),_.xp6(1),_.Q6J("nzStringTemplateOutlet",Ze.tab.label)("nzStringTemplateOutletContext",_.DdM(6,er))}}function aa(Ut,dn){if(1&Ut&&(_.TgZ(0,"ul",6),_.YNc(1,Di,2,7,"li",7),_.qZA()),2&Ut){const Ze=_.oxw();_.xp6(1),_.Q6J("ngForOf",Ze.items)}}function Ui(Ut,dn){if(1&Ut){const Ze=_.EpF();_.TgZ(0,"button",10),_.NdJ("click",function(){_.CHM(Ze);const Lt=_.oxw();return _.KtG(Lt.addClicked.emit())}),_.qZA()}if(2&Ut){const Ze=_.oxw();_.Q6J("addIcon",Ze.addIcon)}}const hr=()=>({minWidth:"46px"}),ai=["navWarp"],Ba=["navList"];function bo(Ut,dn){if(1&Ut){const Ze=_.EpF();_.TgZ(0,"button",8),_.NdJ("click",function(){_.CHM(Ze);const Lt=_.oxw();return _.KtG(Lt.addClicked.emit())}),_.qZA()}if(2&Ut){const Ze=_.oxw();_.Q6J("addIcon",Ze.addIcon)}}function ni(Ut,dn){}function wr(Ut,dn){if(1&Ut&&(_.TgZ(0,"div",9),_.YNc(1,ni,0,0,"ng-template",10),_.qZA()),2&Ut){const Ze=_.oxw();_.xp6(1),_.Q6J("ngTemplateOutlet",Ze.extraTemplate)}}const $r=["*"],Tr=["nz-tab-body",""];function yi(Ut,dn){}function Oa(Ut,dn){if(1&Ut&&(_.ynx(0),_.YNc(1,yi,0,0,"ng-template",1),_.BQk()),2&Ut){const Ze=_.oxw();_.xp6(1),_.Q6J("ngTemplateOutlet",Ze.content)}}function vs(Ut,dn){if(1&Ut&&(_.ynx(0),_._UZ(1,"span",1),_.BQk()),2&Ut){const Ze=dn.$implicit;_.xp6(1),_.Q6J("nzType",Ze)}}const ql=["contentTemplate"];function Po(Ut,dn){1&Ut&&_.Hsn(0)}function Sl(Ut,dn){1&Ut&&_.Hsn(0,1)}const Xc=[[["","nz-tab-link",""]],"*"],vc=["[nz-tab-link]","*"];function Za(Ut,dn){if(1&Ut&&(_.ynx(0),_._uU(1),_.BQk()),2&Ut){const Ze=_.oxw().$implicit;_.xp6(1),_.Oqu(Ze.label)}}function Hr(Ut,dn){if(1&Ut){const Ze=_.EpF();_.TgZ(0,"button",10),_.NdJ("click",function(Lt){_.CHM(Ze);const En=_.oxw().index,Ir=_.oxw(2);return _.KtG(Ir.onClose(En,Lt))}),_.qZA()}if(2&Ut){const Ze=_.oxw().$implicit;_.Q6J("closeIcon",Ze.nzCloseIcon)}}const po=()=>({visible:!0});function No(Ut,dn){if(1&Ut){const Ze=_.EpF();_.TgZ(0,"div",6),_.NdJ("click",function(Lt){const En=_.CHM(Ze),Ir=En.$implicit,hi=En.index,Sa=_.oxw(2);return _.KtG(Sa.clickNavItem(Ir,hi,Lt))})("contextmenu",function(Lt){const Ir=_.CHM(Ze).$implicit,hi=_.oxw(2);return _.KtG(hi.contextmenuNavItem(Ir,Lt))}),_.TgZ(1,"div",7),_.YNc(2,Za,2,1,"ng-container",8)(3,Hr,1,1,"button",9),_.qZA()()}if(2&Ut){const Ze=dn.$implicit,yt=dn.index,Lt=_.oxw(2);_.Udp("margin-right","horizontal"===Lt.position?Lt.nzTabBarGutter:null,"px")("margin-bottom","vertical"===Lt.position?Lt.nzTabBarGutter:null,"px"),_.ekj("ant-tabs-tab-active",Lt.nzSelectedIndex===yt)("ant-tabs-tab-disabled",Ze.nzDisabled),_.xp6(1),_.Q6J("disabled",Ze.nzDisabled)("tab",Ze)("active",Lt.nzSelectedIndex===yt),_.uIk("tabIndex",Lt.getTabIndex(Ze,yt))("aria-disabled",Ze.nzDisabled)("aria-selected",Lt.nzSelectedIndex===yt&&!Lt.nzHideAll)("aria-controls",Lt.getTabContentId(yt)),_.xp6(1),_.Q6J("nzStringTemplateOutlet",Ze.label)("nzStringTemplateOutletContext",_.DdM(18,po)),_.xp6(1),_.Q6J("ngIf",Ze.nzClosable&&Lt.closable&&!Ze.nzDisabled)}}function ps(Ut,dn){if(1&Ut){const Ze=_.EpF();_.TgZ(0,"nz-tabs-nav",4),_.NdJ("tabScroll",function(Lt){_.CHM(Ze);const En=_.oxw();return _.KtG(En.nzTabListScroll.emit(Lt))})("selectFocusedIndex",function(Lt){_.CHM(Ze);const En=_.oxw();return _.KtG(En.setSelectedIndex(Lt))})("addClicked",function(){_.CHM(Ze);const Lt=_.oxw();return _.KtG(Lt.onAdd())}),_.YNc(1,No,4,19,"div",5),_.qZA()}if(2&Ut){const Ze=_.oxw();_.Q6J("ngStyle",Ze.nzTabBarStyle)("selectedIndex",Ze.nzSelectedIndex||0)("inkBarAnimated",Ze.inkBarAnimated)("addable",Ze.addable)("addIcon",Ze.nzAddIcon)("hideBar",Ze.nzHideAll)("position",Ze.position)("extraTemplate",Ze.nzTabBarExtraContent),_.xp6(1),_.Q6J("ngForOf",Ze.tabs)}}function Ls(Ut,dn){if(1&Ut&&_._UZ(0,"div",11),2&Ut){const Ze=dn.$implicit,yt=dn.index,Lt=_.oxw();_.Q6J("active",Lt.nzSelectedIndex===yt&&!Lt.nzHideAll)("content",Ze.content)("forceRender",Ze.nzForceRender)("tabPaneAnimated",Lt.tabPaneAnimated)}}let Os=(()=>{class Ut{constructor(Ze){this.elementRef=Ze,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.SBq))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(yt,Lt){1&yt&&_.YNc(0,dr,2,1,"ng-container",0),2&yt&&_.Q6J("nzStringTemplateOutlet",Lt.addIcon)},dependencies:[T.Ls,Y.f],encapsulation:2})}return Ut})(),Ka=(()=>{class Ut{get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}constructor(Ze,yt,Lt){this.elementRef=Ze,this.ngZone=yt,this.animationMode=Lt,this.position="horizontal",this.animated=!0}alignToElement(Ze){this.ngZone.runOutsideAngular(()=>{de(()=>this.setStyles(Ze))})}setStyles(Ze){const yt=this.elementRef.nativeElement;"horizontal"===this.position?(yt.style.top="",yt.style.height="",yt.style.left=this.getLeftPosition(Ze),yt.style.width=this.getElementWidth(Ze)):(yt.style.left="",yt.style.width="",yt.style.top=this.getTopPosition(Ze),yt.style.height=this.getElementHeight(Ze))}getLeftPosition(Ze){return Ze?`${Ze.offsetLeft||0}px`:"0"}getElementWidth(Ze){return Ze?`${Ze.offsetWidth||0}px`:"0"}getTopPosition(Ze){return Ze?`${Ze.offsetTop||0}px`:"0"}getElementHeight(Ze){return Ze?`${Ze.offsetHeight||0}px`:"0"}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(_.QbO,8))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(yt,Lt){2&yt&&_.ekj("ant-tabs-ink-bar-animated",Lt._animated)},inputs:{position:"position",animated:"animated"}})}return Ut})(),Gs=(()=>{class Ut{constructor(Ze){this.elementRef=Ze,this.disabled=!1,this.active=!1,this.el=Ze.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.SBq))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",tab:"tab",active:"active"}})}return Ut})(),gs=(()=>{class Ut{constructor(Ze,yt){this.cdr=Ze,this.elementRef=yt,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new _.vpe,this.selected=new _.vpe,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(Ze){Ze.disabled||(Ze.tab.nzClick.emit(),this.selected.emit(Ze))}onContextmenu(Ze,yt){Ze.disabled||Ze.tab.nzContextmenu.emit(yt)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(Ze){Ze||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.sBO),_.Y36(_.SBq))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(yt,Lt){2&yt&&_.ekj("ant-tabs-nav-operations-hidden",0===Lt.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(yt,Lt){if(1&yt&&(_.TgZ(0,"button",0,1),_.NdJ("nzVisibleChange",function(Ir){return Lt.menuVisChange(Ir)})("mouseenter",function(){return Lt.showItems()}),_._UZ(2,"span",2),_.qZA(),_.TgZ(3,"nz-dropdown-menu",null,3),_.YNc(5,aa,2,1,"ul",4),_.qZA(),_.YNc(6,Ui,1,1,"button",5)),2&yt){const En=_.MAs(4);_.Q6J("nzDropdownMenu",En)("nzOverlayStyle",_.DdM(5,hr))("nzMatchWidthElement",null),_.xp6(5),_.Q6J("ngIf",Lt.menuOpened),_.xp6(1),_.Q6J("ngIf",Lt.addable)}},dependencies:[G.sg,G.O5,T.Ls,Y.f,ei.wO,ei.u9,rn.cm,rn.RR,Os],encapsulation:2,changeDetection:0})}return Ut})();const gi=.995**20;let In=(()=>{class Ut{constructor(Ze,yt){this.ngZone=Ze,this.elementRef=yt,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new _.vpe,this.tabScroll=new _.vpe,this.onTouchEnd=Lt=>{if(!this.touchPosition)return;const En=this.lastOffset,Ir=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,En){const hi=En.x/Ir,Sa=En.y/Ir,ma=Math.abs(hi),ts=Math.abs(Sa);if(Math.max(ma,ts)<.1)return;let Lo=hi,ko=Sa;this.motion=window.setInterval(()=>{Math.abs(Lo)<.01&&Math.abs(ko)<.01?window.clearInterval(this.motion):(Lo*=gi,ko*=gi,this.onOffset(20*Lo,20*ko,Lt))},20)}},this.onTouchMove=Lt=>{if(!this.touchPosition)return;Lt.preventDefault();const{screenX:En,screenY:Ir}=Lt.touches[0],hi=En-this.touchPosition.x,Sa=Ir-this.touchPosition.y;this.onOffset(hi,Sa,Lt);const ma=Date.now();this.lastTimeDiff=ma-this.lastTimestamp,this.lastTimestamp=ma,this.lastOffset={x:hi,y:Sa},this.touchPosition={x:En,y:Ir}},this.onTouchStart=Lt=>{const{screenX:En,screenY:Ir}=Lt.touches[0];this.touchPosition={x:En,y:Ir},window.clearInterval(this.motion)},this.onWheel=Lt=>{const{deltaX:En,deltaY:Ir}=Lt;let hi;const Sa=Math.abs(En),ma=Math.abs(Ir);Sa===ma?hi="x"===this.lastWheelDirection?En:Ir:Sa>ma?(hi=En,this.lastWheelDirection="x"):(hi=Ir,this.lastWheelDirection="y");const ts=Date.now(),Lo=Math.abs(hi);(ts-this.lastWheelTimestamp>100||Lo-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-hi,-hi,Lt),(Lt.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=ts,this.lastMixedWheel=Lo}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const Ze=this.elementRef.nativeElement,yt=(0,tn.R)(Ze,"wheel"),Lt=(0,tn.R)(Ze,"touchstart"),En=(0,tn.R)(Ze,"touchmove"),Ir=(0,tn.R)(Ze,"touchend"),hi=new W.w0;return hi.add(this.subscribeWrap("wheel",yt,this.onWheel)),hi.add(this.subscribeWrap("touchstart",Lt,this.onTouchStart)),hi.add(this.subscribeWrap("touchmove",En,this.onTouchMove)),hi.add(this.subscribeWrap("touchend",Ir,this.onTouchEnd)),()=>{hi.unsubscribe()}})}subscribeWrap(Ze,yt,Lt){return yt.subscribe(En=>{this.tabScroll.emit({type:Ze,event:En}),En.defaultPrevented||Lt(En)})}onOffset(Ze,yt,Lt){this.ngZone.run(()=>{this.offsetChange.emit({x:Ze,y:yt,event:Lt})})}ngOnDestroy(){this.unsubscribe()}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.R0b),_.Y36(_.SBq))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}})}return Ut})();const Cl=typeof requestAnimationFrame<"u"?Xn.Z:Lr.E;let js=(()=>{class Ut{get selectedIndex(){return this._selectedIndex}set selectedIndex(Ze){const yt=(0,X.su)(Ze);this._selectedIndex!==yt&&(this._selectedIndex=Ze,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(Ze))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(Ze){!this.isValidIndex(Ze)||this.focusIndex===Ze||!this.keyManager||this.keyManager.setActiveItem(Ze)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}constructor(Ze,yt,Lt,En,Ir){this.cdr=Ze,this.ngZone=yt,this.viewportRuler=Lt,this.nzResizeObserver=En,this.dir=Ir,this.indexFocused=new _.vpe,this.selectFocusedIndex=new _.vpe,this.addClicked=new _.vpe,this.tabScroll=new _.vpe,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new Q.x,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}ngAfterViewInit(){const Ze=this.dir?this.dir.change.asObservable():(0,te.of)(null),yt=this.viewportRuler.change(150),Lt=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new we(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),de(Lt),(0,Br.T)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,$.R)(this.destroy$),(0,vi.e)(16,Cl)).subscribe(()=>{Lt()}),(0,Br.T)(Ze,yt,this.items.changes).pipe((0,$.R)(this.destroy$)).subscribe(()=>{Promise.resolve().then(Lt),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,$.R)(this.destroy$)).subscribe(En=>{this.indexFocused.emit(En),this.setTabFocus(En),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(Ze){const yt=this.items.toArray().findIndex(Lt=>Lt===Ze);-1!==yt&&(this.keyManager.updateActiveItem(yt),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(Ze)))}onOffsetChange(Ze){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&Ze.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&Ze.x<0))return;Ze.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+Ze.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&Ze.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&Ze.y<0))return;Ze.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+Ze.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(Ze){const yt=this.navWarpRef.nativeElement.contains(Ze.target);if(!(0,q.Vb)(Ze)&&yt)switch(Ze.keyCode){case q.oh:case q.LH:case q.SV:case q.JH:this.lockAnimation(),this.keyManager.onKeydown(Ze);break;case q.K5:case q.L_:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(Ze)}}isValidIndex(Ze){if(!this.items)return!0;const yt=this.items?this.items.toArray()[Ze]:null;return!!yt&&!yt.disabled}scrollToTab(Ze){if(!this.items.find(Lt=>Lt===Ze))return;const yt=this.items.toArray();if("horizontal"===this.position){let Lt=this.transformX;if("rtl"===this.getLayoutDirection()){const En=yt[0].left+yt[0].width-Ze.left-Ze.width;En<this.transformX?Lt=En:En+Ze.width>this.transformX+this.wrapperWidth&&(Lt=En+Ze.width-this.wrapperWidth)}else Ze.left<-this.transformX?Lt=-Ze.left:Ze.left+Ze.width>-this.transformX+this.wrapperWidth&&(Lt=-(Ze.left+Ze.width-this.wrapperWidth));this.transformX=Lt,this.transformY=0,this.setTransform(Lt,0)}else{let Lt=this.transformY;Ze.top<-this.transformY?Lt=-Ze.top:Ze.top+Ze.height>-this.transformY+this.wrapperHeight&&(Lt=-(Ze.top+Ze.height-this.wrapperHeight)),this.transformY=Lt,this.transformX=0,this.setTransform(0,Lt)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(Ze,yt){this.navListRef.nativeElement.style.transform=`translate(${Ze}px, ${yt}px)`}clampTransformX(Ze){const yt=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(yt,Ze),0):Math.min(Math.max(yt,Ze),0)}clampTransformY(Ze){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,Ze),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const Ze=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,yt=Ze?Ze.elementRef.nativeElement:null;yt&&this.inkBar.alignToElement(yt.parentElement)}setPingStatus(){const Ze={top:!1,right:!1,bottom:!1,left:!1},yt=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(Ze.right=this.transformX>0,Ze.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(Ze.left=this.transformX<0,Ze.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(Ze.top=this.transformY<0,Ze.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(Ze).forEach(Lt=>{const En=`ant-tabs-nav-wrap-ping-${Lt}`;Ze[Lt]?yt.classList.add(En):yt.classList.remove(En)})}setVisibleRange(){let Ze,yt,Lt,En,Ir,hi;const Sa=this.items.toArray(),ma={width:0,height:0,left:0,top:0,right:0},ts=$a=>{let uo;return uo="right"===yt?Sa[0].left+Sa[0].width-Sa[$a].left-Sa[$a].width:(Sa[$a]||ma)[yt],uo};"horizontal"===this.position?(Ze="width",En=this.wrapperWidth,Ir=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),hi=this.addButtonWidth,Lt=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(yt="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,yt="left")):(Ze="height",En=this.wrapperHeight,Ir=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),hi=this.addButtonHeight,yt="top",Lt=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let Lo=En;if(Ir+hi>En&&(Lo=En-hi),!Sa.length)return this.hiddenItems=[],void this.cdr.markForCheck();const ko=Sa.length;let hl=ko;for(let $a=0;$a<ko;$a+=1)if(ts($a)+(Sa[$a]||ma)[Ze]>Lt+Lo){hl=$a-1;break}let go=0;for(let $a=ko-1;$a>=0;$a-=1)if(ts($a)<Lt){go=$a+1;break}const Ws=Sa.slice(0,go),Is=Sa.slice(hl+1);this.hiddenItems=[...Ws,...Is],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(Ze){}ngOnChanges(Ze){const{position:yt}=Ze;yt&&!yt.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.sBO),_.Y36(_.R0b),_.Y36(st.rL),_.Y36(Qt.D3),_.Y36(xn.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["nz-tabs-nav"]],contentQueries:function(yt,Lt,En){if(1&yt&&_.Suo(En,Gs,5),2&yt){let Ir;_.iGM(Ir=_.CRH())&&(Lt.items=Ir)}},viewQuery:function(yt,Lt){if(1&yt&&(_.Gf(ai,7),_.Gf(Ba,7),_.Gf(gs,7),_.Gf(Os,5),_.Gf(Ka,7)),2&yt){let En;_.iGM(En=_.CRH())&&(Lt.navWarpRef=En.first),_.iGM(En=_.CRH())&&(Lt.navListRef=En.first),_.iGM(En=_.CRH())&&(Lt.operationRef=En.first),_.iGM(En=_.CRH())&&(Lt.addBtnRef=En.first),_.iGM(En=_.CRH())&&(Lt.inkBar=En.first)}},hostAttrs:["role","tablist",1,"ant-tabs-nav"],hostBindings:function(yt,Lt){1&yt&&_.NdJ("keydown",function(Ir){return Lt.handleKeydown(Ir)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[_.TTD],ngContentSelectors:$r,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(yt,Lt){1&yt&&(_.F$t(),_.TgZ(0,"div",0,1)(2,"div",2,3),_.NdJ("offsetChange",function(Ir){return Lt.onOffsetChange(Ir)})("tabScroll",function(Ir){return Lt.tabScroll.emit(Ir)}),_.Hsn(4),_.YNc(5,bo,1,1,"button",4),_._UZ(6,"div",5),_.qZA()(),_.TgZ(7,"nz-tab-nav-operation",6),_.NdJ("addClicked",function(){return Lt.addClicked.emit()})("selected",function(Ir){return Lt.onSelectedFromMenu(Ir)}),_.qZA(),_.YNc(8,wr,2,1,"div",7)),2&yt&&(_.ekj("ant-tabs-nav-wrap-ping-left",Lt.pingLeft)("ant-tabs-nav-wrap-ping-right",Lt.pingRight)("ant-tabs-nav-wrap-ping-top",Lt.pingTop)("ant-tabs-nav-wrap-ping-bottom",Lt.pingBottom),_.xp6(5),_.Q6J("ngIf",Lt.showAddButton),_.xp6(1),_.Q6J("hidden",Lt.hideBar)("position",Lt.position)("animated",Lt.inkBarAnimated),_.xp6(1),_.Q6J("addIcon",Lt.addIcon)("addable",Lt.addable)("items",Lt.hiddenItems),_.xp6(1),_.Q6J("ngIf",Lt.extraTemplate))},dependencies:[G.O5,G.tP,Ka,In,gs,Os],encapsulation:2,changeDetection:0})}return Ut})(),ms=(()=>{class Ut{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}static#e=this.\u0275fac=function(yt){return new(yt||Ut)};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(yt,Lt){2&yt&&(_.uIk("tabindex",Lt.active?0:-1)("aria-hidden",!Lt.active),_.Udp("visibility",Lt.tabPaneAnimated?Lt.active?null:"hidden":null)("height",Lt.tabPaneAnimated?Lt.active?null:0:null)("overflow-y",Lt.tabPaneAnimated?Lt.active?null:"none":null)("display",Lt.tabPaneAnimated||Lt.active?null:"none"),_.ekj("ant-tabs-tabpane-active",Lt.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:Tr,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(yt,Lt){1&yt&&_.YNc(0,Oa,2,1,"ng-container",0),2&yt&&_.Q6J("ngIf",Lt.active||Lt.forceRender)},dependencies:[G.O5,G.tP],encapsulation:2,changeDetection:0})}return Ut})(),Ia=(()=>{class Ut{constructor(){this.closeIcon="close"}static#e=this.\u0275fac=function(yt){return new(yt||Ut)};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(yt,Lt){1&yt&&_.YNc(0,vs,2,1,"ng-container",0),2&yt&&_.Q6J("nzStringTemplateOutlet",Lt.closeIcon)},dependencies:[T.Ls,Y.f],encapsulation:2})}return Ut})(),na=(()=>{class Ut{constructor(Ze){this.templateRef=Ze}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.Rgc,1))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]})}return Ut})(),Ko=(()=>{class Ut{constructor(Ze,yt){this.elementRef=Ze,this.routerLink=yt}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(_.SBq),_.Y36(mr.rH,10))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]})}return Ut})(),Ea=(()=>{class Ut{static#e=this.\u0275fac=function(yt){return new(yt||Ut)};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["","nz-tab",""]],exportAs:["nzTab"]})}return Ut})();const ga=new _.OlP("NZ_TAB_SET");let Ni=(()=>{class Ut{get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}constructor(Ze){this.closestTabSet=Ze,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new _.vpe,this.nzDeselect=new _.vpe,this.nzClick=new _.vpe,this.nzContextmenu=new _.vpe,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new Q.x}ngOnChanges(Ze){const{nzTitle:yt,nzDisabled:Lt,nzForceRender:En}=Ze;(yt||Lt||En)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(ga))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["nz-tab"]],contentQueries:function(yt,Lt,En){if(1&yt&&(_.Suo(En,na,5),_.Suo(En,Ea,5,_.Rgc),_.Suo(En,Ko,5)),2&yt){let Ir;_.iGM(Ir=_.CRH())&&(Lt.nzTabLinkTemplateDirective=Ir.first),_.iGM(Ir=_.CRH())&&(Lt.template=Ir.first),_.iGM(Ir=_.CRH())&&(Lt.linkDirective=Ir.first)}},viewQuery:function(yt,Lt){if(1&yt&&_.Gf(ql,7),2&yt){let En;_.iGM(En=_.CRH())&&(Lt.contentTemplate=En.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[_.TTD],ngContentSelectors:vc,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(yt,Lt){1&yt&&(_.F$t(Xc),_.YNc(0,Po,1,0,"ng-template",null,0,_.W1O)(2,Sl,1,0,"ng-template",null,1,_.W1O))},encapsulation:2,changeDetection:0})}return(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzClosable",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzDisabled",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzForceRender",void 0),Ut})();class t1{}let D1=0,n1=(()=>{class Ut{get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(Ze){this.indexToSelect=(0,X.su)(Ze,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}constructor(Ze,yt,Lt,En,Ir){this.nzConfigService=Ze,this.ngZone=yt,this.cdr=Lt,this.directionality=En,this.router=Ir,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new _.vpe(!0),this.nzSelectedIndexChange=new _.vpe,this.nzTabListScroll=new _.vpe,this.nzClose=new _.vpe,this.nzAdd=new _.vpe,this.allTabs=new _.n_E,this.tabs=new _.n_E,this.dir="ltr",this.destroy$=new Q.x,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=W.w0.EMPTY,this.tabsSubscription=W.w0.EMPTY,this.canDeactivateSubscription=W.w0.EMPTY,this.tabSetId=D1++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,$.R)(this.destroy$)).subscribe(Ze=>{this.dir=Ze,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const yt=this.tabs.toArray();for(let Lt=0;Lt<yt.length;Lt++)if(yt[Lt].isActive){this.indexToSelect=this.selectedIndex=Lt;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const Ze=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==Ze){const yt=null==this.selectedIndex;yt||this.nzSelectChange.emit(this.createChangeEvent(Ze)),Promise.resolve().then(()=>{this.tabs.forEach((Lt,En)=>Lt.isActive=En===Ze),yt||this.nzSelectedIndexChange.emit(Ze)})}this.tabs.forEach((yt,Lt)=>{yt.position=Lt-Ze,null!=this.selectedIndex&&0===yt.position&&!yt.origin&&(yt.origin=Ze-this.selectedIndex)}),this.selectedIndex!==Ze&&(this.selectedIndex=Ze,this.cdr.markForCheck())}onClose(Ze,yt){yt.preventDefault(),yt.stopPropagation(),this.nzClose.emit({index:Ze})}onAdd(){this.nzAdd.emit()}clampTabIndex(Ze){return Math.min(this.tabs.length-1,Math.max(Ze||0,0))}createChangeEvent(Ze){const yt=new t1;return yt.index=Ze,this.tabs&&this.tabs.length&&(yt.tab=this.tabs.toArray()[Ze],this.tabs.forEach((Lt,En)=>{En!==Ze&&Lt.nzDeselect.emit()}),yt.tab.nzSelect.emit()),yt}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,Br.T)(...this.tabs.map(Ze=>Ze.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,Hi.O)(this.allTabs)).subscribe(Ze=>{this.tabs.reset(Ze.filter(yt=>yt.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(Ze,yt){return"function"==typeof this.nzCanDeactivate?(0,yn.lN)(this.nzCanDeactivate(Ze,yt)).pipe((0,$i.P)(),(0,$.R)(this.destroy$)):(0,te.of)(!0)}clickNavItem(Ze,yt,Lt){Ze.nzDisabled||(Ze.nzClick.emit(),this.isRouterLinkClickEvent(yt,Lt)||this.setSelectedIndex(yt))}isRouterLinkClickEvent(Ze,yt){const Lt=yt.target;return!!this.nzLinkRouter&&!!this.tabs.toArray()[Ze]?.linkDirective?.elementRef.nativeElement.contains(Lt)}contextmenuNavItem(Ze,yt){Ze.nzDisabled||Ze.nzContextmenu.emit(yt)}setSelectedIndex(Ze){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,Ze).subscribe(yt=>{yt&&(this.nzSelectedIndex=Ze,this.tabNavBarRef.focusIndex=Ze,this.cdr.markForCheck())})}getTabIndex(Ze,yt){return Ze.nzDisabled?null:this.selectedIndex===yt?0:-1}getTabContentId(Ze){return`nz-tabs-${this.tabSetId}-tab-${Ze}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${Bn.Bq} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,$.R)(this.destroy$),(0,se.h)(Ze=>Ze instanceof mr.m2),(0,Hi.O)(!0),function Nr(Ut,dn=Pa.z){const Ze=(0,Qr.H)(Ut,dn);return br(()=>Ze)}(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const Ze=this.findShouldActiveTabIndex();Ze!==this.selectedIndex&&this.setSelectedIndex(Ze),this.nzHideAll=-1===Ze}}findShouldActiveTabIndex(){const Ze=this.tabs.toArray(),yt=this.isLinkActive(this.router);return Ze.findIndex(Lt=>{const En=Lt.linkDirective;return!!En&&yt(En.routerLink)})}isLinkActive(Ze){return yt=>!!yt&&Ze.isActive(yt.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?`${this.getTabContentMarginValue()}%`:""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?`${this.getTabContentMarginValue()}%`:""}static#e=this.\u0275fac=function(yt){return new(yt||Ut)(_.Y36(li.jY),_.Y36(_.R0b),_.Y36(_.sBO),_.Y36(xn.Is,8),_.Y36(mr.F0,8))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["nz-tabset"]],contentQueries:function(yt,Lt,En){if(1&yt&&_.Suo(En,Ni,5),2&yt){let Ir;_.iGM(Ir=_.CRH())&&(Lt.allTabs=Ir)}},viewQuery:function(yt,Lt){if(1&yt&&_.Gf(js,5),2&yt){let En;_.iGM(En=_.CRH())&&(Lt.tabNavBarRef=En.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(yt,Lt){2&yt&&_.ekj("ant-tabs-card","card"===Lt.nzType||"editable-card"===Lt.nzType)("ant-tabs-editable","editable-card"===Lt.nzType)("ant-tabs-editable-card","editable-card"===Lt.nzType)("ant-tabs-centered",Lt.nzCentered)("ant-tabs-rtl","rtl"===Lt.dir)("ant-tabs-top","top"===Lt.nzTabPosition)("ant-tabs-bottom","bottom"===Lt.nzTabPosition)("ant-tabs-left","left"===Lt.nzTabPosition)("ant-tabs-right","right"===Lt.nzTabPosition)("ant-tabs-default","default"===Lt.nzSize)("ant-tabs-small","small"===Lt.nzSize)("ant-tabs-large","large"===Lt.nzSize)},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[_._Bn([{provide:ga,useExisting:Ut}])],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["nz-tab-close-button","",3,"closeIcon","click"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated"]],template:function(yt,Lt){1&yt&&(_.YNc(0,ps,2,9,"nz-tabs-nav",0),_.TgZ(1,"div",1)(2,"div",2),_.YNc(3,Ls,1,4,"div",3),_.qZA()()),2&yt&&(_.Q6J("ngIf",Lt.tabs.length||Lt.addable),_.xp6(2),_.Udp("margin-left",Lt.getTabContentMarginLeft())("margin-right",Lt.getTabContentMarginRight()),_.ekj("ant-tabs-content-top","top"===Lt.nzTabPosition)("ant-tabs-content-bottom","bottom"===Lt.nzTabPosition)("ant-tabs-content-left","left"===Lt.nzTabPosition)("ant-tabs-content-right","right"===Lt.nzTabPosition)("ant-tabs-content-animated",Lt.tabPaneAnimated),_.xp6(1),_.Q6J("ngForOf",Lt.tabs))},dependencies:[G.sg,G.O5,G.PC,Y.f,ar,js,Gs,Ia,ms],encapsulation:2})}return(0,Pn.gn)([(0,li.oS)()],Ut.prototype,"nzType",void 0),(0,Pn.gn)([(0,li.oS)()],Ut.prototype,"nzSize",void 0),(0,Pn.gn)([(0,li.oS)()],Ut.prototype,"nzAnimated",void 0),(0,Pn.gn)([(0,li.oS)()],Ut.prototype,"nzTabBarGutter",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzHideAdd",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzCentered",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzHideAll",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzLinkRouter",void 0),(0,Pn.gn)([(0,yn.yF)()],Ut.prototype,"nzLinkExact",void 0),Ut})(),ul=(()=>{class Ut{static#e=this.\u0275fac=function(yt){return new(yt||Ut)};static#t=this.\u0275mod=_.oAB({type:Ut});static#n=this.\u0275inj=_.cJS({imports:[xn.vT,G.ez,E,T.PV,Y.T,Z.ud,Ht,st.ZD,rn.b1]})}return Ut})()},5947:($t,We,C)=>{"use strict";C.d(We,{Ay:()=>Mt,lF:()=>Br,JP:()=>$i});var _=C(9212),T=C(8645),Y=C(3019),ie=C(2096),pe=C(4825),me=C(4664),Me=C(975),de=C(3997),G=C(7328),Z=C(3020),W=C(7921),re=C(7398),te=C(9773),oe=(C(1374),C(6814));let se={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const K=/[&<>"']/,ve=new RegExp(K.source,"g"),$=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,X=new RegExp($.source,"g"),ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},U=On=>ce[On];function L(On,xt){if(xt){if(K.test(On))return On.replace(ve,U)}else if($.test(On))return On.replace(X,U);return On}const E=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function B(On){return On.replace(E,(xt,qe)=>"colon"===(qe=qe.toLowerCase())?":":"#"===qe.charAt(0)?"x"===qe.charAt(1)?String.fromCharCode(parseInt(qe.substring(2),16)):String.fromCharCode(+qe.substring(1)):"")}const H=/(^|[^\[])\^/g;function A(On,xt){On="string"==typeof On?On:On.source,xt=xt||"";const qe={replace:(it,pt)=>(pt=(pt=pt.source||pt).replace(H,"$1"),On=On.replace(it,pt),qe),getRegex:()=>new RegExp(On,xt)};return qe}const O=/[^\w:]/g,I=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function N(On,xt,qe){if(On){let it;try{it=decodeURIComponent(B(qe)).replace(O,"").toLowerCase()}catch{return null}if(0===it.indexOf("javascript:")||0===it.indexOf("vbscript:")||0===it.indexOf("data:"))return null}xt&&!I.test(qe)&&(qe=function he(On,xt){ee[" "+On]||(ee[" "+On]=j.test(On)?On+"/":ye(On,"/",!0));const qe=-1===(On=ee[" "+On]).indexOf(":");return"//"===xt.substring(0,2)?qe?xt:On.replace(ae,"$1")+xt:"/"===xt.charAt(0)?qe?xt:On.replace(fe,"$1")+xt:On+xt}(xt,qe));try{qe=encodeURI(qe).replace(/%25/g,"%")}catch{return null}return qe}const ee={},j=/^[^:]+:\/*[^/]*$/,ae=/^([^:]+:)[\s\S]*$/,fe=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ce={exec:function(){}};function Se(On,xt){const it=On.replace(/\|/g,(jt,Nn,jn)=>{let br=!1,Qr=Nn;for(;--Qr>=0&&"\\"===jn[Qr];)br=!br;return br?"|":" |"}).split(/ \|/);let pt=0;if(it[0].trim()||it.shift(),it.length>0&&!it[it.length-1].trim()&&it.pop(),it.length>xt)it.splice(xt);else for(;it.length<xt;)it.push("");for(;pt<it.length;pt++)it[pt]=it[pt].trim().replace(/\\\|/g,"|");return it}function ye(On,xt,qe){const it=On.length;if(0===it)return"";let pt=0;for(;pt<it;){const jt=On.charAt(it-pt-1);if(jt!==xt||qe){if(jt===xt||!qe)break;pt++}else pt++}return On.slice(0,it-pt)}function Ne(On,xt){if(xt<1)return"";let qe="";for(;xt>1;)1&xt&&(qe+=On),xt>>=1,On+=On;return qe+On}function Le(On,xt,qe,it){const pt=xt.href,jt=xt.title?L(xt.title):null,Nn=On[1].replace(/\\([\[\]])/g,"$1");if("!"!==On[0].charAt(0)){it.state.inLink=!0;const jn={type:"link",raw:qe,href:pt,title:jt,text:Nn,tokens:it.inlineTokens(Nn)};return it.state.inLink=!1,jn}return{type:"image",raw:qe,href:pt,title:jt,text:L(Nn)}}class at{constructor(xt){this.options=xt||se}space(xt){const qe=this.rules.block.newline.exec(xt);if(qe&&qe[0].length>0)return{type:"space",raw:qe[0]}}code(xt){const qe=this.rules.block.code.exec(xt);if(qe){const it=qe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:qe[0],codeBlockStyle:"indented",text:this.options.pedantic?it:ye(it,"\n")}}}fences(xt){const qe=this.rules.block.fences.exec(xt);if(qe){const it=qe[0],pt=function Je(On,xt){const qe=On.match(/^(\s+)(?:```)/);if(null===qe)return xt;const it=qe[1];return xt.split("\n").map(pt=>{const jt=pt.match(/^\s+/);if(null===jt)return pt;const[Nn]=jt;return Nn.length>=it.length?pt.slice(it.length):pt}).join("\n")}(it,qe[3]||"");return{type:"code",raw:it,lang:qe[2]?qe[2].trim().replace(this.rules.inline._escapes,"$1"):qe[2],text:pt}}}heading(xt){const qe=this.rules.block.heading.exec(xt);if(qe){let it=qe[2].trim();if(/#$/.test(it)){const pt=ye(it,"#");(this.options.pedantic||!pt||/ $/.test(pt))&&(it=pt.trim())}return{type:"heading",raw:qe[0],depth:qe[1].length,text:it,tokens:this.lexer.inline(it)}}}hr(xt){const qe=this.rules.block.hr.exec(xt);if(qe)return{type:"hr",raw:qe[0]}}blockquote(xt){const qe=this.rules.block.blockquote.exec(xt);if(qe){const it=qe[0].replace(/^ *>[ \t]?/gm,""),pt=this.lexer.state.top;this.lexer.state.top=!0;const jt=this.lexer.blockTokens(it);return this.lexer.state.top=pt,{type:"blockquote",raw:qe[0],tokens:jt,text:it}}}list(xt){let qe=this.rules.block.list.exec(xt);if(qe){let it,pt,jt,Nn,jn,br,Qr,Nr,ei,rn,st,Qt,xn=qe[1].trim();const Pn=xn.length>1,yn={type:"list",raw:"",ordered:Pn,start:Pn?+xn.slice(0,-1):"",loose:!1,items:[]};xn=Pn?`\\d{1,9}\\${xn.slice(-1)}`:`\\${xn}`,this.options.pedantic&&(xn=Pn?xn:"[*+-]");const mr=new RegExp(`^( {0,3}${xn})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;xt&&(Qt=!1,(qe=mr.exec(xt))&&!this.rules.block.hr.test(xt));){if(it=qe[0],xt=xt.substring(it.length),Nr=qe[2].split("\n",1)[0].replace(/^\t+/,Bn=>" ".repeat(3*Bn.length)),ei=xt.split("\n",1)[0],this.options.pedantic?(Nn=2,st=Nr.trimLeft()):(Nn=qe[2].search(/[^ ]/),Nn=Nn>4?1:Nn,st=Nr.slice(Nn),Nn+=qe[1].length),br=!1,!Nr&&/^ *$/.test(ei)&&(it+=ei+"\n",xt=xt.substring(ei.length+1),Qt=!0),!Qt){const Bn=new RegExp(`^ {0,${Math.min(3,Nn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),dr=new RegExp(`^ {0,${Math.min(3,Nn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Qn=new RegExp(`^ {0,${Math.min(3,Nn-1)}}(?:\`\`\`|~~~)`),er=new RegExp(`^ {0,${Math.min(3,Nn-1)}}#`);for(;xt&&(rn=xt.split("\n",1)[0],ei=rn,this.options.pedantic&&(ei=ei.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Qn.test(ei)||er.test(ei)||Bn.test(ei)||dr.test(xt)));){if(ei.search(/[^ ]/)>=Nn||!ei.trim())st+="\n"+ei.slice(Nn);else{if(br||Nr.search(/[^ ]/)>=4||Qn.test(Nr)||er.test(Nr)||dr.test(Nr))break;st+="\n"+ei}!br&&!ei.trim()&&(br=!0),it+=rn+"\n",xt=xt.substring(rn.length+1),Nr=ei.slice(Nn)}}yn.loose||(Qr?yn.loose=!0:/\n *\n *$/.test(it)&&(Qr=!0)),this.options.gfm&&(pt=/^\[[ xX]\] /.exec(st),pt&&(jt="[ ] "!==pt[0],st=st.replace(/^\[[ xX]\] +/,""))),yn.items.push({type:"list_item",raw:it,task:!!pt,checked:jt,loose:!1,text:st}),yn.raw+=it}yn.items[yn.items.length-1].raw=it.trimRight(),yn.items[yn.items.length-1].text=st.trimRight(),yn.raw=yn.raw.trimRight();const li=yn.items.length;for(jn=0;jn<li;jn++)if(this.lexer.state.top=!1,yn.items[jn].tokens=this.lexer.blockTokens(yn.items[jn].text,[]),!yn.loose){const Bn=yn.items[jn].tokens.filter(Qn=>"space"===Qn.type),dr=Bn.length>0&&Bn.some(Qn=>/\n.*\n/.test(Qn.raw));yn.loose=dr}if(yn.loose)for(jn=0;jn<li;jn++)yn.items[jn].loose=!0;return yn}}html(xt){const qe=this.rules.block.html.exec(xt);if(qe){const it={type:"html",raw:qe[0],pre:!this.options.sanitizer&&("pre"===qe[1]||"script"===qe[1]||"style"===qe[1]),text:qe[0]};if(this.options.sanitize){const pt=this.options.sanitizer?this.options.sanitizer(qe[0]):L(qe[0]);it.type="paragraph",it.text=pt,it.tokens=this.lexer.inline(pt)}return it}}def(xt){const qe=this.rules.block.def.exec(xt);if(qe){const it=qe[1].toLowerCase().replace(/\s+/g," "),pt=qe[2]?qe[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",jt=qe[3]?qe[3].substring(1,qe[3].length-1).replace(this.rules.inline._escapes,"$1"):qe[3];return{type:"def",tag:it,raw:qe[0],href:pt,title:jt}}}table(xt){const qe=this.rules.block.table.exec(xt);if(qe){const it={type:"table",header:Se(qe[1]).map(pt=>({text:pt})),align:qe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:qe[3]&&qe[3].trim()?qe[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(it.header.length===it.align.length){it.raw=qe[0];let jt,Nn,jn,br,pt=it.align.length;for(jt=0;jt<pt;jt++)it.align[jt]=/^ *-+: *$/.test(it.align[jt])?"right":/^ *:-+: *$/.test(it.align[jt])?"center":/^ *:-+ *$/.test(it.align[jt])?"left":null;for(pt=it.rows.length,jt=0;jt<pt;jt++)it.rows[jt]=Se(it.rows[jt],it.header.length).map(Qr=>({text:Qr}));for(pt=it.header.length,Nn=0;Nn<pt;Nn++)it.header[Nn].tokens=this.lexer.inline(it.header[Nn].text);for(pt=it.rows.length,Nn=0;Nn<pt;Nn++)for(br=it.rows[Nn],jn=0;jn<br.length;jn++)br[jn].tokens=this.lexer.inline(br[jn].text);return it}}}lheading(xt){const qe=this.rules.block.lheading.exec(xt);if(qe)return{type:"heading",raw:qe[0],depth:"="===qe[2].charAt(0)?1:2,text:qe[1],tokens:this.lexer.inline(qe[1])}}paragraph(xt){const qe=this.rules.block.paragraph.exec(xt);if(qe){const it="\n"===qe[1].charAt(qe[1].length-1)?qe[1].slice(0,-1):qe[1];return{type:"paragraph",raw:qe[0],text:it,tokens:this.lexer.inline(it)}}}text(xt){const qe=this.rules.block.text.exec(xt);if(qe)return{type:"text",raw:qe[0],text:qe[0],tokens:this.lexer.inline(qe[0])}}escape(xt){const qe=this.rules.inline.escape.exec(xt);if(qe)return{type:"escape",raw:qe[0],text:L(qe[1])}}tag(xt){const qe=this.rules.inline.tag.exec(xt);if(qe)return!this.lexer.state.inLink&&/^<a /i.test(qe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(qe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(qe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(qe[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:qe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(qe[0]):L(qe[0]):qe[0]}}link(xt){const qe=this.rules.inline.link.exec(xt);if(qe){const it=qe[2].trim();if(!this.options.pedantic&&/^</.test(it)){if(!/>$/.test(it))return;const Nn=ye(it.slice(0,-1),"\\");if((it.length-Nn.length)%2==0)return}else{const Nn=function we(On,xt){if(-1===On.indexOf(xt[1]))return-1;const qe=On.length;let it=0,pt=0;for(;pt<qe;pt++)if("\\"===On[pt])pt++;else if(On[pt]===xt[0])it++;else if(On[pt]===xt[1]&&(it--,it<0))return pt;return-1}(qe[2],"()");if(Nn>-1){const br=(0===qe[0].indexOf("!")?5:4)+qe[1].length+Nn;qe[2]=qe[2].substring(0,Nn),qe[0]=qe[0].substring(0,br).trim(),qe[3]=""}}let pt=qe[2],jt="";if(this.options.pedantic){const Nn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(pt);Nn&&(pt=Nn[1],jt=Nn[3])}else jt=qe[3]?qe[3].slice(1,-1):"";return pt=pt.trim(),/^</.test(pt)&&(pt=this.options.pedantic&&!/>$/.test(it)?pt.slice(1):pt.slice(1,-1)),Le(qe,{href:pt&&pt.replace(this.rules.inline._escapes,"$1"),title:jt&&jt.replace(this.rules.inline._escapes,"$1")},qe[0],this.lexer)}}reflink(xt,qe){let it;if((it=this.rules.inline.reflink.exec(xt))||(it=this.rules.inline.nolink.exec(xt))){let pt=(it[2]||it[1]).replace(/\s+/g," ");if(pt=qe[pt.toLowerCase()],!pt){const jt=it[0].charAt(0);return{type:"text",raw:jt,text:jt}}return Le(it,pt,it[0],this.lexer)}}emStrong(xt,qe,it=""){let pt=this.rules.inline.emStrong.lDelim.exec(xt);if(!pt||pt[3]&&it.match(/[\p{L}\p{N}]/u))return;const jt=pt[1]||pt[2]||"";if(!jt||jt&&(""===it||this.rules.inline.punctuation.exec(it))){const Nn=pt[0].length-1;let jn,br,Qr=Nn,Nr=0;const ei="*"===pt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ei.lastIndex=0,qe=qe.slice(-1*xt.length+Nn);null!=(pt=ei.exec(qe));){if(jn=pt[1]||pt[2]||pt[3]||pt[4]||pt[5]||pt[6],!jn)continue;if(br=jn.length,pt[3]||pt[4]){Qr+=br;continue}if((pt[5]||pt[6])&&Nn%3&&!((Nn+br)%3)){Nr+=br;continue}if(Qr-=br,Qr>0)continue;br=Math.min(br,br+Qr+Nr);const rn=xt.slice(0,Nn+pt.index+(pt[0].length-jn.length)+br);if(Math.min(Nn,br)%2){const Qt=rn.slice(1,-1);return{type:"em",raw:rn,text:Qt,tokens:this.lexer.inlineTokens(Qt)}}const st=rn.slice(2,-2);return{type:"strong",raw:rn,text:st,tokens:this.lexer.inlineTokens(st)}}}}codespan(xt){const qe=this.rules.inline.code.exec(xt);if(qe){let it=qe[2].replace(/\n/g," ");const pt=/[^ ]/.test(it),jt=/^ /.test(it)&&/ $/.test(it);return pt&&jt&&(it=it.substring(1,it.length-1)),it=L(it,!0),{type:"codespan",raw:qe[0],text:it}}}br(xt){const qe=this.rules.inline.br.exec(xt);if(qe)return{type:"br",raw:qe[0]}}del(xt){const qe=this.rules.inline.del.exec(xt);if(qe)return{type:"del",raw:qe[0],text:qe[2],tokens:this.lexer.inlineTokens(qe[2])}}autolink(xt,qe){const it=this.rules.inline.autolink.exec(xt);if(it){let pt,jt;return"@"===it[2]?(pt=L(this.options.mangle?qe(it[1]):it[1]),jt="mailto:"+pt):(pt=L(it[1]),jt=pt),{type:"link",raw:it[0],text:pt,href:jt,tokens:[{type:"text",raw:pt,text:pt}]}}}url(xt,qe){let it;if(it=this.rules.inline.url.exec(xt)){let pt,jt;if("@"===it[2])pt=L(this.options.mangle?qe(it[0]):it[0]),jt="mailto:"+pt;else{let Nn;do{Nn=it[0],it[0]=this.rules.inline._backpedal.exec(it[0])[0]}while(Nn!==it[0]);pt=L(it[0]),jt="www."===it[1]?"http://"+it[0]:it[0]}return{type:"link",raw:it[0],text:pt,href:jt,tokens:[{type:"text",raw:pt,text:pt}]}}}inlineText(xt,qe){const it=this.rules.inline.text.exec(xt);if(it){let pt;return pt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(it[0]):L(it[0]):it[0]:L(this.options.smartypants?qe(it[0]):it[0]),{type:"text",raw:it[0],text:pt}}}}const nt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ce,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};nt.def=A(nt.def).replace("label",nt._label).replace("title",nt._title).getRegex(),nt.bullet=/(?:[*+-]|\d{1,9}[.)])/,nt.listItemStart=A(/^( *)(bull) */).replace("bull",nt.bullet).getRegex(),nt.list=A(nt.list).replace(/bull/g,nt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+nt.def.source+")").getRegex(),nt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",nt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,nt.html=A(nt.html,"i").replace("comment",nt._comment).replace("tag",nt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nt.paragraph=A(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex(),nt.blockquote=A(nt.blockquote).replace("paragraph",nt.paragraph).getRegex(),nt.normal={...nt},nt.gfm={...nt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},nt.gfm.table=A(nt.gfm.table).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex(),nt.gfm.paragraph=A(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",nt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex(),nt.pedantic={...nt.normal,html:A("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",nt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ce,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(nt.normal._paragraph).replace("hr",nt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",nt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const dt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ce,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ce,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function It(On){return On.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function an(On){let qe,it,xt="";const pt=On.length;for(qe=0;qe<pt;qe++)it=On.charCodeAt(qe),Math.random()>.5&&(it="x"+it.toString(16)),xt+="&#"+it+";";return xt}dt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",dt.punctuation=A(dt.punctuation).replace(/punctuation/g,dt._punctuation).getRegex(),dt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,dt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,dt._comment=A(nt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),dt.emStrong.lDelim=A(dt.emStrong.lDelim).replace(/punct/g,dt._punctuation).getRegex(),dt.emStrong.rDelimAst=A(dt.emStrong.rDelimAst,"g").replace(/punct/g,dt._punctuation).getRegex(),dt.emStrong.rDelimUnd=A(dt.emStrong.rDelimUnd,"g").replace(/punct/g,dt._punctuation).getRegex(),dt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,dt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,dt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,dt.autolink=A(dt.autolink).replace("scheme",dt._scheme).replace("email",dt._email).getRegex(),dt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,dt.tag=A(dt.tag).replace("comment",dt._comment).replace("attribute",dt._attribute).getRegex(),dt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,dt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,dt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,dt.link=A(dt.link).replace("label",dt._label).replace("href",dt._href).replace("title",dt._title).getRegex(),dt.reflink=A(dt.reflink).replace("label",dt._label).replace("ref",nt._label).getRegex(),dt.nolink=A(dt.nolink).replace("ref",nt._label).getRegex(),dt.reflinkSearch=A(dt.reflinkSearch,"g").replace("reflink",dt.reflink).replace("nolink",dt.nolink).getRegex(),dt.normal={...dt},dt.pedantic={...dt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",dt._label).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dt._label).getRegex()},dt.gfm={...dt.normal,escape:A(dt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},dt.gfm.url=A(dt.gfm.url,"i").replace("email",dt.gfm._extended_email).getRegex(),dt.breaks={...dt.gfm,br:A(dt.br).replace("{2,}","*").getRegex(),text:A(dt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Yt{constructor(xt){this.tokens=[],this.tokens.links=Object.create(null),this.options=xt||se,this.options.tokenizer=this.options.tokenizer||new at,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const qe={block:nt.normal,inline:dt.normal};this.options.pedantic?(qe.block=nt.pedantic,qe.inline=dt.pedantic):this.options.gfm&&(qe.block=nt.gfm,qe.inline=this.options.breaks?dt.breaks:dt.gfm),this.tokenizer.rules=qe}static get rules(){return{block:nt,inline:dt}}static lex(xt,qe){return new Yt(qe).lex(xt)}static lexInline(xt,qe){return new Yt(qe).inlineTokens(xt)}lex(xt){let qe;for(xt=xt.replace(/\r\n|\r/g,"\n"),this.blockTokens(xt,this.tokens);qe=this.inlineQueue.shift();)this.inlineTokens(qe.src,qe.tokens);return this.tokens}blockTokens(xt,qe=[]){let it,pt,jt,Nn;for(xt=this.options.pedantic?xt.replace(/\t/g,"    ").replace(/^ +$/gm,""):xt.replace(/^( *)(\t+)/gm,(jn,br,Qr)=>br+"    ".repeat(Qr.length));xt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(jn=>!!(it=jn.call({lexer:this},xt,qe))&&(xt=xt.substring(it.raw.length),qe.push(it),!0)))){if(it=this.tokenizer.space(xt)){xt=xt.substring(it.raw.length),1===it.raw.length&&qe.length>0?qe[qe.length-1].raw+="\n":qe.push(it);continue}if(it=this.tokenizer.code(xt)){xt=xt.substring(it.raw.length),pt=qe[qe.length-1],!pt||"paragraph"!==pt.type&&"text"!==pt.type?qe.push(it):(pt.raw+="\n"+it.raw,pt.text+="\n"+it.text,this.inlineQueue[this.inlineQueue.length-1].src=pt.text);continue}if(it=this.tokenizer.fences(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.heading(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.hr(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.blockquote(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.list(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.html(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.def(xt)){xt=xt.substring(it.raw.length),pt=qe[qe.length-1],!pt||"paragraph"!==pt.type&&"text"!==pt.type?this.tokens.links[it.tag]||(this.tokens.links[it.tag]={href:it.href,title:it.title}):(pt.raw+="\n"+it.raw,pt.text+="\n"+it.raw,this.inlineQueue[this.inlineQueue.length-1].src=pt.text);continue}if(it=this.tokenizer.table(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.lheading(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(jt=xt,this.options.extensions&&this.options.extensions.startBlock){let jn=1/0;const br=xt.slice(1);let Qr;this.options.extensions.startBlock.forEach(function(Nr){Qr=Nr.call({lexer:this},br),"number"==typeof Qr&&Qr>=0&&(jn=Math.min(jn,Qr))}),jn<1/0&&jn>=0&&(jt=xt.substring(0,jn+1))}if(this.state.top&&(it=this.tokenizer.paragraph(jt))){pt=qe[qe.length-1],Nn&&"paragraph"===pt.type?(pt.raw+="\n"+it.raw,pt.text+="\n"+it.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=pt.text):qe.push(it),Nn=jt.length!==xt.length,xt=xt.substring(it.raw.length);continue}if(it=this.tokenizer.text(xt)){xt=xt.substring(it.raw.length),pt=qe[qe.length-1],pt&&"text"===pt.type?(pt.raw+="\n"+it.raw,pt.text+="\n"+it.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=pt.text):qe.push(it);continue}if(xt){const jn="Infinite loop on byte: "+xt.charCodeAt(0);if(this.options.silent){console.error(jn);break}throw new Error(jn)}}return this.state.top=!0,qe}inline(xt,qe=[]){return this.inlineQueue.push({src:xt,tokens:qe}),qe}inlineTokens(xt,qe=[]){let it,pt,jt,jn,br,Qr,Nn=xt;if(this.tokens.links){const Nr=Object.keys(this.tokens.links);if(Nr.length>0)for(;null!=(jn=this.tokenizer.rules.inline.reflinkSearch.exec(Nn));)Nr.includes(jn[0].slice(jn[0].lastIndexOf("[")+1,-1))&&(Nn=Nn.slice(0,jn.index)+"["+Ne("a",jn[0].length-2)+"]"+Nn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(jn=this.tokenizer.rules.inline.blockSkip.exec(Nn));)Nn=Nn.slice(0,jn.index)+"["+Ne("a",jn[0].length-2)+"]"+Nn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(jn=this.tokenizer.rules.inline.escapedEmSt.exec(Nn));)Nn=Nn.slice(0,jn.index+jn[0].length-2)+"++"+Nn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;xt;)if(br||(Qr=""),br=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Nr=>!!(it=Nr.call({lexer:this},xt,qe))&&(xt=xt.substring(it.raw.length),qe.push(it),!0)))){if(it=this.tokenizer.escape(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.tag(xt)){xt=xt.substring(it.raw.length),pt=qe[qe.length-1],pt&&"text"===it.type&&"text"===pt.type?(pt.raw+=it.raw,pt.text+=it.text):qe.push(it);continue}if(it=this.tokenizer.link(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.reflink(xt,this.tokens.links)){xt=xt.substring(it.raw.length),pt=qe[qe.length-1],pt&&"text"===it.type&&"text"===pt.type?(pt.raw+=it.raw,pt.text+=it.text):qe.push(it);continue}if(it=this.tokenizer.emStrong(xt,Nn,Qr)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.codespan(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.br(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.del(xt)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(it=this.tokenizer.autolink(xt,an)){xt=xt.substring(it.raw.length),qe.push(it);continue}if(!this.state.inLink&&(it=this.tokenizer.url(xt,an))){xt=xt.substring(it.raw.length),qe.push(it);continue}if(jt=xt,this.options.extensions&&this.options.extensions.startInline){let Nr=1/0;const ei=xt.slice(1);let rn;this.options.extensions.startInline.forEach(function(st){rn=st.call({lexer:this},ei),"number"==typeof rn&&rn>=0&&(Nr=Math.min(Nr,rn))}),Nr<1/0&&Nr>=0&&(jt=xt.substring(0,Nr+1))}if(it=this.tokenizer.inlineText(jt,It)){xt=xt.substring(it.raw.length),"_"!==it.raw.slice(-1)&&(Qr=it.raw.slice(-1)),br=!0,pt=qe[qe.length-1],pt&&"text"===pt.type?(pt.raw+=it.raw,pt.text+=it.text):qe.push(it);continue}if(xt){const Nr="Infinite loop on byte: "+xt.charCodeAt(0);if(this.options.silent){console.error(Nr);break}throw new Error(Nr)}}return qe}}class mn{constructor(xt){this.options=xt||se}code(xt,qe,it){const pt=(qe||"").match(/\S*/)[0];if(this.options.highlight){const jt=this.options.highlight(xt,pt);null!=jt&&jt!==xt&&(it=!0,xt=jt)}return xt=xt.replace(/\n$/,"")+"\n",pt?'<pre><code class="'+this.options.langPrefix+L(pt)+'">'+(it?xt:L(xt,!0))+"</code></pre>\n":"<pre><code>"+(it?xt:L(xt,!0))+"</code></pre>\n"}blockquote(xt){return`<blockquote>\n${xt}</blockquote>\n`}html(xt){return xt}heading(xt,qe,it,pt){return this.options.headerIds?`<h${qe} id="${this.options.headerPrefix+pt.slug(it)}">${xt}</h${qe}>\n`:`<h${qe}>${xt}</h${qe}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(xt,qe,it){const pt=qe?"ol":"ul";return"<"+pt+(qe&&1!==it?' start="'+it+'"':"")+">\n"+xt+"</"+pt+">\n"}listitem(xt){return`<li>${xt}</li>\n`}checkbox(xt){return"<input "+(xt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(xt){return`<p>${xt}</p>\n`}table(xt,qe){return qe&&(qe=`<tbody>${qe}</tbody>`),"<table>\n<thead>\n"+xt+"</thead>\n"+qe+"</table>\n"}tablerow(xt){return`<tr>\n${xt}</tr>\n`}tablecell(xt,qe){const it=qe.header?"th":"td";return(qe.align?`<${it} align="${qe.align}">`:`<${it}>`)+xt+`</${it}>\n`}strong(xt){return`<strong>${xt}</strong>`}em(xt){return`<em>${xt}</em>`}codespan(xt){return`<code>${xt}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(xt){return`<del>${xt}</del>`}link(xt,qe,it){if(null===(xt=N(this.options.sanitize,this.options.baseUrl,xt)))return it;let pt='<a href="'+xt+'"';return qe&&(pt+=' title="'+qe+'"'),pt+=">"+it+"</a>",pt}image(xt,qe,it){if(null===(xt=N(this.options.sanitize,this.options.baseUrl,xt)))return it;let pt=`<img src="${xt}" alt="${it}"`;return qe&&(pt+=` title="${qe}"`),pt+=this.options.xhtml?"/>":">",pt}text(xt){return xt}}class Cn{strong(xt){return xt}em(xt){return xt}codespan(xt){return xt}del(xt){return xt}html(xt){return xt}text(xt){return xt}link(xt,qe,it){return""+it}image(xt,qe,it){return""+it}br(){return""}}class Gn{constructor(){this.seen={}}serialize(xt){return xt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(xt,qe){let it=xt,pt=0;if(this.seen.hasOwnProperty(it)){pt=this.seen[xt];do{pt++,it=xt+"-"+pt}while(this.seen.hasOwnProperty(it))}return qe||(this.seen[xt]=pt,this.seen[it]=0),it}slug(xt,qe={}){const it=this.serialize(xt);return this.getNextSafeSlug(it,qe.dryrun)}}class Wn{constructor(xt){this.options=xt||se,this.options.renderer=this.options.renderer||new mn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Cn,this.slugger=new Gn}static parse(xt,qe){return new Wn(qe).parse(xt)}static parseInline(xt,qe){return new Wn(qe).parseInline(xt)}parse(xt,qe=!0){let pt,jt,Nn,jn,br,Qr,Nr,ei,rn,st,Qt,xn,Pn,yn,mr,li,Bn,dr,Qn,it="";const er=xt.length;for(pt=0;pt<er;pt++)if(st=xt[pt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[st.type]&&(Qn=this.options.extensions.renderers[st.type].call({parser:this},st),!1!==Qn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(st.type)))it+=Qn||"";else switch(st.type){case"space":continue;case"hr":it+=this.renderer.hr();continue;case"heading":it+=this.renderer.heading(this.parseInline(st.tokens),st.depth,B(this.parseInline(st.tokens,this.textRenderer)),this.slugger);continue;case"code":it+=this.renderer.code(st.text,st.lang,st.escaped);continue;case"table":for(ei="",Nr="",jn=st.header.length,jt=0;jt<jn;jt++)Nr+=this.renderer.tablecell(this.parseInline(st.header[jt].tokens),{header:!0,align:st.align[jt]});for(ei+=this.renderer.tablerow(Nr),rn="",jn=st.rows.length,jt=0;jt<jn;jt++){for(Qr=st.rows[jt],Nr="",br=Qr.length,Nn=0;Nn<br;Nn++)Nr+=this.renderer.tablecell(this.parseInline(Qr[Nn].tokens),{header:!1,align:st.align[Nn]});rn+=this.renderer.tablerow(Nr)}it+=this.renderer.table(ei,rn);continue;case"blockquote":rn=this.parse(st.tokens),it+=this.renderer.blockquote(rn);continue;case"list":for(Qt=st.ordered,xn=st.start,Pn=st.loose,jn=st.items.length,rn="",jt=0;jt<jn;jt++)mr=st.items[jt],li=mr.checked,Bn=mr.task,yn="",mr.task&&(dr=this.renderer.checkbox(li),Pn?mr.tokens.length>0&&"paragraph"===mr.tokens[0].type?(mr.tokens[0].text=dr+" "+mr.tokens[0].text,mr.tokens[0].tokens&&mr.tokens[0].tokens.length>0&&"text"===mr.tokens[0].tokens[0].type&&(mr.tokens[0].tokens[0].text=dr+" "+mr.tokens[0].tokens[0].text)):mr.tokens.unshift({type:"text",text:dr}):yn+=dr),yn+=this.parse(mr.tokens,Pn),rn+=this.renderer.listitem(yn,Bn,li);it+=this.renderer.list(rn,Qt,xn);continue;case"html":it+=this.renderer.html(st.text);continue;case"paragraph":it+=this.renderer.paragraph(this.parseInline(st.tokens));continue;case"text":for(rn=st.tokens?this.parseInline(st.tokens):st.text;pt+1<er&&"text"===xt[pt+1].type;)st=xt[++pt],rn+="\n"+(st.tokens?this.parseInline(st.tokens):st.text);it+=qe?this.renderer.paragraph(rn):rn;continue;default:{const Di='Token with "'+st.type+'" type was not found.';if(this.options.silent)return void console.error(Di);throw new Error(Di)}}return it}parseInline(xt,qe){qe=qe||this.renderer;let pt,jt,Nn,it="";const jn=xt.length;for(pt=0;pt<jn;pt++)if(jt=xt[pt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[jt.type]&&(Nn=this.options.extensions.renderers[jt.type].call({parser:this},jt),!1!==Nn||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(jt.type)))it+=Nn||"";else switch(jt.type){case"escape":case"text":it+=qe.text(jt.text);break;case"html":it+=qe.html(jt.text);break;case"link":it+=qe.link(jt.href,jt.title,this.parseInline(jt.tokens,qe));break;case"image":it+=qe.image(jt.href,jt.title,jt.text);break;case"strong":it+=qe.strong(this.parseInline(jt.tokens,qe));break;case"em":it+=qe.em(this.parseInline(jt.tokens,qe));break;case"codespan":it+=qe.codespan(jt.text);break;case"br":it+=qe.br();break;case"del":it+=qe.del(this.parseInline(jt.tokens,qe));break;default:{const br='Token with "'+jt.type+'" type was not found.';if(this.options.silent)return void console.error(br);throw new Error(br)}}return it}}class Fn{constructor(xt){this.options=xt||se}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(xt){return xt}postprocess(xt){return xt}}function hn(On,xt){return(qe,it,pt)=>{"function"==typeof it&&(pt=it,it=null);const jt={...it},Nn=function Rr(On,xt,qe){return it=>{if(it.message+="\nPlease report this to https://github.com/markedjs/marked.",On){const pt="<p>An error occurred:</p><pre>"+L(it.message+"",!0)+"</pre>";return xt?Promise.resolve(pt):qe?void qe(null,pt):pt}if(xt)return Promise.reject(it);if(!qe)throw it;qe(it)}}((it={...ot.defaults,...jt}).silent,it.async,pt);if(typeof qe>"u"||null===qe)return Nn(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof qe)return Nn(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(qe)+", string expected"));if(function Ae(On){On&&On.sanitize&&!On.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(it),it.hooks&&(it.hooks.options=it),pt){const jn=it.highlight;let br;try{it.hooks&&(qe=it.hooks.preprocess(qe)),br=On(qe,it)}catch(ei){return Nn(ei)}const Qr=function(ei){let rn;if(!ei)try{it.walkTokens&&ot.walkTokens(br,it.walkTokens),rn=xt(br,it),it.hooks&&(rn=it.hooks.postprocess(rn))}catch(st){ei=st}return it.highlight=jn,ei?Nn(ei):pt(null,rn)};if(!jn||jn.length<3||(delete it.highlight,!br.length))return Qr();let Nr=0;return ot.walkTokens(br,function(ei){"code"===ei.type&&(Nr++,setTimeout(()=>{jn(ei.text,ei.lang,function(rn,st){if(rn)return Qr(rn);null!=st&&st!==ei.text&&(ei.text=st,ei.escaped=!0),Nr--,0===Nr&&Qr()})},0))}),void(0===Nr&&Qr())}if(it.async)return Promise.resolve(it.hooks?it.hooks.preprocess(qe):qe).then(jn=>On(jn,it)).then(jn=>it.walkTokens?Promise.all(ot.walkTokens(jn,it.walkTokens)).then(()=>jn):jn).then(jn=>xt(jn,it)).then(jn=>it.hooks?it.hooks.postprocess(jn):jn).catch(Nn);try{it.hooks&&(qe=it.hooks.preprocess(qe));const jn=On(qe,it);it.walkTokens&&ot.walkTokens(jn,it.walkTokens);let br=xt(jn,it);return it.hooks&&(br=it.hooks.postprocess(br)),br}catch(jn){return Nn(jn)}}}function ot(On,xt,qe){return hn(Yt.lex,Wn.parse)(On,xt,qe)}ot.options=ot.setOptions=function(On){return function ge(On){se=On}(ot.defaults={...ot.defaults,...On}),ot},ot.getDefaults=function M(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},ot.defaults=se,ot.use=function(...On){const xt=ot.defaults.extensions||{renderers:{},childTokens:{}};On.forEach(qe=>{const it={...qe};if(it.async=ot.defaults.async||it.async||!1,qe.extensions&&(qe.extensions.forEach(pt=>{if(!pt.name)throw new Error("extension name required");if(pt.renderer){const jt=xt.renderers[pt.name];xt.renderers[pt.name]=jt?function(...Nn){let jn=pt.renderer.apply(this,Nn);return!1===jn&&(jn=jt.apply(this,Nn)),jn}:pt.renderer}if(pt.tokenizer){if(!pt.level||"block"!==pt.level&&"inline"!==pt.level)throw new Error("extension level must be 'block' or 'inline'");xt[pt.level]?xt[pt.level].unshift(pt.tokenizer):xt[pt.level]=[pt.tokenizer],pt.start&&("block"===pt.level?xt.startBlock?xt.startBlock.push(pt.start):xt.startBlock=[pt.start]:"inline"===pt.level&&(xt.startInline?xt.startInline.push(pt.start):xt.startInline=[pt.start]))}pt.childTokens&&(xt.childTokens[pt.name]=pt.childTokens)}),it.extensions=xt),qe.renderer){const pt=ot.defaults.renderer||new mn;for(const jt in qe.renderer){const Nn=pt[jt];pt[jt]=(...jn)=>{let br=qe.renderer[jt].apply(pt,jn);return!1===br&&(br=Nn.apply(pt,jn)),br}}it.renderer=pt}if(qe.tokenizer){const pt=ot.defaults.tokenizer||new at;for(const jt in qe.tokenizer){const Nn=pt[jt];pt[jt]=(...jn)=>{let br=qe.tokenizer[jt].apply(pt,jn);return!1===br&&(br=Nn.apply(pt,jn)),br}}it.tokenizer=pt}if(qe.hooks){const pt=ot.defaults.hooks||new Fn;for(const jt in qe.hooks){const Nn=pt[jt];pt[jt]=Fn.passThroughHooks.has(jt)?jn=>{if(ot.defaults.async)return Promise.resolve(qe.hooks[jt].call(pt,jn)).then(Qr=>Nn.call(pt,Qr));const br=qe.hooks[jt].call(pt,jn);return Nn.call(pt,br)}:(...jn)=>{let br=qe.hooks[jt].apply(pt,jn);return!1===br&&(br=Nn.apply(pt,jn)),br}}it.hooks=pt}if(qe.walkTokens){const pt=ot.defaults.walkTokens;it.walkTokens=function(jt){let Nn=[];return Nn.push(qe.walkTokens.call(this,jt)),pt&&(Nn=Nn.concat(pt.call(this,jt))),Nn}}ot.setOptions(it)})},ot.walkTokens=function(On,xt){let qe=[];for(const it of On)switch(qe=qe.concat(xt.call(ot,it)),it.type){case"table":for(const pt of it.header)qe=qe.concat(ot.walkTokens(pt.tokens,xt));for(const pt of it.rows)for(const jt of pt)qe=qe.concat(ot.walkTokens(jt.tokens,xt));break;case"list":qe=qe.concat(ot.walkTokens(it.items,xt));break;default:ot.defaults.extensions&&ot.defaults.extensions.childTokens&&ot.defaults.extensions.childTokens[it.type]?ot.defaults.extensions.childTokens[it.type].forEach(function(pt){qe=qe.concat(ot.walkTokens(it[pt],xt))}):it.tokens&&(qe=qe.concat(ot.walkTokens(it.tokens,xt)))}return qe},ot.parseInline=hn(Yt.lexInline,Wn.parseInline),ot.Parser=Wn,ot.parser=Wn.parse,ot.Renderer=mn,ot.TextRenderer=Cn,ot.Lexer=Yt,ot.lexer=Yt.lex,ot.Tokenizer=at,ot.Slugger=Gn,ot.Hooks=Fn,ot.parse=ot;var ct=C(9862),Ft=C(6593);const Un=["*"];let Xe=(()=>{class On{constructor(){this._buttonClick$=new T.x,this.copied$=this._buttonClick$.pipe((0,me.w)(()=>(0,Y.T)((0,ie.of)(!0),(0,pe.H)(3e3).pipe((0,Me.h)(!1)))),(0,de.x)(),function Q(On,xt,qe){let it,pt=!1;return On&&"object"==typeof On?({bufferSize:it=1/0,windowTime:xt=1/0,refCount:pt=!1,scheduler:qe}=On):it=On??1/0,(0,Z.B)({connector:()=>new G.t(it,xt,qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:pt})}(1)),this.copiedText$=this.copied$.pipe((0,W.O)(!1),(0,re.U)(qe=>qe?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(it){return new(it||On)};static#t=this.\u0275cmp=_.Xpm({type:On,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(it,pt){1&it&&(_.TgZ(0,"button",0),_.NdJ("click",function(){return pt.onCopyToClipboardClick()}),_.ALo(1,"async"),_._uU(2),_.ALo(3,"async"),_.qZA()),2&it&&(_.ekj("copied",_.lcZ(1,3,pt.copied$)),_.xp6(2),_.Oqu(_.lcZ(3,5,pt.copiedText$)))},dependencies:[oe.Ov],encapsulation:2,changeDetection:0})}return On})();class Ye{}let Mt=(()=>{class On{transform(qe,it){return null==qe&&(qe=""),null==it&&(it=""),"string"!=typeof qe?(console.error(`LanguagePipe has been invoked with an invalid value type [${typeof qe}]`),qe):"string"!=typeof it?(console.error(`LanguagePipe has been invoked with an invalid parameter [${typeof it}]`),qe):"```"+it+"\n"+qe+"\n```"}static#e=this.\u0275fac=function(it){return new(it||On)};static#t=this.\u0275pipe=_.Yjl({name:"language",type:On,pure:!0})}return On})();var Jt=function(On){return On.CommandLine="command-line",On.LineHighlight="line-highlight",On.LineNumbers="line-numbers",On}(Jt||{});class bn{}const tn=new _.OlP("SECURITY_CONTEXT");let Lr=(()=>{class On{get options(){return this._options}set options(qe){this._options={...this.DEFAULT_MARKED_OPTIONS,...qe}}get renderer(){return this.options.renderer}set renderer(qe){this.options.renderer=qe}constructor(qe,it,pt,jt,Nn,jn){this.platform=qe,this.securityContext=it,this.http=pt,this.clipboardOptions=jt,this.sanitizer=jn,this.DEFAULT_MARKED_OPTIONS={renderer:new mn},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new T.x,this.reload$=this._reload$.asObservable(),this.options=Nn}parse(qe,it=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:pt,inline:jt,emoji:Nn,mermaid:jn,disableSanitizer:br}=it,Qr={...this.options,...it.markedOptions};jn&&(this.renderer=this.extendRenderer(Qr.renderer||new mn));const Nr=this.trimIndentation(qe),ei=pt?this.decodeHtml(Nr):Nr,rn=Nn?this.parseEmoji(ei):ei,st=this.parseMarked(rn,Qr,jt);return(br?st:this.sanitizer.sanitize(this.securityContext,st))||""}render(qe,it=this.DEFAULT_RENDER_OPTIONS,pt){const{clipboard:jt,clipboardOptions:Nn,katex:jn,katexOptions:br,mermaid:Qr,mermaidOptions:Nr}=it;jt&&this.renderClipboard(qe,pt,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...Nn}),jn&&this.renderKatex(qe,{...this.DEFAULT_KATEX_OPTIONS,...br}),Qr&&this.renderMermaid(qe,{...this.DEFAULT_MERMAID_OPTIONS,...Nr}),this.highlight(qe)}reload(){this._reload$.next()}getSource(qe){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(qe,{responseType:"text"}).pipe((0,re.U)(it=>this.handleExtension(qe,it)))}highlight(qe){if(!(0,oe.NF)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;qe||(qe=document);const it=qe.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(it,pt=>pt.classList.add("language-none")),Prism.highlightAllUnder(qe)}decodeHtml(qe){if(!(0,oe.NF)(this.platform))return qe;const it=document.createElement("textarea");return it.innerHTML=qe,it.value}extendRenderer(qe){const it=qe;if(!0===it.\u0275NgxMarkdownRendererExtended)return qe;const pt=qe.code;return qe.code=function(jt,Nn,jn){return"mermaid"===Nn?`<div class="mermaid">${jt}</div>`:pt.call(this,jt,Nn,jn)},it.\u0275NgxMarkdownRendererExtended=!0,qe}handleExtension(qe,it){const pt=qe.lastIndexOf("://"),jt=pt>-1?qe.substring(pt+4):qe,Nn=jt.lastIndexOf("/"),jn=Nn>-1?jt.substring(Nn+1).split("?")[0]:"",br=jn.lastIndexOf("."),Qr=br>-1?jn.substring(br+1):"";return Qr&&"md"!==Qr?"```"+Qr+"\n"+it+"\n```":it}parseMarked(qe,it,pt=!1){return pt?ot.parseInline(qe,it):ot.parse(qe,it)}parseEmoji(qe){if(!(0,oe.NF)(this.platform))return qe;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(qe)}renderKatex(qe,it){if((0,oe.NF)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(qe,it)}}renderClipboard(qe,it,pt){if(!(0,oe.NF)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!it)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:jt,buttonTemplate:Nn}=pt,jn=qe.querySelectorAll("pre");for(let br=0;br<jn.length;br++){const Qr=jn.item(br),Nr=document.createElement("div");Nr.style.position="relative",Qr.parentNode.insertBefore(Nr,Qr),Nr.appendChild(Qr);const ei=document.createElement("div");let rn,st;ei.style.position="absolute",ei.style.top=".5em",ei.style.right=".5em",ei.style.opacity="0",ei.style.transition="opacity 250ms ease-out",Nr.insertAdjacentElement("beforeend",ei),Qr.onmouseover=()=>ei.style.opacity="1",Qr.onmouseout=()=>ei.style.opacity="0",rn=jt?it.createComponent(jt).hostView:Nn?it.createEmbeddedView(Nn):it.createComponent(Xe).hostView,rn.rootNodes.forEach(Qt=>{Qt.onmouseover=()=>ei.style.opacity="1",ei.appendChild(Qt),st=new ClipboardJS(Qt,{text:()=>Qr.innerText})}),rn.onDestroy(()=>st.destroy())}}renderMermaid(qe,it=this.DEFAULT_MERMAID_OPTIONS){if(!(0,oe.NF)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const pt=qe.querySelectorAll(".mermaid");0!==pt.length&&(mermaid.initialize(it),mermaid.init(pt))}trimIndentation(qe){if(!qe)return"";let it;return qe.split("\n").map(pt=>{let jt=it;return pt.length>0&&(jt=isNaN(jt)?pt.search(/\S|$/):Math.min(pt.search(/\S|$/),jt)),isNaN(it)&&(it=jt),jt?pt.substring(jt):pt}).join("\n")}static#e=this.\u0275fac=function(it){return new(it||On)(_.LFG(_.Lbi),_.LFG(tn),_.LFG(ct.eN,8),_.LFG(Ye,8),_.LFG(bn,8),_.LFG(Ft.H7))};static#t=this.\u0275prov=_.Yz7({token:On,factory:On.\u0275fac})}return On})(),Br=(()=>{class On{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(qe){this._disableSanitizer=this.coerceBooleanProperty(qe)}get inline(){return this._inline}set inline(qe){this._inline=this.coerceBooleanProperty(qe)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(qe){this._srcRelativeLink=this.coerceBooleanProperty(qe)}get clipboard(){return this._clipboard}set clipboard(qe){this._clipboard=this.coerceBooleanProperty(qe)}get emoji(){return this._emoji}set emoji(qe){this._emoji=this.coerceBooleanProperty(qe)}get katex(){return this._katex}set katex(qe){this._katex=this.coerceBooleanProperty(qe)}get mermaid(){return this._mermaid}set mermaid(qe){this._mermaid=this.coerceBooleanProperty(qe)}get lineHighlight(){return this._lineHighlight}set lineHighlight(qe){this._lineHighlight=this.coerceBooleanProperty(qe)}get lineNumbers(){return this._lineNumbers}set lineNumbers(qe){this._lineNumbers=this.coerceBooleanProperty(qe)}get commandLine(){return this._commandLine}set commandLine(qe){this._commandLine=this.coerceBooleanProperty(qe)}constructor(qe,it,pt){this.element=qe,this.markdownService=it,this.viewContainerRef=pt,this.error=new _.vpe,this.load=new _.vpe,this.ready=new _.vpe,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new T.x}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,te.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(qe,it=!1){let pt;this.src&&this.srcRelativeLink&&(pt={baseUrl:new URL(this.src,location.origin).pathname});const Nn={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},jn=this.markdownService.parse(qe,{decodeHtml:it,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:pt,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=jn,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,Nn,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(qe){return null!=qe&&"false"!=`${String(qe)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:qe=>{this.render(qe),this.load.emit(qe)},error:qe=>this.error.emit(qe)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Jt.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Jt.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(qe,it){const pt=qe.querySelectorAll("pre");for(let jt=0;jt<pt.length;jt++){const Nn=it instanceof Array?it:[it];pt.item(jt).classList.add(...Nn)}}setPluginOptions(qe,it){const pt=qe.querySelectorAll("pre");for(let jt=0;jt<pt.length;jt++)Object.keys(it).forEach(Nn=>{const jn=it[Nn];if(jn){const br=this.toLispCase(Nn);pt.item(jt).setAttribute(br,jn.toString())}})}toLispCase(qe){const it=qe.match(/([A-Z])/g);if(!it)return qe;let pt=qe.toString();for(let jt=0,Nn=it.length;jt<Nn;jt++)pt=pt.replace(new RegExp(it[jt]),"-"+it[jt].toLowerCase());return"-"===pt.slice(0,1)&&(pt=pt.slice(1)),pt}static#e=this.\u0275fac=function(it){return new(it||On)(_.Y36(_.SBq),_.Y36(Lr),_.Y36(_.s_b))};static#t=this.\u0275cmp=_.Xpm({type:On,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[_.TTD],ngContentSelectors:Un,decls:1,vars:0,template:function(it,pt){1&it&&(_.F$t(),_.Hsn(0))},encapsulation:2})}return On})(),$i=(()=>{class On{static forRoot(qe){return{ngModule:On,providers:[Lr,qe&&qe.loader||[],qe&&qe.clipboardOptions||[],qe&&qe.markedOptions||[],{provide:tn,useValue:qe&&null!=qe.sanitize?qe.sanitize:_.q3G.HTML}]}}static forChild(){return{ngModule:On}}static#e=this.\u0275fac=function(it){return new(it||On)};static#t=this.\u0275mod=_.oAB({type:On});static#n=this.\u0275inj=_.cJS({imports:[oe.ez]})}return On})();var Pa;!function(On){let xt;var pt;let qe,it;(pt=xt=On.SecurityLevel||(On.SecurityLevel={})).Strict="strict",pt.Loose="loose",pt.Antiscript="antiscript",pt.Sandbox="sandbox",function(pt){pt.Base="base",pt.Forest="forest",pt.Dark="dark",pt.Default="default",pt.Neutral="neutral"}(qe=On.Theme||(On.Theme={})),function(pt){pt[pt.Debug=1]="Debug",pt[pt.Info=2]="Info",pt[pt.Warn=3]="Warn",pt[pt.Error=4]="Error",pt[pt.Fatal=5]="Fatal"}(it=On.LogLevel||(On.LogLevel={}))}(Pa||(Pa={}))}},$t=>{$t($t.s=8638)}]);